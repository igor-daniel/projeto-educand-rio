(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function ca(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ea(){ea=function(){};if(!aa.Symbol){aa.Symbol=ia;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):e.push(d[g])}return e}};ca("Object.keys",b);ca("Object.getOwnPropertyNames",b);ca("Object.getOwnPropertySymbols",function(c){return function(d){b.cda=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ja=0;
function ia(a){return"jscomp_symbol_"+a+ja++}function ka(){ea();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));ka=function(){}}function la(a){ka();ea();ka();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function ma(a){if(!(a instanceof Array)){a=la(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function r(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var na="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function oa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function pa(a,b){if(b){for(var c=aa,d=a.split("."),e=0;e<d.length-1;e++){var g=d[e];g in c||(c[g]={});c=c[g]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=ba[a]||[];for(e=0;e<a.length;e++)b=a[e](b);na(c,d,{configurable:!0,writable:!0,value:b})}}}
pa("WeakMap",function(a){function b(a){this.rA=(k+=Math.random()+1).toString();if(a){ea();ka();a=la(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!oa(a,g)){var b={};b[g]=h;na(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(oa(b,g)&&oa(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};ca("Object.getOwnPropertyNames",d);ca("Object.keys",d);ca("Reflect.enumerate",d);ca("Reflect.ownKeys",d);ca("Object.freeze",e);ca("Object.preventExtensions",e);ca("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!oa(a,g))throw Error("WeakMap key fail: "+a);a[g][this.rA]=b;return this};b.prototype.get=
function(a){return oa(a,g)?a[g][this.rA]:void 0};b.prototype.has=function(a){return oa(a,g)&&oa(a[g],this.rA)};b.prototype.delete=function(a){return oa(a,g)&&oa(a[g],this.rA)?delete a[g][this.rA]:!1};return b});
pa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.zn,d={next:function(){if(c){for(;c.head!=a.zn;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.cz[c];if(d&&oa(a.cz,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,Cg:e}}return{id:c,list:d,index:-1,Cg:void 0}}function e(a){this.cz={};this.zn=b();this.size=0;if(a){a=la(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(la([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ea();ka();var g=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.cz[c.id]=[]);c.Cg?c.Cg.value=b:(c.Cg={next:this.zn,previous:this.zn.previous,head:this.zn,key:a,value:b},c.list.push(c.Cg),this.zn.previous.next=c.Cg,this.zn.previous=c.Cg,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.Cg&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.cz[a.id],a.Cg.previous.next=a.Cg.next,a.Cg.next.previous=a.Cg.previous,a.Cg.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.cz={};this.zn=this.zn.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).Cg};e.prototype.get=function(a){return(a=d(this,a).Cg)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,
function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ra(a,b){ka();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
pa("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(a){return a})}});pa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});pa("Array.prototype.values",function(a){return a?a:function(){return ra(this,function(a,c){return c})}});
function ua(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{VV:e,rr:g}}return{VV:-1,rr:void 0}}pa("Array.prototype.find",function(a){return a?a:function(a,c){return ua(this,a,c).rr}});pa("Array.prototype.entries",function(a){return a?a:function(){return ra(this,function(a,c){return[a,c]})}});
pa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var g in e)oa(e,g)&&(a[g]=e[g])}return a}});pa("Array.from",function(a){return a?a:function(a,c,d){ka();c=null!=c?c:function(a){return a};var e=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)e.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)e.push(c.call(d,a[h]));return e}});
pa("Set",function(a){function b(a){this.gk=new Map;if(a){a=la(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.gk.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(la([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=e.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:e.next().done}catch(h){return!1}}())return a;ea();ka();b.prototype.add=function(a){this.gk.set(a,a);this.size=this.gk.size;return this};b.prototype.delete=function(a){a=this.gk.delete(a);this.size=this.gk.size;return a};b.prototype.clear=function(){this.gk.clear();this.size=0};b.prototype.has=function(a){return this.gk.has(a)};b.prototype.entries=function(){return this.gk.entries()};b.prototype[Symbol.iterator]=function(){return this.gk.values()};b.prototype.values=function(){return this.gk.values()};
b.prototype.forEach=function(a,b){var e=this;this.gk.forEach(function(g){return a.call(b,g,g,e)})};return b});function va(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
pa("String.prototype.repeat",function(a){return a?a:function(a){var c=va(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});pa("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}});pa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==va(this,a,"includes").indexOf(a,c||0)}});
pa("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});pa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ua(this,a,c).VV}});function wa(a){this.data=a}wa.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var xa=(new UAParser).getResult(),ya=xa.browser.name,za=xa.browser.major,Aa=(new wa(window.viewConfig||{})).get("magicButtonEnabled",null),Ca=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||xa.browser.version.match(Ca)||("Chrome"===ya||"Chromium"==ya)&&49<=za||"Safari"===ya&&9<=za||"Firefox"===ya&&49<=za||"Opera"===ya&&36<=za||("IE"===ya||"Edge"===ya)&&11<=za||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(Aa&&Aa.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function Da(){}function w(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":Ea.apply(Da,[].concat([b],ma(d))));}function Fa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":Ea.apply(Da,[].concat([b],ma(d))));}
function y(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":Ea.apply(Da,[].concat([b],ma(d))));return a}function Ea(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function Ga(a){this.type=a}Ga.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ga.prototype.rd=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),Ja=new Ga("number"),Ka=new Ga("object");function La(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function A(a,b){return Ja.optional(a,b)||0}
function B(a,b){return Ja.optional(a,b)}function C(a,b){return Ha.required(a,b)}function D(a,b){return Ha.optional(a,b)}function Ma(a,b){return Ia.optional(a,b)||!1}function Na(a,b){return Ia.optional(a,b)}function Oa(a,b,c){return a(Ka.required(b,c))}function F(a,b,c){return(b=Ka.optional(b,c))?a(b):b}function G(a,b,c){return(b=Ka.rd(b,c))?b.map(a):b}function Pa(a,b,c){return a(b,Ha.required(b,c))}function Qa(a,b,c){c=Ha.optional(b,c);return null!=c?a(b,c):c}
function Ra(a,b,c){c=Ha.rd(b,c);return null!=c?c.map(a.bind(null,b)):c}function Sa(a,b,c){return Ta(Ua,Va.bind(null,a),b,c)}function Ta(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,g=la(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function Ua(a,b){return b}
function Wa(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Va(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Xa(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ya(a){this.type=a}
Ya.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ya.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Ya.prototype.rd=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var $a=new Ya("string"),ab=new Ya("boolean"),bb=new Ya("number"),cb=new Ya("object");function db(a,b){return 0!==b?bb.required(a,b):void 0}function eb(a,b){return bb.optional(a,b)}function fb(a){return bb.rd("pages",a)}
function gb(a,b){return!1!==b?ab.required(a,b):void 0}function hb(a,b){return ab.optional(a,b)}function ib(a,b){return $a.required(a,b)}function I(a,b){return $a.optional(a,b)}function jb(a,b,c){return cb.optional(b,c?a(c):null)}function kb(a,b,c){return cb.rd(b,c.map(a))}function lb(a,b,c){return $a.required(b,a(b,c))}function mb(a,b,c){return $a.optional(b,c?a(b,c):null)}function nb(a,b,c){return ob(pb,rb.bind(null,a),b,c)}
function ob(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var e={},g=la(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,e[a(c,h)]=b(c,d.get(h));return e}function pb(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function sb(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function rb(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function tb(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};var ub=ub||{},K,vb,wb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,M,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc;var O=new function(){this.W0={upload:"/static/r/orange/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.Q0=!1;this.iJ=.1;this.Da={R2:330,S2:330,Hba:500,Lba:300,Kba:300,Nba:500,rL:300,n3:400,Qz:300,r4:300,HW:1E3,IW:1E3,oq:200,jw:20,mca:600,aB:300,mk:500,C8:2E3,wca:500,G9:300,Tq:600,TX:500,Mba:150};this.Xt=140;this.iy=1.2;this.cJ=150;this.HS=.7;this.hD=30;this.eJ="#ffffff";this.kD="#222";this.lD="#fff";this.iD=24;this.rS=300;this.jD=10;this.gJ=this.yS=1.2;this.t0=42;this.q0=24;this.Vd=16;this.s0="Abril Fatface";this.p0="Trocchi";
this.Ud="Arimo";this.Gc=20;this.Hc=4;this.y0=1024;this.hJ=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.wS="undefined"!==typeof window&&1<window.devicePixelRatio;this.xS=.33;this.mD=.5;this.E0="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.F0=5E3;this.G0=400;this.nD=500;this.Xo=255;this.kJ=3;this.ly=10*this.kJ;this.I0=40*this.kJ;this.H0=40;this.jJ=1;this.Nh=3;this.Oh=.95;this.L0=110;this.J0=180;this.K0=145;this.my=30;this.Zt=50;
this.Yo="https://static.canva.com/static/images/placeholder.jpg";this.BS=1438;this.AS=560;this.Pi=230/24;this.ES=1E3;this.oD=50;this.N0={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",
MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.ny=3E4;this.r0=1500;this.FS=5;this.U0=190;this.V0=300;this.z0=88;this.C0=0;this.pD=88;this.IS=10;this.pS=7;this.x0=0;this.u0=this.w0=12;this.v0=0;this.pJ=.7;this.py=1.3;this.zS=2.5},ec={TITLE:"title",$aa:"subtitle",BODY:"body"},fc={O0:"search",Qaa:"layout",TEXT:"text",Caa:"backgrounds",kba:"uploads"};function gc(a){this.$el=a}gc.prototype.remove=function(){this.$el.remove()};function hc(a){this.$el=a;this.Xv={}}hc.prototype.remove=function(){this.$el.off();this.$el.remove()};hc.prototype.on=function(a,b){w(!this.Xv[a],"listener already registered for event {}",a);this.Xv[a]=b};hc.prototype.off=function(a,b){null==a?this.Xv={}:null!=b&&this.Xv[a]!=b||delete this.Xv[a]};hc.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Xv[a])&&d.apply(null,[].concat(ma(c)))};function R(a){this.J3=a.fallback;this.TW=a.localePrecedence;this.VN={};this.i=a.messages;this.M8=this.TW[0];this.H9=!!a.returnKeys}R.prototype.format=function(a,b){if(this.H9)return[].join.call(arguments,":");var c=ic(this,a);return c.format.call(c,[].slice.call(arguments,1))};
R.prototype.Ia=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],ma(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function ic(a,b){if(a.VN.hasOwnProperty(b))return a.VN[b];var c=a.M8,d;a.TW.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.J3,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,jc);return a.VN[b]=c}var jc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function kc(){this.config=window.cmsg;this.iP=this.Tl=this.rf=this.fL=this.dL=this.FR=this.Zl=this.xc=this.Pf=this.Rd=this.Ec=this.ri=this.dj=this.Ne=this.dd=this.dt=this.Fa=this.TJ=this.MR=this.zq=this.Zy=this.bv=this.iO=this.kK=this.tf=this.Cj=this.XR=this.gL=this.ng=this.xe=this.tg=this.Ek=this.dg=this.Tb=this.dS=this.HP=this.Oa=this.Aa=this.Ga=this.X=this.Td=this.Ya=this.Zd=this.Dd=this.nF=this.jp=this.th=this.bl=this.Sf=this.Iy=this.pL=this.oL=this.nL=this.Nm=this.sc=this.qL=this.Af=this.hh=
this.bK=this.$i=this.Ur=this.J=null}function lc(a){a.J||(a.J=new mc(a.config));return a.J}function nc(a){a.Ur||(a.Ur=new oc(a.config));return a.Ur}function pc(a){a.nF||(a.nF=new qc(a.config));return a.nF}function rc(a){a.$i||(a.$i=new sc(a.config));return a.$i}function tc(a){a.bK||(a.bK=new uc(a.config));return a.bK}function vc(a){a.Nm||(a.Nm=new yc(a.config));return a.Nm}function zc(a){a.Af||(a.Af=new Ac(a.config));return a.Af}function Bc(a){a.qL||(a.qL=new Cc(a.config));return a.qL}
function Dc(a){a.sc||(a.sc=new Ec(a.config));return a.sc}function Fc(a){a.nL||(a.nL=new Gc(a.config));return a.nL}function Hc(a){a.oL||(a.oL=new Ic(a.config));return a.oL}function Jc(a){a.Iy||(a.Iy=new Kc(a.config));return a.Iy}function Lc(a){a.bv||(a.bv=new Mc(a.config));return a.bv}function Nc(a){a.Zy||(a.Zy=new Oc(a.config));return a.Zy}function Pc(a){a.X||(a.X=new Qc(a.config));return a.X}function Rc(a){a.Ga||(a.Ga=new Sc(a.config));return a.Ga}
function Tc(a){a.Aa||(a.Aa=new Uc(a.config));return a.Aa}function Vc(a){a.Oa||(a.Oa=new Wc(a.config));return a.Oa}function Xc(a){a.HP||(a.HP=new Yc(a.config));return a.HP}function Zc(a){a.jp||(a.jp=new $c(a.config));return a.jp}function ad(a){a.Zd||(a.Zd=new bd(a.config));return a.Zd}function cd(a){a.Ya||(a.Ya=new dd(a.config));return a.Ya}function ed(a){a.tg||(a.tg=new fd(a.config));return a.tg}function gd(a){a.xe||(a.xe=new hd(a.config));return a.xe}
function id(a){a.XR||(a.XR=new jd(a.config));return a.XR}function kd(a){a.Cj||(a.Cj=new ld(a.config));return a.Cj}function md(a){a.tf||(a.tf=new nd(a.config));return a.tf}function od(a){a.kK||(a.kK=new pd(a.config));return a.kK}function qd(a){a.iO||(a.iO=new rd(a.config));return a.iO}function sd(a){a.zq||(a.zq=new td(a.config));return a.zq}function ud(a){a.Ne||(a.Ne=new vd(a.config));return a.Ne}function wd(a){a.Fa||(a.Fa=new xd(a.config));return a.Fa}
function yd(a){a.Rd||(a.Rd=new zd(a.config));return a.Rd}function Ad(a){a.Pf||(a.Pf=new Bd(a.config));return a.Pf}function Cd(a){a.xc||(a.xc=new Dd(a.config));return a.xc}function Ed(a){a.Zl||(a.Zl=new Fd(a.config));return a.Zl}function Gd(a){a.rf||(a.rf=new Hd(a.config));return a.rf}function Id(a){a.Tl||(a.Tl=new Jd(a.config));return a.Tl}function Kd(a){a.iP||(a.iP=new Ld(a.config));return a.iP}function mc(a){R.apply(this,arguments)}r(mc,R);
function Nd(a){return a.format("objectPanelInfoClose")}function Od(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Pd(a){return a.format("objectPanelInfoUntitledImage")}mc.prototype.Fc=function(){return this.format("objectPanelInfoRoyaltyFree")};mc.prototype.Id=function(){return this.format("objectPanelInfoExtended")};function Qd(a,b){return a.format("objectPanelInfoLayouts",b)}function Rd(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}
function Sd(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Td(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Ud(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Vd(a){return a.format("objectPanelTextPanelAddHeading")}function Wd(a){return a.format("objectPanelTextPanelAddSubHeading")}function Xd(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}
function Yd(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Zd(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function $d(a){return a.format("objectPanelMediaItemCostFree")}mc.prototype.qq=function(a){return this.format("objectPanelLicense",a)};function bd(a){R.apply(this,arguments)}r(bd,R);function dd(a){R.apply(this,arguments)}r(dd,R);f=dd.prototype;f.Hj=function(){return this.format("creditCardCreditCardLabel")};f.qu=function(){return this.format("creditCardBillingAddressLabel")};
f.Pk=function(){return this.format("creditCardCardNumberPlaceholder")};f.Hl=function(){return this.format("creditCardMonthPlaceholder")};f.pm=function(){return this.format("creditCardYearPlaceholder")};f.Xk=function(){return this.format("creditCardCvcPlaceholder")};function ae(a){return a.format("creditCardRegionPlaceholder")}f.Vo=function(){return this.format("creditCardZipCodePlaceholder")};f.save=function(){return this.format("creditCardSave")};f.jQ=function(){return this.format("creditCardSavingTeamCard")};
function oc(a){R.apply(this,arguments)}r(oc,R);oc.prototype.Ng=function(){return this.format("documentPlaceholderText")};function be(a){return a.format("documentUntitledDesign")}function Ec(a){R.apply(this,arguments)}r(Ec,R);Ec.prototype.VC=function(){return this.format("editorControlsUpgrade")};Ec.prototype.fm=function(){return this.format("editorControlsShare")};Ec.prototype.download=function(){return this.format("editorControlsDownload")};Ec.prototype.print=function(){return this.format("editorControlsPrint")};
function ce(a){return a.format("editorControlsUnsavedChanges")}function qc(a){R.apply(this,arguments)}r(qc,R);qc.prototype.error=function(){return this.format("findUserInputError")};function sc(a){R.apply(this,arguments)}r(sc,R);sc.prototype.gp=function(){return this.format("colorPaletteApplyToAll")};function uc(a){R.apply(this,arguments)}r(uc,R);uc.prototype.yb=function(a){return this.format("colorPickerBrandColor",a)};uc.prototype.gp=function(){return this.format("colorPickerApplyToAll")};
function de(a){R.apply(this,arguments)}r(de,R);f=de.prototype;f.VW=function(){return this.format("editorFileMenuPaneMagicResize")};f.save=function(){return this.format("editorFileMenuPaneSave")};f.B9=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};f.DN=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};f.E4=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};function yc(a){R.apply(this,arguments)}r(yc,R);yc.prototype.a1=function(){return this.format("customDimensionsPaneActionResize")};
yc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};yc.prototype.F8=function(){return this.format("customDimensionsPanePixelsUnit")};function ee(a){R.apply(this,arguments)}r(ee,R);ee.prototype.taa=function(){return this.format("documentResizePaneUseCustomDimensions")};ee.prototype.nK=function(){return this.format("documentResizePaneCouldNotBeLoaded")};ee.prototype.xR=function(){return this.format("documentResizePaneTryLoadingAgain")};ee.prototype.QL=function(){return this.format("documentResizePaneFetchingDesignTypes")};
function fe(a){R.apply(this,arguments)}r(fe,R);f=fe.prototype;f.z2=function(){return this.format("magicResizePaneCopyAndResize")};f.nK=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.xR=function(){return this.format("magicResizePaneTryLoadingAgain")};f.QL=function(){return this.format("magicResizePaneFetchingDesignTypes")};f.J2=function(){return this.format("magicResizePaneCurrentDesignSize")};f.X0=function(){return this.format("magicResizePaneAbracadabraResize")};f.l5=function(){return this.format("magicResizePaneOhSnap")};
f.g5=function(){return this.format("magicResizePaneMultipleTabs")};function Gc(a){R.apply(this,arguments)}r(Gc,R);Gc.prototype.tm=function(){return this.format("editorPageControlActionMoveUp")};Gc.prototype.sm=function(){return this.format("editorPageControlActionMoveDown")};Gc.prototype.qm=function(){return this.format("editorPageControlActionCopy")};Gc.prototype.rm=function(){return this.format("editorPageControlActionDelete")};function Ic(a){R.apply(this,arguments)}r(Ic,R);
function ge(a){R.apply(this,arguments)}r(ge,R);f=ge.prototype;f.cS=function(){return this.format("editorReplaceContentWarningTitle")};f.bS=function(){return this.format("editorReplaceContentWarningText")};f.pp=function(){return this.format("editorReplaceContentConfirmButtonText")};f.Nk=function(){return this.format("editorReplaceContentCancelButtonText")};f.HG=function(){return this.format("editorReplaceContentNeverShowAgain")};function Ac(a){R.apply(this,arguments)}r(Ac,R);
function he(a){return a.format("editorToolbarFilterOptionAdvanced")}function ie(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function je(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}function ke(a){return a.format("editorToolbarElementDelete")}f=Ac.prototype;f.Jd=function(){return this.format("editorToolbarFontSizeAuto")};f.textAlign=function(){return this.format("editorToolbarTextAlign")};
function le(a){return a.format("editorToolbarElementTransparency")}function me(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function ne(a){return a.format("editorToolbarElementHorizontalAlignRight")}function oe(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function pe(a){return a.format("editorToolbarElementVerticalAlignTop")}function qe(a){return a.format("editorToolbarElementVerticalAlignBottom")}
function re(a){return a.format("editorToolbarElementVerticalAlignCenter")}function se(a){return a.format("editorToolbarElementHorizontalDistribute")}function te(a){return a.format("editorToolbarElementVerticalDistribute")}function ve(a){return a.format("editorToolbarElementPickAColor")}function we(a){return a.format("editorToolbarDeleteMenuDeleteElement")}function xe(){return zc(Lb).format("editorToolbarImagePickAColor")}f.DN=function(){return this.format("editorToolbarLearnMoreButtonLabel")};
f.Ha=function(){return this.format("editorToolbarTransparency")};f.lineHeight=function(){return this.format("editorToolbarLineHeight")};f.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function ye(a,b){return a.format("editorToolbarTableItem",b)}function Cc(a){R.apply(this,arguments)}r(Cc,R);Cc.prototype.resize=function(){return this.format("editorSelectionBoxResize")};Cc.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};
Cc.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};Cc.prototype.r9=function(){return this.format("editorSelectionBoxRemoveWatermark")};function Kc(a){R.apply(this,arguments)}r(Kc,R);Kc.prototype.bw=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function ze(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function Ae(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function Be(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function Ce(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function De(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Ee(a){return a.Ia("canvaForWorkFeatureUpgradeFreeContentBenefit",4E5)}function Fe(a){R.apply(this,arguments)}r(Fe,R);Fe.prototype.post=function(){return this.format("shareViewPost")};Fe.prototype.email=function(){return this.format("shareViewEmail")};
Fe.prototype.send=function(){return this.format("shareViewSend")};Fe.prototype.Lj=function(){return this.format("shareViewEmailInputPlaceholder")};function Ge(a){R.apply(this,arguments)}r(Ge,R);f=Ge.prototype;f.Ze=function(){return this.format("exportPopOverFileType")};f.Gu=function(){return this.format("exportPopOverCropMarksAndBleed")};f.Sx=function(){return this.format("exportPopOverTransparentBackground")};f.hu=function(){return this.format("exportPopOverAllPagesLabel")};f.download=function(){return this.format("exportPopOverDownload")};
f.title=function(){return this.format("exportPopOverTitle")};f.DB=function(){return this.format("exportPopOverPng")};f.IA=function(){return this.format("exportPopOverJpg")};f.zr=function(){return this.format("exportPopOverAnimatorCtaText")};f.av=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};f.Fu=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function He(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}
function Mc(a){R.apply(this,arguments)}r(Mc,R);f=Mc.prototype;f.title=function(){return this.format("fileTypesDialogTitle")};f.DB=function(){return this.format("fileTypesDialogPng")};f.G8=function(){return this.format("fileTypesDialogPngDescription")};f.IA=function(){return this.format("fileTypesDialogJpg")};f.C4=function(){return this.format("fileTypesDialogJpgDescription")};f.z8=function(){return this.format("fileTypesDialogPdfStandard")};f.A8=function(){return this.format("fileTypesDialogPdfStandardDescription")};
f.x8=function(){return this.format("fileTypesDialogPdfPrint")};f.y8=function(){return this.format("fileTypesDialogPdfPrintDescription")};f.IM=function(){return this.format("fileTypesDialogGotIt")};function Oc(a){R.apply(this,arguments)}r(Oc,R);f=Oc.prototype;f.title=function(){return this.format("cropAndBleedDialogTitle")};f.sg=function(){return this.format("cropAndBleedDialogSubtitle")};f.I2=function(){return this.format("cropAndBleedDialogCropMarksDescription")};f.w1=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};
f.IM=function(){return this.format("cropAndBleedDialogGotIt")};function Qc(a){R.apply(this,arguments)}r(Qc,R);f=Qc.prototype;f.title=function(){return this.format("shareDesignDialogTitle")};f.v$=function(){return this.format("shareDesignDialogSocial")};f.link=function(){return this.format("shareDesignDialogLink")};f.Fn=function(){return this.format("shareDesignDialogInviteLabel")};function Ie(a){return a.format("shareDesignDialogInvitePlaceholder")}f.En=function(){return this.format("shareDesignDialogInviteButton")};
f.Do=function(){return this.format("shareDesignDialogShareLabel")};f.Rn=function(){return this.format("shareDesignDialogMessagePlaceholder")};f.Bo=function(){return this.format("shareDesignDialogShareButton")};f.Qf=function(){return this.format("shareDesignDialogPurchaseButton")};f.Og=function(){return this.format("shareDesignDialogRestrictedOverlayMessage")};function Je(a){return a.format("shareDesignDialogViewOnFacebook")}function Ke(a){return a.format("shareDesignDialogViewOnTwitter")}f.Cq=function(){return this.format("shareDesignDialogOkButton")};
function Le(a){return a.format("shareDesignDialogSharingErrorTitle")}function Me(a,b){return a.format("shareDesignDialogSharingError",b)}function Ne(a){return a.format("shareDesignDialogBackToSharingButton")}function Oe(a){return a.format("shareDesignDialogEditRole")}function Pe(a){return a.format("shareDesignDialogEditRoleShort")}function Qe(a){return a.format("shareDesignDialogViewRole")}function Re(a){return a.format("shareDesignDialogViewRoleShort")}
f.Yc=function(a){return this.format("shareDesignDialogFolders",a)};f.Ln=function(){return this.format("shareDesignDialogLinkLabel")};f.dh=function(){return this.format("shareDesignDialogCopyButton")};f.Xm=function(){return this.format("shareDesignDialogEmbedPublic")};f.Wm=function(){return this.format("shareDesignDialogEmbedMakePublic")};f.Um=function(){return this.format("shareDesignDialogEmbedLabelHTML")};f.Vm=function(){return this.format("shareDesignDialogEmbedLabeloEmbed")};f.Mj=function(){return this.Ia("shareDesignDialogEmbedDescriptionHtml")};
f.Ds=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};f.Ev=function(){return this.format("shareDesignDialogInviteMemberButton")};f.Dv=function(){return this.format("shareDesignDialogInviteMemberBenefitsTitle")};f.Fv=function(){return this.format("shareDesignDialogInviteMemberError")};function Sc(a){R.apply(this,arguments)}r(Sc,R);f=Sc.prototype;f.Wg=function(){return this.format("publishViewActionClose")};f.Zo=function(){return this.format("publishViewActionCloseHint")};
f.au=function(){return this.format("publishViewActionOK")};f.bu=function(){return this.format("publishViewActionRetry")};function Se(a,b){return a.format("publishViewUnlimitedUseHint",b)}f.zv=function(){return this.format("publishViewHintSeeAllDesigns")};function Uc(a){R.apply(this,arguments)}r(Uc,R);function Te(a){return a.Ia("paymentPageErrorGenericHtml","https://support.canva.com/troubleshooting")}f=Uc.prototype;f.ku=function(){return this.format("paymentPageApplyCouponButtonText")};f.Cu=function(){return this.format("paymentPageCouponCodeInputPlaceholder")};
function Ue(a){return a.Ia("paymentPageLicensingIntroMore")}f.Al=function(a){return this.format("paymentPageLicensePrice",a)};function Ve(a,b){return a.format("paymentPageLicenseRemainingMinutes",b)}f.Im=function(a){return this.format("paymentPageCreditAvailable",a)};f.total=function(a){return this.format("paymentPageTotal",a)};f.Gq=function(a){return this.format("paymentPagePayOption",a)};f.Kr=function(a){return this.format("paymentPageContributedBy",a)};f.ht=function(){return this.format("paymentPagePurchased")};
f.Kd=function(){return this.format("paymentPageFree")};f.Rv=function(){return this.format("paymentPageLayoutTitle")};f.Qf=function(){return this.format("paymentPagePurchaseButton")};f.jQ=function(){return this.format("paymentPageSavingTeamCard")};function We(a){return a.format("paymentPageLicensesDetailsConfirm")}f.so=function(){return this.format("paymentPageRestrictedOverlayHeading")};f.Og=function(){return this.format("paymentPageRestrictedOverlayMessage")};f.ro=function(){return this.format("paymentPageRestrictedOverlayDraftButton")};
f.qo=function(){return this.format("paymentPageRestrictedOverlayCancelButton")};function Wc(a){R.apply(this,arguments)}r(Wc,R);f=Wc.prototype;f.md=function(){return this.format("licenseOneTimeUse")};f.Nc=function(){return this.format("licenseOneTimeUseDescription")};f.Fc=function(){return this.format("licenseRoyaltyFree")};f.Qc=function(){return this.format("licenseRoyaltyFreeDescription")};f.Id=function(){return this.format("licenseExtended")};f.Yd=function(){return this.format("licenseExtendedDescription")};
f.be=function(){return this.format("licenseNoLicenseOptionDescription")};function Xe(a,b){return a.Ia("licenseLicensesDetailsFullInformation",b)}function Yc(a){R.apply(this,arguments)}r(Yc,R);function Ye(a){R.apply(this,arguments)}r(Ye,R);Ye.prototype.Qf=function(){return this.format("watermarkRemovalDialogPurchaseButton")};Ye.prototype.title=function(){return this.format("watermarkRemovalDialogTitle")};function $c(a){R.apply(this,arguments)}r($c,R);f=$c.prototype;f.uG=function(){return this.format("brandTeamMembersLoading")};
f.Ui=function(){return this.format("brandTeamMembersBrandKit")};f.XA=function(){return this.format("brandTeamMembersMembers")};f.Yc=function(){return this.format("brandTeamMembersFolders")};f.VW=function(){return this.format("brandTeamMembersMagicResize")};f.VC=function(){return this.format("brandTeamMembersUpgrade")};function Ze(a){R.apply(this,arguments)}r(Ze,R);function $e(a){return a.format("twentyThreeSecondOnboardingSearchText")}
function af(a){return a.format("twentyThreeSecondOnboardingDragText")}function bf(a){return a.format("twentyThreeSecondOnboardingPublishText")}function cf(a){return a.format("twentyThreeSecondOnboardingYumText")}function df(a){R.apply(this,arguments)}r(df,R);df.prototype.F2=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};df.prototype.G2=function(){return this.format("teamUpgradeCreateYourTeam")};
df.prototype.E2=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function ef(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function ff(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function gf(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function fd(a){R.apply(this,arguments)}r(fd,R);f=fd.prototype;f.VC=function(a){return this.format("teamBillingSignupUpgrade",a)};f.Ix=function(){return this.format("teamBillingSignupStartTrial")};
f.Qw=function(){return this.format("teamBillingSignupRevertCard")};f.Pv=function(){return this.format("teamBillingSignupItemsTitle")};f.ru=function(){return this.format("teamBillingSignupBillingError")};f.Tx=function(){return this.format("teamBillingSignupTryAgain")};f.Uu=function(){return this.format("teamBillingSignupEncryption")};f.lm=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function hd(a){R.apply(this,arguments)}r(hd,R);
function hf(a){return a.format("starOnboardingActionStayAndPlay")}function jf(a){return a.format("starOnboardingActionKeepExploring")}hd.prototype.Y8=function(){return this.format("starOnboardingProgressTitle")};hd.prototype.y$=function(){return this.format("starOnboardingSpecialInstructionsTitle")};hd.prototype.w$=function(){return this.format("starOnboardingSpecialInstructionsHtml")};hd.prototype.x$=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function kf(a){R.apply(this,arguments)}r(kf,R);function jd(a){R.apply(this,arguments)}r(jd,R);jd.prototype.hP=function(){return this.format("viewDesignsPopOverTitle")};jd.prototype.fP=function(){return this.format("viewDesignsPopOverMessage")};jd.prototype.eP=function(){return this.format("viewDesignsPopOverDone")};function lf(a){R.apply(this,arguments)}r(lf,R);lf.prototype.hP=function(){return this.format("downloadPopOverTitle")};lf.prototype.fP=function(){return this.format("downloadPopOverMessage")};
lf.prototype.eP=function(){return this.format("downloadPopOverDone")};function ld(a){R.apply(this,arguments)}r(ld,R);ld.prototype.hy=function(a){return this.format("zoomToolbarZoomPercentage",a)};ld.prototype.eg=function(){return this.format("zoomToolbarFullscreenMode")};ld.prototype.fill=function(){return this.format("zoomToolbarFill")};function nd(a){R.apply(this,arguments)}r(nd,R);function pd(a){R.apply(this,arguments)}r(pd,R);function rd(a){R.apply(this,arguments)}r(rd,R);rd.prototype.mC=function(){return this.format("newLightboxShareLink")};
function mf(a,b,c,d,e){return a.format("newLightboxEmbedCodeBy",c,b,d,e)}function td(a){R.apply(this,arguments)}r(td,R);td.prototype.Sn=function(){return this.format("newFeatureNewLabel")};function nf(a){R.apply(this,arguments)}r(nf,R);function of(a){R.apply(this,arguments)}r(of,R);of.prototype.B1=function(a){return this.format("chartElementCardinalNumber",a)};function xd(a){R.apply(this,arguments)}r(xd,R);f=xd.prototype;f.zw=function(){return this.format("printOrderSummaryPremiumImagesPriceLabel")};
f.Ot=function(){return this.Ia("printOrderSummaryTotalLabelHtml")};f.ba=function(a){return this.format("printOrderSummaryPrice",a)};f.kw=function(a){return this.format("printOrderSummaryNumberOfCopies",a)};f.uk=function(){return this.format("printOrderSummarySelectYourPrintOptions")};f.wi=function(){return this.format("printOrderSummarySelectYourShippingOption")};f.Ij=function(a){return this.format("printOrderSummaryCreditUsed",a)};
function pf(a,b){return a.format("printOrderSummaryCreditUsedAndAvailableLabel",b)}f.Rt=function(a){return this.format("printOrderSummaryUnitPrice",a)};f.Lw=function(){return this.format("printOrderSummaryRemoveCouponText")};f.bf=function(a){return this.format("printOrderSummaryIncludeEnvelopesLabel",a)};function qf(a){R.apply(this,arguments)}r(qf,R);f=qf.prototype;f.heading=function(){return this.format("printOrderReceivedHeading")};f.ZR=function(){return this.format("printOrderReceivedViewPrintOrdersButtonText")};
f.YR=function(){return this.format("printOrderReceivedViewHomepageButtonText")};f.u2=function(a){return this.Ia("printOrderReceivedConfirmationEmailMessageHtml",a)};f.X7=function(a){return this.Ia("printOrderReceivedMessageHtml",a,"printOrderReceived__orderNumber")};function vd(a){R.apply(this,arguments)}r(vd,R);vd.prototype.uc=function(a,b){return this.format("printFlowPageNumberOfTotal",a,b)};function rf(a){R.apply(this,arguments)}r(rf,R);f=rf.prototype;f.Hy=function(){return this.format("addressDetailsCannotShipToPostOfficeBoxMessage")};
f.tJ=function(){return this.format("addressDetailsAddAdditionalAddressFieldButtonText")};f.YJ=function(){return this.format("addressDetailsCityLabel")};f.iK=function(){return this.format("addressDetailsContactNumberLabel")};f.oK=function(){return this.format("addressDetailsCountryLabel")};f.fM=function(){return this.format("addressDetailsFullNameLabel")};f.fR=function(){return this.format("addressDetailsStateLabel")};f.hR=function(){return this.format("addressDetailsStreetAddressLabel")};f.mS=function(){return this.format("addressDetailsZipcodeLabel")};
f.heading=function(){return this.format("addressDetailsHeading")};f.iQ=function(){return this.format("addressDetailsSaveAddressLabel")};f.Ww=function(){return this.format("addressDetailsSelectSubdivisionText")};function sf(a){R.apply(this,arguments)}r(sf,R);f=sf.prototype;f.heading=function(){return this.format("designProofReviewHeading")};f.description=function(){return this.format("designProofReviewDescription")};f.vu=function(){return this.format("designProofReviewCheckImagesAndText")};
f.Er=function(a){return this.Ia("designProofReviewCheckTermsOfUseHtml",a)};f.gv=function(){return this.format("designProofReviewGeneratingPdfText")};f.Vw=function(){return this.format("designProofReviewSeeUnfixableProblemButtonText")};f.Bu=function(){return this.format("designProofReviewContinueToCheckoutButtonText")};function tf(a){R.apply(this,arguments)}r(tf,R);tf.prototype.Du=function(){return this.format("printPaymentAndConfirmationCouponCodeLabel")};tf.prototype.heading=function(){return this.format("printPaymentAndConfirmationHeading")};
tf.prototype.WO=function(){return this.format("printPaymentAndConfirmationPaymentDetailsHeading")};function uf(a){R.apply(this,arguments)}r(uf,R);f=uf.prototype;f.qx=function(){return this.format("printOrderFormShippingAddressHeading")};f.ed=function(){return this.format("printOrderFormBackButtonText")};f.aj=function(){return this.format("printOrderFormContinueButtonText")};f.u8=function(){return this.format("printOrderFormPayNowButtonText")};f.MO=function(){return this.format("printOrderFormOrderErrorHeading")};
function zd(a){R.apply(this,arguments)}r(zd,R);f=zd.prototype;f.oT=function(){return this.format("printEditorFormBeginOrderButtonText")};f.zT=function(){return this.format("printEditorFormCancelOrderButtonText")};f.aj=function(){return this.format("printEditorFormContinueButtonText")};f.ed=function(){return this.format("printEditorFormBackButtonText")};f.nj=function(){return this.format("printEditorFormNextButtonText")};function Bd(a){R.apply(this,arguments)}r(Bd,R);Bd.prototype.Kh=function(){return this.format("printProofingWhyIsThisImportant")};
function Dd(a){R.apply(this,arguments)}r(Dd,R);function vf(a){return a.Ia("printOrderFreeStandardShippingPriceHtml",10)}function wf(a){return a.format("printOrderFreeStandardShippingPriceVariant2")}function Fd(a){R.apply(this,arguments)}r(Fd,R);Fd.prototype.di=function(){return this.format("searchMenuFreeOnly")};function xf(a){R.apply(this,arguments)}r(xf,R);xf.prototype.Nk=function(){return this.format("updateDoctypeCancelButtonText")};xf.prototype.xq=function(){return this.format("updateDoctypeMoreInfoLinkText")};
function yf(a){R.apply(this,arguments)}r(yf,R);f=yf.prototype;f.mb=function(){return this.format("downloadIphoneDialogHeadingHtml")};f.kk=function(){return this.format("downloadIphoneDialogOverviewSubheading")};f.Mc=function(){return this.format("downloadIphoneDialogIphoneLabel")};f.Ic=function(){return this.format("downloadIphoneDialogAndroidLabel")};f.Gv=function(){return this.format("downloadIphoneDialogIphoneSubheading")};f.Yw=function(){return this.format("downloadIphoneDialogSendButtonLabel")};
f.rj=function(){return this.format("downloadIphoneDialogPhoneInputPlaceholder")};f.ju=function(){return this.format("downloadIphoneDialogAndroidSubheading")};f.Jw=function(){return this.format("downloadIphoneDialogRegisterButtonLabel")};f.aR=function(){return this.format("downloadIphoneDialogSomethingWentWrong")};f.gG=function(){return this.format("downloadIphoneDialogInvalidNumber")};function Af(a){R.apply(this,arguments)}r(Af,R);f=Af.prototype;f.heading=function(){return this.format("downloadMobileAppDialogHeading")};
f.Ei=function(){return this.format("downloadMobileAppDialogSubheading")};f.Mc=function(){return this.format("downloadMobileAppDialogIPhoneLabel")};f.Ic=function(){return this.format("downloadMobileAppDialogAndroidLabel")};f.ud=function(){return this.format("downloadMobileAppDialogSubmitButtonLabel")};f.Pg=function(){return this.format("downloadMobileAppDialogSelectDeviceText")};f.gG=function(){return this.format("downloadMobileAppDialogInvalidNumber")};f.success=function(){return this.format("downloadMobileAppDialogSuccess")};
f.aR=function(){return this.format("downloadMobileAppDialogSomethingWentWrong")};function Hd(a){R.apply(this,arguments)}r(Hd,R);Hd.prototype.Lj=function(){return this.format("teamInviteFormEmailInputPlaceholder")};Hd.prototype.ud=function(){return this.format("teamInviteFormSubmitButtonLabel")};Hd.prototype.mr=function(){return this.format("teamInviteFormUpgradeMessage")};Hd.prototype.ap=function(){return this.format("teamInviteFormAddAnotherButtonLabel")};function Jd(a){R.apply(this,arguments)}
r(Jd,R);function Ld(a){R.apply(this,arguments)}r(Ld,R);f=Ld.prototype;f.title=function(){return this.format("popupBlockedDialogTitle")};f.sg=function(){return this.format("popupBlockedDialogSubtitle")};f.Kx=function(){return this.format("popupBlockedDialogStep1Label")};f.Lx=function(){return this.format("popupBlockedDialogStep2Label")};f.Ft=function(){return this.Ia("popupBlockedDialogStep2Html")};function Bf(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Cf(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Df(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Ef(b))}function Ef(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Ff(a,b){this.name=a;this.defaultValue=b};function Gf(a){this.values=a||{}}function Hf(){return new Gf(La(window.cflags))}Gf.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;w(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function If(a){this.G=a}
var Jf=new Ff("ad",!1),Kf=new Ff("ag",!0),Lf=new Ff("nb",!1),Mf=new Ff("au",!1),Nf=new Ff("ay",!1),Of=new Ff("av",!1),Pf=new Ff("aw",!1),Qf=new Ff("az",!1),Rf=new Ff("bf",!1),Sf=new Ff("bg",!1),Tf=new Ff("bk",!1),Uf=new Ff("bw",!1),Vf=new Ff("by",!1),Wf=new Ff("cf",50),Xf=new Ff("cn",!1),Yf=new Ff("cv",!1),Zf=new Ff("de",!1),$f=new Ff("dg",1),ag=new Ff("dh",3),bg=new Ff("dn",!1),cg=new Ff("dr",!0),dg=new Ff("ex",!1),eg=new Ff("ee",!1),fg=new Ff("ek",!1),gg=new Ff("em","NONE"),hg=new Ff("en",!1),ig=
new Ff("ep",!0),jg=new Ff("ey",!0),kg=new Ff("ez",!1),lg=new Ff("fd",!1),mg=new Ff("ff",!1),ng=new Ff("fo",!1),og=new Ff("fq",!1),pg=new Ff("fx",!1),qg=new Ff("fz",!0),rg=new Ff("gn",!0),sg=new Ff("gq",!0),tg=new Ff("hn",!1),ug=new Ff("kw",!1);f=If.prototype;f.jz=function(){return this.G.get(Lf)};f.gz=function(){return this.G.get(Mf)};f.MN=function(){return this.G.get(Tf)};f.Pe=function(){return this.G.get(eg)};f.XK=function(){return this.G.get(gg)};var T="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),U=null,vg=null;function wg(a){this.Fb=a.Fb;this.Gd=a.Gd;this.gc=a.gc;this.ef=a.ef;this.ac=a.ac;this.xI=a.xI;this.Xy=a.Xy}function xg(a,b,c,d){b=yg(b);if(!b)return null;var e=a.Fb.Ea();a=zg(a,b.qa());isNaN(parseFloat(c*d))?(b.td(a),b.dl(e)):(a.kb(c||0),a.eb(d||0),b.td(a),b.appendTo(e));Ag(b);Bg(b);return b}wg.prototype.VS=function(a,b,c){var d;d={height:a.ql().o(),isCutout:!1,mediaId:a.u(),mediaVersion:0,type:"image",width:a.ql().l()};b=xg(this,d,b,c);Cg(this.xI,Dg(a),b)};
wg.prototype.WS=function(a,b,c,d){switch(a.lc()){case Eg:a=Fg(a,"image",d);xg(this,a,b,c);break;case Gg:a=a.Ja().vs()?Fg(a,"graphic"):Fg(a,"svg");xg(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.lc());}};wg.prototype.XS=function(a,b,c,d){(a=a.K$?Hg(a,"svg"):Hg(a,"image",d))&&xg(this,a,b,c)};
function Dg(a){var b=a.ql(),c=a.re();return Jg({files_:[{page:0,quality:"THUMBNAIL",height:c.o(),url:c.oa(),width:c.l()},{page:0,quality:"SCREEN",height:b.o(),url:b.oa(),width:b.l()}],id:a.u(),origin:Kg,title:a.getName()})}function Fg(a,b,c){var d=a.Ja().ic()[Lg];b={height:d.o(),isCutout:!!c,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),type:b,width:d.l()};a=a.Ja().vs();null!=a&&(b.spritesheetMetadata=Mg(a));return b}
function Hg(a,b,c){if(a.Ob())return{height:a.tb.height,isCutout:!!c,mediaId:a.Ob().u(),mediaVersion:1,type:b,width:a.tb.width}}function Ng(a,b){b.forEach(function(a){a=Dg(a);Og(this.xI,a)},a)}function Pg(a,b){b.forEach(function(a){Qg(this.ef,a.u(),a.Ja().getVersion(),a.Ja().ic())},a)}
function zg(a,b){var c=b.clone(),d=Rg(a.Fb.lb().tb);(function(){var a=c.l()/c.o();c.ea(Math.min(c.o(),d.o()*O.Oh));c.ma(a*c.o())})();(function(){var a=c.o()/c.l();c.ma(Math.min(c.l(),d.l()*O.Oh));c.ea(a*c.l())})();return c}wg.prototype.HI=function(a,b,c){0<b.length&&this.Xy(a,c).upload(b,Sg(a))};function Tg(a,b){a.DU=b}
function Ug(a,b,c,d,e,g){function h(){var a=b.getFile(Lg);return new V(0,0,a.l()*S,a.o()*S)}function k(a){var b,d,g;b=a.clientX-e.F()+c.F();d=a.clientY-e.w()+c.w();g=Math.max(Math.min((a.clientX-J)/Q,1),0);g=1>t?Math.min(Math.max(t,1+g*(t-1)),1):Math.min(Math.max(1,1+g*(t-1)),t);a.clientX>L?(u=!0,g=t):u=!1;m(b,d,g)}function l(a){var b,c=!1,e,h;b=d.get(0).getBoundingClientRect();b=Vg(x.Gd,Wg(b));c=$(a.target).is(".hotspot");a=Xg(fa);e=(b.F()-a.F())/S;h=(b.w()-a.w())/S;$(document).off("mouseup",l);
$(document).off("mousemove",k);!z&&c?p():u&&Yg(b,a)?(g(e,h,z),p()):setTimeout(q,50);$("#hotspots").remove();Zg().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){$g(d[0],{uo:c,Sq:c,Ji:a,Ki:b});a=Xg(fa);b=Vg(x.Gd,Wg(d.get(0).getBoundingClientRect()));u&&ah(a,b)&&(null===ha&&(ha=new bh(d,ta,{left:H,top:E})),a=ch(),dh(ha,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.F(),c.w(),1);d.css("left",c.F()).css("top",c.w()).css("opacity",0).addClass("draggedMediaPlacing");
n()}function q(){var a="",b="",e=d.get(0).getBoundingClientRect(),g=x.DU||c,h=e.left-g.F(),e=e.top-g.w();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.w()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.F(),g.w(),1);x.DU=void 0;n()}var u=!1,v,z=!1,t,x=a,H,E,L,J,Q,S=W,N={},ha=null;0<d.find("img").length&&(z=eh(d.find("img").get(0))>
O.iJ);v=fh(h(),function(){var a=Rg(x.Fb.lb().tb),b=O.Oh*S;return new V(0,0,a.l()*b,a.o()*b)}());t=Math.min(h().l(),v.l())/c.l();H=e.F()-c.F();E=e.w()-c.w();var fa=gh(a.Gd),ta=fa.$el.find(".page__content").get(0).getBoundingClientRect();L=$("#objectPanel").get(0).getBoundingClientRect().right;J=L-$(".uploadsLayoutColumn").outerWidth()/2+20;Q=L-J;hh();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.l());d.css("height",c.o());d.css("transform-origin",H+"px "+E+"px");m(c.F(),
c.w(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",z);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.l());a.data("screenHeight",v.o());ih(d,x.Fb.Ea(),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function jh(a){this.xg=new wa(a)}var kh="PUBLIC_STREAM TEAM_STREAM TEAM_TEMPLATE MARKETPLACE_LAYOUT MARKETPLACE_TEXT PUBLICLY_REMIXABLE".split(" "),lh=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];jh.prototype=Object.create(wa.prototype);jh.prototype.hn=function(){var a=this.xg.get("brandColor",null);return a&&mh(a)};jh.prototype.wh=function(){return this.xg.get("onboardingMode",null)};jh.prototype.iM=function(){return this.xg.get("associatedMedia",null)};
function nh(a){return a.xg.get("enabledPublicationContexts",[])}
function oh(a){return(a=a.xg.get("layoutSearchRequest",null))&&new ph({query:C("query",a),mm:Na("translatable",a),Pn:Ra(qh,"mediaTypes",a),Dn:Ta(Ua,Xa,"includeFilters",a),Ym:Ta(Ua,Xa,"excludeFilters",a),filters:Ha.rd("filters",a),di:Ma("freeOnly",a),set:D("set",a),category:D("category",a),BU:D("domainName",a),elevation:D("elevation",a),YE:Ha.rd("elevateIds",a),sz:Na("elevatedOnly",a),sort:G(rh,"sort",a),zc:Ha.rd("colors",a),locale:D("locale",a),aspectRatio:B("aspectRatio",a),dr:A("skip",a),limit:A("limit",
a),iT:Qa(sh,"asSchema",a),qU:Qa(sh,"designSchemaVersion",a),Zh:D("docId",a),Rf:D("rootSearchId",a),Kg:Na("organic",a),QT:Qa(th,"clientFeature",a),MX:D("originalQuery",a),VU:Ma("explain",a)})}function uh(a){var b=a.xg.get("recaptchaConfig",{});a=D("siteKey",b)||null;b=D("impl",b)||null;return{XQ:a,Xba:b}}jh.prototype.Rz=function(){var a=this.xg.get("account",null);return null!=a?vh(a):null};function wh(a,b){switch(b){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "'+a+'", found: '+JSON.stringify(b));}}
function xh(a){switch(a){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "creditPack", found: '+JSON.stringify(a));}}function yh(a,b){switch(b){case "PAY_SYNCHRONOUS":return"PAY_SYNCHRONOUS";case "CANCEL":return"CANCEL";default:throw new TypeError('expected UpdateInvoiceAction for property "'+a+'", found: '+JSON.stringify(b));}}
function zh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}
function Ah(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Bh(a){this.id=a.id;this.lk=a.lk;this.CT=a.CT;this.Qv=a.Qv;this.fc=a.fc;this.eF=a.eF;this.Wu=a.Wu;this.Zg=a.Zg}Bh.prototype.u=function(){return this.id};Bh.prototype.Uz=function(){return this.fc};
function Ch(a){return new Bh({id:D("id",a),lk:D("owningBrand",a),CT:C("cardBrand",a),Qv:C("last4",a),fc:D("country",a),eF:A("expMonth",a),Wu:A("expYear",a),Zg:F(Dh,"billingAddress",a)})}function Eh(a){this.Ed=a.Ed;this.YS=a.YS;this.oU=a.oU}function Fh(a){return new Eh({Ed:Oa(Ch,"card",a),YS:B("addedDate",a),oU:B("deletedDate",a)})}function Gh(a){this.FN=a.FN;this.GN=a.GN;this.HN=a.HN;this.Xd=a.Xd;this.Gh=a.Gh;this.sb=a.sb;this.xw=a.xw}Gh.prototype.gs=function(){return this.Xd};Gh.prototype.Sj=function(){return this.sb};
function Hh(a){return{line1:I("line1",a.FN),line2:I("line2",a.GN),line3:I("line3",a.HN),city:I("city",a.Xd),subdivision:I("subdivision",a.Gh),countryCode:ib("countryCode",a.sb),postcode:I("postcode",a.xw)}}function Dh(a){return new Gh({FN:D("line1",a),GN:D("line2",a),HN:D("line3",a),Xd:D("city",a),Gh:D("subdivision",a),sb:C("countryCode",a),xw:D("postcode",a)})}
function Ih(a){this.id=a.id;this.D=a.D;this.nf=a.nf;this.e_=a.e_;this.Zv=a.Zv;this.Yh=a.Yh;this.pU=a.pU;this.hT=a.hT||[];this.FP=a.FP||[]}Ih.prototype.u=function(){return this.id};Ih.prototype.ka=function(){return this.D};function vh(a){return new Ih({id:C("id",a),D:C("brand",a),nf:Ma("stripe",a),e_:D("stripeKey",a),Zv:A("marketplaceCreditBalance",a),Yh:F(Ch,"defaultCreditCard",a),pU:Ma("delinquent",a),hT:G(Fh,"archivedCards",a),FP:Ra(Jh,"purchaseRoles",a)})}
function Kh(a){this.D=a.D;this.Zg=a.Zg;this.iR=a.iR;this.BC=a.BC;this.d_=a.d_;this.bQ=a.bQ}Kh.prototype.ka=function(){return this.D};function Lh(a){return{brand:I("brand",a.D),billingAddress:jb(Hh,"billingAddress",a.Zg),stripeToken:I("stripeToken",a.iR),stripeCardId:I("stripeCardId",a.BC),stripeCustomerId:I("stripeCustomerId",a.d_),replaceDefault:gb("replaceDefault",a.bQ)}}function Mh(a){this.bj=a.bj;this.gT=a.gT;this.ZT=a.ZT;this.$T=a.$T;this.Zg=a.Zg;this.BC=a.BC;this.ET=a.ET;this.XU=a.XU}
Mh.prototype.AF=function(){return this.bj};function Nh(a){return{creditCard:ib("creditCard",a.bj),archiveCard:hb("archiveCard",a.gT),confirmAddition:hb("confirmAddition",a.ZT),confirmRemoval:hb("confirmRemoval",a.$T),billingAddress:jb(Hh,"billingAddress",a.Zg),stripeCardId:I("stripeCardId",a.BC),cardIssuerUpdate:jb(Oh,"cardIssuerUpdate",a.ET),externalOrigin:mb(Ph,"externalOrigin",a.XU)}}
function Ph(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function Oh(a){return{last4:I("last4",a.Qv),fingerprint:I("fingerprint",a.Sba),expiryMonth:eb("expiryMonth",a.Xu),expiryYear:eb("expiryYear",a.Yu),brand:I("brand",a.D),date:db("date",a.date)}}
function Qh(a){this.D=a.D;this.items=a.items||[];this.currency=a.currency;this.GB=a.GB;this.UB=a.UB}Qh.prototype.ka=function(){return this.D};Qh.prototype.Cf=function(){return this.items};function Rh(a){return{brand:ib("brand",a.D),items:kb(Sh,"items",a.items),currency:ib("currency",a.currency),priceConfig:jb(Th,"priceConfig",a.GB),returnErrors:hb("returnErrors",a.UB)}}function Uh(a){this.message=a.message;this.$A=a.$A;this.AA=a.AA}
function Vh(a){return new Uh({message:C("message",a),$A:Ma("noPaymentMethod",a),AA:Ma("invalidCreditCard",a)})}function Wh(a){this.Je=a.Je;this.error=a.error}Wh.prototype.getError=function(){return this.error};function Xh(a){return new Wh({Je:D("invoice",a),error:F(Vh,"error",a)})}function Yh(a){this.media=a.media;this.version=a.version;this.document=a.document;this.ek=a.ek;this.gb=a.gb;this.LY=a.LY;this.MY=a.MY}Yh.prototype.Ob=function(){return this.media};Yh.prototype.getVersion=function(){return this.version};
Yh.prototype.getDocument=function(){return this.document};function Zh(a){return{media:ib("media",a.media),version:db("version",a.version),document:I("document",a.document),licenseType:lb($h,"licenseType",a.ek),discount:mb(zh,"discount",a.gb),receivingBrand:I("receivingBrand",a.LY),receivingUser:I("receivingUser",a.MY)}}function ai(a){this.order=a.order;this.Kb=a.Kb;this.Ah=a.Ah;this.ba=a.ba;this.MV=a.MV}ai.prototype.nn=function(){return this.order};ai.prototype.ss=function(){return this.Kb};
function bi(a){return{order:ib("order",a.order),productType:mb(ci,"productType",a.Kb),quantity:eb("quantity",a.Ah),price:eb("price",a.ba),hasAddonEnvelopes:hb("hasAddonEnvelopes",a.MV)}}function di(a){this.order=a.order;this.EZ=a.EZ;this.ba=a.ba}di.prototype.nn=function(){return this.order};function ei(a){return{order:ib("order",a.order),shippingType:mb(fi,"shippingType",a.EZ),price:eb("price",a.ba)}}
function gi(a){return{subscription:ib("subscription",a.rg),plan:ib("plan",a.io),quantity:db("quantity",a.Ah),periodStart:db("periodStart",a.ZO),periodEnd:db("periodEnd",a.YO),price:db("price",a.ba)}}function hi(a){this.qq=a.qq;this.zK=a.zK;this.uP=a.uP;this.vP=a.vP;this.rg=a.rg;this.TU=a.TU;this.description=a.description}hi.prototype.yV=function(){return this.qq};hi.prototype.getSubscription=function(){return this.rg};hi.prototype.He=function(){return this.description};
function Sh(a){return{license:jb(Zh,"license",a.qq),credit:mb(wh,"credit",a.zK),printProduct:jb(bi,"printProduct",a.uP),printShipping:jb(ei,"printShipping",a.vP),subscription:jb(gi,"subscription",a.rg),expectedPurchasePrice:eb("expectedPurchasePrice",a.TU),description:I("description",a.description)}}function ii(a){this.Je=a.Je;this.items=a.items||[];this.gb=a.gb;this.no=a.no;this.action=a.action;this.mV=a.mV;this.UU=a.UU;this.GB=a.GB;this.UB=a.UB;this.userAgent=a.userAgent}ii.prototype.Cf=function(){return this.items};
ii.prototype.getUserAgent=function(){return this.userAgent};function ji(a){return{invoice:ib("invoice",a.Je),items:kb(Sh,"items",a.items),discount:I("discount",a.gb),removeDiscount:gb("removeDiscount",a.no),action:mb(yh,"action",a.action),forgiven:hb("forgiven",a.mV),expectedTotal:eb("expectedTotal",a.UU),priceConfig:jb(Th,"priceConfig",a.GB),returnErrors:hb("returnErrors",a.UB),userAgent:I("userAgent",a.userAgent)}}
function ki(a){this.message=a.message;this.JT=a.JT;this.iW=a.iW;this.$A=a.$A;this.AA=a.AA}function li(a){return new ki({message:C("message",a),JT:Ma("chargeFailed",a),iW:Ma("insufficientCredits",a),$A:Ma("noPaymentMethod",a),AA:Ma("invalidCreditCard",a)})}function mi(a){this.error=a.error}mi.prototype.getError=function(){return this.error};function ni(a){return new mi({error:F(li,"error",a)})}
function oi(a,b){switch(b){case "CREDIT":return"CREDIT";case "LICENSE":return"LICENSE";case "PRINT_PRODUCT":return"PRINT_PRODUCT";case "PRINT_SHIPPING":return"PRINT_SHIPPING";case "SUBSCRIPTION_PRORATION":return"SUBSCRIPTION_PRORATION";case "SUBSCRIPTION":return"SUBSCRIPTION";default:throw new TypeError('expected InvoiceItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function pi(a){this.media=a.media;this.version=a.version;this.title=a.title;this.D=a.D;this.ja=a.ja;this.I4=a.I4;this.bh=a.bh;this.ir=a.ir;this.ba=a.ba;this.Yv=a.Yv;this.Z9=a.Z9;this.ek=a.ek;this.document=a.document;this.zp=a.zp;this.user=a.user}f=pi.prototype;f.Ob=function(){return this.media};f.getVersion=function(){return this.version};f.qb=function(){return this.title};f.ka=function(){return this.D};f.getDocument=function(){return this.document};f.uV=function(){return this.zp};f.La=function(){return this.user};
function qi(){}function ri(){return new qi}function si(a){this.Am=a.Am||[];this.o4=a.o4;this.Y=a.Y;this.limit=a.limit}si.prototype.sV=function(){return this.Am};si.prototype.Nb=function(){return this.Y};si.prototype.$d=function(){return this.limit};function ti(a){this.$t=a.$t||[];this.Y=a.Y}ti.prototype.Nb=function(){return this.Y};function ui(a){return new ti({$t:G(vh,"accounts",a),Y:D("continuation",a)})}function vi(a){this.type=a.type;this.media=a.media}vi.prototype.lc=function(){return this.type};
vi.prototype.Ob=function(){return this.media};function wi(a){return new vi({type:Pa(xi,"type",a),media:F(yi,"media",a)})}function xi(a,b){switch(b){case "MEDIA":return"MEDIA";default:throw new TypeError('expected ProductType for property "'+a+'", found: '+JSON.stringify(b));}}function zi(a){this.type=a.type;this.ba=a.ba;this.Yv=a.Yv}zi.prototype.lc=function(){return this.type};function Ai(a){return new zi({type:Pa(Bi,"type",a),ba:A("price",a),Yv:A("markedPrice",a)})}
function Ci(a){this.type=a.type;this.$N=a.$N}Ci.prototype.lc=function(){return this.type};function Di(a){return new Ci({type:Pa(Bi,"type",a),$N:B("minutesToExpiry",a)})}function Ei(a){this.ca=a.ca;this.da=a.da;this.bh=a.bh;this.RN=a.RN;this.ug=a.ug;this.Dw=a.Dw||[];this.OA=a.OA;this.Bc=a.Bc||[];this.gb=a.gb;this.eT=a.eT||[]}Ei.prototype.Qp=function(){return this.ca};Ei.prototype.qs=function(){return this.da};Ei.prototype.tn=function(){return this.ug};Ei.prototype.wM=function(){return this.OA};
function yi(a){return new Ei({ca:C("mediaId",a),da:A("mediaVersion",a),bh:C("contributorName",a),RN:D("mediaTitle",a),ug:C("thumbnailUrl",a),Dw:G(Ai,"pricingOptions",a),OA:Pa(Fi,"licensing",a),Bc:G(Di,"licenses",a),gb:Qa(Ah,"discount",a),eT:Ra(Ah,"applicableDiscounts",a)})}function Gi(a){this.Kb=a.Kb;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[]}Gi.prototype.ss=function(){return this.Kb};Gi.prototype.getDocument=function(){return this.document};Gi.prototype.Gb=function(){return this.O};
function Hi(a){this.mode=a.mode;this.Ee=a.Ee;this.media=a.media;this.Y=a.Y;this.limit=a.limit}Hi.prototype.Ob=function(){return this.media};Hi.prototype.Nb=function(){return this.Y};Hi.prototype.$d=function(){return this.limit};function Ii(a){this.bd=a.bd||[];this.Y=a.Y}Ii.prototype.JF=function(){return this.bd};Ii.prototype.Nb=function(){return this.Y};function Ji(a){return new Ii({bd:G(wi,"products",a),Y:D("continuation",a)})}function Ki(a){this.value=a.value;this.currency=a.currency}
Ki.prototype.tc=function(){return this.value};function Li(a){return new Ki({value:A("value",a),currency:C("currency",a)})}function Mi(a){this.id=a.id;this.type=a.type;this.xh=a.xh;this.ep=a.ep;this.zD=a.zD||[];this.eh=a.eh}Mi.prototype.u=function(){return this.id};Mi.prototype.lc=function(){return this.type};Mi.prototype.Vz=function(){return this.eh};
function Ni(a){return new Mi({id:C("id",a),type:Pa(Oi,"type",a),xh:B("percentage",a),ep:F(Li,"amount",a),zD:Ra(oi,"applicableInvoiceItemTypes",a),eh:C("couponCode",a)})}function Oi(a,b){switch(b){case "PERCENTAGE":return"PERCENTAGE";case "AMOUNT":return"AMOUNT";default:throw new TypeError('expected DiscountType for property "'+a+'", found: '+JSON.stringify(b));}}function Pi(a){this.D=a.D;this.user=a.user;this.eh=a.eh}Pi.prototype.ka=function(){return this.D};Pi.prototype.La=function(){return this.user};
Pi.prototype.Vz=function(){return this.eh};function Qi(a){this.gb=a.gb}function Ri(a){return new Qi({gb:Oa(Ni,"discount",a)})}function Si(a){this.D=a.D;this.user=a.user;this.eh=a.eh;this.Y=a.Y;this.limit=a.limit}f=Si.prototype;f.ka=function(){return this.D};f.La=function(){return this.user};f.Vz=function(){return this.eh};f.Nb=function(){return this.Y};f.$d=function(){return this.limit};function Ti(a){this.NK=a.NK||[];this.Y=a.Y}Ti.prototype.Nb=function(){return this.Y};
function Ui(a){return new Ti({NK:G(Ni,"discounts",a),Y:D("continuation",a)})}function Th(a){return{currency:ib("currency",a.currency),creditExchangeRate:db("creditExchangeRate",a.Cba),expiryDate:db("expiryDate",a.Az),mediaPriceModel:cb.required("mediaPriceModel",Vi(a.lca)),creditPackPriceModel:cb.required("creditPackPriceModel",{prices:kb(Wi,"prices",a.Eba.wb)}),token:ib("token",a.km)}}
function Vi(a){return{licensingPriceModels:kb(Xi,"licensingPriceModels",a.K4),discountPriceModels:kb(Yi,"discountPriceModels",a.Jba)}}function Yi(a){return{discount:lb(zh,"discount",a.gb),licensingPriceModels:kb(Xi,"licensingPriceModels",a.K4)}}function Xi(a){return{licensing:lb(Zi,"licensing",a.OA),licenseTypePrices:kb($i,"licenseTypePrices",a.ica)}}function $i(a){return{licenseType:lb($h,"licenseType",a.ek),markedPrice:db("markedPrice",a.Yv)}}
function Wi(a){return{creditPack:lb(wh,"creditPack",a.Dba),credits:db("credits",a.Mr),markedPrice:db("markedPrice",a.Yv)}}function aj(a){this.id=a.id;this.io=a.io;this.D=a.D;this.status=a.status;this.Ah=a.Ah;this.x_=a.x_;this.xB=a.xB;this.ZO=a.ZO;this.YO=a.YO;this.pT=a.pT;this.NU=a.NU}aj.prototype.u=function(){return this.id};aj.prototype.ka=function(){return this.D};aj.prototype.ph=function(){return this.status};
function bj(a){return new aj({id:C("id",a),io:Oa(cj,"plan",a),D:C("brand",a),status:Pa(dj,"status",a),Ah:A("quantity",a),x_:B("trialEnd",a),xB:B("paidUntil",a),ZO:B("periodStart",a),YO:B("periodEnd",a),pT:Ma("billed",a),NU:Ma("eligibleForMediaDiscounts",a)})}
function ej(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function dj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function fj(a){this.id=a.id;this.displayName=a.displayName;this.KW=a.KW;this.V_=a.V_;this.xj=a.xj;this.eV=a.eV;this.Vf=a.Vf;this.Fj=a.Fj;this.ba=a.ba}fj.prototype.u=function(){return this.id};fj.prototype.Jb=function(){return this.displayName};
function cj(a){return new fj({id:C("id",a),displayName:C("displayName",a),KW:Ma("legacy",a),V_:Ma("userLocked",a),xj:Pa(gj,"tier",a),eV:D("featureBundle",a),Vf:A("trialPeriodDays",a),Fj:Pa(hj,"billingInterval",a),ba:A("price",a)})}function hj(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function gj(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function ij(a){this.D=a.D;this.jU=a.jU;this.io=a.io;this.Vf=a.Vf;this.dU=a.dU;this.F_=a.F_;this.xB=a.xB;this.status=a.status;this.Ah=a.Ah;this.CY=a.CY}ij.prototype.ka=function(){return this.D};ij.prototype.ph=function(){return this.status};
function jj(a){return{brand:ib("brand",a.D),currentVersion:eb("currentVersion",a.jU),plan:I("plan",a.io),trialPeriodDays:eb("trialPeriodDays",a.Vf),coupon:I("coupon",a.dU),unbilled:hb("unbilled",a.F_),paidUntil:eb("paidUntil",a.xB),status:mb(ej,"status",a.status),quantity:eb("quantity",a.Ah),prorate:hb("prorate",a.CY)}}function kj(a){this.rg=a.rg}kj.prototype.getSubscription=function(){return this.rg};function lj(a){return new kj({rg:Oa(bj,"subscription",a)})}function mj(a){this.rg=a.rg}
mj.prototype.getSubscription=function(){return this.rg};function nj(a){return new mj({rg:Oa(bj,"subscription",a)})};function oj(a){this.N=a}f=oj.prototype;f.Yj=function(a){throw pj(a.response.errorKey);};f.GV=function(a){if(a.error)throw new qj(a.error.message);return a};f.Es=function(a){return a instanceof rj&&"CreditCardInvalid"===a.response.errorType};f.ER=function(a){return sj(this.N,"/billing/creditcards/"+a.bj,Nh(a)).catch(tj).get(0).then(this.GV).catch(this.Es,this.Yj)};f.Rz=function(a){return uj(this.N,"/billing/brands/"+encodeURIComponent(a)+"/account").catch(tj).get(0).then(La).then(vh)};
function vj(a,b){var c=b.Y,d=b.limit;b=[].concat(ma(b.Am.map(function(a){return"brands\x3d"+encodeURIComponent(a)})),[c&&"continuation\x3d"+encodeURIComponent(c),"limit\x3d"+encodeURIComponent(String(d))]);return uj(a.N,"/billing/paymentaccounts?"+b.filter(function(a){return!!a}).join("\x26")).catch(tj).get(0).then(La).then(ui)}
function wj(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Zb.toString())+"/licenses";0!==b.O.length&&(c+="?pages\x3d"+b.O.join(","));return uj(a.N,c).catch(tj).get(0).then(La).then(xj)}
function yj(a,b){var c;switch(b.mode){case "DESIGN":c="/billing/products/design";b=[].concat(["productType\x3d"+encodeURIComponent(b.Ee.Kb),"document\x3d"+encodeURIComponent(b.Ee.document),"documentVersion\x3d"+encodeURIComponent(String(b.Ee.Zb))],ma(b.Ee.O.map(function(a){return"pages\x3d"+encodeURIComponent(String(a))})),[b.Y&&"continuation\x3d"+encodeURIComponent(b.Y),"limit\x3d"+encodeURIComponent(String(b.limit))]);break;case "MEDIA":c="/billing/products/media";b=[].concat(ma(b.media.kca.map(function(a){return"media\x3d"+
encodeURIComponent(a)})));break;default:throw Error("Unknown Mode");}return uj(a.N,c+"?"+b.filter(function(a){return!!a}).join("\x26")).catch(tj).get(0).then(La).then(Ji)}f.getSubscription=function(a){return uj(this.N,a.D?"/billing/brands/"+a.D+"/subscription?excludeStandard\x3d"+(a.Oba?"true":"false"):"/billing/subscriptions/"+a.id).catch(tj).get(0).then(nj)};f.iE=function(a){return sj(this.N,"/billing/invoice",Rh(a)).catch(tj).get(0).then(La).then(Xh).catch(this.Es,this.Yj)};
function zj(a,b){return sj(a.N,"/billing/invoice/"+encodeURIComponent(b.Je),ji(b)).catch(tj).get(0).then(La).then(ni).catch(a.Es,a.Yj)}f.qH=function(a){return sj(this.N,"/billing/invoices/"+encodeURIComponent(a.Je)+"?pay",{invoice:ib("invoice",a.Je)}).catch(tj).get(0).then(ri).catch(this.Es,this.Yj)};
function Aj(a,b){return uj(a.N,"/billing/discounts?"+["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user),"couponCode\x3d"+encodeURIComponent(b.eh),null!=b.Y?"continuation\x3d"+encodeURIComponent(b.Y):null,"limit\x3d"+encodeURIComponent(String(b.limit))].filter(function(a){return!!a}).join("\x26")).catch(tj).get(0).then(La).then(Ui)};function Bj(a){this.media=a.media;this.da=a.da;this.document=a.document;this.D=a.D;this.ba=a.ba;this.type=a.type;this.xf=a.xf;this.ML=a.ML||null;this.kZ=a.kZ;this.ja=a.ja}function Cj(a){return new Bj({media:C("media",a),da:A("mediaVersion",a),document:D("document",a),D:C("brand",a),ba:A("price",a),type:Pa(Bi,"type",a),xf:A("creationDate",a),ML:B("expirationDate",a),kZ:Ma("revoked",a),ja:D("layout",a)})}function Dj(a){this.media=a.media;this.bh=a.bh;this.Bc=a.Bc||[]}
function Ej(a){return new Dj({media:Oa(Fj,"media",a),bh:C("contributorName",a),Bc:G(Cj,"licenses",a)})}function Gj(a){this.document=a.document;this.Zb=a.Zb;this.O=a.O;this.bG=a.bG;this.cG=a.cG}Gj.prototype.serialize=function(){return{document:this.document,documentVersion:this.Zb,pages:this.O,includeContributorNames:this.bG,includeThumbnailUrls:this.cG}};function Hj(a){this.TB=a.TB;this.Wl=null!=a.Wl?a.Wl:null;this.Zb=a.Zb;this.items=a.items||[]}
function xj(a){return new Hj({TB:Ma("requiresLicenses",a),Zb:A("documentVersion",a),Wl:B("responseTimestamp",a),items:G(Ej,"items",a)})}function Ij(a){pi.call(this,a);this.Bc=[]}Ij.prototype=Object.create(pi.prototype);Ij.prototype.constructor=Ij;function Jj(a){this.N=a;this.url="/folders"}Jj.prototype.rK=P.method(function(a){return sj(this.N,this.url+"/~",a).get(0).then(Kj)});Jj.prototype.hV=P.method(function(a){a=this.url+"/~?"+a.uR();return uj(this.N,a).get(0).then(Lj)});Jj.prototype.wc=P.method(function(a){var b=a.uR();a=""+this.oa(a.wc())+(b?"?"+b:"");return uj(this.N,a).get(0).then(Mj)});Jj.prototype.oa=function(a){var b=a.qe();return b?[this.url,"~/system",b.La(),b.lc()].join("/"):[this.url,a.u()].join("/")};
P.method(function(a){var b=this.oa(a.wc())+"?removeItems";return sj(this.N,b,a).return()});Jj.prototype.RA=P.method(function(a){a=this.oa(a.wc())+"?list\x26"+a.kr();return uj(this.N,a).get(0).then(Nj)});Jj.prototype.Y4=P.method(function(a){var b=this.oa(a.kn())+"?moveItems";return sj(this.N,b,a).return()});Jj.prototype.GR=P.method(function(a){var b;if(a.wc().qe())throw Error("System folders cannot be updated");b=this.url+"/"+a.wc().u();return sj(this.N,b,a).get(0).then(Oj)});function Pj(){}Pj.prototype.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Qj(a,b){a.to=b;return a}Pj.prototype.g0=function(a){this.items=a;return this};function Rj(a,b){a.from=b;return a}Pj.prototype.Cf=function(){return this.items};Pj.prototype.kn=function(){if(this.from)return Sj(this.from)};
function Tj(a){this.id=a.id||null;this.systemFolder=a.M$;return this}function Sj(a){return Object.freeze(Df(Tj,a))}Tj.prototype.u=function(){return this.id};Tj.prototype.qe=function(){if(this.systemFolder)return Object.freeze(Df(Uj,this.systemFolder))};function Sg(a){return a.qe()?Sj({systemFolder:Object.freeze(Df(Uj,{brand:a.ka(),type:a.qe(),user:a.La()}))}):Sj({id:a.u()})}function Uj(){}Uj.prototype.ka=function(){return this.brand};Uj.prototype.lc=function(){return this.type};Uj.prototype.La=function(){return this.user};
function Vj(){}function Oj(a){return Object.freeze(Df(Vj,a))}Vj.prototype.wc=function(){if(this.folder)return Wj(this.folder)};Vj.prototype.gn=function(){return this.access};
function Xj(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.vd;this.systemFolder=a.M$||null;this.acl=a.Ae;this.access=a.Z0;this.name=a.name||null;this.description=a.description||null;this.brand=a.D||"";this.itemCount=a.fca||0;this.user=a.user||"";this.modifiedDate=a.aO||0;this.shared=a.Mca||!1;this.type=a.type||Yj;this.userSettings=a.fda||null}var Yj="DESIGN";function Wj(a){return Object.freeze(Df(Xj,a))}f=Xj.prototype;f.u=function(){return this.id};
f.re=function(){if(this.thumbnail)return Object.freeze(Df(Zj,this.thumbnail))};f.qe=function(){return this.systemFolder};f.Rj=function(){if(this.acl)return Object.freeze(Df(ak,this.acl))};f.gn=function(){if(this.access)return this.access};f.getName=function(){return this.name};f.He=function(){return this.description};f.ka=function(){return this.brand};f.La=function(){return this.user};f.lc=function(){return this.type};f.Yp=function(){if(this.userSettings)return Object.freeze(Df(bk,this.userSettings))};
f.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Wj(a)};
var ck=Wj({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),dk=Wj({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),ek=Wj({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),fk={Iaa:ck,jba:dk,iba:ek};function Zj(){}Zj.prototype.o=function(){return this.height};Zj.prototype.l=function(){return this.width};Zj.prototype.oa=function(){return this.url};function ak(a){a=void 0===a?{}:a;this.entries=a.entries}ak.prototype.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(ak,a))};
ak.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(Df(gk,a))})};function gk(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.D;this.access=a.Z0}gk.prototype.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(gk,a))};gk.prototype.ka=function(){return this.brand};gk.prototype.gn=function(){return this.access};gk.prototype.La=function(){return this.user};function hk(){}f=hk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Hk=function(a){this.folder=a;return this};function ik(a,b){a.acl=b;return a}f.Ut=function(a){this.name=a;return this};f.b0=function(a){this.description=a;return this};function jk(a){a.trash=!0;return a}f.jS=function(a){this.userSettings=a;return this};f.wc=function(){if(this.folder)return Sj(this.folder)};
f.Rj=function(){if(this.acl)return Object.freeze(Df(ak,this.acl))};f.getName=function(){return this.name};f.He=function(){return this.description};f.Yp=function(){if(this.userSettings)return Object.freeze(Df(bk,this.userSettings))};
function kk(a,b,c){var d;d=function(){var c=[];a.Rj()&&a.Rj().getEntries()&&a.Rj().getEntries().forEach(function(a){a.ka()!==b&&c.push({brand:a.ka(),access:a.gn()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(Df(ak,{entries:d}));return ik((new hk).Hk(Sg(a)),c)}function lk(a){this.rT=a.rT;this.FY=a.FY;this.pX=a.pX;this.TY=a.TY;this.MW=a.MW;this.XT=a.XT;this.LW=a.LW;this.Zn=a.Zn}function mk(){}function Nj(a){return Object.freeze(Df(mk,a))}mk.prototype.Cf=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return nk(a)})};
mk.prototype.Nb=function(){return this.continuation};mk.prototype.wc=function(){if(this.folder)return Wj(this.folder)};mk.prototype.gn=function(){return this.access};function ok(){}f=ok.prototype;f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Vg=function(a){this.limit=a;return this};f.Hk=function(a){this.folder=a;return this};
function pk(a){a.includeMetadata=!0;return a}f.Bj=function(a){this.continuation=a;return this};f.$d=function(){return this.limit};f.wc=function(){if(this.folder)return Sj(this.folder)};f.nM=function(){return this.decorations};f.Nb=function(){return this.continuation};function qk(){}function Mj(a){return Object.freeze(Df(qk,a))}qk.prototype.wc=function(){if(this.folder)return Wj(this.folder)};function rk(){}f=rk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.uR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};f.Hk=function(a){this.folder=a;return this};f.wc=function(){if(this.folder)return Sj(this.folder)};
f.nM=function(){return this.decorations};function sk(){}function Lj(a){return Object.freeze(Df(sk,a))}sk.prototype.Np=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Wj(a)})};sk.prototype.Nb=function(){return this.continuation};function tk(){}f=tk.prototype;f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.Vg=function(a){this.limit=a;return this};f.Aj=function(a){this.brand=a;return this};f.Wt=function(a){this.user=a;return this};function uk(a,b){a.folderTypes=b;return a}f.Bj=function(a){this.continuation=a;return this};f.g0=function(a){this.items=a;return this};f.jS=function(){this.projection||(this.projection=[]);this.projection.push("USER_SETTINGS");return this};f.$d=function(){return this.limit};f.ka=function(){return this.brand};f.La=function(){return this.user};f.Nb=function(){return this.continuation};
f.uR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function vk(){}function Kj(a){return Object.freeze(Df(vk,a))}vk.prototype.gn=function(){return this.access};vk.prototype.wc=function(){if(this.folder)return Wj(this.folder)};function wk(){}f=wk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Ut=function(a){this.name=a;return this};f.Aj=function(a){this.brand=a;return this};f.Wt=function(a){this.user=a;return this};f.jS=function(a){this.userSettings=a;return this};f.getName=function(){return this.name};f.ka=function(){return this.brand};f.La=function(){return this.user};f.lc=function(){return this.type};
f.Yp=function(){return this.userSettings};function xk(){this.width=this.height=0;this.url="";this.version=0}xk.prototype.l=function(){return this.width};xk.prototype.o=function(){return this.height};xk.prototype.getVersion=function(){return this.version};xk.prototype.oa=function(){return this.url};
function yk(){this.type=zk;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new xk;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var zk="DESIGN";
function nk(a){a=$.extend(new yk,a);a.owner&&(a.owner=Object.freeze(Df(Ak,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new xk,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new lk({rT:Na("brandPublik",b),FY:Na("publik",b),pX:Qa(Bk,"myRole",b),TY:A("remixCount",b),MW:A("likerCount",b),XT:A("commentCount",b),LW:Ma("likedByMe",b),Zn:F(Ck,"owner",b)}),a.socialMetadata=b);return a}f=yk.prototype;f.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return nk(a)};
f.lc=function(){return this.type};f.u=function(){return this.id};f.getName=function(){return this.name};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.re=function(){return this.thumbnail};f.Xp=function(){return this.tags};f.Np=function(){return this.folders};f.Ob=function(){return this.media?Fj(this.media):null};f.yV=function(){return this.license?Cj(this.license):null};function Ak(){}Ak.prototype.La=function(){return this.user};Ak.prototype.ka=function(){return this.brand};
function bk(a){this.starred=a.Rca};function Dk(){this.xhr=null}Dk.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Dk.prototype.finish=function(){this.xhr=null};function Ek(a){this.aT=a&&a.analyticsContext||null;this.AJ=a&&a.authToken||null;this.BJ=a&&a.authzToken||null;this.sT=a&&a.brandRestriction||null;this.uT=a&&a.buildName||null;this.vT=a&&a.buildSha||null;this.Hu=a&&a.csrfTokens||{};this.uQ=a&&a.serverRoot||null;this.vZ=!!this.uQ;this.Y9=this.uQ?this.uQ+"/_ajax":"/_ajax"}
function Fk(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function Gk(a){return 200<=a&&300>a}Ek.prototype.get=function(a,b){var c=new Dk;this.send("GET",a,null,!0,null,c,b);return c};function uj(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){Gk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Ek.prototype.post=function(a,b,c){var d=new Dk;Hk(this,"POST",a,b,!0,0,d,c);return d};
function sj(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,function(a,b){Gk(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Ik(a,b,c,d){if(a.vZ)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Dk,function(){})}function Jk(a,b,c){var d=new Dk;Hk(a,"DELETE",b,null,!0,0,d,c);return d}
function Kk(a,b){var c;return(new P(function(d,e){c=Jk(a,b,function(a,b){Gk(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}function tj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=la(a),a=b.next().value,b=b.next().value,a=Lk(a,b),a.oI=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Hk(a,b,c,d,e,g,h,k){var l=Fk(c);if(l in a.Hu){var m=a.Hu[l];a.send(b,c,d,e,m,h,function(n,p){418==n&&1>g?(a.Hu[l]==m&&delete a.Hu[l],Hk(a,b,c,d,e,g+1,h,k)):(k&&k(n,p),h.finish())})}else a.send("GET","/csrf"+l,null,e,null,h,function(m,p){200==m?(l in a.Hu||(a.Hu[l]=String(p)),Hk(a,b,c,d,e,g,h,k)):(k(m,null),h.finish())})}
Ek.prototype.send=function(a,b,c,d,e,g,h){function k(){4==m.readyState&&l()}function l(){var a,b,c;try{a=m.status;var d,e;try{d=m.getResponseHeader("X-Canva-Auth")}catch(k){}try{e=m.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(n.AJ="!"!=d?d:null);e&&(n.BJ="!"!=e?e:null);b=m.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.Y9+b;var m=g.xhr=new XMLHttpRequest,n=this;m.open(a,b,d);this.vZ&&(m.withCredentials=!0);"GET"!=a&&e&&m.setRequestHeader("X-Csrf-Token",e);this.aT&&m.setRequestHeader("X-Canva-Analytics",this.aT);this.AJ&&m.setRequestHeader("X-Canva-Auth",this.AJ);this.BJ&&m.setRequestHeader("X-Canva-Authz",this.BJ);this.sT&&m.setRequestHeader("X-Canva-Brand",this.sT);this.uT&&m.setRequestHeader("X-Canva-Build-Name",
this.uT);this.vT&&m.setRequestHeader("X-Canva-Build-Sha",this.vT);null===c||void 0===c?a=null:(m.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(m.onreadystatechange=k,m.send(a)):(m.send(a),l())};function rj(a){this.message=a||"HTTP error encountered";this.response=a;this.oI=null}r(rj,Error);function Mk(a){if(null===a.oI)throw Error("HttpServiceError not initialized correctly");return a.oI}
function Lk(a,b){switch(b){case 400:return new Nk(a);case 403:return new Ok(a);case 404:return new Pk(a);case 409:return new Qk(a);case 418:return new Rk;case 429:return new Sk(a);case 500:return new Tk(a);default:return new Uk(a)}}function Vk(a){rj.apply(this,arguments)}r(Vk,rj);function Wk(a){rj.apply(this,arguments)}r(Wk,rj);function Nk(a){Vk.apply(this,arguments)}r(Nk,Vk);function Ok(a){Vk.apply(this,arguments)}r(Ok,Vk);function Pk(a){Vk.apply(this,arguments)}r(Pk,Vk);
function Qk(a){Vk.apply(this,arguments)}r(Qk,Vk);function Sk(a){Vk.apply(this,arguments)}r(Sk,Vk);function Tk(a){Wk.apply(this,arguments)}r(Tk,Wk);function Rk(){Vk.call(this,"CSRF token expired")}r(Rk,Vk);function Uk(a){rj.apply(this,arguments)}r(Uk,rj);function Xk(a){this.N=a;this.url="/metrics"}function Yk(a,b){return sj(a.N,a.url,Zk(b)).get(0).then(La).then($k)}function al(a,b){return sj(a.N,a.url,bl(b)).get(0).then(La).then($k)};function cl(a){this.WN=a.WN}function dl(a){this.WN="HISTOGRAM";this.name=a.name;this.value=a.value}r(dl,cl);dl.prototype.getName=function(){return this.name};dl.prototype.tc=function(){return this.value};function Zk(a){return{metricType:"HISTOGRAM",name:ib("name",a.name),value:db("value",a.value)}}function el(a){this.WN="TIMELINE";this.name=a.name;this.events=a.events||new Map}r(el,cl);el.prototype.getName=function(){return this.name};
function bl(a){var b=ib("name",a.name);a=ob(pb,sb,"events",a.events);return{metricType:"TIMELINE",name:b,events:a}}function fl(){}function $k(){return new fl};function gl(){}gl.prototype.now=function(){return Date.now()};var hl=new gl;var jl=new il;function il(){}f=il.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function kl(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function ll(a,b,c,d){this.name=a;this.Vh=b;this.Ms=c;this.startTime=d;this.events=new Map}ll.prototype.wa=function(a){this.events.set(a,this.Vh.now()-this.startTime)};ll.prototype.done=function(){this.events.size&&ml(this.Ms,this.name,this.events)};function nl(a,b){this.name=a;this.Ms=b}nl.prototype.update=function(a){ol(this.Ms,this.name,a)};function pl(a,b,c){this.wZ=a;this.Vh=b;this.g8=c}
function ql(a){var b=0;if(window.performance){if(window.performance.timeOrigin&&window.performance.getEntriesByType){var c=window.performance.getEntriesByType("navigation")[0];c&&(b=window.performance.timeOrigin+c.responseStart)}!b&&window.performance.timing&&(b=window.performance.timing.responseStart)}b||(b=window.cstart);if(!b)throw Error("cstart undefined");return new pl(a,hl,b)}pl.prototype.SM=function(a){return new nl(a,this)};
function ml(a,b,c){b=new el({name:b,events:c});al(a.wZ,b).catch(function(){})}function ol(a,b,c){Yk(a.wZ,new dl({name:b,value:c})).catch(function(){})};var rl=[-Infinity,5E3,8E3,13E3,21E3,34E3,55E3,89E3,144E3,233E3,377E3,61E4,Infinity];function sl(){this.Uy=Array(rl.length-1);this.Uy.fill(0)}sl.prototype.update=function(a){for(var b=0;b+1<rl.length&&!(rl[b]<=a&&a<rl[b+1]);)b++;this.Uy[b]++};sl.prototype.serialize=function(){for(var a=[],b=0;b<this.Uy.length;b++)0<this.Uy[b]&&a.push({lower:rl[b],upper:rl[b+1],count:this.Uy[b]});return{buckets:a}};function tl(a){this.gd=a;this.VE=a.F();this.XE=a.w();if(a.Tk){var b=a.Vx;this.VE=b.F();this.XE=b.w();b.F();a.F();b.w();a.w()}}f=tl.prototype;f.F=function(){return this.gd.hd().F()+this.VE};f.$b=tl.prototype.F;f.w=function(){return this.gd.hd().w()+this.XE};f.kc=tl.prototype.w;f.l=function(){return this.gd.hd().l()};f.rh=tl.prototype.l;f.o=function(){return this.gd.hd().o()};f.nh=tl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=tl.prototype.Za;f.xa=function(){return this.w()+this.o()};
f.kd=tl.prototype.xa;f.Ta=function(){return 0};f.setSize=function(a,b){var c=this.gd.hd();c.ma(a);c.ea(b);ul(this.gd,c)};f.ma=function(a){var b=this.gd.hd();b.ma(a);ul(this.gd,b)};f.ea=function(a){var b=this.gd.hd();b.ea(a);ul(this.gd,b)};f.kb=function(a){var b=this.gd.hd();b.kb(a-this.VE);ul(this.gd,b)};f.eb=function(a){var b=this.gd.hd();b.eb(a-this.XE);ul(this.gd,b)};f.setPosition=function(a,b){var c=this.gd.hd();c.setPosition(a-this.VE,b-this.XE);ul(this.gd,c)};
function vl(a){this.Ok=a;a=wl(this.Ok.map(function(a){return a.$b()}));var b=xl(this.Ok.map(function(a){return a.Nd()})),c=wl(this.Ok.map(function(a){return a.kc()})),d=xl(this.Ok.map(function(a){return a.kd()}));this.width=b-a;this.height=d-c}f=vl.prototype;f.F=function(){return wl(this.Ok.map(function(a){return a.$b()}))};f.$b=vl.prototype.F;f.w=function(){return wl(this.Ok.map(function(a){return a.kc()}))};f.kc=vl.prototype.w;f.l=function(){return this.width};f.rh=vl.prototype.l;f.o=function(){return this.height};
f.nh=vl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=vl.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=vl.prototype.xa;f.Ta=function(){return 0};f.R=function(){return this.Ok[0].R()};f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Ov=function(a){return a?Yg(this.qa(),a.qa()):!1};f.setSize=function(){};f.ma=function(){};f.ea=function(){};f.kb=function(a){var b=a-this.F();this.Ok.forEach(function(a){a.kb(a.F()+b)})};
f.eb=function(a){var b=a-this.w();this.Ok.forEach(function(a){a.eb(a.w()+b)})};f.setPosition=function(a,b){var c=a-this.F(),d=b-this.w();this.Ok.forEach(function(a){a.setPosition(a.F()+c,a.w()+d)})};function bh(a,b,c){this.elem=a;this.Ol=b;this.height=a.height();this.width=a.width();this.QR=void 0!==c;this.origin=c}f=bh.prototype;f.F=function(){return(this.elem[0].getBoundingClientRect().left-this.Ol.left)/W};f.$b=bh.prototype.F;
f.w=function(){return(this.elem[0].getBoundingClientRect().top-this.Ol.top)/W};f.kc=bh.prototype.w;f.l=function(){return this.elem[0].getBoundingClientRect().width/W};f.rh=bh.prototype.l;f.o=function(){return this.elem[0].getBoundingClientRect().height/W};f.nh=bh.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=bh.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=bh.prototype.xa;f.Ta=function(){return 0};f.setSize=function(){};f.ma=function(){};f.ea=function(){};
f.kb=function(a){var b;this.QR?(b=yl(this.elem[0]).uo,a=a*W+this.Ol.left+(b-1)*this.origin.left,$g(this.elem[0],{Ji:a})):this.elem.css("left",a*W+this.Ol.left)};f.eb=function(a){var b;this.QR?(b=yl(this.elem[0]).Sq,a=a*W+this.Ol.top+(b-1)*this.origin.top,$g(this.elem[0],{Ki:a})):this.elem.css("top",a*W+this.Ol.top)};
f.setPosition=function(a,b){var c;this.QR?(c=yl(this.elem[0]),a=a*W+this.Ol.left+(c.uo-1)*this.origin.left,b=b*W+this.Ol.top+(c.Sq-1)*this.origin.top,$g(this.elem[0],{Ji:a,Ki:b})):this.elem.css("left",a*W+this.Ol.left).css("top",b*W+this.Ol.top)};function zl(a){this.$r=a.$r;this.bs=a.bs;this.user=a.user;this.D=a.D;this.qj=a.qj;this.Em=a.Em;this.xj=a.xj;this.sb=a.sb;this.wg=a.wg}function Al(a){return new zl({$r:C("experience",a),bs:Ta(Ua,Xa,"experiments",a)||new Map,user:D("user",a)||null,D:D("brand",a)||null,qj:Na("personal",a)||null,Em:B("cohort",a)||null,xj:D("tier",a)||null,sb:D("countryCode",a)||null,wg:D("userLocale",a)||null})};function Bl(a){zl.call(this,a)}r(Bl,zl);function Cl(a){zl.call(this,a);this.km=a.km}r(Cl,zl);function Dl(a){zl.call(this,a);this.url=a.url}r(Dl,zl);function El(a){this.config=a;this.ej=this.Ee=null;this.VG=[];this.ready=!1}function Fl(a,b){b=Gl(Gl(Gl(Gl(Gl(Gl(new Hl,"id",b.u()),"username",b.qh()),"personalBrand",b.Zz()),"displayName",b.Jb()),"largeAvatarUrl",b.jM("200")),"roles",b.tv()&&b.tv().join(", "));return Gl(Gl(Gl(Gl(b,"current_subscription",a.config.xj),"locale",a.config.wg),"user_cohort",a.config.Em),"country_code",a.config.sb)}function Il(a,b){return Object.assign({},b,{category:a})}
function Jl(a,b){var c=Object.assign({},b),d={};a.Ee&&(c.design=a.Ee);c.experience=a.config.$r;a.config.bs.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.D&&(c.brand=a.config.D);null!=a.config.qj&&(c.personal=a.config.qj);null!=a.config.Em&&(c.cohort=a.config.Em);a.config.xj&&(c.tier=a.config.xj);null!=a.config.sb&&(c.country_code=a.config.sb);null!=a.config.wg&&(c.locale=a.config.wg);c.product_variant="web-1";Kl(c);return c}
function Kl(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}El.prototype.Fs=function(){return this.ready};
function Ll(a,b){var c=window.lastUserTraits||(new Hl).Mk(),d=Gl(new Hl,"__user",a);a=a!==c.get("__user");if(b&&Ml(b)){for(var e=la(b),g=e.next();!g.done;g=e.next()){var h=la(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=la(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,Gl(d,e,b.get(e))}a&&(window.lastUserTraits=d.Mk());return a}
function Nl(a,b){var c=window.lastUserTraits||(new Hl).Mk();a=Gl(new Hl,"__user",a);if(c&&Ml(c))for(var d=la(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&Gl(a,e,c.get(e));if(b&&Ml(b))for(c=la(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,Gl(a,d,b.get(d));window.lastUserTraits=a.Mk()}function Ml(a){w(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Ol(a,b,c,d,e,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=e;g&&Object.assign(h,g);a.track("button_click",h)}function Pl(a,b,c){a.track("tab_clicked",{type:b,location:c})}function Ql(a,b){var c=U;c.Ee=a;c.ej=b;c.track("design_open",{design:c.Ee,source:"editor",template:c.ej})}function Rl(a){a.track("design_shared",Il("Share Design",{design:a.Ee,template:a.ej,medium:"email",location:"publish",edit_access:void 0}))}function Sl(a,b){a.ej?a.wa(X(b,"template",a.ej)):a.wa(b)}
function Tl(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Ul(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function Vl(a,b){a.track("broken_layout_used",{id:b||"unknown"})}function Wl(a){U.track(a,{design:wb.hc(),section:"editor",subsection:"toolbar",location:"top"})}function Xl(a){U.track("chart_insert",{chart_type:a})}
function Yl(a,b,c){var d=U;a={element_type:a};b&&(a.media_id=b);c&&(a.media_type=c);d.track("element_used",a)}function Zl(a,b,c,d){U.track("design_renderability_check",{design:a,renderable:b,warnings:c,error:d})}function $l(a,b,c,d,e,g){a.track(b,{type:c,section:d,subsection:e,location:g})}El.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};El.prototype.wa=function(a){return this.track(a.name,a.zH)};El.prototype.Sj=function(){return this.config.sb};
function am(a,b){this.name=a;this.zH={};b&&(this.zH.category=b)}function X(a,b,c){if(a.zH[b])throw Error("duplicated property");a.zH[b]=c;return a}function Hl(){this.items=[]}function Gl(a,b,c){a.items.push({key:b,value:c});return a}Hl.prototype.Mk=function(){return new Map(this.items.map(function(a){return[a.key,a.value]}))};function bm(a){El.call(this,a);this.na=null}r(bm,El);f=bm.prototype;f.track=function(a,b){window.console.log("analytics:track",this.na,a,Jl(this,b));return P.resolve()};f.identify=function(a,b,c){this.na=a;Ll(a,b)&&(Nl(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};f.alias=function(a){window.console.log("analytics:alias",this.na,a);this.na=a};f.set=function(a){window.console.log("analytics:set",this.na,a);return P.resolve()};
f.union=function(a){window.console.log("analytics:union",this.na,a)};function cm(a,b){El.call(this,a);this.H=b;this.readyState="PENDING";this.h9=3E4;this.Cv=this.$F=null}r(cm,El);
function dm(a){var b=em(),c=new cm(a,jl);gm(c).then(function(){for(c.ready=!0;c.VG&&0<c.VG.length;)c.VG.shift()();c.VG=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,gm(c).then(function(){var b={path:location.pathname,url:location.href};em().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();Gl(Gl(new Hl,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60).Mk()}).catch(function(){}),b.load(a.km));return c}function em(){Fa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}f=cm.prototype;f.track=function(a,b){var c=this;return gm(this).then(function(d){return new P(function(e){d.track(a,Jl(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
f.identify=function(a,b,c){var d=this;return gm(this).then(function(e){if(!Ll(a,b))return d.$F||P.resolve();d.$F=new P(function(g){Nl(a,b);e.identify(a,d.zI(b),c,function(){d.$F=null;g()})});return d.$F}).catch(function(){})};f.alias=function(a){gm(this).then(function(b){return b.alias(a)}).catch(function(){})};f.set=function(a){var b=this;return gm(this).then(function(c){return new P(function(d){return c.identify(b.zI(a),d)})}).catch(function(){})};f.union=function(){};
f.zI=function(a){var b={};if(a&&Ml(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function gm(a){var b=em();if(null!==a.Cv)return a.Cv;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.Cv=new P(function(c,d){var e=a.H.setTimeout(function(){a.readyState="FAILURE";a.Cv=null;d(Error("Segment initialization failed"))},a.h9);b.ready(function(){"FAILURE"!==a.readyState&&(a.H.clearTimeout(e),a.readyState="SUCCESS",a.Cv=null,c(em()))})});return a.Cv};function hm(a,b,c){El.call(this,a);this.url=a.url;this.H=b;this.SW=c}r(hm,El);
function im(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});return new hm(a,jl,b)}f=hm.prototype;
f.track=function(a,b){var c=this;return this.SW.then(function(d){return d.track(a,Jl(c,b))})};f.identify=function(a,b){var c=this;return this.SW.then(function(d){d.login(a);b&&d.setProfile(c.zI(b))})};f.alias=function(){};f.set=function(){};f.union=function(){};f.zI=function(a){var b={};if(a&&Ml(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function jm(a,b){em();if(a instanceof Bl)b=new bm(a);else if(a instanceof Cl)b=dm(a);else if(a instanceof Dl)b=im(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function km(){var a=La(window.analyticsConfig),b=C("impl",a),c=null;try{c=lm()}catch(d){}switch(b){case "console":return jm(new Bl(Al(a)),c);case "segment":return b=Al(a),a=new Cl({$r:b.$r,bs:b.bs,user:b.user,D:b.D,qj:b.qj,Em:b.Em,xj:b.xj,km:C("segmentWriteKey",a),sb:b.sb,wg:b.wg}),jm(a,c);case "sensorsdata":return b=Al(a),a=new Dl({$r:b.$r,bs:b.bs,user:b.user,D:b.D,qj:b.qj,Em:b.Em,xj:b.xj,url:C("sensorsDataUrl",a),sb:b.sb,wg:b.wg}),jm(a,c);default:throw Error('No such analytics type: "'+b+'"');}}
;function mm(){return nm("file_menu","resize_button","document_resize")}function om(){return nm("object_panel","exclusive_media_usage","non_discounted")}function pm(){return nm("object_panel","free_media_filter")}function qm(a){return rm("homepage",a.Wi,a.feature)}function sm(a){return rm("editor",a.Wi,a.feature)}function nm(a,b,c){a=X(X(X(new am("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&X(a,"variant",c);return a}
function tm(a,b,c){return X(X(X(X(X(new am("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function rm(a,b,c){return X(X(X(X(new am("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function um(a,b){var c=vm;return X(X(X(new am("team_member_invited","Invites"),"email_invited",a),"role_invited",c),"location",b)};function wm(){return{nI:function(a){return new P(function(b){function c(b){P.resolve(a(d)).then(function(){e||P.delay(b).then(function(){c(Math.min(1.6*b,3E4))})})}function d(a){b(a);e=!0}w(!0,"initialInterval must be positive");w(!0,"maxInterval must be greater than initialInterval");w(!0,"increaseFactor must not be less than 1");var e=!1;c(1E3)})}}};function V(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function xm(a){return a?new V(a.left||0,a.top||0,a.width||0,a.height||0):ym.clone()}function Wg(a){return xm({left:a.left,top:a.top,width:a.width,height:a.height})}function zm(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var ym=new V(0,0,0,0);f=V.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new V(this.left,this.top,this.width,this.height)};function Am(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}f.F=function(){return this.left};f.$b=V.prototype.F;f.w=function(){return this.top};f.kc=V.prototype.w;f.Za=function(){return this.left+this.width};f.Nd=V.prototype.Za;
f.xa=function(){return this.top+this.height};f.kd=V.prototype.xa;f.l=function(){return this.width};f.rh=V.prototype.l;f.o=function(){return this.height};f.nh=V.prototype.o;f.Wp=function(){return{width:this.width,height:this.height}};function Bm(a){return{x:a.ml(),y:a.nl()}}f.ml=function(){return this.left+this.width/2};f.nl=function(){return this.top+this.height/2};f.kb=function(a){this.left=a;return this};f.eb=function(a){this.top=a;return this};
f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.ma=function(a){this.width=a;return this};f.ea=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};f.ei=function(){return this.width/this.height};f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};
function Cm(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function Dm(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}function Em(a,b,c){a.width+=b;a.height+=c;return a}function Fm(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Gm(a,b){var c=a.ei();a.ei()>b.ei()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Fm(a,b);return a}
function fh(a,b){var c=a.ei();a.ei()<b.ei()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Fm(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Yg(a,b){return a.Za()<=b.F()||a.xa()<=b.w()||a.F()>=b.Za()||a.w()>=b.xa()?!1:!0}
f.touches=function(a){return.25>Math.abs(this.w()-a.xa())||.25>Math.abs(this.xa()-a.w())?this.F()<=a.Za()&&this.Za()>=a.F():.25>Math.abs(this.Za()-a.F())||.25>Math.abs(this.F()-a.Za())?this.w()<=a.xa()&&this.xa()>=a.w():!1};function Km(a,b){return a.F()<=b.F()&&a.w()<=b.w()&&a.Za()>=b.Za()&&a.xa()>=b.xa()}function Lm(a,b){a.Za()>b.Za()&&a.translate(b.Za()-a.Za(),0);a.F()<b.F()&&a.translate(b.F()-a.F(),0);a.xa()>b.xa()&&a.translate(0,b.xa()-a.xa());a.w()<b.w()&&a.translate(0,b.w()-a.w())}
function Mm(a,b,c){0!=(c&1)&&a.kb(b.l()-a.Za());0!=(c&2)&&a.eb(b.o()-a.xa());return a}
function Nm(a,b,c){c=Om(c);a.clone();var d,e;if(zm(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.xa()-c.w();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.F()-c.Za();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.F()-c.Za();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.w()-c.xa();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.w()-c.xa();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.Za()-c.F();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Za()-c.F();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.xa()-c.w();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Pm={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Qm={BARCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",
to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART5:{left:0,top:0,width:640,height:480,type:"group",
generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},
{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,
fontSize:O.Vd}}},LINECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",
colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART5:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",
chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",
interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART3:{left:0,top:0,width:640,height:480,
type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},DONUTCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,
10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},DONUTCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},
DONUTCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}}};function Rm(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Sm(a){return Tm(new Rm(a.layout),a)}function Tm(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function Um(a,b){$.extend(!0,a,_.omit(b.content.pages[0],"layout"));return a}function Vm(a,b,c){if(a=a.elements&&a.elements[0]){var d=a.spacing;void 0===d&&(d=O.jD);_.extend(a,Wm(b,c,d,!1).serialize())}}f=Rm.prototype;f.getName=function(){return this.name};
f.Jg=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new Xm(b)).lu().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};f.clone=function(){return Tm(new Rm(this.serialize()),this.Jg())};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.ma=function(a){this.width=a};f.ea=function(a){this.height=a};
f.l=function(){return this.width};f.o=function(){return this.height};function Ym(a){function b(a){a.mediaId&&c.push(new Zm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push($m(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map($m)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function an(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function bn(a){var b=new an;b.m[2]=a[0];b.m[5]=a[1];return b}function cn(a){return[a.m[2],a.m[5]]}f=an.prototype;
f.multiply=function(a){var b=new an;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new an;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new an;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new an;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new an;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function dn(a,b){var c=new an,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new an,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function en(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function fn(a,b,c){c=en(c);var d=a+c*(b-a);a=gn(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function gn(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function hn(){this.ob=[255,0,255];this.kj=[300,100,50]}function jn(a,b,c,d){a.kj=[b,c,d];var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.ob=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];return a}f=hn.prototype;f.AV=function(){return this.kj[1]};f.tc=function(){return this.kj[2]};f.Ak=function(a){return jn(this,this.kj[0],this.kj[1],a)};
function kn(a,b,c,d){a.ob=[b,c,d];a.kj=ln(b,c,d);return a}function mn(a,b,c){var d=new hn;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=nn(b[0],b[1],b[2]);d.ob=on(b[0],b[1],b[2]);d.kj=ln(d.ob[0],d.ob[1],d.ob[2]);return d}function pn(a){var b=new hn;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return kn(b,qn(a,0*c,c),qn(a,1*c,c),qn(a,2*c,c))}
function rn(a){return 0==(a.ob[0]&-256|a.ob[1]&-256|a.ob[2]&-256)}f.ra=function(){return"#"+(256+this.ob[0]).toString(16).slice(-2)+(256+this.ob[1]).toString(16).slice(-2)+(256+this.ob[2]).toString(16).slice(-2)};function sn(a){a=tn(a.ob[0],a.ob[1],a.ob[2]);a=un(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}f.clone=function(){var a=new hn;a.ob=this.ob;a.kj=this.kj;return a};
f.iv=function(){return Math.round(Math.sqrt(.241*this.ob[0]*this.ob[0]+.691*this.ob[1]*this.ob[1]+.068*this.ob[2]*this.ob[2]))};function vn(a){return jn(new hn,a.kj[0],a.kj[1],100)}function wn(a,b,c){return kn(new hn,Math.round(a.ob[0]+(b.ob[0]-a.ob[0])*c),Math.round(a.ob[1]+(b.ob[1]-a.ob[1])*c),Math.round(a.ob[2]+(b.ob[2]-a.ob[2])*c))}
function xn(a,b,c){b=sn(b);a=sn(a);var d;180<Math.abs(b[0]-a[0])?(d=360-Math.abs(b[0]-a[0]),d=b[0]>a[0]?a[0]-c*d:a[0]+c*d):d=fn(a[0],b[0],c);d=(0>d?360+d:d)%360;var e=fn(a[1],b[1],c);c=fn(a[2],b[2],c);return mn(d,e,c)}
function yn(a,b,c,d,e){function g(a,b,c){return fn(a+c,a-c,en((a-(b-5))/10))}b=void 0===b?1:b;e=void 0===e?36:e;c=(void 0===c?110:c)*b;d=(void 0===d?10:d)*b;b*=e;var h=sn(a),k=h[0],l=h[1],h=h[2];switch(!0){case 55<k&&65>k:k=g(k,60,-c);break;case 0<k&&60>k:k-=c;break;case 295<k&&305>k:k=g(k,300,c);break;case 240<k&&300>k:k+=c;break;default:k=360>=k+c?k+c:k-c}var l=l+d,h=g(h,93-e,b),m=mn(k,l,h);return function(b,c){var d=a.ra();return"#ffffff"===d&&0===b?d:xn(a,m,b/Math.max(c-1,1)).ra()}}
f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function zn(a){var b=mh(a.from),c=mh(a.to);return b instanceof hn&&c instanceof hn?function(a,e){return xn(b,c,a/Math.max(e-1,1)).ra()}:null}function mh(a){try{return An(a)}catch(b){}return null}
function An(a){var b=String(a);if("#"===b.slice(0,1))return pn(b);if("hsl("===b.slice(0,4)){a=new hn;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,e=b*(.5>d?d:1-d),g=d+e,c=[+c[1],100*(0<d?2*e/g:b),100*g];return jn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new hn;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return kn(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return pn(b);throw Error("could not parse color: "+a);}function Bn(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function ln(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g;if(d==e)g=e=0;else{var h=d-e,e=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*e,100*d]}
function on(a,b,c){a=[a,b,c];a=a.map(function(a){return en(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return en(Math.round(255*a),0,255)})}
function tn(a,b,c){a=[a,b,c];a=a.map(function(a){return en(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function un(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function nn(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function qn(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function Cn(a,b,c){return kn(new hn,a.ob[0]+Math.round(c*(b.ob[0]-a.ob[0])),a.ob[1]+Math.round(c*(b.ob[1]-a.ob[1])),a.ob[2]+Math.round(c*(b.ob[2]-a.ob[2])))}f.serialize=hn.prototype.ra;f.toString=hn.prototype.ra;function Dn(){}Dn=Backbone.View.extend({className:"colorPicker showColorCode"});f=Dn.prototype;f.initialize=function(a){this.Dl=a.Dl;this.Qg=!!a.Qg;this.Rb=(a.Rb||Dn.qS).clone();this.hB=this.hB.bind(this);this.jB=this.jB.bind(this);this.iB=this.iB.bind(this);this.kB=this.kB.bind(this)};f.events=function(){return{"mousedown .colorPickerSpectrum":this.Y6,"mousedown .colorPickerValue":this.Z6,"keydown .colorPickerHexCode":this.P6,"input .colorPickerHexCode":this.F6,"change .colorPickerApplyAllCheckbox":this.r5}};
f.Up=function(){return this.Rb.clone()};f.lC=function(a){a.equals(this.Rb)||(this.Rb=a.clone(),En(this),Fn(this),Gn(this),this.trigger("preview",this.Up()))};function Hn(a,b){a.$(".colorPickerApplyAllCheckbox").prop("checked",b)}f.render=function(){this.$el.addClass("on");this.$el.toggleClass("showApplyAll",this.Qg);this.$el.html(In({ZD:this.Dl.format("colorPickerColorCode"),Qg:this.Qg,AD:this.Dl.gp()}).toString());En(this);Fn(this);Gn(this);return this};
f.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.hB);$(document).off("mouseup",a.jB);$(document).off("mousemove",a.iB);$(document).off("mouseup",a.kB);Backbone.View.prototype.remove.call(a)});return this};
function En(a){var b=Jn(a.Rb.kj[0]),c=(Dn.GS-Dn.jy)*a.Rb.AV()/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",vn(a.Rb).ra())}function Fn(a){var b=a.Rb.tc(),b=(Dn.MS-2*Dn.jy)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function Gn(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.Rb.ra().slice(1))}
function Kn(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var e=b.left+b.width/2,g=b.top+b.height/2;b=Ln(e,g,c,d);c=100*Math.min(Mn(e,g,c,d)/(Dn.GS-Dn.jy),1);d=a.Rb.tc();jn(a.Rb,b,c,d);En(a);Gn(a);a.trigger("preview",a.Up())}function Nn(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.Rb.Ak(100-100*Math.max(0,Math.min((b-c.left-Dn.jy)/(Dn.MS-2*Dn.jy),1)));Fn(a);Gn(a);a.trigger("preview",a.Up())}
f.Y6=function(a){0===a.button&&(a.preventDefault(),Kn(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.hB),$(document).on("mouseup",this.jB))};f.hB=function(a){Kn(this,a)};f.jB=function(a){$(document).off("mousemove",this.hB);$(document).off("mouseup",this.jB);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();Kn(this,a)};
f.Z6=function(a){0===a.button&&(a.preventDefault(),Nn(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.iB),$(document).on("mouseup",this.kB))};f.iB=function(a){Nn(this,a)};f.kB=function(a){$(document).off("mousemove",this.iB);$(document).off("mouseup",this.kB);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Nn(this,a)};f.P6=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
f.F6=function(){var a=this.$(".colorPickerHexCode"),b=a.val(),c=b.replace(/\W+/g,"").replace(/[^0-9a-f]/gi,""),b=b.length-c.length,c=c.slice(0,6),d=mh(c);this.Rb=d?d:Dn.qS.clone();b=a[0].selectionStart-b;a.val(c);a[0].setSelectionRange(b,b);En(this);Fn(this);this.trigger("preview",this.Up())};f.r5=function(){var a=this.$(".colorPickerApplyAllCheckbox").prop("checked");this.trigger("applyAll",a)};Dn.qS=kn(new hn,255,255,255);Dn.GS=100;Dn.jy=10;Dn.MS=200;function In(a){soy.asserts.assertType(goog.isString(a.ZD)||a.ZD instanceof goog.soy.data.SanitizedContent,"colorCodeLabel",a.ZD,"string|goog.soy.data.SanitizedContent");var b=a.ZD;soy.asserts.assertType(goog.isBoolean(a.Qg)||1===a.Qg||0===a.Qg,"showApplyAll",a.Qg,"boolean");var c=!!a.Qg;soy.asserts.assertType(goog.isString(a.AD)||a.AD instanceof goog.soy.data.SanitizedContent,"applyAllLabel",a.AD,"string|goog.soy.data.SanitizedContent");a=a.AD;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e'+
soy.$$escapeHtml(b)+' #\x3cinput class\x3d"colorPickerHexCode" spellcheck\x3d"false"\x3e\x3c/div\x3e'+(c?'\x3cdiv class\x3d"colorPickerApplyAll"\x3e\x3clabel class\x3d"colorPickerApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPickerApplyAllCheckbox" /\x3e'+soy.$$escapeHtml(a)+"\x3c/label\x3e\x3c/div\x3e":""))};function On(a){var b=goog.asserts.assertArray(a.zc,"expected parameter 'colors' of type list\x3c[hexString: string]\x3e.");soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var c=a.label;soy.asserts.assertType(null==a.gy||goog.isBoolean(a.gy)||1===a.gy||0===a.gy,"workingPalette",a.gy,"boolean|null|undefined");a=a.gy;var d='\x3cdiv class\x3d"'+(a?"workingPalette":"pinnedPalette")+'"\x3e'+(c?'\x3ch3 class\x3d"colorPaletteLabel"\x3e'+
soy.$$escapeHtml(c)+"\x3c/h3\x3e":"")+'\x3cmenu class\x3d"colorPaletteGroup"\x3e'+(a?'\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e':""),c=b.length;for(a=0;a<c;a++){var e,g=b[a];e=(e=void 0,{});soy.asserts.assertType(goog.isString(g.Gg)||g.Gg instanceof goog.soy.data.SanitizedContent,"hexString",g.Gg,"string|goog.soy.data.SanitizedContent");g=g.Gg;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#'+soy.$$escapeHtmlAttribute(g)+'" title\x3d"#'+soy.$$escapeHtmlAttribute(g)+
'" style\x3d"'+(e.Yb?"/*"+e.Yb+"*/":"")+"color: #"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(g))+';" \x3e\x3c/li\x3e');d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/menu\x3e\x3c/div\x3e")}
function Pn(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"colorPaletteCta" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(b)+"\x3c/a\x3e")}
function Qn(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.gp)||a.gp instanceof goog.soy.data.SanitizedContent,"applyToAll",a.gp,"string|goog.soy.data.SanitizedContent");var c=a.gp;soy.asserts.assertType(null==a.yy||a.yy instanceof goog.soy.data.SanitizedContent||goog.isString(a.yy),"applyToAllColor",a.yy,"null|string|undefined");var d=a.yy;soy.asserts.assertType(null==a.zy||a.zy instanceof goog.soy.data.SanitizedContent||goog.isString(a.zy),"applyToAllResult",a.zy,"null|string|undefined");
a=a.zy;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPaletteApplyAll"\x3e\x3clabel class\x3d"colorPaletteApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPaletteApplyAllCheckbox"\x3e'+soy.$$escapeHtml(c)+(d?'\x3cspan class\x3d"colorPaletteApplyAllColor" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(d))+'"\x3e\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllArrow"\x3e\x26#9654;\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllResult" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(a))+'"\x3e\x3c/span\x3e':"")+"\x3c/label\x3e\x3c/div\x3e")};function Rn(){}Rn=Backbone.View.extend({className:"colorPalette"});f=Rn.prototype;f.initialize=function(a){this.Dl=a.Dl;this.Si=!1;this.$i=a.$i;this.Ny=a.Ny;this.Pl=a.Pl;this.tu=Sn({XX:a.tu,ZW:a.W.G.get($f),YW:a.W.G.get(ag)});this.Ry=(this.Rb=a.Rb)&&this.Rb.clone();this.pP=!1;this.Ue=null;this.$B=a.$B;this.xD=!!a.xD;this.Qg=!!a.Qg;this.xy=a.xy;this.NV=!1;this.Yl=null;this.j=a.j;this.W=a.W;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.uC.bind(this),50))};
f.events=function(){return{"click .colorPaletteAdd":this.c6,"click .colorPaletteEntry":this.E5,"click .colorPaletteCta":this.D5,"change .colorPaletteApplyAllCheckbox":this.s5,mousedown:this.X6,"mousedown .colorPaletteEntry":this.W6}};function Sn(a){var b=-1===a.ZW?a.XX:a.XX.slice(0,a.ZW);return-1===a.YW?b:b.map(function(b){return new Tn({zc:b.gg().slice(0,a.YW),name:b.getName()})})}
function Un(a){function b(a){return new Vn({name:null,Gg:a})}return[new Tn({name:a.$i.format("colorPaletteDefaultColors"),zc:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Tn({name:"",zc:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
f.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");for(var c=[].concat(ma(this.tu),ma(Un(this))).filter(function(a){return 0<a.gg().length}),c=la(c),d=c.next();!d.done;d=c.next()){d=d.value;b.append(On({zc:d.gg().map(function(a){return{Gg:a.Gg}}),label:d.getName()}).toString());for(var d=la(d.gg()),e=d.next();!e.done;e=d.next())a["#"+e.value.Gg]=!0}this.xD&&this.W.G.get(mg)&&b.prepend(Pn({label:this.$i.format("colorPaletteAddPaletteCta"),url:"/brand"}).toString());
c=Wn(this.Pl.hi()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(On({gy:!0,zc:c.map(function(a){return{Gg:a.replace("#","")}}),label:this.$i.format("colorPaletteDocumentColors")}).toString());this.$B&&(this.$el.addClass("colorPaletteScrollable"),b.addClass("disableAncestorScroll"),this.Yl=new Xn(b),this.Yl.render());this.listenTo(this.Pl,"paletteEntry:add",this.m5);this.listenTo(this.Pl,"paletteEntry:remove",this.o7);this.listenTo(this.Pl,"paletteEntry:sync",this.uC);return this};
f.appendTo=function(a){this.render().$el.appendTo(a);this.uC()};f.uC=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
f.Up=function(){return this.Rb&&this.Rb.clone()};f.lC=function(a){null===a&&null!==this.Rb?(this.Rb=null,this.trigger("preview",a,this.Si)):a.equals(this.Rb)||(this.Rb=a.clone(),this.trigger("preview",a,this.Si),this.Qg&&(this.NV||(this.NV=!0,this.$el.append(Qn({gp:this.$i.gp(),yy:this.xy?this.xy.ra():null,zy:this.Rb?this.Rb.ra():null}).toString())),this.$(".colorPaletteApplyAllResult").css("background",a.ra())));a&&this.Ue&&(this.Ue.lC(a),this.$(".colorPaletteAdd").css("color",a.ra()));return this};
f.confirm=function(){(null===this.Rb&&null!==this.Ry||this.Rb&&!this.Rb.equals(this.Ry))&&Yn(this);return this};function Zn(a){a.Ue&&(a.Ue.remove(),a.Ue=null,a.trigger("hideColorPicker"));a.pP&&($n(a),a.pP=!1);a.$(".colorPaletteAdd").css("color","transparent")}
f.remove=function(){Zn(this);this.Yl&&(this.Yl.remove(),this.Yl=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.Ry&&ao(this,this.Ry)&&this.j.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function Yn(a){a.Ry=a.Up();a.trigger("confirm",a.Si)}
function $n(a){if(a.Rb){var b=a.Rb.ra();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||(bo(a.Pl,a.Rb),Yn(a))}}f.E5=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=mh(a))this.lC(a),this.Ue||this.confirm()};
f.c6=function(a){a.preventDefault();this.Ue?Zn(this):(this.Ue||(this.Ue=new Dn({Dl:this.Dl,Rb:this.Rb,Qg:!1}),this.listenTo(this.Ue,"preview",this.m7),this.listenTo(this.Ue,"confirm",this.e6),this.listenTo(this.Ue,"applyAll",this.n5),this.Ue.render(),this.Ny.nm(this.Ue.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker")),Hn(this.Ue,this.Si))};f.s5=function(a){a=!0===$(a.target).prop("checked");this.Si!==a&&(this.Si=a,this.trigger("changeApplyAll",this.Si),this.Ue&&Hn(this.Ue,this.Si))};
f.D5=function(){Ol(this.j,"add_another_palette","editor","toolbar","color_palette")};f.X6=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():Zn(this))};
f.W6=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new co({target:a.currentTarget})).zJ(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var e=mh(b);!e||this.$el.is(a)||this.$el.get(0).contains(a)||(eo(this.Pl,e),Yn(this));this.stopListening(c)})}};
f.m5=function(a){if(!ao(this,a)&&!fo(this,a)){a=a.ra();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function ao(a,b){var c=b.ra().substr(1);return a.tu.some(function(a){return a.zc.some(function(a){return a.Gg===c})})}function fo(a,b){var c=b.ra().substr(1);return Un(a).some(function(a){return a.zc.some(function(a){return a.Gg===c})})}
f.o7=function(a){var b=a.ra();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};f.m7=function(a){this.Ue&&(this.pP=!0,this.lC(a))};f.e6=function(){Zn(this);this.confirm()};f.n5=function(a){this.Si!==a&&(this.Si=a,this.trigger("changeApplyAll",this.Si),this.$(".colorPaletteApplyAllCheckbox").prop("checked",this.Si))};function co(a){this.target=a.target;this.Sm=null;this.OE={x:0,y:0};this.PE=void 0!==a.PE?a.PE:5;this.IU=!1;this.FC=null;this.lX=this.Z3.bind(this);this.mX=this.a4.bind(this)}f=co.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.zJ=function(a,b){this.OE.x=a;this.OE.y=b;this.Sm=this.target.cloneNode(!0);document.addEventListener("mousemove",this.lX);document.addEventListener("mouseup",this.mX);return this};
f.release=function(a){document.removeEventListener("mousemove",this.lX);document.removeEventListener("mouseup",this.mX);$(this.target).removeClass("fauxDraggerTarget");this.Sm&&this.Sm.parentNode&&this.Sm.parentNode.removeChild(this.Sm);this.Sm=null;this.trigger("end",a);this.off()};f.Z3=function(a){var b=a.pageX-this.OE.x;a=a.pageY-this.OE.y;this.IU?$(this.Sm).css("top",this.FC.top+a+"px").css("left",this.FC.left+b+"px"):(Math.abs(b)>this.PE||Math.abs(a)>this.PE)&&this.hL()};
f.a4=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.hL=function(){this.FC=this.target.getBoundingClientRect();$(this.Sm).css("top",this.FC.top+"px").css("left",this.FC.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Sm);this.trigger("start");this.IU=!0};function go(a,b){this.item={Mv:!1,elements:[],yw:null,timestamp:0,um:null,wm:null};this.zC=a;this.a_=(b||"anonymous")+"-copybuffer"}function ho(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.um,activeText:a.item.wm});try{a.zC.setItem(a.a_,b)}catch(c){}}
function io(a){var b;return a.zC&&(b=a.zC.getItem(a.a_))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return yg(a)}),yw:null,timestamp:b.timestamp,um:b.activeFilterable,wm:b.activeText}:null}
function jo(a,b){a.item.timestamp=Date.now();a.item.Mv=!0;a.item.elements=[b];a.item.um=null;b.Zp()&&-1!==b.Sz()&&(a.item.um={elementIndex:0,filterableIndex:b.Sz()});a.item.wm=null;b.se()&&-1!==b.Bb()&&(a.item.wm={elementIndex:0,textIndex:b.Bb()});a.item.yw=null;a.zC&&ho(a)}function ko(a,b){var c=cc;c.item.timestamp=Date.now();c.item.Mv=!1;c.item.elements=a;c.item.yw=b?b:null;c.zC&&ho(c)}
function lo(){var a=cc,b=io(a);return b?b:{Mv:a.item.Mv,elements:a.item.elements,yw:a.item.yw,timestamp:a.item.timestamp,um:a.item.um,wm:a.item.wm}};function mo(a,b){this.H=a;this.n_=b||null;this.WI=this.DH=null}mo.prototype.read=function(a){this.DH||(no++,oo.splice(no,0,this));this.DH=a;if(po==qo||po==ro)this.H.requestAnimationFrame(so),po=to;return this};mo.prototype.write=function(a){this.WI||(uo++,vo.splice(uo,0,this));this.WI=a;po==qo&&(this.H.requestAnimationFrame(so),po=to);return this};function Zg(a){return new mo(jl,a)}var qo=0,to=1,ro=3,po=qo,oo=[],vo=[],no=0,uo=0;
function so(){var a,b;po=2;uo=-1;for(a=0;a<oo.length;a++){no=a;b=oo[a];var c=b.DH;b.DH=null;c&&c.call(b.n_,b)}oo.length=0;no=-1;po=ro;for(a=0;a<vo.length;a++)uo=a,b=vo[a],c=b.WI,b.WI=null,c&&c.call(b.n_,b);vo.length=0;uo=-1;po!=to&&(po=qo)};function wo(){this.N=Ib;this.url="/designschool"};function xo(){}function yo(a){return Object.freeze(Df(xo,a))};var zo=new Ff("fg",!0);function Ao(a){this.ua=a.ua;this.G=a.G}function Bo(a){var b=["featureOnboardingManager",a.Wk.u()].join("."),c=null;try{c=lm(b)}catch(d){}return new Ao({G:a.G,ua:c})}function Co(a){return a.ua&&a.G.get(zo)}function Do(a){return Co(a)&&!!Eo(a.ua,Fo)}var Fo="magicResize";function Go(a){this.j=a.j;this.W=a.W;this.xK=a.xK;this.Eg=a.Eg;this.ua=a.ua;this.VQ=!1}function Ho(a,b){if(a.VQ?0:b===Io||b===Jo?!Ko(a):1){var c=a.xK(),d=c.sH;c.on("signup",function(){$(window).off("beforeunload");var c=b===Lo,g=Co(a.Eg);c&&g?(c=a.Eg,Co(c)&&Mo(c.ua,Fo),c=a.Eg,Co(c)&&Mo(c.ua,"onboardingPending"),window.location.reload()):b===Jo||b===No?window.location.reload():window.location=d});c.on("hide",function(){a.VQ=!1});c.show(b);a.VQ=!0;b!==Io&&b!==Jo||Oo(a)}}
function Ko(a){var b=Po;return a.ua?!!Eo(a.ua,b):!0}function Oo(a){var b=Po;a.ua&&Mo(a.ua,b)}function Qo(a){a=[Ro,a.u()].join(".");var b=null;try{b=lm(a)}catch(c){}return b}var Ro="EditorCtaHandler",Po="ExclusiveMediaUpgradeDialogShown";function So(a,b){this.action=a;this.param=b}var To={bba:"tab",O0:"search",Maa:"folder"};function Uo(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(To);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(e){d=a[1]}a=d;c=_.values(fc);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new So(b,d||null)};function Vo(a){this.zc=Wo(a);this.$D=null}function Wo(a){if(a){var b={};return a.filter(function(a){a=a.ra();return b[a]?!1:b[a]=!0})}return[]}function Xo(a,b){return 0<=Wn(a).indexOf(b.ra())}Vo.prototype.Ce=function(){this.$D=null};function Yo(a,b){rn(b)&&!Xo(a,b)&&(a.zc.push(b),a.Ce())}function Zo(a,b){rn(b)&&Xo(a,b)&&(a.zc=a.zc.filter(function(a){return!a.equals(b)}),a.Ce())}Vo.prototype.unshift=function(a){rn(a)&&!Xo(this,a)&&(this.zc.unshift(a),this.Ce())};
function $o(){var a=new Vo;a.zc=[];a.Ce();return a}Vo.prototype.gg=function(){return this.zc};function Wn(a){a.$D||(a.$D=a.zc.map(function(a){return a.ra()}));return a.$D}Vo.prototype.serialize=function(){this.Ce();return this.zc.map(function(a){return a.serialize()})};function ap(a){function b(a){var b=m+Ln(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-n;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>l.Ta(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)t=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(t=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(t)return!1;
e?(b=b+45-c,t=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,t=!0)}a=b;$("#overlays .rotationGuide").css("transform",bp({Sw:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",bp({Sw:360-a}));l.dm(b);l instanceof cp&&dp(l);return!1}function c(){l.vg=!1;z.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("on");l.fk&&l.fk();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");
$(document).off("keydown",q);$(document).off("keydown",u);if(m!=l.Ta()){var a={elementIndex:l.K(),pageIndex:ep(K,l.R()),"new":{rotation:l.Ta()},old:{rotation:m}};M.register(new Y(fp,a))}}T.trigger("hideContextualControlsRequested");gp();var d=$(this),e=$(this).parents(".selectionBox").data("element");if(e){var g=e.offset(),h=g.left+e.width()/2,k=g.top+e.height()/2,l=e.data("canvaElement");if(l){var m=l.Ta(),n=Ln(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?
a.clientY:a.originalEvent.touches[0].clientY),p=!1,q=function(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))},u=function(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))},v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);d.addClass("on");$(document).on("keydown",q);$(document).on("keyup",u);var z=new hp($(document));l.vg=!0;z.on("mousemove|touchmove",b).on("mouseup|touchend",
c);a=ip(l);var t=!1,e=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px").css("margin-top",-1*jp(l)/2+"px").css("height",jp(l)+"px");return!1}}};function kp(a,b){this.EJ=a;this.namespace=void 0===b?null:b}function lm(a){if(window.localStorage)return new kp(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}kp.prototype.setItem=function(a,b){try{return this.EJ.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};kp.prototype.getItem=function(a){return this.EJ.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Eo(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}function Mo(a,b){try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}}kp.prototype.removeItem=function(a){this.EJ.removeItem(null==this.namespace?a:this.namespace+"."+a)};function lp(a){this.type=a.type;this.ua=a.ua;this.H=a.H;this.i=a.i}
lp.prototype.show=function(){var a=this,b=mp,c;a:switch(this.type){case np:c={$y:"upgraderWelcomeDialog--freeMedia",ld:"https://static.canva.com/static/images/free_media_dialog_header.png",title:this.i.format("upgraderWelcomeDialogFreeMediaTitle",3E5),Ey:this.i.Ia("upgraderWelcomeDialogFreeMediaBodyHtml"),button:this.i.format("upgraderWelcomeDialogFreeMediaButton")};break a;default:throw Error("Could not get model for unknown UpgraderWelcomeDialog.Type: "+this.type);}b=new b({content:op(c).$el,jf:this.type!==np,H:this.H});
b.$el.addClass("upgraderWelcomeDialog");return pp(b).tap(function(){Mo(a.ua,""+a.type)})};function qp(a){a.H.setTimeout(function(){return a.show()},1500)}var np="FREE_MEDIA",rp=new Ff("ga",!1);function sp(a){this.$el=a}r(sp,gc);
function op(a){var b=$,c;soy.asserts.assertType(a.Ey instanceof soydata.SanitizedHtml||a.Ey instanceof soydata.UnsanitizedText||goog.isString(a.Ey),"bodyHtml",a.Ey,"soydata.SanitizedHtml");c=a.Ey;soy.asserts.assertType(goog.isString(a.button)||a.button instanceof goog.soy.data.SanitizedContent,"button",a.button,"string|goog.soy.data.SanitizedContent");var d=a.button;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");
var e=a.title;soy.asserts.assertType(goog.isString(a.ld)||a.ld instanceof goog.soy.data.SanitizedContent,"imageUrl",a.ld,"string|goog.soy.data.SanitizedContent");var g=a.ld;soy.asserts.assertType(null==a.$y||a.$y instanceof goog.soy.data.SanitizedContent||goog.isString(a.$y),"cssClasses",a.$y,"null|string|undefined");a=a.$y;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"upgraderWelcomeDialog__headerImage" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"\x3e\x3csection class\x3d"upgraderWelcomeDialog__content'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cheader class\x3d"upgraderWelcomeDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(e)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__body"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cfooter class\x3d"upgraderWelcomeDialog__footer"\x3e\x3cbutton class\x3d"button done upgraderWelcomeDialog__button"\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__buttonContent"\x3e'+tp({za:"upgraderWelcomeDialog__buttonIcon",color:"#FFF"})+soy.$$escapeHtml(d)+
"\x3c/div\x3e\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");b=b(c.toString());return new sp(b)};function up(a){this.W=a.W;this.G=a.G;this.Wc=a.Wc;this.Eg=a.Eg;this.Xb=a.Xb;this.Bp=a.Bp;this.Z=a.Z;this.i=a.i;this.j=a.j;this.Oe=a.Oe;this.ua=a.ua;this.Wk=a.Wk;this.Eu=a.Eu;this.Ka=a.Ka;this.fb=a.fb;this.ub=a.ub;this.fa=a.fa}
up.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=new vp(b);if(!a)throw Error("Malformed document. Missing content.");wp(this,a,b,c,d,e,g);d=this.G.get(rp)?np:null;var h;try{h=lm("upgraderWelcomeDialog."+this.Wk.u())}catch(k){h=null}d&&h&&!Do(this.Eg)&&!c.wh()&&(c=this.i,c.MR||(c.MR=new nf(c.config)),h=new lp({i:c.MR,H:jl,ua:h,type:d}),Eo(h.ua,""+h.type)||qp(h))};
function wp(a,b,c,d,e,g,h){a.j.identify(a.Wk.u(),Fl(a.j,a.Wk).Mk());b={content:b,vc:c,t3:!(-1==lh.indexOf(d.wh())&&!d.wh()),Wc:a.Wc,Bp:a.Bp,Xb:a.Xb,gj:d,b1:g,S$:h,i:a.i,Ui:e,W:a.W,G:a.G,Eu:a.Eu,j:a.j,ub:a.ub,fa:a.fa,Ka:a.Ka,fb:a.fb,bV:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.wh(),e;if(K){if(-1!=lh.indexOf(d.wh())){var g=a.i;g.ng||(g.ng=new kf(g.config));(new xp(K,d,g.ng)).go()}g=new yp(a.Z,d,a.i,a.W);if(!c&&a.ua&&"1"==a.ua.getItem("onboardingPhase")){if(a.W.G.get(Yf)){var h,
q;q=a.i;q.gL||(q.gL=new lf(q.config));q=q.gL;h=_.defaults({},h,{j:a.j,yg:"download_hint",Oe:a.Oe,GC:5,title:q.hP(),content:q.fP(),We:q.eP(),anchor:$("button.editorActionExport"),yD:"download",position:zp});new Ap(h)}a.ua.setItem("onboardingPhase","2");h="first_design";a.W.G.get(qg)&&(h="appcues_first_design_1");a.j.identify(a.Wk.u(),Gl(new Hl,"onboarding",h).Mk())}window.CANVA_EMBED||("FREE_NEW_USER"===c?(g.go(),Bp(a),e="regular"):Cp()?(g.go(),Bp(a),new Ap({j:a.j,yg:"five_saves_view_designs",Oe:a.Oe,
GC:5,title:id(a.i).hP(),content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(id(a.i).fP()),We:id(a.i).eP(),anchor:$("#editorLogo"),yD:"homepage"}),e="layouts"):-1<b.indexOf(c)&&(Dp({wh:c,gz:a.W.gz(),e9:0<=nh(d).indexOf("TEAM_TEMPLATE"),xe:gd(a.i)}).start(),e="c4w"));e&&a.j.identify(a.Wk.u(),Gl(new Hl,"onboarding",e).Mk())}}};Ep(b)}function Bp(a){a.ua&&a.ua.setItem("onboardingPhase","1")};function Fp(a,b,c){var d=this;Date.now();this.vc=b;this.$k=a.doctype?Gp(a.doctype):null;this.k_=a.pages||[];this.zd=a.keywords||[];this.locale=a.locale||null;this.og=$o();this.fonts=[];this.Vu=$o();this.Ql=$o();new Map;a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=mh(b?a.slice(1):a))b?Yo(this.Vu,a):(Yo(this.og,a),Yo(this.Ql,a))},this);0===this.og.gg().length&&(this.og=new Vo,this.Ql=new Vo,this.Vu.gg().forEach(function(a){Zo(this.og,a);Zo(this.Ql,a)},this));this.O=[];this.Ti=
null;this.title=new Hp(c,a.title,this.lb().getName());this.title.on("change",this.e4.bind(this));this.II={title:{},subtitle:{},body:{}};$.extend(this.II,a.defaultFonts);this.Dr={title:{fontSize:O.t0,fontFamily:O.s0},subtitle:{fontSize:O.q0,fontFamily:O.p0},body:{fontSize:O.Vd,fontFamily:O.Ud}};$.extend(this.Dr,a.canvaDefaultFonts);a=Ip(this,a);a.pages?a.pages.forEach(function(a){d.O.push(new Jp(d,a))}):this.O.push(new Jp(this,this.Jg()));Kp(this,0);this.$M=!1}f=Fp.prototype;f.lb=function(){return this.vc};
f.Jg=function(){return this.vc.Jg()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Fp.prototype,Backbone.Events);f=Fp.prototype;f.hi=function(){return this.Ql};
function Lp(a){var b=[];K.ia().forEach(function(c){0<c.C().parents(".group.chart").length||(c.ws&&c.ws().forEach(function(d,e){d instanceof hn&&a.equals(d)&&b.push({element:c,index:e,type:"TEXT"})}),c.bb&&c.bb().forEach(function(d,e){d instanceof hn&&a.equals(d)&&b.push({element:c,index:e,type:"FILL"})}))});return b}
f.EH=function(){var a=this,b=this.Ql,c=$o();this.og.gg().forEach(function(a){Yo(c,a)});this.O.forEach(function(b){b.hi().gg().forEach(function(b){Xo(a.Vu,b)||Yo(c,b)})});for(var b=b.gg(),d=c.gg(),e=b.length-1,g=d.length-1;0<=e;)0>g||b[e].ra()!==d[g].ra()?this.trigger("paletteEntry:remove",b[e]):g--,e--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Ql=c};
f.JB=function(){var a=[];this.O.forEach(function(b){b.ia().forEach(function(b){(b instanceof Mp||b instanceof cp)&&b.lv().forEach(function(b){-1==a.indexOf(b)&&a.push(b)})})});this.fonts=a};function bo(a,b){if(rn(b)){var c=Wn(a.Ql);0<c.length&&c[0]===b.ra()||(eo(a,b),Zo(a.Vu,b),a.og.unshift(b),a.Ql.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}
function eo(a,b){rn(b)&&Xo(a.Ql,b)&&(Yo(a.Vu,b),Zo(a.og,b),Zo(a.Ql,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function Np(a){return Wn(a.og).concat(a.Vu.gg().map(function(a){return"!"+a.ra()}))}
f.serialize=function(){var a;a=this.O.reduce(function(a,c){c.Ih||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.Dr,defaultFonts:this.II,layout:this.lb().u(),doctype:this.$k?Op(this.$k):null,pages:a,palette:Np(this),title:this.title.ul()};this.zd&&0<this.zd.length&&(a.keywords=this.zd);return a};f.qb=function(){return this.title};f.Tj=function(){return this.zd};function Pp(a,b){a.zd=b;""!==a.zd.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.Df=function(){return this.locale};
f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function Qp(a){return Rg(a.vc.tb).o()||(a.k_[0]||{}).height||0}function Rp(a){return Rg(a.vc.tb).l()||(a.k_[0]||{}).width||0}f.Wj=function(){return this.vc.tb.Wj()};f.Ea=function(){for(var a=0;a<this.O.length;a++)if(this.O[a].Jf())return this.O[a];return this.O[0]};function Sp(a){var b=a.Ea();return ep(a,b)}f.Gb=function(){return this.O};f.jc=function(){return this.O.length};
function Tp(a){return a.O.filter(function(a){return!a.Ih})}function Kp(a,b){b=Math.min(Math.max(0,b),a.O.length-1);b=a.O[b];var c=b.Jf();b.zk(!0);var d=b.Jf();c!==d&&a.trigger("page:change:selected",a,b)}function ep(a,b){return b?a.O.indexOf(b):-1}
function Up(a){var b=new Jp(a,a.Jg());if(0<a.O.length){var c=Vp(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),c.Hb()&&Wp(c))}a.O.push(b);a.trigger("page:add",a,b);b.ia().forEach(function(a){b.trigger("element:add",b,a)});return b}
function Xp(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);Yp(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ia().forEach(function(a){b.trigger("element:add",b,a)})}function Zp(a,b){var c=Sp(a),d=a.O.indexOf(b);-1<d&&(a.O.splice(d,1),b.remove(),c>d&&c--,Kp(a,Math.max(0,Math.min(a.O.length-1,c))),a.trigger("page:remove",a,b,d))}
f.Wa=function(){var a=[],b=this.O.map(function(a){return a.Wa()});return a.concat.apply(a,b)};function $p(){return K.O.some(function(a){return 0<a.Wa().length})}f.ia=function(){var a=[],b=this.O.map(function(a){return a.ia()});return a.concat.apply(a,b)};function aq(a){a=a.ia();var b=a.filter(function(a){return a.ak()});a.filter(function(a){return a.Jv()}).forEach(function(a){a.Wz().forEach(function(a){b.push(a)})});return b}
function bq(a){var b={};aq(a).filter(function(a){return a.Pb()}).map(function(a){return a.Pb()}).forEach(function(a){cq(yb,a)&&(b[a.u()]=a)});return _.values(b)}function dq(a){return aq(a).some(function(a){return(a=a.Pb())&&!cq(yb,a)?!0:!1})}f.hs=function(a){return $.extend(!0,{},this.Dr[a],this.II[a])};
function Ip(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(ec).map(function(a){return ec[a]}),e=b.style;-1<d.indexOf(e)&&(d=a.hs(e),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function eq(a){function b(a,h){if(Array.isArray(h))h.forEach(function(e){d=d&&c(a,e);"object"==typeof e&&b(a,e)});else for(var k in h)if(h.hasOwnProperty(k)){var l=h[k];"invalid"===k&&l?(e="Invalid "+(h.type||a),d=!1):"childRange"!==k||fq(l)||(e="Invalid group childRange",d=!1);d=d&&c(k,l);"object"==typeof l&&b(k,l)}}function c(a,b){return"number"===typeof b&&isNaN(b)?(e="Invalid value NaN for "+a,!1):!0}var d=!0,e="";b("document",a);return{result:d,description:e}}
function fq(a){return!!(a&&2===a.length&&0<a[0]&&a[1]>=a[0])}f.isEmpty=function(){return 0<this.ia().length?this.ia().every(function(a){return a.Ih}):!0};f.e4=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a,b){this.vc=a;this.$k=b;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};f.zR=function(a,b,c){this.vc=b;this.$k=c;this.O.forEach(function(b,c){b.zR(a.pages[c])});this.trigger("resize");this.trigger("change")};
function gq(){return K.O.some(function(a){return a.Iv()})};function hq(){Error.captureStackTrace&&Error.captureStackTrace(this,hq)}hq.prototype=Object.create(Error.prototype);function iq(){hq.call(this)}iq.prototype=Object.create(hq.prototype);function jq(){hq.call(this)}jq.prototype=Object.create(hq.prototype);function kq(){hq.call(this)}kq.prototype=Object.create(hq.prototype);function lq(a,b,c){this.N=a;this.XK=b;this.J9=c;this.path="/documents"}function mq(a){var b=Ib,c;a:switch(c=Jb.XK(),c){case "NONE":c="NONE";break a;case "LOG":c="LOG";break a;case "THROW":c="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+c);}return new lq(b,c,a)}f=lq.prototype;f.duplicate=function(a){return sj(this.N,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),nq(a)).get(0).tap(oq(this,"CreateDocumentResponseProto (duplicate)",pq)).then(qq)};
f.delete=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};f.move=function(a,b,c){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.ft=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Wx=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.LJ=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.MJ=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.KC=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.UC=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.getDocument=function(a){a=[this.path,null!=a.ag?"/"+encodeURIComponent(a.ag):"","?includePages\x3d"+encodeURIComponent(String(!!a.vA))].join("");return uj(this.N,a).get(0).tap(oq(this,"GetDocumentResponseProto",rq)).then(sq)};
function tq(a,b){b=[a.path+"?",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"",null!=b.ja?"\x26designType\x3d"+encodeURIComponent(b.ja):"",b.Zr?"\x26excludeApiDocuments":"",b.HL?"\x26excludeEmpty":"",0<b.wl.length?"\x26ids\x3d"+encodeURIComponent(b.wl.join(",")):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.qd?"\x26brand\x3d"+encodeURIComponent(b.qd.D):"",null!=b.qd&&null!=b.qd.user?"\x26user\x3d"+encodeURIComponent(b.qd.user):"",0<b.uH.length?"\x26principalRoles\x3d"+
encodeURIComponent(b.uH.join(",")):"",b.DY?"\x26public":"",0<b.kS.length?"\x26withoutTags\x3d"+encodeURIComponent(b.kS.join(",")):""].join("").replace("?\x26","?");return uj(a.N,b).get(0).tap(oq(a,"FindDocumentsResponseProto",uq)).then(function(a){return{documents:a.documents.map(vq),continuation:a.continuation}})}function wq(a,b){return uj(a.N,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).then(xq)}
function yq(a,b){return sj(a.N,a.path+"/"+encodeURIComponent(b.document)+"/acl",zq(b)).get(0).then(Aq)}f.search=function(a){return uj(this.N,this.path+"/search?query\x3d"+encodeURIComponent(a)).get(0).tap(oq(this,"SearchDocumentsResponseProto",Bq)).then(Cq)};function Dq(a,b){return sj(a.N,a.path+"/"+encodeURIComponent(b.ag)+"/imagesets?generate",Eq(b)).then(Fq)}function Gq(a){var b=Ab;return uj(b.N,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Hq)}
function oq(a,b,c){return function(d){try{c(La(d))}catch(e){switch(a.XK){case "THROW":throw e;case "LOG":a.J9.log("Failed deserialization of "+b,{error:e})}}}};function Iq(){this.remix=this.edit=this.view=this["default"]=null}Iq.prototype.tV=function(){return this["default"]};Iq.prototype.vl=function(){return this.view};Iq.prototype.vV=function(){return this.edit};function Jq(a){var b=new Iq;a&&$.extend(b,a);return b}function Kq(a){this.width=a.width;this.height=a.height;this.url=a.url}function Lq(){}function qq(a){return Object.freeze(Df(Lq,a))}Lq.prototype.getDocument=function(){return vq(this.document)};Lq.prototype.getSession=function(){return this.session};
function Mq(){}function sq(a){return Object.freeze(Df(Mq,a))}Mq.prototype.getDocument=function(){return vq(this.document)};function Nq(){}Nq.prototype.o=function(){return this.height};Nq.prototype.sM=function(){return this.images};Nq.prototype.getVersion=function(){return this.version};Nq.prototype.l=function(){return this.width};function Oq(a){if(!a)return null;a=$.extend(new Nq,a);if(a.images){var b;b=(b=a.images)?b.map(Pq):null;a.images=b}return a}function Qq(){}Qq.prototype.R=function(){return this.page};
Qq.prototype.oa=function(){return this.url};Qq.prototype.getKey=function(){return this.key};function Pq(a){return a?$.extend(new Qq,a):null}function Rq(){}Rq.prototype.u=function(){return this.id};Rq.prototype.getVersion=function(){return this.version};Rq.prototype.sM=function(){return this.images};function Sq(a){a=Df(Rq,a);var b=a.images;if(b)for(var c in b)b[c]=Tq(b[c]);return a}function Hq(a){return a.map(Sq)}function Uq(){}function Cq(a){return Object.freeze(Df(Uq,a))}
Uq.prototype.aA=function(){return this.results?this.results.map(Vq):[]};function Wq(){}function Vq(a){return Object.freeze(Df(Wq,a))}Wq.prototype.qb=function(){return this.title};Wq.prototype.u=function(){return this.id};Wq.prototype.re=function(){var a=this.thumbnail;return new Kq({width:B("width",a),height:B("height",a),url:C("url",a)})};function Xq(a){switch(a){case Yq:return $q;case ar:return br;case cr:return dr;case er:return fr;case gr:return hr;default:throw Error();}}
function ir(a){switch(a){case $q:return Yq;case br:return ar;case dr:return cr;case fr:return er;case hr:return gr;default:throw Error();}}function jr(a,b,c){return new kr({qd:new lr({user:a,D:b}),gQ:new mr({qB:nr,Pc:Xq(c)}),origin:new or({type:pr})})}function qr(){}f=qr.prototype;f.kv=function(){return this.extensions};f.u=function(){return this.id};f.Ie=function(){return this.draft};f.Xp=function(){return this.tags};
function rr(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}f.qb=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.getVersion=function(){var a=this.draft;return a?a.version:-1};var Yq="NONE",gr="EDITOR",ar="OWNER",er="REMIXER",cr="VIEWER";
function Bk(a,b){switch(b){case "NONE":return Yq;case "EDITOR":return gr;case "OWNER":return ar;case "REMIXER":return er;case "VIEWER":return cr;default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var sr={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function vq(a){var b=new qr;$.extend(b,a);b.extensions=Jq(a.extensions);return b};function tr(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function ur(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function vr(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function wr(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function xr(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function zr(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ar(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function Br(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Ke=a.Ke;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}f=Br.prototype;f.Lc=function(){return this.fontSize};
f.pv=function(){return this.Ke};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};f.Mb=function(){return this.color};f.FF=function(){return this.list};function Cr(a){return new Br({fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Ke:D("justification",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),color:D("color",a),list:Na("list",a)})}function Dr(a){this.title=a.title;this.sg=a.sg;this.body=a.body}
Dr.prototype.qb=function(){return this.title};function Er(a){return new Dr({title:F(Cr,"title",a),sg:F(Cr,"subtitle",a),body:F(Cr,"body",a)})}function Fr(a){this.ja=a.ja;this.title=a.title;this.description=a.description;this.zd=a.zd||[];this.Dr=a.Dr;this.nU=a.nU;this.O=a.O||[];this.doctype=a.doctype;this.og=a.og||[]}f=Fr.prototype;f.qb=function(){return this.title};f.He=function(){return this.description};f.Tj=function(){return this.zd};f.Gb=function(){return this.O};f.hi=function(){return this.og};
function Gr(a){return new Fr({ja:C("layout",a),title:D("title",a),description:D("description",a),zd:Ha.rd("keywords",a),Dr:F(Er,"canvaDefaultFonts",a),nU:F(Er,"defaultFonts",a),O:G(Hr,"pages",a),doctype:Oa(Gp,"doctype",a),og:Ha.rd("palette",a)})}function Ir(a){this.height=a.height;this.width=a.width;this.Vc=a.Vc;this.elements=a.elements||[];this.type=a.type;this.ja=a.ja;this.vi=a.vi}f=Ir.prototype;f.o=function(){return this.height};f.l=function(){return this.width};f.ia=function(){return this.elements};
f.lc=function(){return this.type};f.ts=function(){return this.vi};function Hr(a){return new Ir({height:A("height",a),width:A("width",a),Vc:B("dpi",a),elements:G(Jr,"elements",a),type:D("type",a),ja:F($m,"layout",a),vi:F(Kr,"resizeContentBox",a)})}function Lr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Ha=a.Ha;this.rotation=a.rotation;this.link=a.link;this.Uc=a.Uc;this.index=a.index;this.Hd=a.Hd;this.Od=a.Od;this.origin=a.origin}f=Lr.prototype;
f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.l=function(){return this.width};f.OF=function(){return this.Ha};f.Ta=function(){return this.rotation};f.mn=function(){return this.link};f.K=function(){return this.index};f.Ef=function(){return this.origin};
function Jr(a){switch(a.type){case "image":return w("image"===a.type),new Mr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",a),filter:F(Or,"filter",a),ca:D("mediaId",a),da:B("mediaVersion",a),hb:Na("mediaApproved",a),Hb:Na("isBackground",a),oc:Na("isRecolorable",a),ae:Na("isCutout",
a),If:Na("isDark",a),backgroundColor:D("backgroundColor",a),Ba:F(Kr,"imageBox",a),Xc:G(Pr,"fillColors",a)});case "text":return w("text"===a.type),new Qr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",a),style:D("style",a),html:D("html",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",
a),color:D("color",a),bold:Na("bold",a),italic:Na("italic",a),list:Na("list",a),kl:F($m,"fontMedia",a),An:G($m,"htmlFontMedia",a),Ke:D("justification",a),ke:D("verticalAlignment",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),Bl:Ja.rd("lineLengths",a),padding:B("padding",a),textTransform:D("textTransform",a),border:F(Rr,"border",a),mG:G(Sr,"kerning",a),IH:Qa(tr,"reflowMode",a),Fh:F(Tr,"stylesOverriden",a)});case "svg":return w("svg"===a.type),new Ur({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",a),ca:D("mediaId",a),da:B("mediaVersion",a),hb:Na("mediaApproved",a),Hb:Na("isBackground",a),oc:Na("isRecolorable",a),ae:Na("isCutout",a),contents:G(Vr,"contents",a),scale:B("scale",a),Xc:G(Pr,"fillColors",a),Fi:F(Wr,"svgMetadata",a)});case "graphic":return w("graphic"===
a.type),new Xr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",a),ca:D("mediaId",a),da:B("mediaVersion",a),hb:Na("mediaApproved",a),scale:B("scale",a),Xc:G(Pr,"fillColors",a),Sg:F(Yr,"spritesheetMetadata",a)});case "grid":return w("grid"===a.type),new Zr({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",a),spacing:B("spacing",a),items:G($r,"items",a),contents:G(as,"contents",a),Xc:G(Pr,"fillColors",a)});case "group":return w("group"===a.type),new bs({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",
a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),SD:Ja.rd("childRange",a),xF:Qa(wr,"generatorType",a),zb:F(cs,"chart",a)});case "shape":return w("shape"===a.type),new ds({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Nr,"origin",a),ya:B("flipOrientation",
a),viewBox:F(Kr,"viewBox",a),pj:G(es,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function Mr(a){Lr.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,filter:a.filter,ca:a.ca,da:a.da,hb:a.hb,Hb:a.Hb,oc:a.oc,ae:a.ae,If:a.If,backgroundColor:a.backgroundColor,Ba:a.Ba,Xc:a.Xc});this.ya=a.ya;this.filter=a.filter;this.ca=a.ca;this.da=a.da;this.hb=a.hb;this.Hb=a.Hb;this.oc=a.oc;this.ae=a.ae;this.If=a.If;this.backgroundColor=a.backgroundColor;this.Ba=a.Ba;this.Xc=
a.Xc||[]}r(Mr,Lr);f=Mr.prototype;f.qM=function(){return this.filter};f.Qp=function(){return this.ca};f.qs=function(){return this.da};f.tM=function(){return this.If};f.lh=function(){return this.backgroundColor};f.ln=function(){return this.Ba};
function Qr(a){Lr.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,kl:a.kl,An:a.An,Ke:a.Ke,ke:a.ke,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,Bl:a.Bl,padding:a.padding,textTransform:a.textTransform,border:a.border,mG:a.mG,IH:a.IH,Fh:a.Fh});
this.ya=a.ya;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.kl=a.kl;this.An=a.An||[];this.Ke=a.Ke;this.ke=a.ke;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Bl=a.Bl||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.mG=a.mG||[];this.IH=a.IH;this.Fh=a.Fh}r(Qr,Lr);f=Qr.prototype;f.Lc=function(){return this.fontSize};
f.Mb=function(){return this.color};f.FF=function(){return this.list};f.pv=function(){return this.Ke};f.xs=function(){return this.ke};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};f.rs=function(){return this.padding};
function Ur(a){Lr.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,ca:a.ca,da:a.da,hb:a.hb,Hb:a.Hb,oc:a.oc,ae:a.ae,contents:a.contents,scale:a.scale,Xc:a.Xc,Fi:a.Fi});this.ya=a.ya;this.ca=a.ca;this.da=a.da;this.hb=a.hb;this.Hb=a.Hb;this.oc=a.oc;this.ae=a.ae;this.contents=a.contents||[];this.scale=a.scale;this.Xc=a.Xc||[];this.Fi=a.Fi}r(Ur,Lr);Ur.prototype.Qp=function(){return this.ca};
Ur.prototype.qs=function(){return this.da};function Xr(a){Lr.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,ca:a.ca,da:a.da,hb:a.hb,scale:a.scale,Xc:a.Xc,Sg:a.Sg});this.ya=a.ya;this.ca=a.ca;this.da=a.da;this.hb=a.hb;this.scale=a.scale;this.Xc=a.Xc||[];this.Sg=a.Sg}r(Xr,Lr);Xr.prototype.Qp=function(){return this.ca};Xr.prototype.qs=function(){return this.da};
Xr.prototype.vs=function(){return this.Sg};function Zr(a){Lr.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,spacing:a.spacing,items:a.items,contents:a.contents,Xc:a.Xc});this.ya=a.ya;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Xc=a.Xc||[]}r(Zr,Lr);Zr.prototype.pe=function(){return this.spacing};Zr.prototype.Cf=function(){return this.items};
function bs(a){Lr.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,SD:a.SD,xF:a.xF,zb:a.zb});this.SD=a.SD||[];this.xF=a.xF;this.zb=a.zb}r(bs,Lr);
function ds(a){Lr.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,viewBox:a.viewBox,pj:a.pj});this.ya=a.ya;this.viewBox=a.viewBox;this.pj=a.pj||[]}r(ds,Lr);function fs(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Ke=a.Ke;this.color=a.color}fs.prototype.Lc=function(){return this.fontSize};fs.prototype.pv=function(){return this.Ke};
fs.prototype.Mb=function(){return this.color};function Tr(a){return new fs({fontFamily:Na("fontFamily",a),fontSize:Na("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Ke:Na("justification",a),color:Na("color",a)})}function gs(a){this.type=a.type;this.index=a.index;this.origin=a.origin}gs.prototype.K=function(){return this.index};gs.prototype.Ef=function(){return this.origin};
function Vr(a){switch(a.type){case "text":return w("text"===a.type),new hs({index:A("index",a),origin:F(Nr,"origin",a),html:D("html",a),left:A("left",a),top:A("top",a),width:A("width",a),height:A("height",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),italic:Na("italic",a),bold:Na("bold",a),Ke:D("justification",a),list:Na("list",a),textTransform:D("textTransform",a),color:D("color",a),Bl:Ja.rd("lineLengths",a),letterSpacing:B("letterSpacing",a),lineHeight:A("lineHeight",a),kl:F($m,"fontMedia",
a),An:G($m,"htmlFontMedia",a),ko:B("preferredFontSize",a)});case "image":return as(a);default:throw Error("unknown case: "+a.type);}}
function hs(a){gs.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,Ke:a.Ke,list:a.list,textTransform:a.textTransform,color:a.color,Bl:a.Bl,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,kl:a.kl,An:a.An,ko:a.ko});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.Ke=a.Ke;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.Bl=a.Bl||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.kl=a.kl;this.An=a.An||[];this.ko=a.ko}r(hs,gs);f=hs.prototype;f.F=function(){return this.left};f.w=function(){return this.top};f.l=function(){return this.width};f.o=function(){return this.height};f.Lc=function(){return this.fontSize};f.pv=function(){return this.Ke};f.FF=function(){return this.list};
f.Mb=function(){return this.color};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};function is(a){gs.call(this,{type:"IMAGE",index:a.index,origin:a.origin,ca:a.ca,vG:a.vG,da:a.da,Ba:a.Ba,ya:a.ya,backgroundColor:a.backgroundColor,hb:a.hb,filter:a.filter});this.ca=a.ca;this.vG=a.vG;this.da=a.da;this.Ba=a.Ba;this.ya=a.ya;this.backgroundColor=a.backgroundColor;this.hb=a.hb;this.filter=a.filter}r(is,gs);f=is.prototype;f.Qp=function(){return this.ca};f.qs=function(){return this.da};
f.ln=function(){return this.Ba};f.lh=function(){return this.backgroundColor};f.qM=function(){return this.filter};function as(a){w("image"===a.type);return new is({index:A("index",a),origin:F(Nr,"origin",a),ca:D("mediaId",a),vG:D("localMediaId",a),da:B("mediaVersion",a),Ba:F(Kr,"imageBox",a),ya:A("flipOrientation",a),backgroundColor:D("backgroundColor",a),hb:Na("mediaApproved",a),filter:F(Or,"filter",a)})}function js(a){this.width=a.width}js.prototype.l=function(){return this.width};
function Rr(a){return new js({width:A("width",a)})}function ks(a){this.WX=a.WX;this.fu=a.fu}function Sr(a){return new ks({WX:C("pair",a),fu:A("adjustment",a)})}function ls(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}ls.prototype.lc=function(){return this.type};ls.prototype.l=function(){return this.width};ls.prototype.o=function(){return this.height};ls.prototype.getChildren=function(){return this.children};
function $r(a){return new ls({type:Qa(ur,"type",a),width:B("width",a),height:B("height",a),children:G($r,"children",a)})}function ms(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}ms.prototype.w=function(){return this.top};ms.prototype.F=function(){return this.left};ms.prototype.l=function(){return this.width};ms.prototype.o=function(){return this.height};function Kr(a){return new ms({top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a)})}
function ns(a){this.index=a.index;this.color=a.color}ns.prototype.K=function(){return this.index};ns.prototype.Mb=function(){return this.color};function Pr(a){return new ns({index:A("index",a),color:C("color",a)})}function os(a){this.viewBox=a.viewBox;this.m_=a.m_||[];this.gY=a.gY||[];this.IT=a.IT;this.q_=a.q_}function Wr(a){return new os({viewBox:Oa(Kr,"viewBox",a),m_:G(Kr,"textHolderBoxes",a),gY:G(Kr,"photoHolderBoxes",a),IT:F(Kr,"centerBox",a),q_:Na("tile",a)})}
function ps(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.sf=a.sf;this.vignette=a.vignette;this.Zf=a.Zf;this.Hh=a.Hh;this.name=a.name}ps.prototype.iv=function(){return this.brightness};ps.prototype.AV=function(){return this.saturation};ps.prototype.getName=function(){return this.name};
function Or(a){return new ps({blur:B("blur",a),brightness:B("brightness",a),contrast:B("contrast",a),saturation:B("saturation",a),sf:B("tint",a),vignette:B("vignette",a),Zf:B("xpro",a),Hh:B("tintAmount",a),name:D("name",a)})}function qs(a){this.fill=a.fill;this.jl=a.jl;this.d=a.d}function es(a){return new qs({fill:C("fill",a),jl:Qa(vr,"fillRule",a),d:C("d",a)})}function rs(a){this.name=a.name;this.cells=a.cells||[]}rs.prototype.getName=function(){return this.name};
function ss(a){return new rs({name:D("name",a),cells:Ha.rd("cells",a)})}function ts(a){this.ta=a.ta||[]}function us(a){return new ts({ta:G(ss,"columns",a)})}function vs(a){this.data=a.data;this.yW=a.yW;this.Zc=a.Zc;this.JA=a.JA;this.WT=a.WT;this.Cs=a.Cs;this.og=a.og;this.Xi=a.Xi;this.jY=a.jY;this.nT=a.nT;this.NW=a.NW;this.CU=a.CU}vs.prototype.getData=function(){return this.data};vs.prototype.ls=function(){return this.Zc};vs.prototype.uM=function(){return this.JA};vs.prototype.hi=function(){return this.og};
function cs(a){return new vs({data:Oa(us,"data",a),yW:B("labelColumn",a),Zc:Oa(Cr,"labelTextStyle",a),JA:F($m,"labelFontMedia",a),WT:Pa(zr,"coloringType",a),Cs:F(ws,"interpolation",a),og:F(xs,"palette",a),Xi:Pa(xr,"chartType",a),jY:F(ys,"pie",a),nT:F(zs,"bar",a),NW:F(As,"line",a),CU:F(Bs,"donut",a)})}function Cs(a){this.spacing=a.spacing;this.padding=a.padding}Cs.prototype.pe=function(){return this.spacing};Cs.prototype.rs=function(){return this.padding};
function zs(a){return new Cs({spacing:B("spacing",a),padding:B("padding",a)})}function Ds(a){this.spacing=a.spacing;this.padding=a.padding}Ds.prototype.pe=function(){return this.spacing};Ds.prototype.rs=function(){return this.padding};function ys(a){return new Ds({spacing:B("spacing",a),padding:B("padding",a)})}function Es(a){this.spacing=a.spacing;this.padding=a.padding}Es.prototype.pe=function(){return this.spacing};Es.prototype.rs=function(){return this.padding};
function As(a){return new Es({spacing:B("spacing",a),padding:B("padding",a)})}function Fs(a){this.spacing=a.spacing;this.padding=a.padding}Fs.prototype.pe=function(){return this.spacing};Fs.prototype.rs=function(){return this.padding};function Bs(a){return new Fs({spacing:B("spacing",a),padding:B("padding",a)})}function Gs(a){this.VT=a.VT;this.from=a.from;this.to=a.to}Gs.prototype.kn=function(){return this.from};
function ws(a){return new Gs({VT:Pa(Ar,"colorSpace",a),from:C("from",a),to:C("to",a)})}function Hs(a){this.zc=a.zc||[]}Hs.prototype.gg=function(){return this.zc};function xs(a){return new Hs({zc:Ha.rd("colors",a)})}function Is(a){this.type=a.type}
function Nr(a){switch(a.type){case "CANVA":return w("CANVA"===a.type),new Js;case "FACEBOOK":return w("FACEBOOK"===a.type),new Ks;case "LAYOUT":return w("LAYOUT"===a.type),new Ls({id:C("id",a),version:A("version",a)});case "DOCUMENT":return w("DOCUMENT"===a.type),new Ms({id:C("id",a),version:A("version",a)});default:throw Error("unknown case: "+a.type);}}function Js(){this.type="CANVA"}r(Js,Is);function Ks(){this.type="FACEBOOK"}r(Ks,Is);
function Ls(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}r(Ls,Is);Ls.prototype.u=function(){return this.id};Ls.prototype.getVersion=function(){return this.version};function Ms(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}r(Ms,Is);Ms.prototype.u=function(){return this.id};Ms.prototype.getVersion=function(){return this.version};function Ns(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}var $q="NONE",dr="VIEWER",fr="REMIXER",hr="EDITOR",br="OWNER";
function Os(a,b){switch(b){case $q:return"NONE";case dr:return"VIEWER";case fr:return"REMIXER";case hr:return"EDITOR";case br:return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Ps(a,b){switch(b){case "NONE":return $q;case "VIEWER":return dr;case "REMIXER":return fr;case "EDITOR":return hr;case "OWNER":return br;default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}var pr="MANUAL";function Qs(a,b){switch(b){case pr:return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Rs(a,b){switch(b){case "MANUAL":return pr;case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}function Ss(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Ts(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Us(a,b){switch(b){case "ANDROID_1":return"android-1";case "ANDROID_2":return"android-2";case "IOS_1":return"ios-1";case "IOS_1_1":return"ios-1.1";case "IOS_2":return"ios-2";case "WEB_1":return"web-1";case "WEB_2":return"web-2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function sh(a,b){switch(b){case "android-1":return"ANDROID_1";case "android-2":return"ANDROID_2";case "ios-1":return"IOS_1";case "ios-1.1":return"IOS_1_1";case "ios-2":return"IOS_2";case "web-1":return"WEB_1";case "web-2":return"WEB_2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function Vs(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionResult for property "'+a+'", found: '+JSON.stringify(b));}}var nr="SET";
function Ws(a,b){switch(b){case nr:return"SET";case "DOWNGRADE":return"DOWNGRADE";case "UPGRADE":return"UPGRADE";default:throw new TypeError('expected RoleChangeOp for property "'+a+'", found: '+JSON.stringify(b));}}function Xs(a,b){switch(b){case "LOW":return"LOW";case "MEDIUM":return"MEDIUM";default:throw new TypeError('expected ImagesetsGenerationPriority for property "'+a+'", found: '+JSON.stringify(b));}}function Ys(a){this.rules=a.rules||[];this.version=a.version;this.Zn=a.Zn}
Ys.prototype.getVersion=function(){return this.version};function Zs(a){return new Ys({rules:G($s,"rules",a),version:A("version",a),Zn:Oa(at,"owner",a)})}function bt(a){this.type=a.type;this.qd=a.qd;this.Pc=a.Pc;this.origin=a.origin;this.timestamp=a.timestamp}bt.prototype.lc=function(){return this.type};bt.prototype.us=function(){return this.Pc};bt.prototype.Ef=function(){return this.origin};bt.prototype.un=function(){return this.timestamp};
function $s(a){return new bt({type:Pa(Ns,"type",a),qd:F(at,"principal",a),Pc:Pa(Ps,"role",a),origin:F(ct,"origin",a),timestamp:B("timestamp",a)})}function lr(a){this.D=a.D;this.group=a.group;this.user=a.user}lr.prototype.ka=function(){return this.D};lr.prototype.rM=function(){return this.group};lr.prototype.La=function(){return this.user};function dt(a){return{brand:ib("brand",a.D),group:I("group",a.group),user:I("user",a.user)}}
function at(a){return new lr({D:C("brand",a),group:D("group",a),user:D("user",a)})}function or(a){this.type=a.type;this.id=a.id}or.prototype.lc=function(){return this.type};or.prototype.u=function(){return this.id};function et(a){return{type:lb(Qs,"type",a.type),id:I("id",a.id)}}function ct(a){return new or({type:Pa(Rs,"type",a),id:D("id",a)})}function ft(a){this.default=a.default;this.view=a.view;this.SY=a.SY;this.lL=a.lL}ft.prototype.tV=function(){return this.default};ft.prototype.vl=function(){return this.view};
ft.prototype.vV=function(){return this.lL};function gt(a){return new ft({default:D("default",a),view:D("view",a),SY:D("remix",a),lL:D("edit",a)})}function ht(a){this.type=a.type}function Op(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:ib("id",a.id),version:db("version",a.version)};case "INLINE":return{type:"INLINE",width:db("width",a.width),height:db("height",a.height),units:lb(Ss,"units",a.units)};default:throw Error();}}
function Gp(a){switch(a.type){case "REFERENCE":return w("REFERENCE"===a.type),new it({id:C("id",a),version:A("version",a)});case "INLINE":return w("INLINE"===a.type),new jt({width:A("width",a),height:A("height",a),units:Pa(Ts,"units",a)});default:throw Error("unknown case: "+a.type);}}function it(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}r(it,ht);it.prototype.u=function(){return this.id};it.prototype.getVersion=function(){return this.version};
function jt(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}r(jt,ht);jt.prototype.l=function(){return this.width};jt.prototype.o=function(){return this.height};jt.prototype.Wj=function(){return this.units};function kt(a){this.id=a.id;this.version=a.version}kt.prototype.u=function(){return this.id};kt.prototype.getVersion=function(){return this.version};function lt(a){return new kt({id:C("id",a),version:A("version",a)})}
function mt(a){this.id=a.id;this.lk=a.lk;this.xf=a.xf;this.origin=a.origin;this.Zm=a.Zm;this.tags=a.tags||[];this.Ae=a.Ae;this.Kj=a.Kj;this.version=a.version;this.timestamp=a.timestamp;this.SC=a.SC;this.Ty=a.Ty||new Map}f=mt.prototype;f.u=function(){return this.id};f.Ef=function(){return this.origin};f.kv=function(){return this.Zm};f.Xp=function(){return this.tags};f.Rj=function(){return this.Ae};f.Ie=function(){return this.Kj};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};
function nt(a){return new mt({id:C("id",a),lk:C("owningBrand",a),xf:A("creationDate",a),origin:F(lt,"origin",a),Zm:F(gt,"extensions",a),tags:Ha.rd("tags",a),Ae:F(Zs,"acl",a),Kj:Oa(ot,"draft",a),version:A("version",a),timestamp:B("timestamp",a),SC:F(pt,"trashed",a),Ty:Ta(Ua,Wa,"contributors",a)})}function qt(a){this.timestamp=a.timestamp}qt.prototype.un=function(){return this.timestamp};function pt(a){return new qt({timestamp:A("timestamp",a)})}
function rt(a){this.content=a.content;this.Ch=a.Ch;this.version=a.version;this.timestamp=a.timestamp;this.pa=a.pa;this.od=a.od;this.CN=a.CN||[];this.tA=a.tA;this.Ti=a.Ti}f=rt.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.getSession=function(){return this.pa};f.jc=function(){return this.od};f.EF=function(){return this.CN};f.iM=function(){return this.Ti};
function ot(a){return new rt({content:Oa(st,"content",a),Ch:C("schema",a),version:A("version",a),timestamp:A("timestamp",a),pa:B("session",a),od:A("pageCount",a),CN:G($m,"layouts",a),tA:Oa(tt,"imageSets",a),Ti:D("associatedMedia",a)})}function ut(a){this.title=a.title;this.description=a.description;this.zd=a.zd||[];this.doctype=a.doctype}ut.prototype.qb=function(){return this.title};ut.prototype.He=function(){return this.description};ut.prototype.Tj=function(){return this.zd};
function st(a){return new ut({title:D("title",a),description:D("description",a),zd:Ha.rd("keywords",a),doctype:Oa(Gp,"doctype",a)})}function vt(a){this.vd=a.vd;this.Bw=a.Bw}vt.prototype.re=function(){return this.vd};function tt(a){return new vt({vd:Oa(wt,"thumbnail",a),Bw:F(wt,"preview",a)})}function xt(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}xt.prototype.o=function(){return this.height};xt.prototype.l=function(){return this.width};
xt.prototype.getVersion=function(){return this.version};xt.prototype.sM=function(){return this.images};function wt(a){return new xt({height:A("height",a),width:A("width",a),version:A("version",a),images:G(yt,"images",a)})}function zt(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}zt.prototype.getKey=function(){return this.key};zt.prototype.R=function(){return this.page};zt.prototype.oa=function(){return this.url};
function yt(a){return new zt({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a)})}function At(a){this.width=a.width;this.height=a.height;this.url=a.url}At.prototype.l=function(){return this.width};At.prototype.o=function(){return this.height};At.prototype.oa=function(){return this.url};function Bt(a){return new At({width:B("width",a),height:B("height",a),url:C("url",a)})}function Ct(a){this.id=a.id;this.version=a.version;this.U_=a.U_}Ct.prototype.u=function(){return this.id};
Ct.prototype.getVersion=function(){return this.version};function Dt(a){return new Ct({id:C("id",a),version:A("version",a),U_:D("usedCharacters",a)})}function Et(a){this.id=a.id;this.title=a.title;this.UT=a.UT||new Map}Et.prototype.u=function(){return this.id};Et.prototype.qb=function(){return this.title};function nq(a){return{id:ib("id",a.id),title:I("title",a.title),colorReplacements:ob(pb,tb,"colorReplacements",a.UT)}}
function Ft(a){this.ag=a.ag;this.version=a.version;this.pa=a.pa;this.Ye=a.Ye;this.c1=a.c1||[];this.vA=a.vA;this.q4=a.q4;this.L9=a.L9||[]}Ft.prototype.getVersion=function(){return this.version};Ft.prototype.getSession=function(){return this.pa};Ft.prototype.getExtension=function(){return this.Ye};function Gt(a){this.type=a.type;this.id=a.id;this.version=a.version}Gt.prototype.u=function(){return this.id};Gt.prototype.getVersion=function(){return this.version};
function Ht(a){switch(a.type){case "RASTER":return w("RASTER"===a.type),new It({id:C("id",a),version:A("version",a),files:G(Jt,"files",a)});case "VECTOR":return w("VECTOR"===a.type),new Kt({id:C("id",a),version:A("version",a),files:G(Jt,"files",a),Sg:F(Yr,"spritesheetMetadata",a)});case "DESIGN":return w("DESIGN"===a.type),new Lt({id:C("id",a),version:A("version",a),files:G(Jt,"files",a)});case "FONT":return w("FONT"===a.type),new Mt({id:C("id",a),version:A("version",a),files:G(Nt,"files",a)});case "ELEMENT_GROUP":return w("ELEMENT_GROUP"===
a.type),new Ot({id:C("id",a),version:A("version",a),files:G(Jt,"files",a)});case "UNKNOWN":return w("UNKNOWN"===a.type),new Pt({id:C("id",a),version:A("version",a),files:G(Qt,"files",a)});default:throw Error("unknown case: "+a.type);}}function It(a){Gt.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(It,Gt);It.prototype.ic=function(){return this.files};
function Kt(a){Gt.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,Sg:a.Sg});this.files=a.files||[];this.Sg=a.Sg}r(Kt,Gt);Kt.prototype.ic=function(){return this.files};Kt.prototype.vs=function(){return this.Sg};function Lt(a){Gt.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Lt,Gt);Lt.prototype.ic=function(){return this.files};function Mt(a){Gt.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}
r(Mt,Gt);Mt.prototype.ic=function(){return this.files};function Ot(a){Gt.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Ot,Gt);Ot.prototype.ic=function(){return this.files};function Pt(a){Gt.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Pt,Gt);Pt.prototype.ic=function(){return this.files};
function Rt(a){this.url=a.url;this.R_=a.R_;this.width=a.width;this.height=a.height;this.$x=a.$x;this.SZ=a.SZ;this.ti=a.ti}Rt.prototype.oa=function(){return this.url};Rt.prototype.l=function(){return this.width};Rt.prototype.o=function(){return this.height};Rt.prototype.KF=function(){return this.ti};function Jt(a){return new Rt({url:C("url",a),R_:Ma("urlDenied",a),width:A("width",a),height:A("height",a),$x:Ma("watermarked",a),SZ:Ma("spritesheet",a),ti:Qa(St,"quality",a)})}
function Tt(a){this.url=a.url}Tt.prototype.oa=function(){return this.url};function Nt(a){return new Tt({url:C("url",a)})}function Ut(a){this.url=a.url;this.width=a.width;this.height=a.height;this.$x=a.$x;this.ti=a.ti}Ut.prototype.oa=function(){return this.url};Ut.prototype.l=function(){return this.width};Ut.prototype.o=function(){return this.height};Ut.prototype.KF=function(){return this.ti};
function Qt(a){return new Ut({url:C("url",a),width:B("width",a),height:B("height",a),$x:Na("watermarked",a),ti:Qa(St,"quality",a)})}function Vt(a){this.Ae=a.Ae}Vt.prototype.Rj=function(){return this.Ae};function xq(a){return new Vt({Ae:Oa(Zs,"acl",a)})}function Wt(a){this.wl=a.wl||[];this.qd=a.qd;this.uH=a.uH||[];this.HL=a.HL;this.DY=a.DY;this.kS=a.kS||[];this.ja=a.ja;this.Zr=a.Zr;this.Y=a.Y;this.limit=a.limit}Wt.prototype.Nb=function(){return this.Y};Wt.prototype.$d=function(){return this.limit};
function Xt(a){this.AU=a.AU||[];this.Y=a.Y}Xt.prototype.Nb=function(){return this.Y};function uq(a){return new Xt({AU:G(nt,"documents",a),Y:D("continuation",a)})}function Yt(a){this.id=a.id;this.u_=a.u_;this.Pw=a.Pw||[];this.Y=a.Y}Yt.prototype.u=function(){return this.id};Yt.prototype.aA=function(){return this.Pw};Yt.prototype.Nb=function(){return this.Y};function Bq(a){return new Yt({id:C("id",a),u_:A("totalHits",a),Pw:G(Zt,"results",a),Y:D("continuation",a)})}
function $t(a){this.Uq=a.Uq;this.Nq=a.Nq;this.id=a.id;this.title=a.title;this.description=a.description;this.lk=a.lk;this.xf=a.xf;this.SC=a.SC;this.vd=a.vd;this.Mu=a.Mu}f=$t.prototype;f.CM=function(){return this.Uq};f.BM=function(){return this.Nq};f.u=function(){return this.id};f.qb=function(){return this.title};f.He=function(){return this.description};f.re=function(){return this.vd};
function Zt(a){return new $t({Uq:C("searchId",a),Nq:A("rank",a),id:C("id",a),title:C("title",a),description:D("description",a),lk:C("owningBrand",a),xf:A("creationDate",a),SC:Ma("trashed",a),vd:Oa(Bt,"thumbnail",a),Mu:C("designTypeDisplayName",a)})}function au(a){this.document=a.document;this.Ye=a.Ye;this.wE=a.wE;this.QW=a.QW;this.rP=a.rP||[]}au.prototype.getDocument=function(){return this.document};au.prototype.getExtension=function(){return this.Ye};
function zq(a){return{document:ib("document",a.document),extension:I("extension",a.Ye),defaultRoleChange:jb(bu,"defaultRoleChange",a.wE),linkRoleChange:jb(bu,"linkRoleChange",a.QW),principalRoleChanges:kb(cu,"principalRoleChanges",a.rP)}}function du(a){this.Ae=a.Ae}du.prototype.Rj=function(){return this.Ae};function Aq(a){return new du({Ae:Oa(Zs,"acl",a)})}function mr(a){this.qB=a.qB;this.Pc=a.Pc}mr.prototype.us=function(){return this.Pc};
function bu(a){return{op:lb(Ws,"op",a.qB),role:lb(Os,"role",a.Pc)}}function kr(a){this.qd=a.qd;this.origin=a.origin;this.gQ=a.gQ;this.timestamp=a.timestamp}kr.prototype.Ef=function(){return this.origin};kr.prototype.un=function(){return this.timestamp};function cu(a){return{principal:cb.required("principal",dt(a.qd)),origin:cb.required("origin",et(a.origin)),roleChange:cb.required("roleChange",bu(a.gQ)),timestamp:eb("timestamp",a.timestamp)}}
function eu(a){this.ag=a.ag;this.version=a.version;this.et=a.et;this.force=a.force}eu.prototype.getVersion=function(){return this.version};function Eq(a){return{doc:ib("doc",a.ag),version:db("version",a.version),priority:lb(Xs,"priority",a.et),force:hb("force",a.force)}}function fu(){}function Fq(){return new fu};function gu(a){this.id=a.id;this.lk=a.lk;this.xf=a.xf;this.origin=a.origin;this.Zm=a.Zm;this.tags=a.tags||[];this.Ae=a.Ae;this.Kj=a.Kj;this.version=a.version;this.timestamp=a.timestamp;this.Ty=a.Ty||new Map}f=gu.prototype;f.u=function(){return this.id};f.Ef=function(){return this.origin};f.kv=function(){return this.Zm};f.Xp=function(){return this.tags};f.Rj=function(){return this.Ae};f.Ie=function(){return this.Kj};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};
function hu(a){return new gu({id:C("id",a),lk:C("owningBrand",a),xf:A("creationDate",a),origin:F(lt,"origin",a),Zm:Oa(gt,"extensions",a),tags:Ha.rd("tags",a),Ae:F(Zs,"acl",a),Kj:Oa(iu,"draft",a),version:A("version",a),timestamp:B("timestamp",a),Ty:Ta(Ua,Wa,"contributors",a)})}function ju(a){this.Ch=a.Ch;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.pa=a.pa;this.od=a.od;this.media=a.media||[];this.tA=a.tA;this.Ti=a.Ti}f=ju.prototype;f.getContent=function(){return this.content};
f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.getSession=function(){return this.pa};f.jc=function(){return this.od};f.Ob=function(){return this.media};f.iM=function(){return this.Ti};function iu(a){return new ju({Ch:C("schema",a),content:Oa(Gr,"content",a),version:A("version",a),timestamp:A("timestamp",a),pa:B("session",a),od:A("pageCount",a),media:G($m,"media",a),tA:Oa(tt,"imageSets",a),Ti:D("associatedMedia",a)})}
function ku(a){this.document=a.document;this.pa=a.pa}ku.prototype.getDocument=function(){return this.document};ku.prototype.getSession=function(){return this.pa};function pq(a){return new ku({document:Oa(hu,"document",a),pa:A("session",a)})}function lu(a){this.document=a.document;this.ef=a.ef||[];this.fonts=a.fonts||[];this.pa=a.pa;this.QS=a.QS;this.bU=a.bU;this.mK=a.mK}lu.prototype.getDocument=function(){return this.document};lu.prototype.getSession=function(){return this.pa};
function rq(a){return new lu({document:Oa(hu,"document",a),ef:G(Ht,"mediaMap",a),fonts:G(Dt,"fonts",a),pa:B("session",a),QS:Pa(Ps,"accessRole",a),bU:D("conversionLoss",a),mK:Qa(Vs,"conversionResult",a)})};function mu(a,b,c,d,e){this.Ra=a;this.N=b;this.context=c;this.hr=null;this.j_=d;this.jq=!1;this.gA=this.eY=this.cu=this.uw=this.vm=null;this.j=e}f=mu.prototype;f.start=function(){null!=this.context.id&&(nu(this,6666),ou(this))};function nu(a,b){b!=a.cu&&(null!=a.vm&&window.clearInterval(a.vm),a.cu=b,a.vm=null!=b?window.setInterval(function(){a.save()},b):null)}function ou(a){12E5!=a.eY&&(null!=a.uw&&window.clearInterval(a.uw),a.eY=12E5,a.uw=window.setInterval(function(){a.sync()},12E5))}
f.save=function(){this.context.jj()&&this.sync()};f.sync=function(){function a(a){var e=b.cu;a=a.throttle;if(b.hr==c){b.hr=null;var g=e;!0===a?g=Math.min(2*b.cu,6E5):!1===a&&(g=Math.max(b.cu-1E3,6666));g!=b.cu&&nu(b,g)}return e}if(this.jq&&null!=this.context.id&&!this.hr){var b=this,c=new pu(b.N,b.context,b.j);b.hr=c;b.hr.sync().then(a).then(function(a){b.j_.update(a)})}};
f.close=function(){this.jq=!1;this.hr&&(this.hr.stop(),this.hr=null);this.vm&&(window.clearInterval(this.vm),this.vm=null);this.uw&&(window.clearInterval(this.uw),this.uw=null)};f.JQ=function(a){this.context.JQ(a)};f.post=function(a,b){var c=this.context,d=null;3!=c.pf&&(c.Qk!=a?(c.pf=3,c.state=null):(c.pf=0,c.state=b,c.Qk++,d=c.Qk));qu(c);a=d;null!=a&&(this.gA=b);return a};f.aw=function(a){this.gA||(this.gA=a)};function ru(a,b){return!(!a.gA||_.isEqual(a.gA,b))}
f.ft=function(a){var b=this.context.u();if(this.context.jj())return P.reject(new jq);if(!this.context.bA())return P.reject(new iq);if(!b)return P.reject(new kq);switch(a){case "BRAND":return this.Ra.LJ(b);case "GLOBAL":return this.Ra.ft(b)}return P.reject(new hq)};f.Wx=function(a){var b=this.context.u();if(!b)return P.reject(new kq);switch(a){case "BRAND":return this.Ra.MJ(b);case "GLOBAL":return this.Ra.Wx(b)}return P.reject(new hq)};
f.KC=function(){var a=this.context.u();return a?this.Ra.KC(a):P.reject(Error("synced context has no id"))};f.UC=function(){var a=this.context.u();return a?this.Ra.UC(a):P.reject(Error("synced context has no id"))};f.hc=function(){return this.context.u()};function su(a){return a.context.kv().tV()}f.timestamp=function(){return this.context.un()};f.version=function(){return this.context.Qk};f.fe=function(){return this.context.fe};f.jj=function(){return this.context.jj()};f.Nv=function(){return this.context.Nv()};
f.state=function(){return this.context.bA()};function tu(a,b,c,d,e,g,h,k,l,m){this.id=a;this.Qk=c;this.wu=d;this.fe=e;this.eC=g;this.state=k;this.DW=null;this.timestamp=h;this.Zm=l;this.mK=m;this.AW=this.pf=b;this.wI=null}f=tu.prototype;f.u=function(){return this.id};f.kv=function(){return this.Zm};f.un=function(){return this.timestamp};f.jj=function(){return 0==this.pf||1==this.pf};f.Nv=function(){return 3!=this.pf};f.bA=function(){return this.state};
f.JQ=function(a){if(this.wI)throw Error("Cannot overwrite DocumentContext sync listener");this.wI=a};function uu(a,b,c){b==a.Qk&&c==a.fe&&0==a.pf&&(a.pf=1,qu(a))}function vu(a,b,c){3!=a.pf&&a.fe==b&&(b=c.document.draft,b.version<=a.fe||(a.timestamp=b.timestamp,a.fe=b.version,a.eC=b.session,a.eC!=a.wu&&(a.Qk++,a.pf=3,a.state=null),qu(a)))}
function wu(a,b,c,d,e){3!=a.pf&&(e=e.document.draft,a.fe==d&&(a.DW=b,a.Qk==c&&(a.pf=2),a.timestamp=e.timestamp,a.fe=e.version,a.eC=e.session,a.wu=e.session,qu(a)))}function xu(a,b,c,d){3==a.pf||a.fe>c||(a.timestamp=d.timestamp,a.fe=d.version,a.eC=d.session,a.eC!=a.wu?(a.Qk++,a.pf=3,a.state=null):a.Qk==b&&(a.pf=2),qu(a))}function qu(a){a.pf!=a.AW&&null!=a.id&&(a.AW=a.pf,a.wI&&a.wI(a.pf))}function pu(a,b,c){this.N=a;this.context=b;this.jr=this.request=this.callback=null;this.j=c}
function yu(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}pu.prototype.stop=function(){this.callback=null;this.request&&(this.request.cancel(),this.request=null);null!=this.jr&&(window.clearTimeout(this.jr),this.jr=null)};pu.prototype.sync=function(){if(this.callback)throw Error("already syncing");return new P(function(a){this.callback=a;zu(this,yu(null),1)}.bind(this))};pu.prototype.finish=function(a,b){var c=this.callback;c&&(this.callback=null,c({success:a,throttle:b}))};
function Au(a,b){var c=null,d=!1,e=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(e=h[c])}else l||1!=g.length||"title"!=g[0]||(e={title:b.title},d=!0)}}return{T$:d,Ys:c,L8:e}}
function zu(a,b,c){function d(d,g){window.clearTimeout(a.jr);a.request=null;a.jr=null;var h=g&&null!=g.throttle?!!g.throttle:null,m=!1;p&&200==d?wu(e,n,k,l,g):p&&409==d?xu(e,k,l,g):p||200!=d?0!=d&&(p&&403==d&&g.session&&(e.wu=g.session),m=!0):vu(e,l,g);m?a.jr=window.setTimeout(function(){zu(a,yu(b),c+1)},b):a.finish(200==d,h,d,c)}var e=a.context,g=e.u(),h=e.wu,k=e.Qk,l=e.fe,m,n=e.bA(),p=e.jj();if(p&&n)m=Au(e.DW,n),g="/documents"+(null==g?"":"/"+encodeURIComponent(g)+"/content"),m.T$?g+="/title":null!=
m.Ys&&(g+="/pages/"+m.Ys),g+="?version\x3d"+encodeURIComponent(l.toString())+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))+"";else{if(null==g)return;g="/documents/"+encodeURIComponent(g)+"?includePages\x3dfalse"+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))}a.jr=window.setTimeout(function(){var d=a.callback;a.callback=null;a.request&&a.request.cancel();a.request=null;a.jr=null;a.callback=d;zu(a,yu(b),c+1)},b);p?(a.request=a.N.post(g,m.L8,d),uu(e,k,l)):a.request=
a.N.get(g,d)};function Bu(){this.N=Ib};function Cu(a){this.ug=a.ug;this.p_=a.p_;this.o_=a.o_;this.KU=a.KU;this.displayName=a.displayName;this.LK=a.LK;this.MZ=a.MZ;this.xp=a.xp;this.Rm=a.Rm;this.HT=a.HT}Cu.prototype.tn=function(){return this.ug};Cu.prototype.Jb=function(){return this.displayName};
function Du(a){return new Cu({ug:C("thumbnailUrl",a),p_:A("thumbnailWidth",a),o_:A("thumbnailHeight",a),KU:C("editorPath",a),displayName:C("displayName",a),LK:C("dimensionsLabel",a),MZ:Ma("showNewBadge",a),xp:D("doctypeId",a),Rm:D("doctypeName",a),HT:D("categoryId",a)})}function Eu(a){this.QF=a.QF;this.options=a.options||[]}Eu.prototype.Uj=function(){return this.options};function Fu(a){return new Eu({QF:C("groupingDisplayName",a),options:G(Du,"options",a)})}function Gu(a){this.ys=a.ys||[]}
function Hu(a){return new Gu({ys:G(Fu,"groups",a)})};function Iu(a){this.N=a;this.TK="/doctypes"}Iu.prototype.lb=function(a){a=this.TK+"/"+encodeURIComponent(a.id)+"?"+a.kr();return uj(this.N,a).get(0).then(La).then(Ju)};Iu.prototype.createDocumentType=function(a){return sj(this.N,this.TK,Ku(a)).get(0).then(La).then(Lu)};
function Mu(a,b){b=[a.TK+"?",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.visible?"\x26visible\x3d"+encodeURIComponent(String(b.visible)):"",null!=b.bq?"\x26includeAllDescriptions\x3d"+encodeURIComponent(String(b.bq)):"",0<b.wl.length?"\x26ids\x3d"+encodeURIComponent(b.wl.join(",")):"",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):""].join("").replace("?\x26","?");return uj(a.N,b).get(0).then(La).then(Nu)};function Ou(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}
function Pu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}function Qu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Ru(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Su(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function Tu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}function Uu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Vu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function vp(a){this.id=a.id;this.name=a.name;this.uj=a.uj;this.category=a.category;this.visible=a.visible;this.pC=a.pC;this.Ps=a.Ps;this.iw=a.iw||[];this.vd=a.vd;this.fz=a.fz||new Map;this.tb=a.tb;this.uE=a.uE;this.Zs=a.Zs;this.aq=a.aq;this.version=a.version;this.LN=a.LN||[];this.QO=a.QO||[];this.DP=a.DP||[]}f=vp.prototype;f.u=function(){return this.id};f.getName=function(){return this.name};f.re=function(){return this.vd};f.getVersion=function(){return this.version};
function Wu(a){return{id:I("id",a.id),name:I("name",a.name),sentenceName:I("sentenceName",a.uj),category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.pC),multiPage:hb("multiPage",a.Ps),newPageElements:kb(Xu,"newPageElements",a.iw),thumbnail:jb(Yu,"thumbnail",a.vd),descriptions:nb(Zu,"descriptions",a.fz),dimensions:jb($u,"dimensions",a.tb),defaultExportSettings:mb(Uu,"defaultExportSettings",a.uE),pdfExportSettings:jb(av,"pdfExportSettings",a.Zs),imageExportSettings:jb(bv,
"imageExportSettings",a.aq),version:eb("version",a.version),localizedDescriptions:kb(cv,"localizedDescriptions",a.LN),pageFormats:kb(dv,"pageFormats",a.QO),publishHints:kb(ev,"publishHints",a.DP)}}
function fv(a){return new vp({id:D("id",a),name:D("name",a),uj:D("sentenceName",a),category:D("category",a),visible:Na("visible",a),pC:Na("showAsNew",a),Ps:Na("multiPage",a),iw:G(gv,"newPageElements",a),vd:F(hv,"thumbnail",a),fz:Sa(iv,"descriptions",a),tb:F(jv,"dimensions",a),uE:Qa(Vu,"defaultExportSettings",a),Zs:F(kv,"pdfExportSettings",a),aq:F(lv,"imageExportSettings",a),version:B("version",a),LN:G(mv,"localizedDescriptions",a),QO:G(nv,"pageFormats",a),DP:G(ov,"publishHints",a)})}
function pv(a,b,c){return new vp({id:"custom",name:(new qv({width:a,height:b,units:c})).print(),uj:"design",tb:new qv({width:a,height:b,units:c}),visible:!1,order:0,Ps:!0,pC:!1,custom:new qv({width:a,height:b,units:c}),aq:new rv({Vc:96,Rba:"JPG",np:null,hca:null,gca:null}),Zs:new sv({Vc:300})})}f.Jg=function(){var a=this.aq,b=Rg(this.tb);return{elements:this.iw,width:b.l(),height:b.o(),dpi:a&&a.Vc}};
function tv(a){a=a.iw;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}).map(Xu):[]}function uv(a){a=tv(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function vv(a){a=tv(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function wv(a){var b=tv(a),b=_.max(b.map(function(a){return a.top+a.height})),c=vv(a);a=a.tb?Rg(a.tb).o():0;return Math.max(a,b)-c}
function xv(a){var b=tv(a),b=_.max(b.map(function(a){return a.left+a.width})),c=uv(a);a=a.tb?Rg(a.tb).l():0;return Math.max(a,b)-c}function yv(a){this.type=a.type;this.tb=a.tb;this.YL=a.YL||[];this.hO=a.hO;this.SJ=a.SJ}yv.prototype.lc=function(){return this.type};function dv(a){return{type:I("type",a.type),dimensions:cb.required("dimensions",$u(a.tb)),fixedElements:kb(Xu,"fixedElements",a.YL),nameTemplate:I("nameTemplate",a.hO),cardinality:cb.required("cardinality",zv(a.SJ))}}
function nv(a){return new yv({type:D("type",a),tb:Oa(jv,"dimensions",a),YL:G(gv,"fixedElements",a),hO:D("nameTemplate",a),SJ:Oa(Av,"cardinality",a)})}function Bv(a){this.lower=a.lower;this.upper=a.upper}function zv(a){return{lower:eb("lower",a.lower),upper:eb("upper",a.upper)}}function Av(a){return new Bv({lower:B("lower",a),upper:B("upper",a)})}function Cv(a){this.type=a.type}
function ev(a){switch(a.type){case "SHARE_SPEC":return{type:"SHARE_SPEC",platform:mb(Ou,"platform",a.platform),targetType:mb(Qu,"targetType",a.qf)};case "DOWNLOAD_SPEC":return{type:"DOWNLOAD_SPEC",format:mb(Uu,"format",a.format),fileType:I("fileType",a.Ze),compression:I("compression",a.np),dpi:eb("dpi",a.Vc),jpgQuality:eb("jpgQuality",a.ck),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.nq)};default:throw Error();}}
function ov(a){switch(a.type){case "SHARE_SPEC":return w("SHARE_SPEC"===a.type),new Dv({platform:Qa(Pu,"platform",a),qf:Qa(Ru,"targetType",a)});case "DOWNLOAD_SPEC":return w("DOWNLOAD_SPEC"===a.type),new Ev({format:Qa(Vu,"format",a),Ze:D("fileType",a),np:D("compression",a),Vc:B("dpi",a),ck:B("jpgQuality",a),nq:B("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function Dv(a){this.type="SHARE_SPEC";this.platform=a.platform;this.qf=a.qf}r(Dv,Cv);
function Ev(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.Ze=a.Ze;this.np=a.np;this.Vc=a.Vc;this.ck=a.ck;this.nq=a.nq}r(Ev,Cv);function Fv(a){this.locale=a.locale;this.name=a.name;this.uj=a.uj;this.SO=a.SO||new Map}Fv.prototype.Df=function(){return this.locale};Fv.prototype.getName=function(){return this.name};function cv(a){return{locale:ib("locale",a.locale),name:ib("name",a.name),sentenceName:ib("sentenceName",a.uj),pageNameTemplates:ob(pb,tb,"pageNameTemplates",a.SO)}}
function mv(a){return new Fv({locale:C("locale",a),name:C("name",a),uj:C("sentenceName",a),SO:Ta(Ua,Xa,"pageNameTemplates",a)})}function Gv(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.Cn=a.Cn;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.Ha=a.Ha}f=Gv.prototype;f.lc=function(){return this.type};f.oa=function(){return this.url};f.w=function(){return this.top};f.F=function(){return this.left};f.l=function(){return this.width};f.o=function(){return this.height};
f.OF=function(){return this.Ha};function Xu(a){return{type:ib("type",a.type),placeholder:I("placeholder",a.placeholder),url:I("url",a.url),image:I("image",a.Cn),top:db("top",a.top),left:db("left",a.left),width:db("width",a.width),height:db("height",a.height),transparency:eb("transparency",a.Ha)}}
function gv(a){return new Gv({type:C("type",a),placeholder:D("placeholder",a),url:D("url",a),Cn:D("image",a),top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a),Ha:B("transparency",a)})}function Hv(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}Hv.prototype.getKey=function(){return this.key};Hv.prototype.oa=function(){return this.url};Hv.prototype.l=function(){return this.width};Hv.prototype.o=function(){return this.height};
function Yu(a){return{bucket:I("bucket",a.bucket),key:I("key",a.key),url:I("url",a.url),width:eb("width",a.width),height:eb("height",a.height)}}function hv(a){return new Hv({bucket:D("bucket",a),key:D("key",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function Iv(a){this.locale=a.locale;this.name=a.name;this.uj=a.uj;this.hM=a.hM;this.vd=a.vd}Iv.prototype.Df=function(){return this.locale};Iv.prototype.getName=function(){return this.name};Iv.prototype.re=function(){return this.vd};
function Zu(a){return{locale:ib("locale",a.locale),name:I("name",a.name),sentenceName:I("sentenceName",a.uj),gender:I("gender",a.hM),thumbnail:jb(Yu,"thumbnail",a.vd)}}function iv(a){return new Iv({locale:C("locale",a),name:D("name",a),uj:D("sentenceName",a),hM:D("gender",a),vd:F(hv,"thumbnail",a)})}function qv(a){this.height=a.height;this.width=a.width;this.units=a.units}qv.prototype.o=function(){return this.height};qv.prototype.l=function(){return this.width};qv.prototype.Wj=function(){return this.units};
function $u(a){return{height:db("height",a.height),width:db("width",a.width),units:lb(Su,"units",a.units)}}function jv(a){return new qv({height:A("height",a),width:A("width",a),units:Pa(Tu,"units",a)})}function Jv(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}qv.prototype.print=function(){var a=this.l(),b=this.o(),c=Jv(this.Wj());return a+" "+c+" × "+b+" "+c};
function Rg(a){var b;switch(a.Wj()){case "PIXELS":return a;case "CENTIMETERS":b=a.l()/2.54*96;a=a.o()/2.54*96;break;case "INCHES":b=96*a.l();a=96*a.o();break;case "MILLIMETERS":b=a.l()/25.4*96;a=a.o()/25.4*96;break;default:throw Error("Unknown units: "+a.Wj());}return new qv({units:"PIXELS",width:b,height:a})}function sv(a){this.Vc=a.Vc}function av(a){return{dpi:eb("dpi",a.Vc)}}function kv(a){return new sv({Vc:B("dpi",a)})}
function rv(a){this.Ze=a.Ze;this.np=a.np;this.Vc=a.Vc;this.ck=a.ck;this.nq=a.nq}function bv(a){return{fileType:I("fileType",a.Ze),compression:I("compression",a.np),dpi:eb("dpi",a.Vc),jpgQuality:eb("jpgQuality",a.ck),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.nq)}}function lv(a){return new rv({Ze:D("fileType",a),np:D("compression",a),Vc:B("dpi",a),ck:B("jpgQuality",a),nq:B("jpgTargetFileSizeKb",a)})}
function Ku(a){return{category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.pC),multiPage:hb("multiPage",a.Ps),newPageElements:kb(Xu,"newPageElements",a.iw),thumbnail:jb(Yu,"thumbnail",a.vd),descriptions:nb(Zu,"descriptions",a.fz),dimensions:jb($u,"dimensions",a.tb),pdfExportSettings:jb(av,"pdfExportSettings",a.Zs),imageExportSettings:jb(bv,"imageExportSettings",a.aq)}}function Kv(a){this.vc=a.vc}function Lu(a){return new Kv({vc:Oa(fv,"docType",a)})}
function Lv(a){this.id=a.id;this.bq=a.bq;this.locale=a.locale}Lv.prototype.u=function(){return this.id};Lv.prototype.Df=function(){return this.locale};Lv.prototype.kr=function(){var a={id:ib("id",this.id),includeAllDescriptions:gb("includeAllDescriptions",this.bq),locale:I("locale",this.locale)};return Object.keys(a).map(function(b){var c=a[b];if(void 0!==c&&"object"!==typeof c)return b+"\x3d"+encodeURIComponent(c)}).filter(function(a){return!!a}).join("\x26")};function Mv(a){this.vc=a.vc}
function Ju(a){return new Mv({vc:Oa(fv,"docType",a)})}function Nv(a){this.limit=a.limit;this.visible=a.visible;this.bq=a.bq;this.wl=a.wl||[];this.Y=a.Y}Nv.prototype.$d=function(){return this.limit};Nv.prototype.Nb=function(){return this.Y};function Ov(a){this.Nu=a.Nu||[];this.Y=a.Y}Ov.prototype.Nb=function(){return this.Y};function Nu(a){return new Ov({Nu:G(fv,"docTypes",a),Y:D("continuation",a)})};function Pv(a,b){switch(b){case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}function Qv(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Rv(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}function Sv(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Tv(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}function Uv(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Vv(a){this.nu=a.nu;this.Zh=a.Zh;this.UK=a.UK;this.xU=a.xU;this.bR=a.bR;this.et=a.et;this.lY=a.lY;this.pY=a.pY;this.$Y=a.$Y;this.OX=a.OX||[];this.Ch=a.Ch}
function Wv(a){return{attachment:hb("attachment",a.nu),docId:ib("docId",a.Zh),docVersion:eb("docVersion",a.UK),docMedia:jb(Xv,"docMedia",a.xU),spec:jb(Yv,"spec",a.bR),priority:mb(Tv,"priority",a.et),pollableJob:hb("pollableJob",a.lY),prefetchDocument:hb("prefetchDocument",a.pY),renderSpec:jb(Zv,"renderSpec",a.$Y),outputSpecs:kb($v,"outputSpecs",a.OX),schema:lb(Us,"schema",a.Ch)}}function aw(a){return{bleedMicrons:eb("bleedMicrons",a.wba),resizeBleedBackground:gb("resizeBleedBackground",a.Eca)}}
function Zv(a){return{bleed:jb(aw,"bleed",a.su),crops:gb("crops",a.Or),mediaQuality:lb(Sv,"mediaQuality",a.UA),mediaDpi:db("mediaDpi",a.Ks),pages:fb(a.O),watermark:gb("watermark",a.hda),scaleFactor:eb("scaleFactor",a.Sd),removeCanvas:hb("removeCanvas",a.kt)}}function bw(a){return{type:lb(cw,"type",a.type),queue:jb(dw,"queue",a.queue),workflow:jb(ew,"workflow",a.Lh)}}
function cw(a,b){switch(b){case "WORKFLOW":return"WORKFLOW";case "QUEUE":return"QUEUE";default:throw new TypeError('expected Destination2Type for property "'+a+'", found: '+JSON.stringify(b));}}function dw(a){return{queueName:ib("queueName",a.xca),token:I("token",a.km),expiryHours:eb("expiryHours",a.Pba)}}function ew(a){return{taskToken:ib("taskToken",a.Yca)}}
function $v(a){return{destination:jb(bw,"destination",a.destination),format:lb(Qv,"format",a.format),pages:fb(a.O),jpg:jb(fw,"jpg",a.IA),png:jb(gw,"png",a.DB),pdf:jb(hw,"pdf",a.pca)}}function fw(a){return{width:eb("width",a.width),height:eb("height",a.height),jpgQuality:eb("jpgQuality",a.ck),targetImageSizeKb:eb("targetImageSizeKb",a.Nx),zipped:hb("zipped",a.YI)}}
function gw(a){return{width:eb("width",a.width),height:eb("height",a.height),zipped:hb("zipped",a.YI),optimizationStrategy:mb(Rv,"optimizationStrategy",a.LO)}}function hw(a){return{rasterizePages:hb("rasterizePages",a.yca)}}function iw(a){this.type=a.type;this.su=a.su;this.Or=a.Or;this.destination=a.destination;this.Ks=a.Ks;this.format=a.format;this.LO=a.LO;this.UA=a.UA;this.O=a.O||[];this.Nx=a.Nx;this.aW=a.aW;this.XV=a.XV;this.YI=a.YI;this.ck=a.ck;this.kt=a.kt}iw.prototype.lc=function(){return this.type};
iw.prototype.Gb=function(){return this.O};
function Yv(a){return{type:lb(jw,"type",a.type),bleed:hb("bleed",a.su),crops:hb("crops",a.Or),destination:mb(Pv,"destination",a.destination),mediaDpi:db("mediaDpi",a.Ks),format:lb(Qv,"format",a.format),optimizationStrategy:mb(Rv,"optimizationStrategy",a.LO),mediaQuality:lb(Sv,"mediaQuality",a.UA),pages:fb(a.O),targetImageSizeKb:eb("targetImageSizeKb",a.Nx),imageWidth:eb("imageWidth",a.aW),imageHeight:eb("imageHeight",a.XV),zipped:hb("zipped",a.YI),jpgQuality:eb("jpgQuality",a.ck),removeCanvas:hb("removeCanvas",
a.kt)}}function jw(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function kw(a){this.Nj=a.Nj}kw.prototype.pM=function(){return this.Nj};function lw(a){return new kw({Nj:Oa(mw,"export",a)})}function nw(a){this.id=a.id;this.tB=a.tB;this.status=a.status;this.Gz=a.Gz}nw.prototype.u=function(){return this.id};nw.prototype.ph=function(){return this.status};
function mw(a){return new nw({id:B("id",a),tB:F(ow,"output",a),status:Pa(Uv,"status",a),Gz:D("failureReason",a)})}function pw(a){this.title=a.title;this.gF=a.gF||[]}pw.prototype.qb=function(){return this.title};function ow(a){return new pw({title:D("title",a),gF:G(qw,"exportBlobs",a)})}function rw(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url;this.width=a.width;this.height=a.height}f=rw.prototype;f.getKey=function(){return this.key};f.R=function(){return this.page};f.oa=function(){return this.url};
f.l=function(){return this.width};f.o=function(){return this.height};function qw(a){return new rw({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function sw(a){this.nu=a.nu;this.id=a.id}sw.prototype.u=function(){return this.id};function tw(a){this.Nj=a.Nj}tw.prototype.pM=function(){return this.Nj};function uw(a){return new tw({Nj:Oa(mw,"export",a)})}function vw(a){this.id=a.id}vw.prototype.u=function(){return this.id};
function ww(){}function xw(){return new ww};function yw(a,b){this.N=a;this.path="/export";this.YN=void 0!=b?b.YN:1E3;this.XW=void 0!=b?b.XW:3E4;this.jW=void 0!=b?b.jW:1.6}yw.prototype.fE=function(a){var b=this;return sj(this.N,this.path,Wv(a)).get(0).then(La).then(lw).bind(this).then(function(a){y(a.Nj.id);var d=a.Nj.id;return zw(b,a.Nj,b.YN).catch(P.CancellationError,function(a){return Aw(b,new vw({id:d})).finally(function(){return P.reject(a)})})})};
function zw(a,b,c){c=Math.max(c||0,a.YN);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){w(!!b.id,"Job id required to get an export");return this.pM(new sw({id:b.id,nu:!0}))}).then(function(a){return zw(this,a.Nj,Math.min(c*this.jW,this.XW))})}yw.prototype.pM=function(a){return uj(this.N,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.nu+""))).get(0).then(La).then(uw)};
function Aw(a,b){return Kk(a.N,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(La).then(xw)};var Bw={Gaa:"DROPBOX",Haa:"FACEBOOK",Naa:"GOOGLE",Oaa:"INSTAGRAM",Taa:"LINKEDIN",Vaa:"PINTEREST",Waa:"QQ",Yaa:"SLACK",fba:"TRELLO",gba:"TUMBLR",hba:"TWITTER",lba:"VKONTAKTE",mba:"WECHAT",nba:"WEIBO"};
function Cw(a,b){switch(b){case "DROPBOX":return"DROPBOX";case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+
a+'", found: '+JSON.stringify(b));}}
function Dw(a,b){switch(b){case "DROPBOX":return"DROPBOX";case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+
'", found: '+JSON.stringify(b));}}function Ew(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";case "PUBLISH_TO_STORAGE":return"PUBLISH_TO_STORAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Fw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";case "PUBLISH_TO_STORAGE":return"PUBLISH_TO_STORAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Gw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";case "NESTED":return"NESTED";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Hw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";case "NESTED":return"NESTED";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Iw(a){this.platform=a.platform;this.RR=a.RR;this.vv=a.vv||[];this.Lu=a.Lu||[];this.username=a.username}Iw.prototype.qh=function(){return this.username};function Jw(a){return new Iw({platform:Pa(Dw,"platform",a),RR:Ma("userDeniedAuthorization",a),vv:Ra(Fw,"grantedPermissions",a),Lu:Ra(Fw,"deniedPermissions",a),username:D("username",a)})};var Kw={neverShowReplacePageContentWarning:"aa"};function Lw(a){this.N=a;this.path="/profile"}Lw.prototype.La=P.method(function(a){return uj(this.N,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Mw)});function Nw(a,b){return uj(a.N,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(Ow)}
function Pw(a){return uj(a.N,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(Kw),d=la(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,c[e]&&(a[c[e]]=a[e],delete a[e]);return a})}function Qw(a,b,c){return Pw(a).then(function(a){Kw[b]&&(delete a[b],b=Kw[b]);if(a[b]===c)return a;a[b]=c;return sj(this.N,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function Rw(a,b){return sj(a.N,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(Sw)}
Lw.prototype.ka=function(a){return uj(this.N,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Tw)};Lw.prototype.uZ=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations";return sj(this.N,b,a).spread(Uw)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations?"+(null!=a.Nb()?"\x26continuation\x3d"+encodeURIComponent(a.Nb()):"")+(null!=a.$d()?"\x26limit\x3d"+encodeURIComponent(a.$d()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.T3()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.T3()):"");return uj(this.N,a).spread(Vw)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations?update\x3dtrue";return sj(this.N,b,Ww(a)).spread(Xw)});
Lw.prototype.Kz=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ka())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Nb()?"\x26continuation\x3d"+encodeURIComponent(a.Nb()):"")+(null!=a.$d()?"\x26limit\x3d"+encodeURIComponent(a.$d()):"")+(null!=a.users?"\x26users\x3d"+encodeURIComponent(a.users.join(",")):
"");return uj(this.N,a).spread(Yw)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/members";return sj(this.N,b,Zw(a)).spread($w)});function ax(a,b){return uj(a.N,a.path+"/users/"+encodeURIComponent(b.user)+"/oauth/"+encodeURIComponent(b.platform)).get(0).then(La).then(bx)};var vm="MEMBER";function cx(a,b){switch(b){case vm:return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Jh(a,b){switch(b){case "MEMBER":return vm;case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function dx(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function ex(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function gx(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function hx(a){this.platform=a.platform;this.valid=a.valid;this.permissions=a.permissions||[];this.vv=a.vv||[];this.Lu=a.Lu||[];this.username=a.username;this.zg=a.zg;this.NY=a.NY;this.accessToken=a.accessToken}hx.prototype.qh=function(){return this.username};hx.prototype.jM=function(){return this.zg};
function ix(a){return new hx({platform:Pa(Dw,"platform",a),valid:Ma("valid",a),permissions:Ra(Fw,"permissions",a),vv:Ra(Fw,"grantedPermissions",a),Lu:Ra(Fw,"deniedPermissions",a),username:D("username",a),zg:D("avatarUrl",a),NY:Na("refreshRecommended",a),accessToken:D("accessToken",a)})}function jx(a){this.user=a.user;this.platform=a.platform;this.K3=a.K3}jx.prototype.La=function(){return this.user};function kx(a){this.summary=a.summary}function bx(a){return new kx({summary:Oa(ix,"summary",a)})}
function lx(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}lx.prototype.getVersion=function(){return this.version};lx.prototype.ph=function(){return this.status};function mx(a){return{version:db("version",a.version),sizes:nb(nx,"sizes",a.sizes),status:mb(dx,"status",a.status)}}function ox(a){return new lx({version:A("version",a),sizes:Sa(px,"sizes",a),status:Qa(ex,"status",a)})}function qx(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}
qx.prototype.Wp=function(){return this.size};qx.prototype.l=function(){return this.width};qx.prototype.o=function(){return this.height};qx.prototype.oa=function(){return this.url};function nx(a){return{size:db("size",a.size),width:db("width",a.width),height:db("height",a.height),url:ib("url",a.url)}}function px(a){return new qx({size:A("size",a),width:A("width",a),height:A("height",a),url:C("url",a)})}function Vn(a){this.Gg=a.Gg;this.name=a.name}Vn.prototype.getName=function(){return this.name};
function rx(a){return new Vn({Gg:C("hexString",a),name:D("name",a)})}function Tn(a){this.zc=a.zc||[];this.name=a.name}Tn.prototype.gg=function(){return this.zc};Tn.prototype.getName=function(){return this.name};function sx(a){return new Tn({zc:G(rx,"colors",a),name:D("name",a)})}function tx(a){this.family=a.family;this.size=a.size;this.bold=a.bold;this.italic=a.italic;this.media=a.media}tx.prototype.Wp=function(){return this.size};tx.prototype.Ob=function(){return this.media};
function ux(a){return new tx({family:D("family",a),size:A("size",a),bold:Na("bold",a),italic:Na("italic",a),media:F($m,"media",a)})}function vx(a){this.name=a.name;this.font=a.font}vx.prototype.getName=function(){return this.name};function wx(a){return new vx({name:D("name",a),font:F(ux,"font",a)})}function xx(a){this.name=a.name;this.MC=a.MC||[]}xx.prototype.getName=function(){return this.name};function yx(a){return new xx({name:D("name",a),MC:G(wx,"textStyles",a)})}
function zx(a){this.yb=a.yb;this.My=a.My||[];this.LC=a.LC||[]}zx.prototype.hn=function(){return this.yb};function Ax(a){return new zx({yb:F(rx,"brandColor",a),My:G(sx,"colorPalettes",a),LC:G(yx,"textStylePalettes",a)})}function Bx(a){this.id=a.id;this.username=a.username;this.CB=a.CB;this.displayName=a.displayName;this.TM=a.TM;this.Xd=a.Xd;this.sb=a.sb;this.GD=a.GD;this.locale=a.locale;this.tE=a.tE}f=Bx.prototype;f.u=function(){return this.id};f.qh=function(){return this.username};f.Zz=function(){return this.CB};
f.Jb=function(){return this.displayName};f.gs=function(){return this.Xd};f.Sj=function(){return this.sb};f.rV=function(){return this.GD};f.Df=function(){return this.locale};function Cx(a){return new Bx({id:C("id",a),username:D("username",a),CB:D("personalBrand",a),displayName:D("displayName",a),TM:D("homepage",a),Xd:D("city",a),sb:Qa(gx,"countryCode",a),GD:Oa(ox,"avatar",a),locale:C("locale",a),tE:Ma("deactivated",a)})}
function Dx(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.Pc=a.Pc;this.ys=a.ys||[]}Dx.prototype.La=function(){return this.user};Dx.prototype.gi=function(){return this.email};Dx.prototype.Df=function(){return this.locale};Dx.prototype.us=function(){return this.Pc};function Ex(a){return new Dx({user:Oa(Cx,"user",a),email:D("email",a),locale:C("locale",a),Pc:Pa(Jh,"role",a),ys:Ha.rd("groups",a)})}
function Fx(a){this.id=a.id;this.NJ=a.NJ;this.displayName=a.displayName;this.qj=a.qj;this.lK=a.lK;this.BN=a.BN;this.rR=a.rR;this.yb=a.yb}Fx.prototype.u=function(){return this.id};Fx.prototype.zF=function(){return this.NJ};Fx.prototype.Jb=function(){return this.displayName};Fx.prototype.hn=function(){return this.yb};
function Gx(a){return new Fx({id:C("id",a),NJ:D("brandname",a),displayName:D("displayName",a),qj:Ma("personal",a),lK:Ma("contributor",a),BN:Ma("layoutContributor",a),rR:Ma("thirdParty",a),yb:D("brandColor",a)})}function Ww(a){return{brand:ib("brand",a.D),removeEmail:I("removeEmail",a.Bca),removeInviteLink:hb("removeInviteLink",a.Cca)}}function Hx(){}function Xw(){return new Hx}function Ix(a){return{user:ib("user",a.user),token:ib("token",a.km)}}
function Zw(a){return{brand:I("brand",a.D),add:ob(pb,cx,"add",a.add),addByToken:jb(Ix,"addByToken",a.oba),update:ob(pb,cx,"update",a.update),remove:$a.rd("remove",a.remove),includeAvatars:gb("includeAvatars",a.bca)}}function Jx(a){this.M_=a.M_;this.XA=a.XA||[]}Jx.prototype.GF=function(){return this.XA};function $w(a){return new Jx({M_:Oa(Gx,"updatedBrand",a),XA:G(Ex,"members",a)})}function Kx(a){this.KY=a.KY};function Lx(){this.enabled=null;this.allowedReferrers=[]}Lx.prototype.isEnabled=function(){return this.enabled};function Mx(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}f=Mx.prototype;f.u=function(){return this.id};f.Jb=function(){return this.displayName};f.zF=function(){return this.brandname};f.mW=function(){return this.contributor};f.rW=function(){return this.layoutContributor};
f.ii=function(){return this.personal};f.uW=function(){return this.thirdParty};f.Lp=function(){return this.brandKit?Ax(this.brandKit):null};function Sw(a){if(!a)return null;a=Df(Mx,a);var b;b=(b=a.apiSettings)?Df(Lx,b):null;a.apiSettings=b;return a}function Nx(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.xba||null;this.personal=a.qj||!1;this.contributor=a.lK||!1;this.layoutContributor=a.BN||!1;this.thirdParty=a.rR||!1;this.brandColor=a.yb||null}f=Nx.prototype;
f.u=function(){return this.id};f.Jb=function(){return this.displayName};f.zF=function(){return this.brandname};f.mW=function(){return this.contributor};f.rW=function(){return this.layoutContributor};f.ii=function(){return this.personal};f.uW=function(){return this.thirdParty};f.hn=function(){return this.brandColor};function Tw(a){return a?Df(Nx,a):null}
function Ox(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}f=Ox.prototype;f.Uo=function(a){this.brand=a;return this};f.u=function(){return this.brand};f.Ut=function(a){this.brandname=a;return this};f.getName=function(){return this.brandname};function Px(a,b){a.displayName=b;return a}f.Jb=function(){return this.displayName};function Qx(a){a.personal=!1;return a}
function Rx(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.CB||"";this.displayName=a.displayName||"";this.homepage=a.TM||null;this.city=a.Xd||null;this.countryCode=a.sb||null;this.avatar=a.GD||null;this.roles=a.Jca||[];this.deactivated=a.tE||!1;this.locale=a.locale||"en"}f=Rx.prototype;f.u=function(){return this.id};f.qh=function(){return this.username};f.Zz=function(){return this.personalBrand};f.Jb=function(){return this.displayName};
f.gs=function(){return this.city};f.Sj=function(){return this.countryCode};f.hv=function(){return this.avatar};f.tv=function(){return this.roles};function Mw(a){if(!a)return null;a=Df(Rx,a);a.avatar&&(a.avatar=ox(a.avatar));return a}function Ck(a){return Mw(a)}f.OC=function(){return Cx(Object.assign({},this,{avatar:this.avatar&&mx(this.avatar)}))};f.jM=function(a){var b=this.hv();return b&&(a=b.sizes.get(a))?a.oa():null};
function Sx(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.locale="";this.phoneNumber=this.profession=null}f=Sx.prototype;f.u=function(){return this.id};f.Jb=function(){return this.displayName};f.gi=function(){return this.email};
f.oW=function(){return"VERIFIED"===this.emailStatus};f.qh=function(){return this.username};f.gs=function(){return this.city};f.Sj=function(){return this.countryCode};f.yZ=function(a){this.countryCode=a};f.hv=function(){return this.avatar};f.tv=function(){return this.roles};f.Zz=function(){return this.personalBrand};f.sV=function(){return this.brands};f.Df=function(){return this.locale};f.setLocale=function(a){this.locale=a};
function Ow(a){var b;if(!a)return null;b=Df(Sx,a);b.avatar&&(b.avatar=ox(b.avatar));a.userNotificationSettings&&(b.userNotificationSettings=new Kx({KY:Ma("receiveSocialEmails",a.userNotificationSettings)}));return b}f.jM=function(a){var b=this.hv();return b&&(a=b.sizes.get(a))?a.oa():null};
f.OC=function(){return Mw({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&mx(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var Tx=ox({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function Ux(){}
Ux.prototype.gi=function(){return this.email};Ux.prototype.us=function(){return this.role};function Vx(){}Vx.prototype.Aj=function(a){this.brand=a;return this};Vx.prototype.ka=function(){return this.brand};function Wx(a,b){a.invitees=b;return a}function Xx(a,b){a.utmContent=b;return a}function Yx(){}function Uw(a){return Object.freeze(Df(Yx,a))}function Zx(){}Zx.prototype.Nb=function(){return this.continuation};Zx.prototype.getCount=function(){return this.count};
function Vw(a){return Object.freeze(Df(Zx,a))}function $x(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.Pc}$x.prototype.La=function(){return this.user};$x.prototype.gi=function(){return this.email};$x.prototype.us=function(){return this.role};function ay(a){a=Df($x,a);a.user=Mw(a.user);return Object.freeze(a)}function by(){}f=by.prototype;f.Aj=function(a){this.brand=a;return this};f.ka=function(){return this.brand};f.Bj=function(a){this.continuation=a;return this};f.Nb=function(){return this.continuation};
f.Vg=function(a){this.limit=a;return this};f.$d=function(){return this.limit};function cy(a){a.includeAvatars=!0;return a}function dy(a){a.includeEmails=!0;return a}function ey(a){a.countOnly=!0;return a}function fy(a,b){a.users=b;return a}function gy(a){a=void 0===a?{}:a;this.members=a.XA;this.continuation=a.Y}gy.prototype.GF=function(){return this.members};gy.prototype.Nb=function(){return this.continuation};gy.prototype.getCount=function(){return this.count};
function Yw(a){a=Df(gy,a);a.members&&(a.members=a.members.map(ay));return Object.freeze(a)};function hy(){this.N=Ib;this.path="/social"};function iy(){}function jy(){var a=Df(iy,window.clientInfo),b;b=Df(ky,a.brandInfo);b.brand=Tw(b.brand);b.subscription&&(b.subscription=bj(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=Df(ly,a.user);b.avatar&&(b.avatar=ox(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function my(a){return a.brandInfo}function ny(a){return a.user}function ky(){}ky.prototype.ka=function(){return this.brand};ky.prototype.Lp=function(){return this.brandKit?Ax(this.brandKit):null};
ky.prototype.getSubscription=function(){return this.subscription||null};function oy(a){return a.brandMembersCount}function py(a){return a.brandInvitationsCount}function ly(){}f=ly.prototype;f.u=function(){return this.id};f.rV=function(){return this.avatar};f.gi=function(){return this.email};f.oW=function(){return this.emailVerified};f.qh=function(){return this.username};f.Jb=function(){return this.displayName};f.tv=function(){return this.roles};f.Zz=function(){return this.personalBrand};f.PF=function(){return this.uiInfo};
f.Df=function(){return this.locale};f.Uz=function(){return this.country};f.OC=function(){return Mw({id:this.u(),username:this.qh(),personalBrand:this.Zz(),displayName:this.Jb(),avatar:mx(this.rV()),roles:this.tv(),countryCode:this.Uz(),locale:this.Df()})};function qy(){this.N=Ib;this.url="/session"}function ry(a){return sj(a.N,a.url+"/brand?invalidateCache",null)}function sy(a){return sj(a.N,a.url+"/user?invalidateCache",null)};function ty(a){this.N=a;this.url="/shares"}ty.prototype.DM=function(a){return uj(this.N,this.url+"/"+encodeURIComponent(a.id)).get(0).then(La).then(uy)};function vy(a,b){return sj(a.N,a.url+"/targetqueues",wy(b)).get(0).then(La).then(xy)}
function yy(a,b){return uj(a.N,a.url+"/targetqueues?"+(b.user?"\x26user\x3d"+encodeURIComponent(b.user):"")+(b.D?"\x26brand\x3d"+encodeURIComponent(b.D):"")+(b.qf?"\x26targetType\x3d"+encodeURIComponent(b.qf):"")+(b.externalId?"\x26externalId\x3d"+encodeURIComponent(b.externalId):"")+(b.platform?"\x26platform\x3d"+encodeURIComponent(b.platform):"")+(b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"")+("\x26limit\x3d"+encodeURIComponent(String(b.limit)))).get(0).then(La).then(zy)}
function Ay(a,b){return sj(a.N,a.url+"/email/document/"+encodeURIComponent(b.pb),By(b)).get(0).then(La).then(Cy)}function Dy(a,b){return uj(a.N,a.url+"/email/quota/"+encodeURIComponent(b.Zw)).get(0).then(La).then(Ey)};function Fy(a,b){switch(b){case "NEW":return"NEW";case "IN_PROGRESS":return"IN_PROGRESS";case "SUCCESS":return"SUCCESS";case "FAILURE":return"FAILURE";default:throw new TypeError('expected Status for property "'+a+'", found: '+JSON.stringify(b));}}function Gy(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Hy(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Iy(a,b){switch(b){case "PREPARATION_REQUIRED":return"PREPARATION_REQUIRED";case "PREPARATION_STARTED":return"PREPARATION_STARTED";case "PREPARATION_COMPLETED":return"PREPARATION_COMPLETED";case "PREPARATION_FAILED":return"PREPARATION_FAILED";default:throw new TypeError('expected PreparationStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Jy(a,b){switch(b){case "WAITING_FOR_MEDIA":return"WAITING_FOR_MEDIA";case "READY_FOR_UPLOAD":return"READY_FOR_UPLOAD";case "MEDIA_GENERATION_FAILED":return"MEDIA_GENERATION_FAILED";case "LOCKED_FOR_UPLOAD":return"LOCKED_FOR_UPLOAD";case "UPLOAD_IN_PROGRESS":return"UPLOAD_IN_PROGRESS";case "UPLOAD_COMPLETED":return"UPLOAD_COMPLETED";case "UPLOAD_FAILED":return"UPLOAD_FAILED";case "DELETED_BY_USER":return"DELETED_BY_USER";case "SKIPPED":return"SKIPPED";default:throw new TypeError('expected UploadTaskStatus for property "'+
a+'", found: '+JSON.stringify(b));}}function Ky(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function Ly(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function My(a,b){switch(b){case "WEB_1":return"WEB_1";case "WEB_2":return"WEB_2";default:throw new TypeError('expected DocumentSchema for property "'+a+'", found: '+JSON.stringify(b));}}function Ny(a,b){switch(b){case "QUEUED":return"QUEUED";case "SCHEDULED":return"SCHEDULED";case "MANUAL":return"MANUAL";default:throw new TypeError('expected UploadType for property "'+a+'", found: '+JSON.stringify(b));}}function Oy(a){this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId}
function Py(a){return{platform:lb(Cw,"platform",a.platform),targetType:lb(Gw,"targetType",a.qf),externalId:I("externalId",a.externalId)}}function Qy(a){this.id=a.id;this.platform=a.platform;this.Ox=a.Ox;this.kT=a.kT||[];this.version=a.version;this.document=a.document;this.Zb=a.Zb;this.message=a.message;this.title=a.title;this.QA=a.QA;this.status=a.status;this.P_=a.P_;this.ez=a.ez;this.url=a.url;this.Gp=a.Gp;this.rU=a.rU;this.O_=a.O_;this.N_=a.N_;this.Q_=a.Q_;this.externalId=a.externalId}f=Qy.prototype;
f.u=function(){return this.id};f.getVersion=function(){return this.version};f.getDocument=function(){return this.document};f.qb=function(){return this.title};f.ph=function(){return this.status};f.oa=function(){return this.url};f.wV=function(){return this.Gp};
function Ry(a){return new Qy({id:C("id",a),platform:Pa(Dw,"platform",a),Ox:F(Sy,"targetQueue",a),kT:G(Ty,"attachments",a),version:A("version",a),document:D("document",a),Zb:B("documentVersion",a),message:D("message",a),title:D("title",a),QA:D("linkUrl",a),status:Pa(Fy,"status",a),P_:Pa(Jy,"uploadTaskStatus",a),ez:Ma("deleted",a),url:D("url",a),Gp:D("errorMessage",a),rU:B("desiredUploadDate",a),O_:B("uploadStartDate",a),N_:B("uploadEndDate",a),Q_:Qa(Ny,"uploadType",a),externalId:D("externalId",a)})}
function Uy(a){this.id=a.id;this.xf=a.xf;this.user=a.user;this.D=a.D;this.action=a.action;this.status=a.status;this.rY=a.rY;this.Xx=a.Xx||[]}Uy.prototype.u=function(){return this.id};Uy.prototype.La=function(){return this.user};Uy.prototype.ka=function(){return this.D};Uy.prototype.ph=function(){return this.status};
function Vy(a){return new Uy({id:C("id",a),xf:A("creationDate",a),user:C("user",a),D:C("brand",a),action:Pa(Ly,"action",a),status:Pa(Fy,"status",a),rY:Pa(Iy,"preparationStatus",a),Xx:G(Ry,"uploads",a)})}
function Wy(a){this.id=a.id;this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId;this.WU=a.WU;this.YU=a.YU;this.paused=a.paused;this.z_=a.z_||[];this.A_=a.A_;this.IY=a.IY;this.JY=a.JY;this.nZ=a.nZ;this.oZ=a.oZ;this.timeZone=a.timeZone;this.Xl=a.Xl;this.ez=a.ez}Wy.prototype.u=function(){return this.id};Wy.prototype.La=function(){return this.user};Wy.prototype.ka=function(){return this.D};
function Sy(a){return new Wy({id:C("id",a),user:C("user",a),D:C("brand",a),platform:Pa(Dw,"platform",a),qf:Pa(Hw,"targetType",a),externalId:D("externalId",a),WU:D("externalName",a),YU:D("externalThumb",a),paused:Ma("paused",a),z_:G(Xy,"triggerPatterns",a),A_:A("triggerPatternsCount",a),IY:A("queuedUploadsCount",a),JY:A("queuedUploadsHistoricCount",a),nZ:A("scheduledUploadsCount",a),oZ:A("scheduledUploadsHistoricCount",a),timeZone:D("timeZone",a),Xl:Ma("restricted",a),ez:Ma("deleted",a)})}
function Yy(a){this.user=a.user;this.D=a.D;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[];this.W_=a.W_||[];this.message=a.message;this.title=a.title;this.QA=a.QA;this.Kj=a.Kj;this.KK=a.KK||[];this.Ht=a.Ht||[];this.action=a.action;this.mZ=a.mZ;this.Ch=a.Ch;this.uI=a.uI;this.$m=a.$m}f=Yy.prototype;f.La=function(){return this.user};f.ka=function(){return this.D};f.getDocument=function(){return this.document};f.Gb=function(){return this.O};f.qb=function(){return this.title};f.Ie=function(){return this.Kj};
function Zy(a){return{user:ib("user",a.user),brand:ib("brand",a.D),document:I("document",a.document),documentVersion:eb("documentVersion",a.Zb),pages:fb(a.O),userUploads:kb($y,"userUploads",a.W_),message:I("message",a.message),title:I("title",a.title),linkUrl:I("linkUrl",a.QA),draft:I("draft",a.Kj),destinations:kb(Py,"destinations",a.KK),targetQueues:$a.rd("targetQueues",a.Ht),action:lb(Ky,"action",a.action),scheduleDate:I("scheduleDate",a.mZ),schema:mb(My,"schema",a.Ch),supportErrorResponse:gb("supportErrorResponse",
a.uI),fileFormat:mb(Gy,"fileFormat",a.$m)}}function az(a){this.type=a.type}function bz(a){switch(a.type){case "SUCCESS":return w("SUCCESS"===a.type),new cz({id:C("id",a),fm:Oa(Vy,"share",a)});case "ERROR":return w("ERROR"===a.type),new dz({message:C("message",a)});default:throw Error("unknown case: "+a.type);}}function cz(a){this.type="SUCCESS";this.id=a.id;this.fm=a.fm}r(cz,az);cz.prototype.u=function(){return this.id};cz.prototype.DM=function(){return this.fm};
function dz(a){this.type="ERROR";this.message=a.message}r(dz,az);function ez(a){this.id=a.id}ez.prototype.u=function(){return this.id};function fz(a){this.fm=a.fm}fz.prototype.DM=function(){return this.fm};function uy(a){return new fz({fm:Oa(Vy,"share",a)})}function gz(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.timeZone=a.timeZone;this.externalId=a.externalId;this.Xl=a.Xl}gz.prototype.La=function(){return this.user};gz.prototype.ka=function(){return this.D};
function wy(a){return{user:ib("user",a.user),brand:ib("brand",a.D),platform:lb(Cw,"platform",a.platform),targetType:lb(Gw,"targetType",a.qf),timeZone:I("timeZone",a.timeZone),externalId:I("externalId",a.externalId),restricted:hb("restricted",a.Xl)}}function hz(a){this.Ox=a.Ox}function xy(a){return new hz({Ox:Oa(Sy,"targetQueue",a)})}function iz(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId;this.Xl=a.Xl;this.Y=a.Y;this.limit=a.limit}
iz.prototype.La=function(){return this.user};iz.prototype.ka=function(){return this.D};iz.prototype.Nb=function(){return this.Y};iz.prototype.$d=function(){return this.limit};function jz(a){this.Ht=a.Ht||[];this.Y=a.Y}jz.prototype.Nb=function(){return this.Y};function zy(a){return new jz({Ht:G(Sy,"targetQueues",a),Y:D("continuation",a)})}function kz(a){this.d=a.d;this.h=a.h;this.m=a.m}function Xy(a){return new kz({d:A("d",a),h:A("h",a),m:A("m",a)})}
function lz(a){this.pb=a.pb;this.zU=a.zU;this.mode=a.mode;this.Ye=a.Ye;this.va=a.va;this.Xr=a.Xr||[];this.ld=a.ld;this.Zw=a.Zw;this.YC=a.YC;this.FH=a.FH}lz.prototype.hc=function(){return this.pb};lz.prototype.getExtension=function(){return this.Ye};
function By(a){return{documentId:ib("documentId",a.pb),documentUrl:I("documentUrl",a.zU),mode:ib("mode",a.mode),extension:I("extension",a.Ye),brandId:I("brandId",a.va),emails:$a.rd("emails",a.Xr),imageUrl:I("imageUrl",a.ld),senderId:I("senderId",a.Zw),utmSource:I("utmSource",a.YC),recaptchaToken:I("recaptchaToken",a.FH)}}function mz(a){this.JP=a.JP}function Cy(a){return new mz({JP:Na("recaptchaRequired",a)})}function nz(a){this.Zw=a.Zw}function oz(a){this.Dp=a.Dp}
function Ey(a){return new oz({Dp:A("emailsRemaining",a)})}function pz(a){this.displayName=a.displayName;this.bucket=a.bucket;this.YV=a.YV;this.$V=a.$V;this.ld=a.ld;this.ir=a.ir;this.$m=a.$m;this.order=a.order}pz.prototype.Jb=function(){return this.displayName};pz.prototype.nn=function(){return this.order};
function Ty(a){return new pz({displayName:D("displayName",a),bucket:C("bucket",a),YV:C("imageKey",a),$V:D("imageThumbKey",a),ld:C("imageUrl",a),ir:D("thumbUrl",a),$m:Pa(Hy,"fileFormat",a),order:B("order",a)})}function $y(a){return{key:ib("key",a.key),displayName:I("displayName",a.displayName)}};function mp(){}mp=Backbone.View.extend();mp.prototype.initialize=function(a){a=_.defaults({},a,{Gr:!0,content:$(),jf:!0,Ho:!0});this.H=a.H;this.Gr=!!a.Gr;this.content=a.content;this.Qd=new qz({style:this.Rp(),H:this.H});this.listenTo(this.Qd,"maskClick",this.blur);this.result=1;this.jf=!!a.jf;this.Re=!!a.Re;this.Ho=!!a.Ho;this.title=a.Ho?a.title:"";this.Gz=null;this.zx=!1};mp.vS=300;f=mp.prototype;f.blur=function(){this.Gr&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(a){this.result=3;this.Gz=a||null;this.remove()};f.events=function(){return{"click .close":this.KG,"click .dialogMaskCloseButton":this.KG,"click button.done":this.ok}};f.Rp=function(){return rz};f.ok=function(){this.result=2;this.remove()};f.KG=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Qd.hide();this.zx=!1;this.trigger("hide",this.result);this.H.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},mp.vS);return this};f.render=function(){this.$el.html(this.template(this.xi()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
f.xi=function(){return{showCloseButton:this.jf,showDialogMaskCloseButton:this.Re,showTitle:this.Ho,title:this.title}};f.g$=function(a){this.$("h2").text(a);this.title=a};
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Qd.show(this.$el);this.zx=!0;this.trigger("show",this);kl(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function pp(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.Gz)}.bind(this));this.show()}.bind(a))}f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function sz(){}sz=mp.extend({className:"fontUploadDialog"});sz.create=function(a){return new sz(a)};f=sz.prototype;f.events=function(){return _.extend(mp.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.S5,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.AT})};f.initialize=function(a){mp.prototype.initialize.call(this,{H:jl,jf:!0,Gr:!0,Re:!1});this.error=null;this.dg=a.dg;this.Nz=this.dg.Fba();this.opentype=opentype;this.progress=!1};
f.render=function(){mp.prototype.render.call(this);tz(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.w5.bind(this));return this};
f.w5=function(){var a={message:this.dg.zca()},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.sF=b[0],this.Nz=this.sF.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Nz=b.names.fullName.en):this.error=a}catch(e){this.error=a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.sF);return}}else this.error=
{message:this.dg.uba()};this.show()};f.S5=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html(this.dg.tca()),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3e'+this.dg.eda()+"\x26hellip;\x3c/span\x3e"),this.sF&&this.trigger("fontUpload",this.sF)):uz(this)};
function vz(a){return{canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.vI:null,supportTitle:null!=a.error?a.error.Uca:"fonts",fontName:a.Nz,progress:a.progress||!1,sorrySomethingWentWrong:a.dg.Qca(),pleaseSeeSupportArticle:a.dg.sca(),beforeYouUpload:a.dg.vba(),fontNameHeading:a.dg.Tba(),ok:a.dg.ok(),youMustConfirm:a.dg.jda(),iOwnThisFont:a.dg.Wba(),uploadAway:a.dg.dda(),cancelUpload:a.dg.AT()}}
function uz(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.lf=function(a){this.error=a;tz(this)};function tz(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.jK(vz(a)))}f.OZ=function(a){this.progress=Math.round(100*a);this.$(".buttonProgressIndicator").css("width",String(this.progress)+"%")};f.AT=function(){this.trigger("fontUploadCancel");this.cancel()};
f.jK=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3e\x3c%- sorrySomethingWentWrong %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3e\x3c%- pleaseSeeSupportArticle %\x3e\x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e \x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3e\x3c%- ok %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3e\x3c%- beforeYouUpload %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3e\x3c%- fontNameHeading %\x3e\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3e\x3c%- youMustConfirm %\x3e\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3e\x3c%- iOwnThisFont %\x3e\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3e\x3c%- uploadAway %\x3e\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3e\x3c%- cancelUpload %\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function wz(){}wz=Backbone.View.extend({className:"multipageDialog"});f=wz.prototype;f.initialize=function(a){this.H=jl;this.Ag=0;this.jF=a.jF||[];this.Zi=void 0===a.Zi||a.Zi;this.Re=!!a.Re;this.Qd=new qz({H:this.H,style:rz});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.o$);this.listenTo(a,"back",this.q$)},this)};f.events=function(){return{click:this.Lf,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Qd.hide();this.H.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.Lf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Zi&&this.hide()};
f.render=function(){var a=this;(function(){a.jF.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Re&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.O.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();xz(this,this.Ag);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.Qd.show(this.render().$el);this.H.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.o$=function(){var a=this.Ag+1;a>=this.O.length?this.hide():xz(this,a)};f.q$=function(){var a=this.Ag-1;0>a?this.hide():xz(this,a)};
function xz(a,b){a.trigger("pageChange",a.O[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Ag=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function yz(a){var b={},c=a.bT.ml(),d=a.qp.l(),e=c-a.margin-a.OI.F(),g=a.OI.Za()-c-a.margin;b.left=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.qX.F())+"px";c=a.bT.nl();d=a.qp.o();e=c-a.margin-a.OI.w();g=a.OI.xa()-c-a.margin;b.top=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.qX.w())+"px";return b}function zz(a){this.ty=a.ty;this.dA=a.dA;this.margin=a.margin||0;this.AC=a.AC}
zz.prototype.nm=function(a,b){if(0!==b.length&&0!==a.length){this.ty(a);var c=a.get(0),d=b.get(0),e=c.offsetParent||c.ownerDocument.body;b=this.dA().get(0)||c.ownerDocument.body;c=Wg(c.getBoundingClientRect());d=Wg(d.getBoundingClientRect());e=Wg(e.getBoundingClientRect());b=Wg(b.getBoundingClientRect());Dm(d,this.margin);Dm(b,-this.margin);b=this.AC({margin:this.margin,bT:d,qp:c,qX:e,OI:b});a.css(b)}};function Az(){}Az=mp.extend();Az.prototype.initialize=function(a){mp.prototype.initialize.call(this,_.extend(a,{H:jl}));this.OK=a.OK};Az.prototype.render=function(){mp.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.OK?this.OK:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var zp="top",Bz={LEFT:"left",Raa:"leftTop",dba:zp,eba:"topLeft",Xaa:"rightTop"};function Cz(){}Cz=mp.extend();f=Cz.prototype;f.initialize=function(a){mp.prototype.initialize.call(this,_.extend({H:jl},a));this.We=a.We||"Done";this.vx=void 0!==a.vx?a.vx:!0;this.qy=null;this.nY=a.position instanceof Array?a.position:[a.position||zp];this.position=null;this.Of=_.defaults({},a.Of,{left:0,top:0});this.qw=a.qw||!1;this.on("hide",this.kU);this.keydown=this.keydown.bind(this)};
f.o9=function(){$(document).off("keydown",this.keydown)};f.Rp=function(){return Dz};f.getCurrentPosition=function(){return this.position};f.render=function(){mp.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.qw?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.vx&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.We+"\x3c/button\x3e\x3c/p\x3e");return this};
f.Ci=function(a){if(!this.qy){var b=_.debounce(this.nm.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.o9);Ez(this,a);this.nm();return this};function Fz(){this.cP=this.Rl=this.dialogLeft=this.dialogTop=null}
f.nm=function(){for(var a,b,c=0;c<this.nY.length;c++){a=b=this.nY[c];var d=this.qw?5:13,e=this.qw?20:40,g=this.qy,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),q=this.$el.width(),g=new Fz,u=Math.round(h.left+l/2-p/2);switch(a){case zp:g.dialogLeft=u+p+10>q?q-p-10:u;g.dialogLeft+=this.Of.left;g.dialogTop=Math.round(k)+m+d+this.Of.top;a=u-g.dialogLeft;g.Rl="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>q?q-p-10:h.left;g.dialogLeft+=this.Of.left;g.dialogTop=Math.round(k)+m+d+this.Of.top;g.Rl=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Of.left;g.dialogTop=k-n/2+d+this.Of.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Of.left+d;g.dialogTop=k+m/2-e+this.Of.top;10>g.dialogTop&&(g.cP=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.Of.left-d,g.dialogTop=k+m/2-e+this.Of.top,10>g.dialogTop&&(g.cP=g.dialogTop-10,g.dialogTop=10)}d=a=g;e=this.$(".dialog");
if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Bz).join(" ")).addClass(b);c.css("left",a.Rl||"");c.css("margin-top",a.cP||"");return this};function Ez(a,b){a.kU();a.qy=b;b.addClass("on");b.blur()}f.kU=function(){this.qy&&this.qy.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function Gz(a){soy.asserts.assertType(goog.isString(a.ZI)||a.ZI instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.ZI,"string|goog.soy.data.SanitizedContent");var b=a.ZI;soy.asserts.assertType(goog.isString(a.aJ)||a.aJ instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.aJ,"string|goog.soy.data.SanitizedContent");var c=a.aJ;soy.asserts.assertType(goog.isString(a.vF)||a.vF instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.vF,"string|goog.soy.data.SanitizedContent");var d=
a.vF;soy.asserts.assertType(goog.isString(a.IG)||a.IG instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.IG,"string|goog.soy.data.SanitizedContent");var e=a.IG,g=goog.asserts.assertArray(a.wf,"expected parameter 'zoomLevels' of type list\x3cstring\x3e."),h=goog.asserts.assertArray(a.Baa,"expected parameter 'zoomTranslations' of type list\x3cstring\x3e."),k=goog.asserts.assertNumber(a.Mm,"expected parameter 'currentZoomIndex' of type int.");soy.asserts.assertType(goog.isString(a.oF)||a.oF instanceof
goog.soy.data.SanitizedContent,"fitLabel",a.oF,"string|goog.soy.data.SanitizedContent");var l=a.oF;soy.asserts.assertType(goog.isString(a.lF)||a.lF instanceof goog.soy.data.SanitizedContent,"fillLabel",a.lF,"string|goog.soy.data.SanitizedContent");var m=a.lF;soy.asserts.assertType(goog.isBoolean(a.Yr)||1===a.Yr||0===a.Yr,"enablePresentationMode",a.Yr,"boolean");a=!!a.Yr;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+
soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';
c=g.length;for(d=0;d<c;d++)e=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==e?soy.$$escapeHtml(l):"fill"==e?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function Hz(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.H=a;this.Cj=b;this.Yr=c;this.wf=[];this.Mm=0;this.eg=!1;this.hy=this.UV=0;this.paused=!1;this.Ep=this.Ep.bind(this)}r(Hz,Backbone.View);f=Hz.prototype;f.zJ=function(a,b){this.wf=b;this.Mm=Math.max(0,b.indexOf("100%"));this.hy=parseInt(this.wf[this.Mm],10);this.render().$el.appendTo(a)};
f.events=function(){return{"click .zoomer__out":this.m0,"click .zoomer__in":this.l0,"click .zoomer__next":this.j5,"click .zoomer__prev":this.P8,"click .zoomer__fullscreen":this.gM,"click .zoomer__normal":this.k5,"click .zoomer__popover .zoomer__item":this.Aaa,"click .zoomer__zoomLevel":this.r_,"mouseenter .zoomer__popover":this.r_.bind(this,!0),"mouseleave .zoomer":this.TV}};f.l0=function(){this.trigger("zoomInClick")};f.m0=function(){0<this.Mm&&this.trigger("zoomOutClick")};f.j5=function(){this.trigger("nextPageClick")};
f.P8=function(){this.trigger("prevPageClick")};f.gM=function(){this.trigger("presentationModeClick");this.Ep()};f.k5=function(){this.exitFullscreen()};f.Aaa=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};f.r_=function(a){this.eg||(this.H.clearTimeout(this.UV),this.$el.toggleClass("zoomer--expanded",a))};f.TV=function(){var a=this;this.UV=this.H.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
f.qaa=function(a,b){a="string"==typeof a?this.wf.indexOf(a):-1;-1<a&&(this.Mm=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.wf.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.wf[this.Mm];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.hy=100*b,a=this.hy.toFixed(1));a=this.Cj.hy(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.Mm).addClass("zoomer__item--selected")};
f.J_=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=Sp(a);a=a.jc();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.eg&&this.paused&&this.Ep()};f.exitFullscreen=function(){this.eg&&(this.$el.removeClass("zoomer--fullscreenMode"),this.eg=!1,this.trigger("fullscreenMode",this.eg))};
f.Ep=function(){this.$el.addClass("zoomer--fullscreenMode");this.eg=!0;this.TV();this.trigger("fullscreenMode",this.eg)};function Iz(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.Ep)}
f.render=function(){var a=this;this.el.innerHTML=Gz({wf:this.wf,Mm:this.Mm,Yr:this.Yr,Baa:this.wf.map(function(b){return a.Cj.hy(parseInt(b,10))}),ZI:this.Cj.format("zoomToolbarZoomIn"),aJ:this.Cj.format("zoomToolbarZoomOut"),vF:this.Cj.eg(),IG:this.Cj.format("zoomToolbarNormalMode"),lF:this.Cj.fill(),oF:this.Cj.format("zoomToolbarFit")});return this};var W=1;function Jz(a,b,c,d,e,g){this.Gd=a;this.Oi=b;this.kY=c;this.aP=!1;this.H=d;this.W=e;this.j=g;this.wB=!1;this.lastIndex=0;this.vw=!0;this.kX=0;this.TF=this.TF.bind(this)}function Kz(a,b,c,d,e,g,h){d=new Hz(jl,d,e.G.get(Zf));a=new Jz(a,d,a.$el,jl,e,g);Lz(a);d.listenTo(c,"documentView:zoom",d.qaa);d.listenTo(b,"page:change:selected",d.J_);d.on("fullscreenMode",h);d.J_(b);a.listenTo(c,"pausePresentationOnExit",a.t8);return a}
function Lz(a){var b=$(".documentContainer"),c=_.values(Mz);a.LM=a.LM.bind(a);a.Oi.zJ(b,c);a.listenTo(a.Oi,{zoomInClick:a.o2,zoomOutClick:a.q2,nextPageClick:a.ZJ,prevPageClick:a.$J,zoomLevelClick:a.p2,presentationModeClick:a.c2,fullscreenMode:a.c4});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(Qz())Rz(a);else if(a.vw){a.lastIndex=Sp(a.Gd.model);var c=a.Oi;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;
$("#content").on("click",c.Ep);a.vw=b.hasClass("modalContentVisible")}else Sz(a)});$(document).on("keyup",function(b){return Tz(a,b)});$(window).on("mousewheel wheel",a.LM)}
function Tz(a,b){if(!$("body").hasClass("modalContentVisible"))if(!b.metaKey&&!b.ctrlKey&&!b.altKey)switch(b.which){case 27:if(Qz())return a.vw=!1,!0;a.Oi.paused&&Sz(a);break;case 38:case 37:case 33:return a.$J(),!1;case 40:case 39:case 34:case 32:case 13:return a.ZJ(),!1;case 116:return a.Oi.gM(),!1}else if(b.ctrlKey&&b.shiftKey&&13===b.which)return a.Oi.gM(),!1}f=Jz.prototype;f.c4=function(a){$("body");this.lastIndex=Sp(this.Gd.model);a?(this.vw=!1,Uz().Ep()):(this.vw=!1,Uz().exitFullscreen(),Sz(this))};
function Sz(a){var b=$("body");Iz(a.Oi);a.Oi.exitFullscreen();O.pD=O.z0;b.off("mousemove",a.TF);b.removeClass("fullscreenMode fullscreenModeLinkAnimations fullscreenModeTransitionIn");Vz(a.Gd,!1);Wz(a.Gd,a.lastIndex)}function Rz(a){var b=$("body");Iz(a.Oi);O.pD=O.C0;hh();Xz();b.addClass("fullscreenMode");Vz(a.Gd,!0);b.on("mousemove",a.TF);P.delay(100).then(function(){Wz(a.Gd,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}
f.t8=function(a){Qz()&&(this.vw=a)};f.TF=function(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop");this.H.clearTimeout(this.kX);a=$(a.target);a.is(".zoomer__toolbar")||a.parents(".zoomer__toolbar").length||(this.kX=this.H.setTimeout(function(){return b.removeClass("zoomer--hoverBottom hoverTop")},Yz))};
f.LM=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.Oi.eg&&this.kY&&this.kY.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),Zz(this,c));this.Oi.eg&&!this.wB&&(120<=c?(this.$J(),this.wB=!0,this.H.setTimeout(function(){b.wB=!1},600)):-120>=c&&(this.ZJ(),this.wB=!0,this.H.setTimeout(function(){b.wB=!1},600)))};
function Zz(a,b){a.aP||(0<b?a.Oi.l0():a.Oi.m0(),a.aP=!0,a.H.setTimeout(function(){return a.aP=!1},250))}f.o2=function(){var a=$z(this.Gd);this.j.zoom("zoom_in","editor","zoom_toolbar","bottom_right",a);return!1};f.q2=function(){var a=aA(this.Gd);this.j.zoom("zoom_out","editor","zoom_toolbar","bottom_right",a);return!1};f.p2=function(a){bA(this.Gd,a);this.j.zoom("popover_item","editor","zoom_toolbar","bottom_right",a);return!1};
f.c2=function(){$l(this.j,"fullscreen_mode","button","editor","zoom_toolbar","bottom_right");return!1};f.ZJ=function(){var a=this.Gd,b=Sp(a.model);b+1<a.model.jc()&&Wz(a,b+1);return!1};f.$J=function(){var a=this.Gd,b=Sp(a.model);0<=b-1&&Wz(a,b-1);return!1};var Yz=5E3;f=Jz.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function Ep(a){O.E0&&$("html").addClass("isMac");$("#content").addClass("preparing");cA();window.setTimeout(function(){dA(a.content,a.vc,a.gj,a.i,a.b1,a.S$);eA({Ka:a.Ka,fb:a.fb,ub:a.ub,fa:a.fa});var b=new fA({i:zc(a.i)});$("#canvaDocument").before(b.render());b.init({Ui:a.Ui,i:a.i,j:a.j});gA({i:a.i,Wc:a.Wc,Bp:a.Bp,Xb:a.Xb,G:a.G});a.Eu(vb,K,T,kd(a.i),a.W,a.j,function(a){Nb.toggle(a,K.ia())});hA(a.i);iA(!!a.t3);jA(0,!0);a.bV&&a.bV();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(kA)},
O.Da.mk*O.iy),window.setTimeout(function(){lA()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},O.Da.mk*O.iy)},O.Gc)}function kA(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(kA);else $(a).one("animationend",lA)}function lA(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function cA(){Qb=Pb=Ob=0;var a=mA("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Qb=parseInt(a[b].style.marginTop,10),Ob=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Pb=parseInt(a[b].style.width,10)),Pb&&Ob&&Qb);b++);}function mA(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function jA(a,b){if(!nA&&!oA){var c=$("#objectPanel");pA();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/O.L0);var e=Math.ceil(d/O.J0),d=Math.ceil(d/O.K0),g=mA("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/e*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");qA();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){rA($(this),!0)})},O.Gc);vb&&vb.TA(b)}}
function sA(a){return wb.Nv()?wb.jj()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);T.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||O.r0);T.on("session:sync",d);wb.save()}):P.resolve():P.reject()};function tA(a){this.N=a.N;this.KO=a.KO;this.Ee=a.Ee;this.pa=a.pa;this.tL=a.tL;this.qR=a.qR;this.GJ=a.GJ;this.mL=a.mL}
tA.prototype.hQ=function(){if(!this.tL&&!O.Q0&&this.pa&&this.pa.Nv()&&!$("#savingError").hasClass("on")){if(0<this.qR.RC.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.pa.jj())return this.pa.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=K;if(a&&ru(this.pa,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.pa.close();this.GJ||(a=Math.floor((Date.now()-this.KO)/1E3),Ik(this.N,"/session/editor/"+encodeURIComponent(this.Ee)+"?close",this.mL,{docId:this.Ee,session:this.pa.context.wu,durationSecs:a}))}};var uA="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function vA(a){a=a.children(".inner").get(0);a=wA(a);for(var b=window.getSelection(),c=a.filter(function(a){return xA(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=yA(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function yA(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function zA(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function AA(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return BA(b,a)?b.toString().length:-1}function CA(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return BA(b,a)?b.isCollapsed:!0}
function BA(a,b){if(!b||DA(a))return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?EA(a):a;var d=3==c.nodeType||4==c.nodeType?EA(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function FA(a,b){var c=a.cb(b).children(".inner");GA(c);HA(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");IA(a,b)}
function IA(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Ub(b),e=a.cb(b).children(".inner").contents(),g=e,h=!1;c(e);)JA(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.vj(b,d))}
function JA(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=mh(b.style.color);b.color&&(e=mh(b.color));e&&(a.color=e.ra());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=KA(e))&&(a.fontFamily=b)}function LA(a){var b=[],c=[],d=a.children(".inner").get(0);wA(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=MA(EA(d),a),Array.prototype.push.apply(b,d.$e),Array.prototype.push.apply(c,d.Bf))});return{$e:b,Bf:c}}
function NA(a,b){var c=a.clone();c.addClass("doNotTransform");c.children(".inner").addClass("doNotTransform");c.appendTo("#limbo");OA(c,b);for(var d=c.find(".char"),e=0,g=[],h=PA(d),k=1;k<h.length;k++)if(!QA(h[k-1],h[k])){var l=d.index(h[k]);g.push(l-e);e=l}g.push(d.length-e);c.remove();a.data("cachedLineLengths",g);b&&(g=g.map(function(a){return a-1}));return g}function PA(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}
function QA(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function OA(a,b){function c(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"===a)if(b){var e=document.createElement("span");e.textContent="​";e.classList.add("char");$(this).before(e)}else return;if("script"!==a&&"style"!==a){e=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===e.length&&e[0].nodeType===Node.TEXT_NODE&&1===e[0].data.length)return;e.replaceAll(this)}}e.each(c)}}else this.nodeType===
Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");d.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var d=/[\u0300-\u036f]/,e=String(a.data("fontFamily"));Kb&&RA(e)||a.children(".inner").each(c)}function SA(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var TA=!1;
function UA(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}OA(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0",l=a.parent(),m=a.prev();if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);
document.body.contains(a[0])||(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){0<l.length?0<m.length?a.insertAfter(m):a.prependTo(l):a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var n=0,p=-1,q=0,u=0,v=0;b.forEach(function(a){var b=n,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");
g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=p&&QA(g[p],g[h])&&d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),p=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>q&&(q=a,u=h,v=k)));n=e}});k=e[0].offsetWidth;if(q>k){var z=PA(g.slice(u,v+1)).length,k=(k-q)/z,z=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),t=Math.max(h-1E3/12,1E3*k/z),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.aI(x,
t)})}d.forEach(function(a){a()});TA=!0;VA(a);TA=!1}}function WA(a,b){TA||(SA(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),VA(a)))}
function GA(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function HA(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}function DA(a){if(0===a.rangeCount)return!1;a=a.getRangeAt(0);return null!=a.startContainer&&!(a.startContainer instanceof Object)||null!=a.endContainer&&!(a.endContainer instanceof Object)}
function XA(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);if(DA(e))return{$e:[],Bf:[]};CA(a)?1==e.rangeCount&&b(g)&&(g=MA(EA(e.getRangeAt(0).startContainer),a),c=c.concat(g.$e),d=d.concat(g.Bf)):wA(g).filter(function(a){return xA(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=MA(EA(b),
a);c=c.concat(b.$e);d=d.concat(b.Bf)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{$e:c,Bf:d}}
function MA(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=mh(b),c&&e.push(c),d&&g.push(d.ra());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=mh($(a).css("color")||a.getAttribute("color")))&&g.push(d.ra())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&b&&g.push(b)}return{$e:e,Bf:g}}
function wA(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(wA(d))}return b}function EA(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function xA(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function YA(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function ZA(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return YA(b).filter(function(a){return null!==$A(Kb,a)})}function aB(a,b){b?this.cb(a).data("fontMedia",{id:b.id,version:b.version}):this.cb(a).removeData("fontMedia")}function bB(a,b){function c(a){return{id:a.u(),version:a.getVersion()}}b&&0<b.length?this.cb(a).data("htmlFontMedia",b.map(c)):this.cb(a).removeData("htmlFontMedia")}
function cB(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'",e;if(e=Jb)e=Jb.G.get(Jf);e?d+=", notdef":$.browser.msie||(d+=", "+m.generic);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");h.toggleClass("noBold",!m.variants.bold);h.toggleClass("noItalic",!m.variants.italic);h.toggleClass("noBoldItalic",!m.variants.boldItalic);VA(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.cb(a),k=h.data("fontName"),l=!1;b&&RA(String(b))&&(l=!0);d||h.find("font").removeAttr("face");
b!==k&&(this.lt(a),this.Mw(a),WA(h),l&&GA(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family","").css("font-weight",""),c&&c(!0);else if(Kb){h.data("fontFamily",b);var m=$A(Kb,b);d=dB(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Xq(a,d),eB(Kb,d,b,e)):c&&c(!1)}else c&&c(!1)}
function fB(a,b,c){var d=this.cb(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||!c&&(2<=e||.5>=e))this.lt(a),this.Mw(a),WA(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*O.Pi+"%"),!0!==c&&VA(d,!0))}function gB(a){this.ve(this.Bb(),a)}function hB(a){return this.cb(a).data("fontSize")||O.iD}function iB(){for(var a=[],b=0;b<this.NF();b++){var c=this.cb(b).data("fontFamily");c&&a.push(""+c)}return a}
function jB(a,b){a=this.cb(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function kB(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=mh($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.ra():"")}function d(a,b,c){b?a.data("fill",b.ra()).css("color",b.ra()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.cb(a);var e=vA(a),g=CA(a),h=a.is(".focused"),k=mh(a.data("fill")),l=mh(XA(a).Bf[0]);h&&b&&document.execCommand("foreColor",!1,b.ra());h&&g?(e=0<XA(a).Bf.length,
k=l&&l.equals(k),!e||k?d(a,b,!1):c(a,l,b)):(e||g)&&d(a,b,h)}function lB(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(vA(a)||CA(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));VA(a,!0)}
function mB(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(vA(a)||CA(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));VA(a,!0)}
function nB(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),FA(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){VA(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.cb(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();oB(l,c)}b?h.data("list",!0):h.removeData("list")}function pB(a){return"uppercase"===this.cb(a).data("textTransform")}function qB(a,b){a=this.cb(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");VA(a,!0)}
function rB(a,b){a=this.cb(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",O.Xt/100));VA(a,!0)}function sB(a){return this.cb(a).data("lineHeight")||O.Xt}function tB(a,b){a=this.cb(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));VA(a,!0)}
function uB(a,b){a=this.cb(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function vB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function wB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function xB(a){return this.cb(a).data("kernPairs")||{}}
function yB(a,b){return(a=this.cb(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function zB(a){a=this.cb(a);a.data("kernPairs")&&(a.removeData("kernPairs"),SA(a,!0))}
function AB(a){var b=this.cb(a);a=this.ks(a);if(0<Object.keys(a).length){if(OA(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else SA(b)}function BB(a,b,c){if(2===c.length){var d=this.cb(a);a=this.ks(a);a[c]=b;d.data("kernPairs",a)}}function CB(a,b){this.cb(a).data("kernPairs",b)}
function DB(){var a=this.Ge();0<a.parents("#overlays").length&&EB(a)}function GB(a){var b=this.ks(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function HB(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function IB(a){function b(a){if(a=dB(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;a=NA(h)}g.lineLengths=a}function d(){var b=e.XH(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.cb(a),k=String(h.data("fontFamily")),k=RA(k);(function(){var a=h.clone();WA(a,!0);g.html=a.children(".inner").html()})();(function(){uA.forEach(function(a){var b=
h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=dB(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=h.data("fontMedia"));var c=ZA(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function Xm(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}Xm.prototype.lc=function(){return this.type};Xm.prototype.u=function(){return this.id};Xm.prototype.lu=function(){this.type=JB;return this};Xm.prototype.serialize=function(){return this.type===JB||this.type===KB?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function LB(a){this.source=a;this.filename="";this.viewBox=[]}function MB(a){if(a===NB)return NB;if(a=mh(a||""))return a}function OB(a){if(a===NB)return NB;if(a instanceof hn)return a.ra()}LB.prototype.e0=function(a){this.filename=a;return this};var NB="inherit";function PB(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&QB(a)||RB(a)?!1:!0}function QB(a){return SB(a).some(function(a){return-1===TB.indexOf(a.localName.toLowerCase())})}function RB(a){return SB(a).some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||UB.test(e));if(e||-1===VB.indexOf(d))return!0}return!1})}
function SB(a){a=a.get(0);var b=Array.from(a.getElementsByTagName("*"));return[a].concat(b)}
var UB=/^data:image\/[^,;]+;base64,/,TB="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),VB=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function WB(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function XB(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function YB(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==XB(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function ZB(a){if(!PB(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={};d.each(function(){var a=mh($(this).attr("fill"));if(a){var b=a.ra();g.hasOwnProperty(b)||(e.push(a.ra()),g[b]=1);a=e.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function $B(a,b){for(var c=/SVGID_/g,d=new Set,e=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=e.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(e,function(a,c,e,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,e,g,n){return(c||"")+(e||"")+(d.has(g)?b+g:g)+(n||"")})};function aC(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=$B(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=WB(a);return a=YB(a)}function bC(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();cC(a);dC(a);eC(a);fC(a);gC(a)}
function cC(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(e))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function dC(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(hC))?c.match(hC)[2]:a.getAttribute("fill");k&&(c=c.replace(hC,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=mh(b);k=null;iC.equals(c)?k="primaryColor":jC.equals(c)?k="secondaryColor":kC.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill], [FILL]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function eC(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function fC(a){var b=lC(a),c=b.F(),d=b.w(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=mC(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(e);e.id=nC();e.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");e.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+e.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=oC(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function gC(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);a=mC(b,["rect"]);if(null!==a){a=oC(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");e.appendChild(a);var e=mC(b,["text"]),e=pC(e),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in e)a.setAttribute("data-"+n,e[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(e=0;e<b.length;e++)h=b[e],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function oC(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function mC(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function pC(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=qC(Kb),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.styles)if(e.styles[g].psName&&e.styles[g].psName.toLowerCase()===b.toLowerCase())return a=-1<[e.styles.bold,e.styles.boldItalic].indexOf(e.styles[g]),g=-1<[e.styles.italic,e.styles.boldItalic].indexOf(e.styles[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=qC(Kb),e=a.replace(/^['"]|['"]$/g,
"").toLowerCase();if(a=_.find(d,function(a){return(a.internalName||"").toLowerCase()===e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.internalName||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.internalName||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.internalName||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=
g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=mh(e.fill);g?e.fill=g.ra():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));
e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e}var hC=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Z(a){this.i=Lb;this.Qa=$('\x3cdiv class\x3d"element" /\x3e');this.Qa.data("canvaElement",this);this.selected=!1;this.jt=!0;this.ya=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.te=null;this.Jm=this.QP=!1;this.Ha=0;this.link="";this.KB=this.Ih=!1;this.zm=this.origin=null;this.HD=!0;this.Dy=1;this.oe=null;this.WE=["copy","arrange","transparency","link","delete"];this.Uc=!0;this.Cy=!1;if(a){var b=xm({left:a.left,top:a.top,width:a.width,height:a.height});this.td(b);
null!=a.rotation&&(this.rotation=a.rotation);null!=a.flipOrientation&&(this.ya=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.Uc=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Ha=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new Xm(a.origin));null!=a.groupIndex&&(this.Cy=!0)}}f=Z.prototype;f.Iv=function(){return!1};f.vR=function(){this.ke="top"};f.XN=function(){this.ke="middle"};f.IJ=function(){this.ke="bottom"};
f.xs=function(){return this.ke||"top"};f.mv=function(){return O.hJ};f.CV=function(){return{mj:0,hk:0,maxLength:0,Pd:0,cK:[]}};f.eN=function(){return!1};f.Hg=function(){return!1};function rC(a){return"middle"===a.ke}function sC(a){return"bottom"===a.ke}f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Z.prototype,Backbone.Events);f=Z.prototype;
f.h_=function(){return!1};f.lR=function(){return!1};f.transform=function(a){var b=cn(bn([this.F(),this.w()]).transform(a));this.dm(tC(this.Ta(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.Qa};function uC(a){a=a.Qa[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}f.Ff=function(){return!1};f.yv=function(){return!1};f.MM=function(){return!1};f.PM=function(){return!1};f.lA=function(){return!1};
f.WW=function(){this.Ih=!0};f.se=function(){return!1};f.Zp=function(){return!1};f.QV=function(){return!1};f.BH=function(){};f.Kp=function(){};f.Jp=function(){};f.Oq=function(){this.KB=!0};f.tk=function(){this.KB=!1};f.js=function(){return this.WE};f.lq=function(){return!0};f.pV=function(){return[]};f.Md=function(){return 0};
function vC(a,b){function c(){d.off("placeholderImage:loaded",e);d.eG(b)}if(void 0===a.Xa||void 0===a.$c)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.Xa.length,c);a.on("placeholderImage:loaded",e);0===a.Xa.length?window.setTimeout(c,0):a.Xa.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.eG=function(a){function b(){c.HH();a&&a()}if(void 0===this.Xa||void 0===this.$c)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.$c.length,b);0===this.$c.length?window.setTimeout(b,0):this.$c.forEach(function(a){a.initialize(d)})};f.Ef=function(){return this.origin};
function wC(a,b){for(var c=[],d,e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(xC(d.filter,b[d.index]));return c}function yC(a,b,c){for(var d=[],e,g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new zC(e,h));return d}
function yg(a){switch(a.type){case "text":return new Mp(a);case "image":return new AC(a);case "graphic":return"print"!==BC?a=new CC(a):(a=new cp(a),a.nW=!0),a;case "svg":return new cp(a);case "shape":return new DC(a);case "grid":return new EC(a);case "fixed":return new FC(a);case "group":switch(a.generatorType){case GC:return HC(a);default:return new IC(a)}}return null}f.Ce=function(){delete this.ue};
f.remove=function(){this.page&&this.page.sj(this,{p9:!0});this.oe&&this.oe.remove();this.oe=this.te=this.page=null;this.QP=!0};f.K=function(){return this.page?this.page.ia().indexOf(this):-1};f.R=function(){return this.page};f.Yq=function(a){this.page=a};f.em=function(a){this.Ha=a;this.rc()};f.OF=function(){return this.Ha};function JC(a){for(var b in KC)if(KC.hasOwnProperty(b)&&KC[b].test(a))return!0;return!1}function LC(a,b){JC(b)?a.link=b||"":a.link=""}
f.mn=function(){return JC(this.link)?this.link:""};f.kb=function(a){MC(this,a);this.rc()};function MC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function NC(a,b){a.left-=b;a.rc()}function OC(a,b){a.top-=b;a.rc()}function PC(a,b){a.left+=b;a.rc()}function QC(a,b){a.top+=b;a.rc()}f.F=function(){return this.left};function RC(a){return{Ha:a.Ha,rotation:a.Ta(),top:a.w(),left:a.F(),width:a.l(),height:a.o()}}
function SC(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=W;if(a.te){var d=a.C().get(0);a=a.te;d.parentNode&&a.get(0).parentNode&&(d=d.getBoundingClientRect(),a=a.find(".page__content").get(0).getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.$b=function(){return SC(this).left};f.Nd=function(){return SC(this).right};f.kc=function(){return SC(this).top};
f.kd=function(){return SC(this).bottom};f.rh=function(){return SC(this).width};f.nh=function(){return SC(this).height};f.oM=function(){var a=Math.round(this.left*W),b=0;this.page&&(b=TC(vb.Ma[this.page?this.page.K():0])||0);return b+a};f.eb=function(a){UC(this,a);this.rc()};function UC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.w=function(){return this.top};f.setPosition=function(a,b){MC(this,a);UC(this,b);this.rc()};
f.ma=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=VC(this);this.C().css("width",a)};f.l=function(){return this.width};function VC(a){return Math.round(a.l()*W)}f.ea=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=jp(this);this.C().css("height",a)};f.o=function(){return this.height};function jp(a){return Math.round(a.o()*W)}f.setSize=function(a,b){this.ma(a);this.ea(b)};
function ip(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.td=function(a){var b=a.F(),c=a.w();MC(this,b);UC(this,c);this.setSize(a.l(),a.o())};f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.dm=function(a){this.rotation=a;this.rc()};f.Ta=function(){return this.rotation};f.ex=function(a){this.ya=a};f.wt=function(a){var b=this.ya^a;this.ex(a);1!=b&&2!=b||this.Aw();this.rc()};f.hq=function(){return!1};f.Aw=function(){};
f.Za=function(){return this.left+this.width};f.xa=function(){return this.top+this.height};f.Yi=function(){};f.lp=function(){return!this.Cy};f.PD=function(){return!0};f.Gy=function(){return!0};f.QD=function(){return!1};f.ae=function(){return!1};f.Jf=function(){return this.selected};f.Hb=function(){return!1};f.rD=function(){return!1};f.TS=function(){return!1};f.vr=function(){return!1};f.du=function(){return!1};f.US=function(){return!1};f.sy=function(){return!1};f.QJ=function(){return!1};f.nb=function(){return!1};
f.iG=function(){return!1};f.zk=function(a){this.selected=a};function WC(a){return 0<a.C().parents(".group").length}f.rM=function(){var a=this.C().parents(".group");return a.length&&(a=a.data("canvaElement"),a instanceof IC)?a:null};
f.rc=function(a){var b=this.C(),c=Math.round(this.left*W),d=Math.round(this.top*W);if(0<this.C().parents("#overlays").length&&!WC(this))var e=vb.Ma[this.page?this.page.K():0],c=c+Math.round(TC(e)),d=d+Math.round(XC(e));b.css("transform",bp({Sw:this.rotation,Ki:d,Ji:c}));b.css("opacity",(100-this.Ha)/100);this.hq()&&this.FI();!a&&this.te&&this.$a()};f.FI=function(){};function YC(a){var b=O.zS*a.l();a.C().css("perspective",b+"px")}f.clone=function(){return yg(this.serialize())};
f.dl=function(a){a.addElement(this,!0)};f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):ZC(a,this,a.ia().length)};f.Ov=function(a){return a?Yg(this.qa(),a.qa()):!1};f.insertAfter=function(a){var b=a.K();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?ZC(c,this,b+1):d<b?ZC(c,this,b):d>b&&ZC(c,this,b+1);!this.te&&a.te&&(this.te=a.te);this.ab()}};
f.insertBefore=function(a){var b=a.K();if(-1!=b){var c=a.R(),d=c.elements.indexOf(this);-1==d?ZC(c,this,b):d<b-1?ZC(c,this,b-1):d>b&&ZC(c,this,b);!this.te&&a.te&&(this.te=a.te)}};f.ab=function(){function a(){b.te&&b.$a()}var b=this;this.jt&&(MC(this),UC(this),this.rc(!0),this.ma(),this.ea(),this.rc(),this.oe&&this.oe.Fs()?this.oe.update(!1,a):a())};f.$a=function(){if(this.te){var a=this.C().data("toolbar");a&&($C(a),aD(a,this));bD(this)}};
function bD(a){Zg(a).write(function(){var a=this.C(),c=a.data("selectionBox");if(c){var d=this.oM(),e;e=Math.round(this.top*W);var g=0;this.page&&(g=XC(vb.Ma[this.page?this.page.K():0])||0);e=g+e;var g=this.Ta(),h=VC(this),a=jp(this)||a.height(),k=0,l=0,m=80>h||80>a;this.fi&&this.fi()&&(k=this.C().css("font-size").replace("px",""),k=this.fi()/1E3*parseInt(k,10)*W);this.rs&&(l=(this.padding||0)*W);c.css("transform",bp({Ji:d,Ki:e,Sw:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",
m);cD(c,g)}})}f.Bh=function(){var a=this.C(),b=a.data("toolbar"),c=a.data("selectionBox"),d=a.data("sideDrawer");d&&(dD(d,!1),P.delay(200).then(function(){a.removeData("sideDrawer");d.remove()}));b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");T.trigger("hideContextualControlsRequested")};
f.serialize=function(){var a={elementIndex:this.K(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Ha,userEdited:this.Uc};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.ya&&(a.flipOrientation=this.ya);return a};f.ak=function(){return!1};f.Jv=function(){return!1};f.hi=function(){return this.ue||(this.ue=new Vo)};f.mA=function(){return!1};f.cA=function(){return{}};f.CZ=function(){};f.Py=function(){return!1};
function eD(a){var b;b=K.Ea();var c=my(jy()).ka().hn();b=(c=c?mh("#"+c):null)?{ct:c,tt:c.iv()<O.cJ?kn(new hn,255,255,255):kn(new hn,0,0,0),Jt:c.iv()<O.cJ?wn(c,kn(new hn,255,255,255),O.HS):wn(c,kn(new hn,0,0,0),O.HS)}:!fD(b)||b.If()?{ct:kn(new hn,255,255,255),tt:kn(new hn,0,0,0),Jt:kn(new hn,127,127,127)}:{ct:kn(new hn,0,0,0),tt:kn(new hn,255,255,255),Jt:kn(new hn,127,127,127)};c=a.zm;c===b||c&&b&&c.ct.equals(b.ct)&&c.tt.equals(b.tt)&&c.Jt.equals(b.Jt)||(a.zm=b,a.HD=!0)}
function gD(a,b){b!=a.Dy&&(a.Dy=b,a.HD=!0)}f.QB=function(){};function hD(){return 0==this.Fg().length}function iD(){var a=this.fg();if(!a)return null;var b=this.hd(),c=this.Xa?this.Xa[this.Jc()].ya:this.ya;return Mm(a,b,c)}
function jD(){var a=this.C(),b=this.Fg(),c=this.hd(),d=a.data("selectionBox");if(d){c.scale(W).round();var e=a.data("cropControls");e||(e=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),e.data("canvaElement",
this),a.data("cropControls",e),e.appendTo("#overlays"));var g=e.find(".viewPort");g.css(kD(c,0));g.children(".inner").css("width",c.l()).css("height",c.o());var h=b.attr("src")||b.attr("xlink:href"),b=e.find("img.masked, img.uncropped");b.attr("src")!=h&&b.each(function(){lD(mD,$(this),h)});b=nD(d);e.css(kD(b,this.Ta()));b=this.fg();b.scale(W).round();var k=this.Xa?this.Xa[this.Jc()].ya:this.ya;oD(g.find("img.masked"),b,k);b.translate(c.F(),c.w());c=e.find(".cropBox");c.css(kD(b,0));oD(c.find("img.uncropped"),
null,k);d.addClass("cropping");pD(a);a=a.data("confirmationToolbar");$C(a)}}function qD(a,b){var c=this.fg(),d=this.hd();d.kb(0).eb(0);a>d.F()?a=d.F():a+c.l()<d.Za()&&(a=d.Za()-c.l());b>d.w()?b=d.w():b+c.o()<d.xa()&&(b=d.xa()-c.o());c.kb(a).eb(b);this.bm(c)}function rD(a){var b=this.Jc();-1<b&&sD(this.Xa[b],a)}
function tD(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function uD(){this.C().removeClass("cropping");var a=this.Fg();if(a){var b=this.yF().scale(W).round();a.css(kD(b,0)).attr("data-image-rect",JSON.stringify(this.fg().serialize()))}}function vD(){var a=this.Jc();return this.rn(0<=a?a:0)}
function wD(){var a=this.Jc();if(-1===a)return!1;a=this.rl(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}
function xD(a){function b(b){if(c.data("mediaId")===a.ca&&c.data("mediaVersion")===a.da){var d=!!b;b=!!b&&b.src||"";d&&lD(mD,c,b);a.nw&&a.nw(d)}}var c=a.Cn;c.data("mediaId",a.ca);c.data("mediaVersion",a.da);var d=Hb.Kc(a.ca,a.da);if(d){var d=d[yD],e=zD(a.ca,a.da,"print"===BC?AD:Lg);lD(mD,c,d.oa());e.then(function(a){return BD(mD,a.oa())}).then(b).catch(b.bind(null,void 0))}else a.nw&&a.nw(!1)}
function AC(a){var b=this;Z.call(this,a);this.background=!!a.isBackground;this.Pm=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ca="string"===typeof a.mediaId?a.mediaId:null;this.da="number"===typeof a.mediaVersion?a.mediaVersion:null;this.hb=void 0===a.mediaApproved||!!a.mediaApproved;this.mq()?(this.UF=!0,this.az=!1):(this.UF=void 0!==a.isCutout,this.az=!this.UF||a.isCutout);this.GH=!!a.isRecolorable;this.Jm=!this.mq();var c=this.Pb(),d=null!==c,e=this.C();e.addClass("image").toggleClass("hasMedia",
d);if(d){var g=$("\x3cdiv\x3e").addClass("imageWrapper");g.append("\x3cimg\x3e");g.appendTo(e);this.Oc=new zC({mediaId:this.ca,mediaVersion:this.da,mediaApproved:this.hb},g);this.oe=xC(a.filter,this.Oc);this.cm(c.id,c.version).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:image",this)}).catch(function(){T.trigger("elementLoadingError",this)})}else this.oe=this.Oc=null;this.GH&&this.backgroundColor&&e.css("background-color",this.backgroundColor);this.Ug=new V((this.width-
this.width*O.mD)/2,(this.height-this.height*O.mD)/2,this.width*O.mD,this.height*O.mD);this.Ba=new V(-this.Ug.F(),-this.Ug.w(),this.width,this.height);this.Vx=this.qa();this.Tk=!1;if(c=a.imageBox)ul(this,new V(-1*c.left,-1*c.top,this.width,this.height)),this.bm(xm(c)),this.Vx=this.fg(),this.Nr(),a=xm({left:a.left,top:a.top,width:a.width,height:a.height}),this.td(a);this.background&&Wp(this);d||window.setTimeout(function(){T.trigger("elementLoaded",b);T.trigger("elementLoaded:image",b)},0)}
AC.prototype=Object.create(Z.prototype);f=AC.prototype;f.constructor=AC;f.gq=hD;f.wQ=qD;f.Pq=tD;f.hd=vD;f.yF=iD;f.Zp=function(){return!!this.oe};f.QV=function(){return!0};f.Ld=function(){return this.oe};f.Sz=function(){return 0};f.Mp=function(a){return 0===a?this.oe:null};f.lq=function(){return!(!this.oe||!this.oe.Fs())};f.js=function(){return this.rD()?["transparency","delete"]:this.WE};f.x4=AC.prototype.lq;f.BH=function(a,b){CD(this.oe,b)};f.Kp=function(){this.oe.Kp()};f.Jp=function(){this.oe.Jp()};
f.eG=function(a){function b(){c.HH();a&&a()}var c=this;this.oe&&this.oe.initialize(b)};f.HH=function(){var a;this.x4()&&(a=this.C().data("toolbar"))&&a.view.Tu("filter")};f.QD=function(){return!this.Hb()&&!this.ae()};f.mq=function(){return this.hb&&null===this.Pb()};f.appendTo=function(a){this.Hb()?(ZC(a,this,0),DD(a)):Z.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Z.prototype.serialize.call(this),b;this.oe&&(b=ED(this.oe))&&(a.filter=b);a.type="image";a.mediaId=this.ca;a.mediaVersion=this.da;a.isBackground=this.background;a.isRecolorable=this.GH;a.isCutout=this.az;a.isDark=this.Pm;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.hb||(a.mediaApproved=!1);this.Tk&&(a.imageBox=this.Ba.serialize());return a};
f.ma=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.width,this.Ba.scale(b,1),this.Ug.scale(b,1));this.Oc&&sD(this.Oc,this.Tk?this.Ba:new V(0,0,a,this.height));Z.prototype.ma.call(this,a)};
f.ea=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.height,this.Ba.scale(1,b),this.Ug.scale(1,b));this.Oc&&sD(this.Oc,this.Tk?this.Ba:new V(0,0,this.width,a));Z.prototype.ea.call(this,a)};f.hq=function(){return null!==this.Oc};f.ex=function(a){Mm(this.Ba,this.Ug,this.ya^a);this.Ug.kb(-this.Ba.F());this.Ug.eb(-this.Ba.w());this.ya=a};f.FI=function(){oD(this.C().find(".imageWrapper"),null,this.ya)};
f.Aw=function(){YC(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};f.ab=function(){Z.prototype.ab.call(this);var a=this.C();if(this.Tk&&!a.is(".cropping")){var b=this.yF().scale(W).round();$("img",a).css(kD(b,0))}};f.$a=function(){Z.prototype.$a.call(this);this.C().is(".cropping")?this.oz():this.Pq()};f.ZC=function(a){this.mq()||cq(a,this.Pb())||(this.hC(!1),this.da=this.ca=null)};f.ak=function(){return!0};
f.Pb=function(){return null!=this.ca&&null!=this.da?new Zm({id:this.ca,version:this.da}):null};f.Kw=function(){var a=this.Pb();return a?this.cm(a.id,a.version):P.resolve()};f.cm=function(a,b){return new P(function(c,d){this.ca=a;this.da=b;var e=this;xD({Cn:e.C().find("img"),ca:a,da:b,nw:function(a){a?e.eG(c):d()}})}.bind(this))};f.GA=function(){return this.hb};f.hC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.ut=function(){};f.Fg=function(){return this.C().find("img")};
f.Jc=function(){return 0};f.$z=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.ig=function(){return 1};f.rn=function(){return this.Ug.clone()};f.rl=function(){return null};f.Sp=function(){return this.Oc};f.$q=function(){};f.OB=function(){};function ul(a,b){var c=a.Ug.F(),d=a.Ug.w();a.Ug=b.clone();a.Ba.translate(c-a.Ug.F(),d-a.Ug.w())}f.fg=function(){return this.Ba.clone()};f.QM=function(){return!0};
f.oz=function(){if(this.page){var a=this.C();this.DI||(this.DI=!0,this.Vx=new V(this.left+(this.Tk?this.Ba.F():0),this.top+(this.Tk?this.Ba.w():0),this.Ba.l(),this.Ba.o()));var b=FD(vb,this.page),c=TC(b)||0,d=XC(b)||0,b=this.Vx.clone();b.scale(W).translate(c,d).round();(c=a.data("selectionBox"))&&c.css(kD(b,this.Ta()));jD.call(this);0==$(".viewPort .frameHandle").length&&(c=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(c))}};f.Bh=function(){Z.prototype.Bh.call(this);this.Pq()};f.bm=function(a){this.Ba=a.clone()};f.Nr=function(){uD.call(this);var a=this.C();this.Fg().css("position","absolute");a.css("overflow","hidden");var b=this.Ug.clone();b.translate(this.Vx.F(),this.Vx.w());a.addClass("cropping");this.td(b);a.removeClass("cropping");this.Ug.kb(-this.Ba.F()).eb(-this.Ba.w());this.Tk=!0;this.DI=!1};
function Wp(a){var b=a.oc();a.background=!0;a.Jm=!1;a.C().addClass("background");a.page&&(ZC(a.page,a,0),DD(a.page),a.page.trigger("change:background",a.page));a.oc()!==b&&a.$a();a.Ce()}function GD(a){var b=a.oc();a.background=!1;a.Jm=!a.mq();a.C().removeClass("background");a.ae()&&null!==a.backgroundColor&&a.ax(null);a.oc()!==b&&a.$a();a.page&&a.page.trigger("change:background",a.page);a.Ce()}f.Hb=function(){return this.background};f.QJ=function(){return!0};f.rD=function(){return this.background};
f.vr=function(){return!0};f.yv=function(){return!0};f.oc=function(){return this.ae()?this.Hb():this.GH};f.tM=function(){if(this.oc()){var a=mh(this.backgroundColor||O.eJ);if(a)return a.iv()<O.cJ}return this.Pm};f.ae=function(){var a=this;this.UF||null===this.Pb()||(this.UF=!0,Db.Ob(this.ca,(new HD).Ik(this.da),function(b,c){a.az=c.Ja().ae()}));return this.az};f.bb=function(){var a=[];if(this.oc()){var b=mh(this.backgroundColor||O.eJ);b&&a.push(b)}return a};f.Md=function(){return this.bb().length};
f.lh=function(){return null!==this.backgroundColor?mh(this.backgroundColor):null};f.ax=function(a){var b=this.C();a?(this.backgroundColor=a.ra(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.Hb()&&this.page&&this.page.trigger("change:background",this.page);this.Ce()};f.ge=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.ax(b)};
f.hi=function(){if(this.ue)return this.ue;var a=new Vo;this.bb().forEach(function(b){Yo(a,b)});return this.ue=a};
function cp(a){this.ww=[];this.vb=this.Cc=this.rJ=null;this.Vb=$();this.Fx=[];this.cR=$();this.Xa=[];this.$c=[];this.nW=this.loaded=!1;Z.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ca=a.mediaId;this.da=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.AX);this.listenTo(this,"change:fontFamily",this.AX);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.Fi=null;a.svgMetadata&&(this.Fi=a.svgMetadata);a.fillColors&&(this.Xc=a.fillColors.map(function(a){return{index:a.index,color:MB(a.color)}}),Object.freeze(this.Xc));this.cm(this.ca,this.da).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:svg",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}cp.prototype=Object.create(Z.prototype);f=cp.prototype;f.constructor=cp;f.gq=hD;f.Pq=tD;f.hd=vD;f.QM=wD;f.yF=iD;
f.fp=AB;f.yE=HB;f.Lc=hB;f.lv=iB;f.DF=yB;f.ks=xB;f.ns=wB;f.pl=sB;f.CF=pB;f.Mw=vB;f.lt=zB;f.XH=GB;f.$w=IB;f.yo=lB;f.setColor=kB;f.aI=uB;f.Xq=aB;f.gC=bB;f.yk=cB;f.ve=fB;f.fC=gB;f.Ao=mB;f.zi=jB;f.hx=BB;f.cI=CB;f.ix=tB;f.jx=rB;f.kx=nB;f.br=qB;f.Mx=DB;f.hq=function(){return this.nW};f.FA=function(){return!0};f.vr=function(){return!this.Ff()};f.du=function(){return this.se()&&!this.yv()};f.se=function(){return this.Vb&&0<this.Vb.length};f.Zp=function(){return this.$c&&0<this.$c.length};
f.FI=function(){oD(this.C().children("svg"),null,this.ya)};f.Aw=function(){YC(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.ZC=function(a){cq(a,this.Pb())||(this.hC(!1),this.da=this.ca=null)};f.ak=function(){return!0};
f.KD=function(a,b){function c(){k.QP?b&&b(!1):(k.Vb.each(function(a,b){k.vj(a,k.Ub(a),x,!0);$(b).css("opacity","")}),k.ab(),l.forEach(function(a){var b=a.index,c=k.cb(b);k.vj(b,a,function(b){b&&void 0!==a.lineLengths&&UA(c,a.lineLengths);x()},!0)}),k.ww=ID(p,".photoPlaceholder"),k.Jm=0<k.ig(),JD(p,k.ww),KD(p,k.ww),LD(p,k.ww),m&&(k.Xa=yC(m,k.ig(),h),k.$c=wC(m,k.Xa),Object.freeze(k.$c),Object.freeze(k.Xa)),k.Xa.forEach(function(a,b){zm(a.ln(),ym)&&sD(a,MD(k,b))}),vC(k,function(){t=!0;e()}))}function d(){z=
!0;window.setTimeout(e,0)}function e(){if(t&&z&&!k.loaded&&(k.rc(),k.loaded=!0,p.css("position","absolute"),b&&b(!0),null!=k.Fi&&(null==v||JSON.stringify(k.Fi)!==JSON.stringify(v)))){var a=k.R();(a=a?a.Fb:null)&&a.trigger("change")}}function g(a,b){var c=a.parent(),d=a.prev(),e=lC(a),e=$("\x3cdiv\x3e\x3c/div\x3e").css("opacity",0).css("width",e.l()*W).css("height",e.o()*W).append(a).appendTo("#limbo");try{b()}finally{0<c.length?0<d.length?a.insertAfter(d):a.prependTo(c):a.detach(),e.remove()}}var h=
this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(!PB(a,!0)||this.QP)b&&b(!1);else{var n=nC();a=aC(a,n);var p=$(a).filter("svg");bC(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.Cc=lC(p);this.width&&this.height||(this.ma(this.Cc.l()),this.ea(this.Cc.o()));this.Vb=ND(p,nc(this.i));this.Vb.css("opacity",0).data("canvaElement",this).appendTo(h);OD(this);PD(this).each(function(){var a=
$(this).data("designObject");k.listenTo(a,"change:width",k.xX);k.listenTo(a,"change:height",k.wX)});a=QD(p,this.Vb);this.Fx=a.Fx;this.Fx.forEach(function(a){k.listenTo(a,"change",k.GX)});this.cR=a.X2;this.cR.appendTo(h);this.Xc&&this.Xc.forEach(function(a){k.ge(a.index,a.color)});var q=[],u=[];this.Vb.each(function(){var a=$(this).data("fontFamily"),b=LA($(this)).$e;a&&q.push(a);q=q.concat(b)});l.forEach(function(a){var b=YA('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);q=q.concat(b);
a.lineLengths&&k.cb(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(u=u.concat($m(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(u=u.concat(a.htmlFontMedia.map($m)))});var u=u.filter(Boolean),v=this.Fi;g(p,function(){k.vb=RD(p);k.Fi=SD(k,p)});k.vb&&(k.scale&&TD(k),k.ma(k.l()),k.ea(k.o()));var z=!1,t=!1;a=this.Vb.length+l.length;var x=_.after(a,d);0===a&&d();this.Ce();UD(Kb,u,q,c)}};f.ab=function(){Z.prototype.ab.call(this);VD(this);dp(this);WD(this)};
f.ws=function(){var a=this,b=[];this.Vb&&this.Vb.each(function(c){b.push(mh(a.Ub(c).color))});return b};f.Ld=function(){var a=this.Jc();return-1<a?this.$c[a]:null};f.Sz=function(){return this.Jc()};f.Mp=function(a){return this.$c[a]||null};f.lq=function(){return!(!this.Ld()||!this.Ld().Fs())};f.js=function(){var a=this.WE.slice();0<this.ig()&&a.push("deletePlaceholder");return a};f.Kp=function(){this.Ld()&&this.Ld().Kp()};f.Jp=function(){this.Ld()&&this.Ld().Jp()};
f.HH=function(){if(this.Ld()&&this.Ld().Fs()){var a=this.C().data("toolbar");a&&a.view.Tu("filter")}};f.BH=function(a,b){CD(this.$c[a],b)};f.AX=function(a,b){(a=b.data("designObject"))&&this.loaded&&XD(a)};var YD=0;function nC(){YD=YD==Math.pow(2,53)?0:YD+1;return"CANVA"+YD+"_"}function ZD(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function RD(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=nC(),L=nC(),J=document.createElementNS("http://www.w3.org/2000/svg","rect"),Q=document.createElementNS("http://www.w3.org/2000/svg","rect"),S=a.get(0).cloneNode(!0),N=document.createElementNS("http://www.w3.org/2000/svg",
"rect");m.id=n;J.setAttribute("width",e);J.setAttribute("height",g);J.setAttribute("x",c);J.setAttribute("y",d);m.appendChild(J);k.id=L;S.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",S).remove();k.appendChild(S);l.appendChild(k);l.appendChild(m);a.children(":not(.canva)").remove();a.data("clipId",n);a.data("useId",L);h.setAttribute("clip-path","url(#"+n+")");N.setAttribute("width",e);N.setAttribute("height",g);N.setAttribute("x",c);N.setAttribute("y",d);N.setAttribute("class",
"repeat");N.setAttribute("visibility","hidden");N.setAttribute("pointer-events","none");Q.setAttribute("width",e);Q.setAttribute("height",g);Q.setAttribute("class","repeat");Q.setAttribute("display","none");Q.setAttribute("pointer-events","none");Q.setAttribute("class","canva dimensions");b(N,h);h.insertBefore(Q,N);h.setAttribute("class","canva tiled");$D(a)}}if(!ZD(a))return null;var d=lC(a),e={left:0,right:0,top:0,bottom:0,repeat:!1,ot:!0,po:!0},g=a.get(0),h=d.l(),k=d.o();$("g",a).each(function(a,
b){-1!=["n","e","s","w"].indexOf(b.id)&&(e.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(e.right=Math.max(e.right,h-b.getBBox().x),e.right==h&&(e.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(e.left=Math.max(e.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(e.bottom=Math.max(e.bottom,k-b.getBBox().y),e.bottom==k&&(e.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(e.top=Math.max(e.top,b.getBBox().y))});e.ot=!g.classList.contains("verticalOnly");e.po=!g.classList.contains("horizontalOnly");
if(e.repeat){var l=document.createElementNS("http://www.w3.org/2000/svg","defs");b(l,g);var d=e.left+e.right,m=e.top+e.bottom,n=g.classList.contains("horizontalOnly"),g=g.classList.contains("verticalOnly");c($("g#n",a),e.left,0,h-d,n?k:e.top);c($("g#s",a),e.left,k-e.bottom,h-d,n?k:e.bottom);c($("g#c",a),e.left,e.top,h-d,k-m);c($("g#w",a),0,e.top,g?h:e.left,k-m);c($("g#e",a),h-e.right,e.top,g?h:e.right,k-m)}return e}
function $D(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function ID(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=lC(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.l()).css("height",g.o());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0);Bf(a);var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first());Bf(a);b=Wg(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,-k.top);c.push(b)});
0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function ND(a,b){var c=$(),d=ID(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||O.iD).css("font-size",(l.fontSize||O.iD)*O.Pi+"%").data("defaultFontSize",l.fontSize||O.iD).data("original-fill",l.fill).data("is-primary-color",l.fill&&iC.equals(mh(l.fill))).data("is-secondary-color",l.fill&&jC.equals(mh(l.fill))).data("is-tertiary-color",l.fill&&kC.equals(mh(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||O.gJ).css("line-height",l.lineSpacing||O.gJ).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||aE(m);a=new bE(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function QD(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){e=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===e.length){var q=new bE(e.eq(0),b.F(),b.w());e.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=ID(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new cE(a);e.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{Fx:e,X2:d}}
function aE(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function JD(a,b){b.forEach(function(b,d){var e=new V(0,0,O.BS,O.AS);Gm(e,b);a.find("image.placeholder").eq(d).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o())})}
function KD(a,b){b.forEach(function(b,d){var e=Math.max(b.l(),b.o()),e=new V(0,0,e,e);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Fm(Gm(e,b).scale(Math.max(1,O.py)),b);Am(e)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o()))})}
function LD(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var e=d.cloneNode(!0);e.classList.remove("placeholder");e.classList.add("broken");b=Fm(b.clone().scale(.33),b);$(e).appendTo(d.parentNode).attr("x",b.F()).attr("y",b.w()).attr("width",b.l()).attr("height",b.o());e.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function dE(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Em(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Em(b,0,a*d.scale));return b}f=cp.prototype;
f.xX=function(a,b){if(this.vb&&this.vb.ot&&0!==b){var c=Em(this.qa(),b,0);switch(a.Jk.data("justification")){case eE:c.translate(-b/2,0);break;case fE:c.translate(-b,0)}gE(this,c);this.rc()}};f.wX=function(a,b){this.vb&&this.vb.po&&0!==b&&(a=Em(this.qa(),0,b),a.translate(0,-b/2),gE(this,a),this.rc())};function gE(a,b){var c=a.$a,d=a.rc;a.$a=function(){};a.rc=function(){};a.td(b);a.rc=d;a.$a=c}
f.GX=function(a){if(this.vb&&(this.vb.ot||this.vb.po)){var b=!1,c=a.qa(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=dE($(d.data("sourceElement")),a.Yz(),!0,hE(this));if(this.vb.po){var e=c.xa()-d.xa(),b=b||0!==e;this.ea(this.o()+e)}this.vb.ot&&(c=c.Za()-d.Za(),b=b||0!==c,this.ma(this.l()+c));b&&this.ab()}};
function TD(a){var b,c=a.Cc;b={scale:a.scale,deltaX:a.l()/a.scale-c.l(),deltaY:a.o()/a.scale-c.o()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.Cc.l()*c,a.Cc.o()*c);d&&a.ma(c*d+a.l());b&&a.ea(c*b+a.o())}
f.setSize=function(a,b){var c=this.width;iE(a,this.width)&&!iE(b,this.height)?this.ea(b):iE(b,this.height)&&!iE(a,this.width)?this.ma(a):(Z.prototype.ma.call(this,a),Z.prototype.ea.call(this,b),VD(this),WD(this),OD(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Xa.forEach(function(b){var e=b.ln();e.scale(a/c);sD(b,e)}))};
f.ma=function(a){var b;Z.prototype.ma.call(this,a);if(this.vb&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Vb.each(function(){var a=$(this);a.data("dynamicWidth")&&WA(a)});b=lC($("svg",this.C()));b.o()==this.Cc.o()?(a=this.Cc.o()*this.width/this.height,b=this.Cc.clone()):(a=b.o()*this.width/this.height,b=b.clone());b.ma(a);b=[b.F(),b.w(),b.l(),b.o()].join(" ");$("svg",this.C()).get(0).setAttribute("viewBox",b);b=this.vb.left+this.vb.right;var c=this.Cc.l()-b,d=a-b,e=d/c,g=-this.vb.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.vb.top*(a-1));h.vb.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.vb.top*(b-1));"e"==this.id&&h.vb.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.vb.top*(b-1));"w"==this.id&&h.vb.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});VD(this);WD(this)}};
f.ea=function(a){Z.prototype.ea.call(this,a);if(this.vb&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=lC($("svg",this.C()));b.l()==this.Cc.l()?(a=this.Cc.l()*this.height/this.width,b=this.Cc.clone()):(a=b.l()*this.height/this.width,b=b.clone());b.ea(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());b=this.vb.top+this.vb.bottom;var c=this.Cc.o()-b,d=a-b,e=d/c,g=-this.vb.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.vb.left*(a-1));h.vb.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.vb.left*(b-1));"s"==this.id&&h.vb.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.vb.left*(b-1));"n"==this.id&&
h.vb.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});VD(this);WD(this)}};function jE(a){return a.Cc?a.l()/a.Cc.l():0}
function hE(a){var b={scale:jE(a),deltaX:0,deltaY:0};if(!a.vb)return b;var c,d=lC($("svg",a.C()));a.Cc.l()!=d.l()&&a.Cc.o()!=d.o()?c=a.width/d.l():a.Cc.o()==d.o()?c=a.height/a.Cc.o():(a.Cc.l(),d.l(),c=a.width/a.Cc.l());b.scale=c;b.deltaX=d.l()-a.Cc.l();b.deltaY=d.o()-a.Cc.o();return b}
function dp(a){a.Vb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=hE(a),c=c*e.scale;b.css("font-size",c*O.Pi+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=dE(d,c,!!a.vb,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.td(c),a.listenTo(e,"change:width",a.xX),a.listenTo(e,"change:height",a.wX),c.scale(W).round(),b.css(c.serialize()))})}
function PD(a){return a.Vb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function OD(a){if(a.Vb&&0!=a.Vb.length){var b=PD(a),c=hE(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function VD(a){a.C().find(".canva.tiled").each(function(){$D($(this))})}
function WD(a){a.Fx.forEach(function(b,c){var d=hE(a),e=a.C().find(".canva.stack").eq(c),e=dE(e,b.Yz(),!!a.vb,d),g=e.clone().scale(W).round();a.cR.eq(c).css(g.serialize());a.stopListening(b,"change");b.td(e,d.scale);b.ja();a.listenTo(b,"change",a.GX)})}f.remove=function(){this.Vb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&EB(a)});Z.prototype.remove.call(this);this.stopListening();this.Vb.remove();this.Fx.forEach(function(a){a.remove()})};
f.Bh=function(){Z.prototype.Bh.call(this);this.Pq()};f.PP=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};
f.$a=function(){Z.prototype.$a.call(this);kE(this);var a=this.C(),b=a.data("selectionBox");b&&this.vb&&(this.vb.po&&b.addClass("verticalScale"),this.vb.ot&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.oz();else{this.Pq();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&lE(a),this.Xa.length&&(b=-1<this.Jc(),a.view.LZ("imageDelete",
"crop","filter"),a.view.Uf("imageDelete",b),a.view.Uf("crop",b),a.view.Uf("filter",b&&mE(this.Xa[this.Jc()]))),$C(a))}};f.Pb=function(){return null!==this.ca&&null!==this.da?new Zm({id:this.ca,version:this.da}):null};f.Kw=function(){var a=this.Pb();if(!a)return P.resolve();this.contents&&this.contents.splice.bind(this.contents,0,Infinity).apply(null,this.serialize().contents);var b=$('\x3cimg class\x3d"placeholder" /\x3e');this.C().empty().append(b);this.loaded=!1;return this.cm(a.id,a.version)};
f.Wz=function(){for(var a=[],b=0;b<this.ig();b++){var c=this.Sp(b);c&&a.push(c)}return a};f.Jv=function(){return!0};f.Zq=function(a){lD(mD,this.C().find("img.placeholder"),a)};f.cm=function(a,b){this.ca=a;this.da=b;return nE(this)};
function nE(a){return new P(function(a,c){function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.KD(a,e)});g.fail(function(){b?T.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.ab()}h(a)}function g(a){function b(a){var c=!!a;k.Zq(c&&a.src||"");k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(c)}BD(mD,a).then(b).catch(b.bind(null,void 0))}function h(d){d?
window.setTimeout(function(){k.ab();k.QB();a()},0):c()}var k=this,l=Hb.Kc(this.ca,this.da);if(l){var m=l[yD];zD(this.ca,this.da,"print"==BC?AD:Lg).then(function(a){var b=a.oa();a.url.match(/^data:image\/svg\+xml;base64,/i)?(a=window.atob(b.substr(b.indexOf(",")+1)),k.KD(a,e)):a.url.match(/\.svg(\?|$)/)?(k.Zq("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(b)):(k.Zq(m.oa()),g(b))})}else c()}.bind(a))}f.GA=function(){return this.hb};
f.hC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};function oE(a){a=1/jE(a)/W;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function kE(a){var b=a.Fg();pE(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=O.Yo&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",oE(a)))}
function pE(a){qE(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Yi=function(){pE(this)};f.ut=function(a){this.gq()||(this.rJ=a,kE(this),(a=this.C().data("toolbar"))&&aD(a,this))};f.rl=function(a){return(a=this.Xa[a])?a.serialize():null};f.Sp=function(a){return this.Xa[a]||null};
f.$q=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];b.mediaId?sD(rE(sE(tE(e,b.mediaId,b.mediaVersion,c),b.origin?new Xm(b.origin):null),b.mediaApproved),xm(b.imageBox)).ex(b.flipOrientation):this.OB(a)};f.YY=function(){this.OB(this.Jc())};f.OB=function(a){a===this.Jc()&&(this.rJ=null,pE(this));var b=MD(this,a);sD(uE(this.Xa[a]),b);this.$c[a].remove()};function MD(a,b){a=a.rn(b);b=new V(0,0,O.BS,O.AS);a&&Gm(b,a).translate(-a.F(),-a.w());return b}
function qE(a){return a.C().find("svg image.placeholder")}function vE(a){return qE(a).filter(function(){return $(this).attr("xlink:href")!=O.Yo}).first()}f.Fg=function(){return this.rJ||vE(this)};f.Jc=function(){return qE(this).index(this.Fg())};f.$z=function(a){return qE(this).eq(a)};f.ig=function(){return this.ww.length};
f.oz=function(){jD.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.Fg().clone().get(0),c=this.hd().scale(1/jE(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.F(),c.w(),c.l(),c.o()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.hd();d.scale(W).round();a.find("svg").css("transform",bp({Ji:d.F(),Ki:d.w()})).css("width",d.l()).css("height",d.o())};f.wQ=function(a,b){qD.call(this,a,b);b=this.C().data("cropControls");a=this.Fg();b=$("g.cropLayer image",b);var c=this.hd(),d=this.fg();d.translate(c.F(),c.w()).scale(1/jE(this));a.attr("x",d.F()).attr("y",d.w());b.attr("x",d.F()).attr("y",d.w())};
f.bm=function(a){rD.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.hd();a=a.clone();a.translate(c.F(),c.w()).scale(1/jE(this));b.attr("x",a.F()).attr("y",a.w()).attr("width",a.l()).attr("height",a.o())};f.rn=function(a){var b=jE(this);a=this.ww[a].clone();a.scale(b);return a};
f.fg=function(){var a=this.Fg(),b=this.hd(),a=new V(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(jE(this)).translate(-b.F(),-b.w());return a};f.Nr=function(){var a=this.C();a.removeClass("cropping");var b=this.Fg(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){a=a===NB?NB:a.ra();return{index:b,color:a}}var b=Z.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ca;b.mediaVersion=this.da;this.hb||(b.mediaApproved=!1);0!==jE(this)&&(b.scale=hE(this).scale);var c=this,d=[],e;this.loaded?(this.Xa.forEach(function(a,b){if(mE(a)||!a.hb)a=a.serialize(),(b=ED(c.$c[b]))&&(a.filter=b),d.push(a)}),this.Vb&&this.Vb.each(function(a){a=c.Ub(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.bb().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.Xc&&(b.fillColors=this.Xc.map(function(b,c){return a(b.color,c)})));this.Fi&&(b.svgMetadata=this.Fi);return b};
function SD(a,b){function c(a,b){var c,e,g,h,k,z,t,x;a.find("g[id\x3dc]")[0]?(c=d("n"),e=d("s"),g=d("w"),h=d("e"),k=d("nw"),z=d("ne"),t=d("sw"),x=d("se")):a.find("g[id\x3dn]")[0]?(g=d("nw"),h=d("ne"),c=e=k=z=t=x={width:0,height:0}):a.find("g[id\x3dw]")[0]&&(c=d("nw"),e=d("sw"),g=h=k=z=t=x={width:0,height:0});a=Math.max(g.width,k.width,t.width);c=Math.max(c.height,z.height,k.height);return{x:b.x+a,y:b.y+c,width:b.width-a-Math.max(h.width,z.width,x.width),height:b.height-c-Math.max(e.height,x.height,
t.height)}}function d(a){return(a=b.find("g[id\x3d"+a+"]")[0])?a.getBBox():{x:0,y:0,width:0,height:0}}function e(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}w(1===b.closest("#limbo").length,"svg must be in limbo element.");try{var g=a.vb,h={},k={x:a.Cc.F(),y:a.Cc.w(),width:a.Cc.l(),height:a.Cc.o()};h.viewBox=e(k);h.textHolderBoxes=b.find(".textPlaceholder").toArray().map(function(a){return e(a.getBBox())});h.photoHolderBoxes=b.find("image.placeholder").toArray().map(function(a){a=(a=
a.getAttribute("clip-path"))&&a.match(/url\(["']?(.*?)["']?\)/);Fa(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");var c=b.find(a[1]);Fa(1===c.length,"SVG image placeholder's clipPath element is missing or ambiguous.");a=SVGClipPathElement.prototype.getBBox?c[0].getBBox():null;if(null==a||0===a.width&&0===a.height&&null!=c[0].innerHTML)c=$("\x3csvg\x3e\x3cg\x3e\x3c/g\x3e\x3c/svg\x3e").children().html(c.html()).insertAfter(c),a=c[0].getBBox(),c.remove();return e(a)});g&&(h.centerBox=
e(c(b,k)),h.tile=!!g.repeat);return h}catch(l){return wE().log("Failed to serialize SVG metadata.",{error:l}),null}}f.Ge=function(){return this.Vb?this.Vb.filter(".focused"):$()};f.Ff=function(){return 0<this.Ge().length};f.yv=function(){return 0<this.Fg().length};f.hi=function(){function a(a,c){LA($(c)).Bf.forEach(b)}function b(a){(a=mh(a))&&Yo(c,a)}if(this.ue)return this.ue;var c=new Vo;this.Vb&&this.Vb.each(a);this.bb().forEach(function(a){a instanceof hn&&Yo(c,a)});return this.ue=c};f.NF=function(){return this.Vb.length};
f.cb=function(a){return this.Vb?this.Vb.eq(a):$()};f.Bb=function(){return this.Vb.index(this.Ge())};
f.Ub=function(a){function b(a,b,c){var d=Math.PI/2,e=Math.PI,g=Math.PI+Math.PI/2;if(0<=c&&c<d)return b*=Math.sin(c),{left:a.left+b,top:a.top};if(c>=d&&c<e)return b*=Math.sin(c-d),{left:a.right,top:a.top+b};if(c>=e&&c<g)return b*=Math.sin(c-e),{left:a.right-b,top:a.bottom};if(c>=g)return b*=Math.sin(c-g),{left:a.left,top:a.bottom-b};throw Error("Invalid radians value "+c);}function c(a,b,c){var d=a.left-b.left;a=a.top-b.top;var e=Math.sin(c);c=Math.cos(c);return{left:d*c-a*e+b.left,top:d*e+a*c+b.top}}
if(0>a||a>=this.Vb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var d=this.Vb.eq(a);a=this.$w(a);var e=d.data("designObject");e&&(a.preferredFontSize=e.ko);var g=d.children(".inner");a.width=g.prop("clientWidth");a.height=g.prop("clientHeight");e=function(a,d){var e=a[0].getBoundingClientRect(),m=g[0].getBoundingClientRect();if(0===d)return{left:(m.left-e.left)/W,top:(m.top-e.top)/W};d=Jn(0<=d?d:360+d);var n={left:e.left+e.width/2,top:e.top+e.height/2};a=Number(a.prop("clientHeight"));
e=b(e,a,d);e=c(e,n,-d);a=Number(g.prop("clientHeight"))*W;m=b(m,a,d);m=c(m,n,-d);return{left:(m.left-e.left)/W,top:(m.top-e.top)/W}}(this.C(),this.Ta()%360);a.left=e.left;a.top=e.top;d=Number(d.data("lineSpacing"));a.lineHeight=100*(isNaN(d)?O.gJ:d);return a};
f.vj=function(a,b,c,d){if(0<=a&&this.Vb&&a<this.Vb.length){var e=this.Vb.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.yk(a,b.fontFamily,c,d);this.Xq(a,b.fontMedia&&$m(b.fontMedia));this.setColor(a,mh(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.ve(a,b.fontSize*hE(this).scale);this.yo(a,b.bold);this.Ao(a,b.italic);this.zi(a,b.justification);this.kx(a,b.list);this.br(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.ko=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");WA(e)}};f.xL=function(){};f.CE=function(){};f.EA=function(){};
f.ve=function(a,b){var c=this.cb(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=hE(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*O.Pi+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.lt(a),this.Mw(a),WA(c);this.trigger("change:fontSize",this,c,b)}}};f.Lc=function(a){a=hB.call(this,a);var b=hE(this).scale;return a*b};f.fC=function(a){var b=this.Ge().data("designObject"),c=hE(this).scale;b.ko=a/c;gB.apply(this,arguments)};
f.bb=function(){var a=xE(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};f.Md=function(){return this.bb().length};function xE(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=MB(this.getAttribute("fill")))&&(b[a]=d)});return b}f.Py=function(){var a=this.C().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.QB=function(){function a(a,b,c){return wn(mh(a),b,c)}var b=this.zm,c=this.Dy;null!==this.zm&&this.Py()&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.ct,c).ra())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.tt,c).ra())}),this.C().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Jt,c).ra())}),this.Vb.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color");e=jQuery.data(e,"original-fill");g?this.setColor(d,a(e,b.ct,c)):h?this.setColor(d,a(e,b.tt,c)):k&&this.setColor(d,a(e,b.Jt,c))}.bind(this)))};
f.ge=function(a,b){var c=xE(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",OB(b)||a)});this.Ce()};
function Mp(a,b){function c(){g.vj(0,a,d,!0);g.Fh=$.extend(!0,{},a.stylesOverriden);g.jt=!1}function d(a){n=!0;q=a;m&&e()}function e(){var c=p&&q;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.jt=!0,g.ab(),g.Jd&&a.height?g.ea(a.height):g.ea(),UC(g),MC(g),g.rc(),T.trigger("elementLoaded",g),T.trigger("elementLoaded:text",g);else{var d=g;Z.prototype.ea.call(d,a.height);Z.prototype.ma.call(d,a.width);UA(d.C(),a.lineLengths||[]);d.Fz=!0;d.C().toggleClass("failed",d.Fz);d.jt=!0;T.trigger("elementLoadingError",
g)}b&&b(g,c)}Z.call(this,a);var g=this,h=this.C(),k=nc(this.i);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Ng()).append('\x3cdiv class\x3d"inner"\x3e'+k.Ng()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.wG=!0;!1===a.lockedWidth&&(this.wG=!1);k=[];a.fontMedia&&k.push($m(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map($m)));a.verticalAlignment&&(this.ke=a.verticalAlignment);var l=YA(a.html);a.fontFamily&&
l.push(a.fontFamily);var m=!1,n=!1,p=!1,q=!1;this.Fh={};0<k.length?yE(Kb,k,c):c();this.Jd=this.loaded=!1;this.a8=a;UD(Kb,k,l,function(a){m=!0;p=a;n&&e()});this.IN=!1}Mp.prototype=Object.create(Z.prototype);f=Mp.prototype;f.constructor=Mp;f.fp=AB;f.yE=HB;f.Lc=hB;f.lv=iB;f.DF=yB;f.ks=xB;f.ns=wB;f.pl=sB;f.CF=pB;f.Mw=vB;f.lt=zB;f.XH=GB;f.$w=IB;f.yo=lB;f.setColor=kB;f.aI=uB;f.Xq=aB;f.gC=bB;f.yk=cB;f.ve=fB;f.fC=gB;f.Ao=mB;f.zi=jB;f.hx=BB;f.cI=CB;f.ix=tB;f.jx=rB;f.kx=nB;f.br=qB;f.Mx=DB;f.Iv=function(){return!this.loaded};
f.NF=function(){return 1};f.lp=function(){return this.loaded&&!this.Cy&&!this.Fz};f.du=function(){return!0};f.PD=function(){return this.loaded&&!this.Fz};f.h_=function(){return!0};f.lR=function(){return!0};f.FA=function(){return this.wG};f.fk=function(){this.wG=!0};f.DR=function(){this.wG=!1};
function AE(a){if(!a.tr){var b=a.cb(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=zA(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=zA(b)+c);2===c.length&&(a.tr=c)}a.tr&&(a.tr=a.tr.replace(/\s/gi,""),2!==a.tr.length&&(a.tr=void 0));return a.tr}function BE(a){var b=AE(a);return b?a.DF(0,b):0}f.BZ=function(a){var b=AE(this);b&&(this.hx(0,a,b),this.fp(0))};f.bW=function(){var a=AE(this);if(a){var b=BE(this);this.hx(0,Math.min(b+10,200),a);this.fp(0)}};
f.mU=function(){var a=AE(this);if(a){var b=BE(this);this.hx(0,Math.max(b-10,-200),a);this.fp(0)}};f.yk=function(a,b,c,d){this.Fh.fontFamily=!0;cB.call(this,a,b,c,d)};f.ve=function(a,b,c){this.Fh.fontSize=!0;fB.call(this,a,b,c)};f.yo=function(a,b){this.Fh.bold=!0;lB.call(this,a,b)};f.Ao=function(a,b){this.Fh.italic=!0;mB.call(this,a,b)};f.zi=function(a,b){this.Fh.justification=!0;jB.call(this,a,b)};f.setColor=function(a,b){this.Fh.color=!0;kB.call(this,a,b);this.Ce()};
f.ma=function(a){var b=void 0!==a&&a!==this.width;Z.prototype.ma.call(this,a);a=this.l();uC(this).css("width",Math.round(a));b&&!this.IN&&WA(this.C())};f.ea=function(a){this.Jd?a&&Z.prototype.ea.call(this,a):(a=uC(this).prop("scrollHeight")||0,Z.prototype.ea.call(this,a))};f.setSize=function(a,b,c){this.IN=!!c;this.ma(a);this.ea(b);this.IN=!1};
f.rc=function(){var a=uC(this),b=W,c=.5*(O.Xt-this.pl(0))/100*b;a.css("transform","translateY("+c+"em) scale("+b+")").css("transform-origin","top left").css("width",this.l());Z.prototype.rc.apply(this,arguments)};f.Ge=function(){return this.Qa};f.Ff=function(){return 0<this.Qa.length};f.hi=function(){if(this.ue)return this.ue;var a=new Vo;LA(this.Qa).Bf.forEach(function(b){(b=mh(b))&&Yo(a,b)});return this.ue=a};f.cb=function(a){return 0!==a?$():this.Qa};f.Bb=function(){return 0};
f.Ub=function(a){a=this.$w(a);a.height=this.o();a.width=this.l();this.Jd&&(a.fontSizeAuto=this.Jd);return a};f.ws=function(){return[mh(this.Ub(0).color)]};function CE(a){return LA(a.C()).Bf.filter(function(a,c,d){return d.indexOf(a)===c})}
f.vj=function(a,b,c,d){var e=this,g=this.C(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map($m):[],k=this.yE(b.kerning),l=b.lineLengths,m=b.fontFamily;this.Jd=!1;uC(this).html(b.html);this.gC(a,h);this.Xq(a,b.fontMedia&&$m(b.fontMedia));this.ve(a,b.fontSize);this.yo(a,b.bold);this.Ao(a,b.italic);this.zi(a,b.justification);this.ix(a,b.letterSpacing);this.jx(a,b.lineHeight);this.kx(a,b.list);this.br(a,b.textTransform);this.setColor(a,mh(b.color));l&&g.data("cachedLineLengths",l);this.Fh=$.extend(!0,
{},b.stylesOverriden);this.Ce();this.yk(a,m,function(b){b&&(k&&e.fp(a),l&&(0<l.length||!(0!==l.length||Kb&&RA(m)))&&UA(g,l));c&&c(b)},d);k&&this.cI(a,k);b.fontSizeAuto&&DE(this)};f.xL=function(){DE(this)};f.CE=function(){this.Jd=!1};f.EA=function(){return this.Jd};f.se=function(){return!0};f.MM=function(){return!0};function EE(a,b){a.border=b?{width:b}:{width:0};a.ab()}f.fi=function(){return this.border&&this.border.width||0};f.PM=function(){return!0};f.iC=function(a){this.padding=a?a:0;this.ab()};
f.rs=function(){return this.padding};f.ab=function(){Z.prototype.ab.call(this);var a=this.C(),b="#000000",c=LA(a).Bf;0<c.length&&(b=c[c.length-1]);this.fi()?a.css("border",this.fi()/1E3*W+"em solid "+b):a.css("border","none");a.css("padding",this.padding*W+"px")};f.mv=function(){var a=O.hJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(FE));return a};f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&EB(a);Z.prototype.remove.call(this)};
f.$a=function(){Z.prototype.$a.call(this);var a=this.C(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&(this.Jd?(a.addClass("autoSize"),a.removeClass("horizontalScale")):(a.addClass("horizontalScale"),a.removeClass("autoSize"))),lE(b),$C(b))};f.Bh=function(){Z.prototype.Bh.call(this);var a=this.C(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};function DE(a){a.Jd=!0;a.fk();a.$a()}
f.serialize=function(){var a=Z.prototype.serialize.call(this);if(!this.loaded){var b=this.a8;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Ub(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.Fh);for(var d in c)a[d]=c[d];this.ke&&(a.verticalAlignment=this.ke);delete a.fontSizeAuto;return a};
function EC(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}void 0===a&&(a={});a.width=a.width||O.rS;a.height=a.height||O.rS;Z.call(this,a);var c=parseInt(a.spacing,10);this.spacing=isNaN(c)||!isFinite(c)||0>c?O.jD:c;this.items=a.items||b();this.Jm=!0;c=this.C();c.addClass("grid").css("width",this.width*W).css("height",this.height*W);GE(this,HE(this.items));a=a.contents||[];this.Xa=yC(a,this.ig(),c);Object.freeze(this.Xa);this.$c=wC(a,this.Xa);Object.freeze(this.$c);
this.load().bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:grid",this)})}EC.prototype=Object.create(Z.prototype);f=EC.prototype;f.constructor=EC;f.gq=hD;f.fg=function(){return-1===this.Jc()?null:this.Xa[this.Jc()].ln()};f.oz=jD;f.wQ=qD;f.bm=rD;f.Pq=tD;f.Nr=uD;f.hd=vD;f.QM=wD;f.yF=iD;f.hq=function(){return!0};f.Yq=function(a){Z.prototype.Yq.call(this,a);this.C().toggleClass("fullPageGrid",this.Hg())};
f.setSize=function(a,b,c){Z.prototype.setSize.call(this,a,b,c);this.C().toggleClass("fullPageGrid",this.Hg())};f.rc=function(){Z.prototype.rc.call(this);this.C().toggleClass("fullPageGrid",this.Hg())};f.Kw=function(){this.Xa.forEach(function(a){a.VF=!1});return this.load()};f.load=function(){return new P(function(a){vC(this,a)}.bind(this))};f.hi=function(){if(this.ue)return this.ue;var a=new Vo;this.Xa.forEach(function(b){(b=b.lh())&&Yo(a,b)});return this.ue=a};f.bb=function(){return this.Xa.map(function(a){return a.lh()})};
f.Md=function(){return this.bb().length};f.ge=function(a,b){var c=this.Xa[a]||this.Xa[this.Xa.length-1];this.$q(a,null);c.ax(b);this.$a();this.Ce()};
function HE(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Zp=function(){return this.$c&&0<this.$c.length};f.Ld=function(){var a=this.Jc();return-1!=a&&mE(this.Xa[a])?-1<a?this.$c[a]:null:null};f.Sz=function(){var a=this.Jc();return-1!==a&&mE(this.Xa[a])?a:-1};f.Mp=function(a){return this.$c[a]};f.lq=function(){return this.Ld()&&this.Ld().Fs()};f.tM=function(){return!1};
f.lh=function(){return 1===this.Md()?mh(this.bb()[0]):null};f.mq=function(){return null!==this.lh()};f.oc=function(){var a=1===this.Xa.length&&null===this.Xa[0].Pb();return this.mq()||a};f.Hg=function(){return!(!this.page||!Km(this.qa(),this.page.qa()))};f.vr=function(){return!0};f.yv=function(){return 0<this.Fg().length};f.js=function(){var a=this.WE.slice();0<this.ig()&&a.push("deletePlaceholder");return a};f.Kp=function(){this.Ld()&&this.Ld().Kp()};f.Jp=function(){this.Ld()&&this.Ld().Jp()};
f.HH=function(){if(this.Ld()&&this.Ld().Fs()){var a=this.C().data("toolbar");a&&a.view.Tu("filter")}};f.BH=function(a,b){CD(this.$c[a],b)};f.YY=function(){this.OB(this.Jc());this.C().find(".active").removeClass("active")};function Wm(a,b,c,d){if(d)return new V(0,0,a,b);c*=O.yS;return new V(-c,-c,a+2*c,b+2*c)}function GE(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);IE(a)}f.ab=function(){Z.prototype.ab.call(this);IE(this);JE(this)};
function IE(a){var b=Math.round(Math.round(a.spacing/2)*W);a=uC(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function JE(a){a.Xa.forEach(function(a){a.update()})}
f.$a=function(){function a(){if(KE(vb,c.R())){var a=c.Xa[c.Jc()];if(a)if(mE(a)){e.view.Tu("crop","filter","flip","imageDelete");e.view.LZ("crop","filter","flip");var d;d=a.Qa.find("img.placeholder");a=a.Qa.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():O.Yo;b(d)}else e.view.MK("crop","filter","flip","imageDelete"),e.view.YF("crop","filter","flip"),b(O.Yo),(d=c.bb()[c.Jc()])&&e.view.setColor([d.ra()],g);else b(O.Yo),e.view.MK("crop","filter","flip","imageDelete"),
e.view.YF("crop","filter","flip")}}function b(a){e.view.setColor(["url("+a+")"],g)}Z.prototype.$a.call(this);var c=this,d=this.C(),e=d.data("toolbar"),g=xe();d.is(".cropping")?this.oz():(this.Pq(),e&&a())};f.Bh=function(){Z.prototype.Bh.call(this);this.Pq()};f.ar=function(a){this.spacing=a;this.ab()};f.remove=function(){Z.prototype.remove.call(this);this.$c.forEach(function(a){a.remove()})};f.pe=function(){return this.spacing};f.lA=function(){return!0};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Xa.forEach(function(a,e){a.isEmpty()||(a=a.serialize(),a.filter=ED(b.$c[e]),c.push(a))});a.contents=c;return a};f.ut=function(a){if(!this.gq()){T.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.$a()}};
f.Fg=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.Jc=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.$z=function(a){return this.C().find(".item .placeholder").eq(a)};f.ig=function(){return this.C().find(".item .placeholder").length};
f.rn=function(a){a=this.$z(a).parent("div.content");var b=new V(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Em(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,e=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.l(),e*b.o()).ma(b.l()*g).ea(b.o()*a)});b.ma(b.l()-this.spacing).ea(b.o()-this.spacing);return b};
f.rl=function(a){return(a=this.Xa[a])?a.serialize():null};f.Sp=function(a){return this.Xa[a]||null};f.$q=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];e&&(b&&b.mediaId?sD(rE(sE(tE(LE(e),b.mediaId,b.mediaVersion,c),b.origin?new Xm(b.origin):null),b.mediaApproved),xm(b.imageBox)).ex(b.flipOrientation):b&&b.backgroundColor?e.ax(mh(b.backgroundColor)):(e.clear(),this.$c[a].remove(),ME(this.$c[a],new NE)))};f.OB=function(a){this.$q(a,null)};f.mA=function(){return!0};
f.cA=function(){return{imageBoxes:this.Xa.map(function(a){return a.isEmpty()?null:a.ln().serialize()})}};f.CZ=function(a){a=a.imageBoxes;for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b],d=a[b];d&&!c.isEmpty()&&sD(c,xm(d))}};f.Wz=function(){for(var a=[],b=0;b<this.ig();b++){var c=this.Sp(b);c&&a.push(c)}return a};f.Jv=function(){return!0};function OE(a){this.a=a}function PE(){var a=document.createElement("a");return new OE(a)}function QE(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function lD(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),QE(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function BD(a,b){return lD(a,new Image,b)}var mD=PE();function RE(a){this.N=a;this.path="/licenses"}
RE.prototype.mF=function(a){var b=a.status,c=a.D,d=a.document,e=a.Bc,g=a.media,h=a.X_,k=a.Y,l=a.limit;a=[].concat(ma(a.types.map(function(a){return"type\x3d"+encodeURIComponent(a)})),ma(b.map(function(a){return"status\x3d"+encodeURIComponent(a)})),[c&&"brand\x3d"+encodeURIComponent(c),d&&"document\x3d"+encodeURIComponent(d)],ma(e.map(function(a){return"license\x3d"+encodeURIComponent(a)})),ma(g.map(function(a){return"media\x3d"+encodeURIComponent(a)})),[h&&"validAt\x3d"+encodeURIComponent(String(h)),
k&&"continuation\x3d"+encodeURIComponent(k),l&&"limit\x3d"+encodeURIComponent(String(l))]);return uj(this.N,this.path+"?"+a.filter(function(a){return!!a}).join("\x26")).get(0).then(La).then(SE)};function $h(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}function Bi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}
function TE(a,b){switch(b){case "MEDIA":return"MEDIA";case "FONT_FAMILY":return"FONT_FAMILY";default:throw new TypeError('expected ResourceType for property "'+a+'", found: '+JSON.stringify(b));}}function UE(a,b){switch(b){case "ACTIVATED":return"ACTIVATED";case "REVOKED":return"REVOKED";default:throw new TypeError('expected LicenseStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function VE(a,b){switch(b){case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";default:throw new TypeError('expected Prerequisite for property "'+a+'", found: '+JSON.stringify(b));}}function WE(a){this.types=a.types||[];this.status=a.status||[];this.D=a.D;this.user=a.user;this.document=a.document;this.Bc=a.Bc||[];this.media=a.media||[];this.D9=a.D9||[];this.MH=a.MH;this.X_=a.X_;this.O8=a.O8||[];this.Y=a.Y;this.limit=a.limit}f=WE.prototype;f.ph=function(){return this.status};f.ka=function(){return this.D};
f.La=function(){return this.user};f.getDocument=function(){return this.document};f.Ob=function(){return this.media};f.Nb=function(){return this.Y};f.$d=function(){return this.limit};function XE(a){this.id=a.id;this.media=a.media;this.fZ=a.fZ;this.MH=a.MH;this.da=a.da;this.hZ=a.hZ;this.D=a.D;this.user=a.user;this.hU=a.hU;this.lW=a.lW;this.document=a.document;this.gU=a.gU;this.aO=a.aO;this.Az=a.Az;this.tY=a.tY;this.type=a.type;this.status=a.status;this.cX=a.cX;this.gZ=a.gZ}f=XE.prototype;f.u=function(){return this.id};
f.Ob=function(){return this.media};f.qs=function(){return this.da};f.ka=function(){return this.D};f.La=function(){return this.user};f.getDocument=function(){return this.document};f.lc=function(){return this.type};f.ph=function(){return this.status};
function YE(a){return new XE({id:C("id",a),media:C("media",a),fZ:D("resource",a),MH:Qa(TE,"resourceType",a),da:A("mediaVersion",a),hZ:B("resourceVersion",a),D:C("brand",a),user:D("user",a),hU:C("creatingBrand",a),lW:C("invoiceItem",a),document:D("document",a),gU:A("createdDate",a),aO:A("modifiedDate",a),Az:B("expiryDate",a),tY:Qa(VE,"prerequisite",a),type:Pa(Bi,"type",a),status:Pa(UE,"status",a),cX:C("mediaBrand",a),gZ:D("resourceBrand",a)})}
function ZE(a){this.Bc=a.Bc||[];this.Wl=a.Wl;this.Y=a.Y}ZE.prototype.Nb=function(){return this.Y};function SE(a){return new ZE({Bc:G(YE,"licenses",a),Wl:A("responseTimestamp",a),Y:D("continuation",a)})};function $E(a){this.N=a}
function aF(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("continuation"in b&&null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.N.get(b,function(a,b){var g=null;200==a&&(g={media:bF(b.media),continuation:b.continuation});c&&c(a,g)})}
function cF(a,b){return new P(function(a,d){aF(this,b,function(b,g){g?a({Y:g.continuation,media:g.media}):d(b)})}.bind(a))}function dF(a,b){return sj(a.N,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Fj)}
$E.prototype.Ob=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.N.get(a,function(a,b){b=200==a?Fj(b):null;c&&c(a,b)})};function eF(a,b,c){return new P(function(a,e){this.Ob(b,c,function(b,c){Gk(b)?a(c):e(b)})}.bind(a))}
function fF(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+("unwatermarked"in b?"\x26unwatermarked\x3d"+encodeURIComponent(b.unwatermarked):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.N.get(b,function(a,b){var d=null;200==a&&(d={media:bF(b.media)});c&&
c(a,d)})}function gF(a,b){return new P(function(a,d){fF(this,b,function(b,g){Gk(b)?a(g):d(b)})}.bind(a))}function hF(a,b,c){var d="/media/"+encodeURIComponent(b.u())+"/"+b.getVersion();a.N.post(d,b,function(a,b){b=200==a?Fj(b):null;c&&c(a,b)})}function iF(a,b,c,d){b=(new jF).Uo(b).Ik(c).Tt(!0);hF(a,b,d)}function kF(a,b,c){return new P(function(a,e){iF(this,b,c,function(b,c){Gk(b)?a(c):e(b)})}.bind(a))}
$E.prototype.$_=P.method(function(a,b){function c(a){return 404===a}function d(){return eF(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.Ja().ph(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Ja().ph()===lF?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var yD="THUMBNAIL",Lg="SCREEN",AD="PRINT";function St(a,b){switch(b){case "THUMBNAIL":return yD;case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return Lg;case "PRINT":return AD;case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}var Eg="RASTER",Gg="VECTOR";
function qh(a,b){switch(b){case "RASTER":return Eg;case "VECTOR":return Gg;case "DESIGN":return"DESIGN";case "FONT":return"FONT";case "ELEMENT_GROUP":return"ELEMENT_GROUP";default:throw new TypeError('expected MediaType for property "'+a+'", found: '+JSON.stringify(b));}}
function mF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function nF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function Zi(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}
function Fi(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function oF(a,b){switch(b){case "MERGE":return"MERGE";case "REPLACE":return"REPLACE";default:throw new TypeError('expected ListUpdatePolicy for property "'+a+'", found: '+JSON.stringify(b));}}function Zm(a){this.id=a.id;this.version=a.version}
Zm.prototype.u=function(){return this.id};Zm.prototype.getVersion=function(){return this.version};function Xv(a){return{id:ib("id",a.id),version:db("version",a.version)}}function $m(a){return new Zm({id:C("id",a),version:A("version",a)})}function pF(a){this.jm=a.jm;this.er=a.er;this.wF=a.wF;this.oG=a.oG||[]}function Mg(a){return{spritesWide:db("spritesWide",a.jm),spritesHigh:db("spritesHigh",a.er),fullyRecolorable:gb("fullyRecolorable",a.wF),layers:kb(qF,"layers",a.oG)}}
function Yr(a){return new pF({jm:A("spritesWide",a),er:A("spritesHigh",a),wF:Ma("fullyRecolorable",a),oG:G(rF,"layers",a)})}function sF(a){this.type=a.type;this.KA=a.KA;this.color=a.color}sF.prototype.lc=function(){return this.type};sF.prototype.vM=function(){return this.KA};sF.prototype.Mb=function(){return this.color};function qF(a){return{type:lb(mF,"type",a.type),layerIndex:eb("layerIndex",a.KA),color:I("color",a.color)}}
function rF(a){return new sF({type:Pa(nF,"type",a),KA:B("layerIndex",a),color:D("color",a)})}function tF(a){this.title=a.title;this.description=a.description;this.zd=a.zd||[];this.tI=a.tI||[]}tF.prototype.qb=function(){return this.title};tF.prototype.He=function(){return this.description};tF.prototype.Tj=function(){return this.zd};tF.prototype.MF=function(){return this.tI};
function uF(a){return{title:I("title",a.title),description:I("description",a.description),keywords:kb(vF,"keywords",a.zd),superKeywords:kb(vF,"superKeywords",a.tI)}}function vF(a){return{locale:ib("locale",a.locale),text:ib("text",a.text)}}function wF(a){this.data=a.data;this.xW=a.xW;this.g_=a.g_}wF.prototype.getData=function(){return this.data};var lF="APPROVED",xF={Jaa:"F",Paa:"K",Zaa:"S",cba:"T",Eaa:"D"},KB="DOCUMENT",Kg="FACEBOOK",JB="LAYOUT";function yF(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.$x||!1;this.page=a.page||0;this.quality=a.ti||null}f=yF.prototype;f.oa=function(){return this.url};f.o=function(){return this.height};f.l=function(){return this.width};f.R=function(){return this.page};f.KF=function(){return this.quality};
function Tq(a){return a?$.extend(new yF,a):null}function zF(a,b){this.locale=a;this.text=b}zF.prototype.Df=function(){return this.locale};zF.prototype.ul=function(){return this.text};function AF(a){return a?$.extend(new zF(a.locale,a.text),a):null}
function BF(a){a=void 0===a?{}:a;this.version=a.version||0;this.listed=a.jca||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.Aca;this.importState=a.aca||"PENDING_IMPORT";this.importMessage=a.$ba;this.designVersion=a.Gba;this.designType=a.ej;this.artist=a.tba||"";this.title=a.title||"";this.titles=a.ada;this.description=a.description||"";this.descriptions=a.fz;this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.az||!1;this.isolated=a.eca||!1;this.photoholder=
a.rca||!1;this.textholder=a.Zca||!1;this.repeating=a.Dca||!1;this.recolorable=a.GH||!1;this.superKeywords=a.tI||[];this.keywords=a.zd||[];this.files=a.files||{};this.quality=a.ti;this.ageRating=a.sba||null;this.spritesheetMetadata=a.Sg;this.licensing=a.OA;this.submittedBy=a.Sca;this.submittedDate=a.Tca;this.reviewedBy=a.Hca;this.reviewedDate=a.Ica}f=BF.prototype;f.getVersion=function(){return this.version};f.ph=function(){return this.status};f.qV=function(){return this.artist};f.qb=function(){return this.title};
f.He=function(){return this.description};f.Df=function(){return this.locale};f.Hb=function(){return this.background};f.ae=function(){return this.cutout};f.HA=function(){return this.repeating};f.oc=function(){return this.recolorable};f.MF=function(){return this.superKeywords};f.Tj=function(){return this.keywords};f.ic=function(){return this.files};f.KF=function(){return this.quality};f.vs=function(){return this.spritesheetMetadata};f.wM=function(){return this.licensing};
function CF(a){var b={},b=(b.ONE_USE=0,b.ROYALTY_FREE=0,b.EXTENDED=0,b),c={},c=(c.ONE_USE=1,c.ROYALTY_FREE=10,c.EXTENDED=100,c);switch(a.wM()){case "NOT_APPLICABLE":return{};case "STANDARD":return c;case "FREE":return b;case "NONE":return b;default:throw new TypeError("expected Licensing for media bundle, found: "+JSON.stringify(a.wM()));}}
function DF(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.Yba||"";this.importFilename=a.Zba||"";this.type=a.type||Eg;this.copyright=a.Bba||"";this.bundle=a.yba||new BF;this.deactivated=a.tE||!1;this.oneTimeUseDiscountable=a.nca||!1;this.brand=a.D||"";this.user=a.user;this.design=a.Ee;this.restrictedAccess=a.Fca||!1}f=DF.prototype;f.u=function(){return this.id};f.lc=function(){return this.type};f.Ja=function(){return this.bundle};f.Kv=function(){return this.oneTimeUseDiscountable};
f.ka=function(){return this.brand};f.La=function(){return this.user};function Fj(a){if(!a)return null;a=$.extend(new DF,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new BF,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(AF));c.keywords&&(c.keywords=c.keywords.map(AF));if(c.files)for(b in c.files)c.files[b]=Tq(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Yr(La(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}
function bF(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Fj(a[c]));return b}function EF(){this.projections=[]}f=EF.prototype;f.Aj=function(a){this.brand=a;return this};f.Wt=function(a){this.user=a;return this};f.Vt=function(a){this.restricted=a;return this};f.ey=function(a){this.staging=a;return this};f.e0=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.gS=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Tt=function(a){this.deactivated=a;return this};
f.TI=function(a){this.locale=a;return this};f.To=function(){this.projections.push("F");return this};f.SI=function(){this.projections.push("K");return this};f.d0=function(){this.projections=Object.keys(xF).map(function(a){return xF[a]});return this};f.Bj=function(a){this.continuation=a;return this};f.Vg=function(a){this.limit=a;return this};function FF(a,b){a.types=b;return a}function GF(){}GF.prototype.Ut=function(a){this.name=a;return this};GF.prototype.Vt=function(a){this.restricted=a;return this};
GF.prototype.h0=function(a){this.listed=a;return this};function HF(a,b){a.fileSize=b;return a}GF.prototype.TI=function(a){this.locale=a;return this};function HD(){}f=HD.prototype;f.Ik=function(a){this.version=a;return this};f.ey=function(a){this.staging=a;return this};function IF(a){a.projection="";return a}f.To=function(){this.projection=(this.projection||"")+"F";return this};f.SI=function(){this.projection=(this.projection||"")+"K";return this};
f.i0=function(){this.projection=(this.projection||"")+"T";return this};f.c0=function(){this.projection=(this.projection||"")+"D";return this};function JF(){this.projections=[]}function KF(a,b){a.refs=b;return a}f=JF.prototype;f.gS=function(a){this.ids=a;return this};f.ey=function(a){this.staging=a;return this};f.d0=function(){this.projections=Object.keys(xF).map(function(a){return xF[a]});return this};f.To=function(){this.projections.push("F");return this};
f.i0=function(){this.projections.push("T");return this};f.c0=function(){this.projections.push("D");return this};function LF(a){a.unwatermarked=!0;a.projections.push("F")}function jF(){}f=jF.prototype;f.Uo=function(a){this.id=a;return this};f.u=function(){return this.id};f.Ik=function(a){this.version=a;return this};f.getVersion=function(){return this.version};f.Tt=function(a){this.deactivated=a;return this};f.h0=function(a){this.listed=a;return this};f.f0=function(a){this.importVersion=a;return this};
function MF(a,b){b={data:cb.required("data",uF(b.data)),keywordsUpdatePolicy:mb(oF,"keywordsUpdatePolicy",b.xW),superKeywordsUpdatePolicy:mb(oF,"superKeywordsUpdatePolicy",b.g_)};a.contentMetadata=b;return a}f.SI=function(a){this.keywords=a;return this};f.TI=function(a){this.locale=a;return this};function NF(a,b,c){this.vC=a;this.z$=b;this.A$=c;this.TZ=null;this.zN=this.AN=0;this.t2=this.isAlpha()?"destination-in":"lighter";this.color=OF(this);this.Be=null}f=NF.prototype;f.oc=function(){return"RECOLORABLE"===this.vC.type};f.isAlpha=function(){return"BACKGROUND_A"===this.vC.type};
function OF(a){switch(a.vC.type){case "RECOLORABLE":return mh(a.vC.color);case "BACKGROUND_R":return kn(new hn,255,0,0);case "BACKGROUND_G":return kn(new hn,0,255,0);case "BACKGROUND_B":return kn(new hn,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.vM=function(){return this.vC.KA};f.Mb=function(){return this.color};f.setColor=function(a){this.oc()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.Be=a.getImageData(b,c,d,e);c=la([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.Be.data.length;d+=4){var g=la(this.color.ob.slice());e=g.next().value;var h=g.next().value,g=g.next().value;this.Be.data[d]=this.Be.data[d]/255*e;this.Be.data[d+1]=this.Be.data[d+1]/255*h;this.Be.data[d+2]=this.Be.data[d+2]/255*g}a.putImageData(this.Be,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){PF(b,this.t2);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function PF(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}f.Ce=function(){this.Be=null};function QF(a){this.Ko=a.Ko;this.jm=a.jm;this.er=a.er;this.hN=a.hN;this.hf=a.hf;this.Kn=a.Kn;this.WM=a.WM;this.gH=[];this.ND=null;this.LD=!1}function RF(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=SF(a),e=a.jm,g=a.er;a=a.wF;var h=PE();return(new QF({Ko:d,jm:e,er:g,hf:b,Kn:c,hN:a,WM:h})).init()}
function SF(a){return a.oG.map(function(b,c){return new NF(b,c%a.jm,Math.floor(c/a.jm))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.vM()-c.vM()})}QF.prototype.init=function(){this.gH=TF(this);return this};QF.prototype.Mk=function(a){var b=this;this.ND=null;this.LD=!1;return BD(this.WM,a).then(function(a){return UF(b,a)}).then(function(){return VF(b)}).then(function(){return WF(b)}).then(function(){return b.LD=!0}).catch(function(){throw Error("Could not build spritesheet");})};
QF.prototype.oc=function(){return this.Ko.some(function(a){return a.oc()})};function XF(a){var b=[iC,jC,kC];return a.hN&&a.gH.every(function(a){return b.some(function(b){return b.equals(a)})})}function TF(a){return YF(a).map(function(a){return a.Mb()})}function YF(a){return a.Ko.filter(function(a){return a.oc()})}QF.prototype.toDataURL=function(){return this.LD&&this.ND||(this.ND=this.hf.canvas.toDataURL())};
function ZF(a,b){var c=a.Ko.indexOf(b);if(!(0>c)){var d=a.Kn,c=c*a.hf.canvas.width,e=a.hf.canvas.width,g=a.hf.canvas.height;b.Ce();PF(d,"source-over");d.drawImage(b.TZ,b.z$*b.AN,b.A$*b.zN,b.AN,b.zN,c,0,e,g);if(b.isAlpha()){var h=la([c,0]);a=h.next().value;h=h.next().value;b.Be=b.Be||d.getImageData(c,0,e,g);for(c=0;c<b.Be.data.length;c+=4)b.Be.data[c+3]=b.Be.data[c],b.Be.data[c]=b.Be.data[c+1]=b.Be.data[c+2]=255;d.putImageData(b.Be,a,h)}else b.color&&(PF(d,"multiply")?(d.fillStyle=b.color.toString(),
d.fillRect(c,0,e,g)):b.multiply(d,c,0,e,g))}}function UF(a,b){var c=b.width/a.jm,d=b.height/a.er;a.hf.canvas.width=c;a.hf.canvas.height=d;a.Kn.canvas.width=a.Ko.length*c;a.Kn.canvas.height=d;a.Ko.forEach(function(a){a.TZ=b;a.AN=c;a.zN=d})}function VF(a){a.Kn.clearRect(0,0,a.Kn.canvas.width,a.Kn.canvas.height);a.Ko.forEach(function(b){return ZF(a,b)})}
function WF(a){a.hf.clearRect(0,0,a.hf.canvas.width,a.hf.canvas.height);a.Ko.forEach(function(b,c){return b.compose(a.Kn,a.hf,c*a.hf.canvas.width,0,a.hf.canvas.width,a.hf.canvas.height,0,0,a.hf.canvas.width,a.hf.canvas.height)})};function CC(a){if("print"==BC)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.xN=null;this.Sg=Yr(La(a.spritesheetMetadata));this.Lo=RF(this.Sg);Z.call(this,a);this.ca=a.mediaId;this.da=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.C();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.Lo.hf.canvas);this.tk();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=mh(a.color);c&&b.ge(a.index,c)});this.cm(this.ca,this.da).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:graphic",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}CC.prototype=Object.create(Z.prototype);f=CC.prototype;f.constructor=CC;
f.cm=function(a,b){this.ca=a;this.da=b;this.loaded=!1;return $F(this,a,b)};function $F(a,b,c){var d=Hb.Kc(b,c);if(!d)return P.reject();d=d[yD];b=zD(b,c,Lg);a.Zq(d.oa());return b.bind(a).then(function(a){return this.Lo.Mk(a.oa())}).then(function(){this.loaded=!0;this.Ce();this.KB?this.Oq():this.tk()})}f.K_=function(){this.loaded&&this.Zq(this.Lo.toDataURL())};f.L2=_.debounce(CC.prototype.K_,200);f.Zq=function(a){var b=this.C().find(".imgPlaceholder");lD(mD,b,a)};
function aG(a){return a.loaded&&a.xN!==a.KB?(a.xN=a.KB,!0):!1}f.Oq=function(){Z.prototype.Oq.call(this);aG(this)&&(this.C().find(".canvasPlaceholder").show(),this.C().find(".imgPlaceholder").hide())};f.tk=function(){Z.prototype.tk.call(this);aG(this)&&(this.K_(),this.C().find(".imgPlaceholder").show(),this.C().find(".canvasPlaceholder").hide())};f.ZC=function(a){cq(a,this.Pb())||(this.hC(!1),this.da=this.ca=null)};f.ak=function(){return!0};
f.Pb=function(){return null!=this.ca&&null!=this.da?new Zm({id:this.ca,version:this.da}):null};f.Kw=function(){this.xN=null;var a=this.Pb();return a?this.cm(a.id,a.version):P.resolve()};f.GA=function(){return this.hb};f.hC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.oc=function(){return 0<this.bb().length};f.bb=function(){return 5<TF(this.Lo).length?[]:TF(this.Lo)};f.Md=function(){return this.bb().length};
f.ge=function(a,b){var c=this.Lo;if(a=YF(c)[a])c.ND=null,a.setColor(b),c.LD&&(ZF(c,a),WF(c));this.Ce();this.L2()};f.hi=function(){if(this.ue)return this.ue;var a=new Vo;this.bb().forEach(function(b){Yo(a,b)});return this.ue=a};f.hq=function(){return!0};f.FI=function(){oD(this.C().find(".placeholder"),null,this.ya)};f.Aw=function(){YC(this);var a=this.C().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ca;a.mediaVersion=this.da;this.hb||(a.mediaApproved=!1);a.spritesheetMetadata=Mg(this.Sg);var b=this.bb().map(function(a,b){return{index:b,color:a.ra()}});0<b.length&&(a.fillColors=b);return a};f.Py=function(){return XF(this.Lo)};function bG(a){var b=a.Dy;1<=b||0>=b?a.tk():a.Oq()}
f.QB=function(){if(this.oc()&&this.HD&&null!==this.zm&&this.Py()){this.HD=!1;bG(this);var a;this.Lo.gH.forEach(function(b,c){switch(b.ra()){case iC.ra():a=this.zm.ct;break;case jC.ra():a=this.zm.tt;break;case kC.ra():a=this.zm.Jt;break;default:a=null}a&&(b=wn(b,a,this.Dy),this.ge(c,b))}.bind(this))}};f.vr=function(){return!0};CC.prototype.xZ=CC.prototype.ge;function cG(){this.IP=0}var dG=["tame","angry"];
cG.prototype.ge=function(a,b){this.xZ(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ca))&&eG(this)){this.IP=this.IP||0;this.Oq();var c=dG[this.IP++]||"flipOut",d=this.C().find(".placeholder");d.addClass(c);var e=this.bb();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.Lo.gH.forEach(function(b,c){b=Cn(e[c],b,a);this.xZ(c,b)}.bind(this))}.bind(this),always:function(){this.tk();this.$a();
d.removeClass(c);g.css(h)}.bind(this)})}};function eG(a){return a.bb().every(function(a){return a.equals(mh("#cc0000"))})}_.extend(CC.prototype,cG.prototype);function IC(a){this.elements=[];this.ad=null;this.MP=!0;this.yI=new WeakMap;this.Rh(a);Z.call(this,a);this.m1=[{id:"HorizontalAlignLeft",name:me(zc(this.i)),enabled:!0},{id:"HorizontalAlignCenter",name:oe(zc(this.i)),enabled:!0},{id:"HorizontalAlignRight",name:ne(zc(this.i)),enabled:!0},{id:"VerticalAlignTop",name:pe(zc(this.i)),enabled:!0},{id:"VerticalAlignCenter",name:re(zc(this.i)),enabled:!0},{id:"VerticalAlignBottom",name:qe(zc(this.i)),enabled:!0},{id:"HorizontalDistribute",name:se(zc(this.i)),
enabled:!0},{id:"VerticalDistribute",name:te(zc(this.i)),enabled:!0}];this.KD()}var GC="CHART";function fG(a,b){var c;c=Math.max(0,b.Ha-a.Ha);var d=cn(bn([b.left+b.width/2-(a.left+a.width/2),b.top+b.height/2-(a.top+a.height/2)]).rotate(a.rotation));return{Ha:c||0,rotation:tC(b.rotation,a.rotation)||0,top:d[1]-b.height/2+a.height/2,left:d[0]-b.width/2+a.width/2,width:b.width,height:b.height}}
function gG(a,b,c){c?(c=100-(100-b.Ha)/100*((100-a.Ha)/100)*100,c=Math.round(10*c)/10):c=Math.min(100,b.Ha+a.Ha);var d=dn(bn([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),e=cn(d);return{Ha:c||0,rotation:tC(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:e[1]-b.height/2+a.top+a.height/2,left:e[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}
function hG(a){var b=a.filter(function(a){return"group"===a.type})[0];if(!b)throw Error("Group index out of bounds");var c=b.childRange;if(!fq(c))throw Error("Invalid group child range");for(var b=new IC(b),d,e,g=c[0];g<=c[1];g++)d=yg(a[g]),e=fG(RC(b),RC(d)),d.em(e.Ha),d.setPosition(e.left,e.top),d.dm(e.rotation),iG(b,d),d.Cy=!1;return b}IC.prototype=Object.create(Z.prototype);f=IC.prototype;f.constructor=IC;f.nb=function(){return!0};f.iG=function(){return!0};f.KV=function(){return!1};f.lR=function(){return!0};
f.Rh=function(a){function b(a,b){return a.elementIndex>b.elementIndex?1:-1}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=yg(a))&&c.addElement(a)})};function jG(a,b){MC(a,Math.min.apply(null,b.map(function(a){return a.$b()})));UC(a,Math.min.apply(null,b.map(function(a){return a.kc()})));a.ma(Math.max.apply(null,b.map(function(a){return a.Nd()}))-a.F());a.ea(Math.max.apply(null,b.map(function(a){return a.kd()}))-a.w());return a}
f.Jr=function(a){var b={};b.elementIndex=this.K();b.pageIndex=this.R()&&this.R().K();b.old=this.qa();if(!this.MP)return b["new"]=this.qa(),b;var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity;a||(a=this.elements[0]);if(!a)return b["new"]=this.qa(),b;for(var h=0;h<this.elements.length;h++){var k=this.elements[h].F(),l=this.elements[h].w(),m=this.elements[h].l(),n=this.elements[h].o(),p=Om(this.elements[h].Ta()),q=k+m/2,u=l+n/2,v=cn(dn(bn([k-q,l-u]),-p));v[0]+=q;v[1]+=u;var z=cn(dn(bn([k+m-q,l-u]),-p));
z[0]+=q;z[1]+=u;var t=cn(dn(bn([k-q,l+n-u]),-p));t[0]+=q;t[1]+=u;k=cn(dn(bn([k+m-q,l+n-u]),-p));k[0]+=q;k[1]+=u;c=Math.min(c,v[0],z[0],t[0],k[0]);d=Math.min(d,v[1],z[1],t[1],k[1]);e=Math.max(e,v[0],z[0],t[0],k[0]);g=Math.max(g,v[1],z[1],t[1],k[1])}k=e-c;l=g-d;h=cn(bn([this.F(),this.w()]).translate(-this.l()/2,-this.o()/2).rotate(Om(-this.Ta())).translate(this.l()/2,this.o()/2));e=cn(bn([this.F(),this.w()]).translate(-k/2,-l/2).rotate(Om(-this.Ta())).translate(k/2,l/2));g=e[0]-h[0];e=e[1]-h[1];for(h=
0;h<this.elements.length;h++)q=this.elements[h],0===q.Ta()&&2>Math.round(q.w())&&2>Math.round(q.F())&&2>Math.abs(Math.round(this.l()-q.l()))&&2>Math.abs(Math.round(this.o()-q.o()))&&(this.elements[h].ma(k),this.elements[h].ea(l));this.ma(k);this.ea(l);h=RC(a);rC(a)?h.top+=h.height/2:sC(a)&&(h.top+=h.height);h=gG(RC(this),h);q=h.top;u=h.left;for(h=0;h<this.elements.length;h++)k=this.elements[h].F(),l=this.elements[h].w(),this.elements[h].setPosition(k-c,l-d);h=RC(a);rC(a)?h.top+=h.height/2:sC(a)&&
(h.top+=h.height);a=gG(RC(this),h);c=a.top-q;a=a.left-u;this.setPosition(this.F()-g-a,this.w()-e-c);b["new"]=this.qa();return b};f.RV=function(){return!1};function kG(a){a.elements.forEach(function(b){b instanceof Mp&&a.yI.set(b,NA(b.C(),!0).length)})}
f.LP=function(a,b,c){function d(d,l){g.elements.filter(e).forEach(function(e){var g=h.has(e)?h.get(e):e.qa();h.set(e,e.qa());var m=Om(a.Ta()),n=NA(a.C(),!0).length,p=Om(a.Ta()),E=b.clone();1<=n&&5>Math.abs(m-p)&&(m=a.o()/n/2,Dm(E,-m));E=Km(g,E);m=Nm(b,g,d);n=Nm(c,g,d);if(E||!(m<-1*g.o()/2)){var g=m-n,L=p=0;isFinite(m)&&!isFinite(n)&&k&&(g=m);isFinite(g)&&!isNaN(g)&&(0<=d&&45>d?p=g*Math.cos(d*Math.PI/180):45<=d&&90>d?L=g*Math.sin(d*Math.PI/180):90<=d&&135>d?L=g*Math.cos((d-90)*Math.PI/180):135<=d&&
180>d?p=g*Math.sin((d-90)*Math.PI/180):180<=d&&225>d?p=g*Math.cos((d-180)*Math.PI/180):225<=d&&270>d?L=g*Math.sin((d-180)*Math.PI/180):270<=d&&315>d?L=g*Math.cos((d-270)*Math.PI/180):315<d&&(l=!0,p=g*Math.sin((d-270)*Math.PI/180)),!e.du()&&E?1<Math.abs(L)?e.ma(e.l()+L):1<Math.abs(p)&&(l&&e.eb(e.w()-p),e.ea(e.o()+p)):(l&&(p*=-1),1<Math.abs(L)?e.kb(e.F()+L):1<Math.abs(p)&&e.eb(e.w()+p)))}})}function e(b){return b!==a}var g=this;if(this.MP&&-1!==this.elements.indexOf(a)&&(c=c||a.qa(),Am(b)&&Am(c))){var h=
new Map,k=c.o()>b.o(),l=a.pl(0),m=.5*(O.Xt-a.pl(0))/100,n=NA(a.C(),!0).length,p=this.yI.get(a);l<O.Xt&&p!==n&&(1===p?c.ea(c.o()+m*b.o()):1===n&&c.ea(c.o()-m*c.o()));this.yI.set(a,n);l=a.Ta();a.ke&&"top"!==a.ke?sC(a)?d(Om(l),!0):rC(a)&&(d(Om(180+l),!1),d(Om(l),!0)):d(Om(180+l),!1);this.Jr(a)}};f.mv=function(){var a=O.hJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(FE));return a};f.KD=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.rc()};
f.setSize=function(a,b,c){var d;a<O.ly||b<O.ly||(void 0!==a&&void 0!==b&&(d=(a-this.l())/this.l(),Z.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(d&&(void 0===c||c)){var b=d,h=a.l()/a.o(),k,l,m;!isNaN(b)&&isFinite(b)&&(k=a.l()+a.l()*b,h=k/h,l=a.F()+a.F()*b,m=a.w()+a.w()*b,a.setSize(k,h,!0),a.setPosition(l,m),a instanceof Mp&&a.Lc&&a.Lc(0)&&(b=a.Lc(0)+a.Lc(0)*b,a.ve(0,b,!0)))}a.ma();a.setPosition();a.ab()}))};
f.ab=function(){this.jt&&(Z.prototype.ab.call(this),this.elements.forEach(function(a){a.ma();a.setPosition();a.ab()}))};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a);a instanceof Mp&&this.yI.set(a,NA(a.C(),!0).length)};
function iG(a,b,c){if(b.R()&&void 0===c)a.addElement(b);else{c=void 0!==c?c:Math.max(a.elements.length-1,0);var d=a.R();if(d){b.Yq(d);var e=FD(vb,d);b.te=e.$el;ZC(d,b,a.K()+c+1,!0)}a.elements.splice(c,0,b);a=a.C().find(".elements");a.find(".element").length>c?a.find(".element").eq(c).before(b.C()):a.append(b.C());b.rc(!0)}}f.sj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};
f.remove=function(){this.elements.forEach(function(a){a.remove()});var a=this.R();a&&this.stopListening(a,"change:background");Z.prototype.remove.call(this)};f.ia=function(){return this.elements};function lG(a){return a.elements.filter(function(a){return a instanceof Mp})}f.$b=function(){return Math.min.apply(null,this.ia().map(function(a){return a.$b()}))};f.Nd=function(){return Math.max.apply(null,this.ia().map(function(a){return a.Nd()}))};f.kc=function(){return Math.min.apply(null,this.ia().map(function(a){return a.kc()}))};
f.kd=function(){return Math.max.apply(null,this.ia().map(function(a){return a.kd()}))};f.rh=function(){return this.Nd()-this.$b()};f.nh=function(){return this.kd()-this.kc()};f.clone=function(){var a=this.serialize();return new IC(a)};f.js=function(){return"ungroup copy arrange transparency link delete deleteElement".split(" ")};f.pV=function(){return this.m1};f.Ff=function(){return 1===this.Ge().length};f.NF=function(){return this.elements.reduce(function(a,b){return a+b.NF()},0)};f.yv=function(){return!1};
function mG(a,b){a.Yi();b&&-1!==a.elements.indexOf(b)?(a.ad=b,a.ad.C().addClass("focused")):a.ad=null}f.Yi=function(){this.ad=null;this.elements.forEach(function(a){a.Bh();a.C().removeClass("active focused")})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="group";a.elements=this.ia().map(function(a){return a.serialize()});return a};f.lq=function(){return!1};f.se=function(){for(var a=0;a!==this.elements.length;a++)if(nG(this,a))return!0;return!1};
function nG(a,b){return a.elements[b]instanceof Mp}f.Ge=function(){var a=this.elements.filter(function(a){var c=a.C().hasClass("focused");return a instanceof Mp&&c})[0];return a?a.C():$()};f.Bb=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a]instanceof Mp&&this.elements[a].C().hasClass("focused"))return a;return-1};f.cb=function(a){return nG(this,a)?this.elements[a].cb(0):$()};function oG(a){for(var b=[],c=0;c!==a.elements.length;c++)nG(a,c)&&b.push(a.Ub(c));return b}
f.Ub=function(a){if(nG(this,a)){var b=this.elements[a].Ub(0);b.index=a;return b}return this.Tz()};f.vj=function(a,b,c,d){nG(this,a)&&this.elements[a].vj(0,b,c,d)};f.fp=function(a){return this.elements[a].fp(0)};f.lv=function(){for(var a=[],b=0;b!==this.elements.length;b++)this.elements[b].se()&&this.elements[b].lv().forEach(function(b){a.push(b)});return a};f.yE=function(a){return this.elements[a].yE(0)};f.Lc=function(a){return nG(this,a)?this.elements[a].Lc(0):pG(this)};f.DF=function(a){return this.elements[a].DF(0)};
f.ks=function(a){return this.elements[a].ks(0)};f.ns=function(a){return this.elements[a].ns(a)};f.pl=function(a){return this.elements[a].pl(0)};f.CF=function(a){return this.elements[a].CF(0)};f.Mw=function(a){return this.elements[a].Mw(0)};f.lt=function(a){return this.elements[a].lt(0)};f.XH=function(a){return this.elements[a].XH(0)};f.$w=function(a){return this.elements[a].$w(0)};f.yo=function(a,b){nG(this,a)?this.elements[a].yo(0,b):this.yQ(b)};
f.setColor=function(a,b){this.elements[a]?qG(this.elements[a],b):this.zQ(b);this.$a()};function qG(a,b){if(b)if(a instanceof Mp)a.setColor(0,b);else for(var c=0;c<a.Md();c++)a.ge(c,b)}f.ge=function(a,b){this.ad&&this.ad.Md()&&this.ad.ge(a,b)};f.aI=function(a,b){this.elements[a].aI(0,b)};f.Xq=function(a,b){this.elements[a].Xq(0,b)};f.gC=function(a,b){this.elements[a].gC(0,b)};f.yk=function(a,b,c,d){nG(this,a)?this.elements[a].yk(0,b,c,d):this.ZH(b,c,d)};
f.ve=function(a,b){if(nG(this,a))this.elements[a].ve(0,b);else if(0!==pG(this))this.$H(b);else{var c=b/rG(this);this.elements.forEach(function(a){if(a instanceof Mp){var b=Math.round(10*a.Lc(0)*c)/10;a.ve(0,b)}})}};f.fC=function(a){this.ve(this.Bb(),a)};f.xL=function(){var a=this.Bb();-1!==a?DE(this.elements[a]):this.elements.forEach(function(a){a instanceof Mp&&DE(a)})};f.CE=function(){var a=this.Bb();-1!==a?this.elements[a].Jd=!1:this.elements.forEach(function(a){a instanceof Mp&&(a.Jd=!1)})};
f.EA=function(){var a=this.Bb();return-1!==a?this.elements[a].Jd:sG(this)};f.Ao=function(a,b){nG(this,a)?this.elements[a].Ao(0,b):this.AQ(b)};f.zi=function(a,b){this.elements[a].zi(0,b)};f.hx=function(a,b,c){this.elements[a].hx(0,b,c)};f.cI=function(a,b){this.elements[a].cI(0,b)};f.ix=function(a,b){this.elements[a].ix(0,b)};f.jx=function(a,b){this.elements[a].jx(0,b)};f.kx=function(a,b){this.elements[a].kx(0,b)};f.br=function(a,b){this.elements[a].br(0,b)};
function tG(a){function b(a){-1===d.indexOf(a)&&d.push(a)}function c(a){-1===e.indexOf(a)&&e.push(a)}var d=[],e=[];a.elements.filter(function(a){return a instanceof Mp}).forEach(function(a){a=LA(a.C());a.$e.forEach(b);a.Bf.forEach(c)});return{$e:d,Bf:e}}f.Tz=function(){var a={};this.elements.filter(function(a){return a instanceof Mp}).forEach(function(b){var c=b.$w(0);uA.forEach(function(b){-1===Object.keys(a).indexOf(b)?a[b]=c[b]:a[b]!==c[b]&&(a[b]=null)})});return a};
f.gg=function(){var a=tG(this).Bf.map(function(a){return mh(a)});this.elements.forEach(function(b){b.Md()&&(a=a.concat(b.bb()))});return a};function uG(a){function b(a){return a instanceof hn?a.ra():"string"===typeof a?a:"#000000"}var c=tG(a).Bf;a.elements.forEach(function(a){a.Md()&&(c=c.concat(a.bb().map(b)))});return c}function vG(a){return uG(a).filter(function(a,c,d){return d.indexOf(a)===c})}function wG(a){var b=a.Tz(),c=$("\x3cdiv\x3e");uA.forEach(function(a){c.data(a,b[a])});return c}
function pG(a){for(var b,c=0;c!==a.elements.length;c++)if(a.elements[c]instanceof Mp&&(b=b||a.elements[c].Lc(0),b!==a.elements[c].Lc(0)))return 0;return b}f.Md=function(){return this.elements.reduce(function(a,b){return a+b.Md()},0)};f.bb=function(){return this.elements.reduce(function(a,b){return b.Md()?a.concat(b.bb()):a},[])};function sG(a){return a.elements.filter(function(a){return a instanceof Mp}).every(function(a){return a.Jd})}
function xG(a){return!sG(a)&&a.elements.filter(function(a){return a instanceof Mp}).some(function(a){return a.Jd})}function rG(a){for(var b=0,c=0;c!==a.elements.length;c++)a.elements[c]instanceof Mp&&(b=Math.max(b,a.elements[c].Lc(0)));return b}f.yQ=function(a){this.elements.forEach(function(b){b instanceof Mp&&b.yo(0,a)});this.$a()};f.zQ=function(a){this.elements.forEach(function(b){qG(b,a)});this.$a()};
f.ZH=function(a,b,c){function d(a){g+=1;!h&&g>=e&&(h=!0,k=k&&a,b&&b(k))}var e=0,g=0,h=!1,k=!0;this.elements.forEach(function(b){b instanceof Mp&&(e+=1,b.yk(0,a,d,c))})};f.$H=function(a){this.elements.forEach(function(b){b instanceof Mp&&b.ve(0,a)})};f.AQ=function(a){this.elements.forEach(function(b){b instanceof Mp&&b.Ao(0,a)})};f.Mx=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Mp&&this.elements[a].Mx()};f.PP=function(){this.oo()};
f.oo=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};function yG(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].K()>b.K()&&(b=a.elements[c]);return b}function zG(a){function b(a,b){return a.K()-b.K()}0===a.elements.filter(function(a){return-1===a.K()}).length&&a.elements.sort(b);var c=a;a.elements.forEach(function(b){b.insertAfter(c);c=b;b.C().appendTo(a.C().children(".elements"))})}f.insertBefore=function(a){-1!=a.K()&&(Z.prototype.insertBefore.call(this,a),zG(this))};
f.insertAfter=function(a){-1!=a.K()&&(Z.prototype.insertAfter.call(this,a),zG(this))};f.vR=function(){var a=this.Bb();-1!==a&&this.elements[a].vR()};f.XN=function(){var a=this.Bb();-1!==a&&this.elements[a].XN()};f.IJ=function(){var a=this.Bb();-1!==a&&this.elements[a].IJ()};f.rD=function(){return!1};f.TS=function(){return!0};f.vr=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].vr())return!0;return!1};
f.du=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].du())return!0;return!1};f.Yq=function(a){var b=this.R();b&&this.stopListening(b);Z.prototype.Yq.call(this,a);AG(this,a)};function AG(a,b){BG(a,b);a.listenTo(b,"change:background",function(){BG(this,b)})}
function BG(a,b){var c=mh("#000000"),d=mh(O.lD);a.elements.forEach(function(a){a.ws&&a.ws()&&a.ws().forEach(function(g,h){g&&g.equals&&(b.If()&&g.equals(c)?a.setColor(h,d):!b.If()&&g.equals(d)&&a.setColor(h,c))});a.Md()&&a.bb().forEach(function(g,h){g&&g.equals&&(b.If()&&g.equals(c)?a.ge(h,d):!b.If()&&g.equals(d)&&a.ge(h,c))})})};function DC(a){Z.call(this,a);this.C().addClass("shape");this.pj=[];this.viewBox=new V(0,0,0,0);if(a&&a.paths){var b=a.paths.map(function(a){return new CG({d:a.d,fill:a.fill,jl:a.fillRule})});DG(this,b)}a&&a.viewBox&&EG(this,xm(a.viewBox));this.render();T.trigger("elementLoaded",this)}DC.prototype=Object.create(Z.prototype);f=DC.prototype;f.constructor=DC;function FG(a){return new DC({top:a.w(),left:a.F(),width:a.l(),height:a.o()})}
function DG(a,b){if(b.some(function(a){return a.d.match(/[^emclazMCLAZ0-9., -]/)}))throw Error("Invalid path data.");a.pj=b}function EG(a,b){a.viewBox=b}
f.render=function(){var a=this.viewBox,b=this.C().find("svg"),c=this.pj;b.length||(b=$(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.C().append(b));b.get(0).setAttribute("viewBox",[a.F(),a.w(),a.l(),a.o()].join(" "));var d=b.find("path");d.slice(c.length).remove();c.forEach(function(a,c){var h=(c=d.get(c))||document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a.d);h.setAttribute("fill",a.fill);if(a.jl){a:switch(a.jl){case "EVEN_ODD":a="evenodd";break a;
default:a="nonzero"}h.setAttribute("fill-rule",a)}!c&&b.append(h)})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="shape";a.paths=this.pj.map(function(a){return{d:a.d,fill:a.fill,fillRule:a.jl}});a.viewBox=this.viewBox.serialize();return a};f.US=function(){return!0};f.bb=function(){return this.pj.map(function(a){return mh(a.fill)})};f.Md=function(){return this.bb().length};
f.ge=function(a,b){b&&(this.pj[a]=new CG({d:this.pj[a].d,fill:b.toString(),jl:this.pj[a].jl}),this.render(),this.Ce())};f.hi=function(){if(this.ue)return this.ue;if(0<this.C().parents(".group.chart").length)return new Vo;var a=new Vo;this.bb().forEach(function(b){b&&Yo(a,b)});return this.ue=a};function CG(a){this.d=a.d;this.fill=a.fill;this.jl=a.jl};function GG(a,b,c,d,e,g){V.call(this,a,b,c,d);this.color=e;this.html=g||""}r(GG,V);f=GG.prototype;f.setColor=function(a){this.color=a;return this};f.He=function(){return["M",this.F(),this.xa(),"L",this.F(),this.w(),"L",this.Za(),this.w(),"L",this.Za(),this.xa(),"Z"].join(" ")};f.Mb=function(){return this.color};f.toString=function(){return this.html};f.setElement=function(a){this.element=a};f.getElement=function(){return this.element};
f.Hm=function(){var a={};a[HG]=this.w();a[IG]=this.F();a[JG]=this.l();a[KG]=this.o();a[LG]=this.Mb();return a};f.clone=function(){var a=new GG(this.F(),this.w(),this.l(),this.o(),this.Mb(),this.toString());a.setElement(this.getElement());return a};
function MG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(NG(a,b))},onComplete:function(){return b=c}};e[HG]=function(b,d){return c[a.indexOf(d)].w()};e[IG]=function(b,d){return c[a.indexOf(d)].F()};e[JG]=function(b,d){return c[a.indexOf(d)].l()};e[KG]=function(b,d){return c[a.indexOf(d)].o()};e[LG]=function(b,d){return c[a.indexOf(d)].Mb()};return e}function OG(a){return a.map(function(a){return a.Hm()})}
function NG(a,b){return a.map(function(a,d){d=b[d];d.eb(a[HG]);d.kb(a[IG]);d.ma(a[JG]);d.ea(a[KG]);d.setColor(a[LG]);return d})}var HG="TOP",IG="LEFT",JG="WIDTH",KG="HEIGHT",LG="COLOR";function PG(a,b,c,d,e,g){GG.call(this,b,c,d,e,"transparent",g);this.Qi=a;this.rotation=this.padding=0}r(PG,GG);f=PG.prototype;f.scale=function(a,b){var c=this.l(),d=this.o();GG.prototype.scale.call(this,a,b);this.ma(c);this.ea(d);return this};f.dm=function(a){this.rotation=a;this.Qi=0!=this.rotation?"right":"center"};
f.Ta=function(){return this.rotation};f.pv=function(){return this.Qi};f.zi=function(a){this.Qi=a};f.rs=function(){return this.padding};f.iC=function(a){this.padding=a};f.clone=function(){var a=new PG(this.pv(),this.F(),this.w(),this.l(),this.o(),this.toString());a.setElement(this.getElement());return a};function QG(a){GG.call(this,0,a.value,a.width,a.Hi,a.color);this.Hi=a.Hi||1}r(QG,GG);QG.prototype.scale=function(a,b){GG.prototype.scale.call(this,a,b);this.ea(this.Hi);return this};
QG.prototype.clone=function(){var a=new QG({value:this.w(),width:this.l(),Hi:this.o(),color:this.Mb()});a.setElement(this.getElement());return a};function RG(a){GG.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}r(RG,GG);RG.prototype.He=function(){var a=Math.min(this.o(),Math.max(.08*this.l(),1));return["M",this.F(),this.xa(),"L",this.F(),this.xa()-this.o()+a,"a",a,a,0,0,1,a,-a,"L",this.Za()-a,this.xa()-this.o(),"a",a,a,0,0,1,a,a,"L",this.Za(),this.xa(),"Z"].join(" ")};
RG.prototype.clone=function(){var a=new RG({index:this.F(),top:this.w(),value:this.o(),color:this.Mb()});a.setElement(this.getElement());return a};function SG(a){return Math.PI*(a+-90)/180}function TG(a){GG.call(this,a.left,a.top,a.width,a.height,a.color);this.wy={x:0,y:0};this.data="";this.jh=a.jh;this.uh=a.uh;this.xh=a.xh;this.mf=a.mf;this.jb=a.jb;this.Cm=a.Cm;this.Dm=a.Dm;this.value=a.value;this.Lk=a.Lk}r(TG,GG);f=TG.prototype;f.jd=function(){this.gK();return this.wy};
f.He=function(){this.gK();return this.data};f.gK=function(){var a=this.Cm+this.jb*Math.cos(SG(this.mf)),b=this.Dm+this.jb*Math.sin(SG(this.mf)),c=Math.min(this.jh+5,359.999),d=this.Cm+this.jb*Math.cos(SG(c)),e=this.Dm+this.jb*Math.sin(SG(c));this.Wq(this.Cm+(this.jb+this.Lk)*Math.cos(SG(this.uh)),this.Dm+(this.jb+this.Lk)*Math.sin(SG(this.uh)));this.data=["M",this.Cm,this.Dm,"L",a,b,"A",this.jb,this.jb,0,180<=c-this.mf?1:0,1,d,e,"Z"].join(" ")};f.tc=function(){return this.value};f.ml=function(){return this.Cm};
f.nl=function(){return this.Dm};f.Wq=function(a,b){this.wy={x:a,y:b}};f.setData=function(a){this.data=a};f.setRadius=function(a){this.jb=a};f.clone=function(){return new TG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Mb(),value:this.tc(),xh:this.xh,mf:this.mf,uh:this.uh,jh:this.jh,jb:this.jb,Cm:this.ml(),Dm:this.nl(),Lk:this.Lk})};f.Hm=function(){var a={};a[UG]=this.mf;a[VG]=this.jh;a[WG]=this.jb;a[XG]=this.Mb();return a};
function YG(a){return a.map(function(a){return a.Hm()})}function ZG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d($G(a,b))},onComplete:function(){return b=c}};e[UG]=function(b,d){return c[a.indexOf(d)].mf};e[VG]=function(b,d){return c[a.indexOf(d)].jh};e[WG]=function(b,d){return c[a.indexOf(d)].jb};e[XG]=function(b,d){return c[a.indexOf(d)].Mb()};return e}function $G(a,b){return a.map(function(a,d){d=b[d];d.mf=a[UG];d.jh=a[VG];d.setRadius(a[WG]);d.setColor(a[XG]);return d})}
var UG="START_ANGLE",VG="END_ANGLE",WG="RADIUS",XG="COLOR";function aH(a,b,c,d,e,g){PG.call(this,a,b,c,d,e,g);this.wy={x:0,y:0};this.hX={x:0,y:0};this.angle=0}r(aH,PG);aH.prototype.jd=function(){return this.wy};aH.prototype.Wq=function(a,b){this.wy={x:a,y:b}};function bH(a){GG.call(this,a.left,a.top,a.width,a.height,a.color);this.data=a.data}r(bH,GG);bH.prototype.He=function(){return this.data};function cH(a){TG.call(this,a);this.$h=a.$h}r(cH,TG);
cH.prototype.gK=function(){var a=Math.min(this.jh+5,359.999),b=this.ml()+this.jb*this.$h*Math.cos(SG(this.mf)),c=this.nl()+this.jb*this.$h*Math.sin(SG(this.mf)),d=this.ml()+this.jb*this.$h*Math.cos(SG(a)),e=this.nl()+this.jb*this.$h*Math.sin(SG(a)),g=this.ml()+this.jb*Math.cos(SG(this.mf)),h=this.nl()+this.jb*Math.sin(SG(this.mf)),k=this.ml()+this.jb*Math.cos(SG(a)),l=this.nl()+this.jb*Math.sin(SG(a));this.Wq(this.ml()+(this.jb+this.Lk)*Math.cos(SG(this.uh)),this.nl()+(this.jb+this.Lk)*Math.sin(SG(this.uh)));
a=180<=a-this.mf?1:0;this.data=["M",b,c,"L",g,h,"A",this.jb,this.jb,0,a,1,k,l,"L",d,e,"A",this.jb*this.$h,this.jb*this.$h,0,a,0,b,c,"Z"].join(" ")};cH.prototype.clone=function(){return new cH({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Mb(),value:this.tc(),xh:this.xh,mf:this.mf,uh:this.uh,jh:this.jh,jb:this.jb,Cm:this.ml(),Dm:this.nl(),Lk:this.Lk,$h:this.$h})};function dH(a){GG.call(this,a.left,a.top,a.width,a.height,a.color);this.jb=a.jb}r(dH,GG);
dH.prototype.setRadius=function(a){this.jb=a};dH.prototype.He=function(){var a=this.jb,b=this.F()+this.l()/2-a,c=this.w();return["M",b,c,"a",a,a,0,1,0,2*a,0,"a",a,a,0,1,0,2*-a,0,"Z"].join(" ")};dH.prototype.clone=function(){return new dH({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Mb(),jb:this.jb})};dH.prototype.Hm=function(){var a=GG.prototype.Hm.call(this);a[WG]=this.jb;return a};
function eH(a,b,c,d){var e=MG(a,b,c,d,Power1.easeOut);e.onUpdate=function(){return d(fH(a,b))};e[WG]=function(b,d){return c[a.indexOf(d)].jb};return e}function fH(a,b){return a.map(function(a,d){d=b[d];d.eb(a[HG]);d.kb(a[IG]);d.ma(a[JG]);d.ea(a[KG]);d.setColor(a[LG]);d.setRadius(a[WG]);return d})}function gH(a,b,c,d){var e=Math.min(a.x,b.x),g=Math.min(a.y,b.y);GG.call(this,e,g,Math.max(a.x,b.x)-e,Math.max(a.y,b.y)-g,c);this.Dc=a;this.bc=b;this.Hi=d}r(gH,GG);
gH.prototype.He=function(){var a=this.Hi/2,b=180*Math.atan2(this.bc.y-this.Dc.y,this.bc.x-this.Dc.x)/Math.PI- -90-90,c=this.Dc.x-(this.Dc.x+a*Math.cos(SG(b))),a=this.Dc.y-(this.Dc.y+a*Math.sin(SG(b)));return["M",this.Dc.x-c,this.Dc.y-a,"L",this.bc.x-c,this.bc.y-a,"L",this.bc.x+c,this.bc.y+a,"L",this.Dc.x+c,this.Dc.y+a,"Z"].join(" ")};gH.prototype.clone=function(){return new gH({x:this.Dc.x,y:this.Dc.y},{x:this.bc.x,y:this.bc.y},this.Mb(),this.Hi)};
gH.prototype.Hm=function(){var a={};a[hH]=this.Dc.x;a[iH]=this.Dc.y;a[jH]=this.bc.x;a[kH]=this.bc.y;a[lH]=this.Mb();a[mH]=this.Hi;return a};
function nH(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(oH(a,b))},onComplete:function(){return b=c}};e[hH]=function(b,d){return c[a.indexOf(d)].Dc.x};e[iH]=function(b,d){return c[a.indexOf(d)].Dc.y};e[jH]=function(b,d){return c[a.indexOf(d)].bc.x};e[kH]=function(b,d){return c[a.indexOf(d)].bc.y};e[lH]=function(b,d){return c[a.indexOf(d)].Mb()};e[mH]=function(b,d){return c[a.indexOf(d)].Hi};return e}function pH(a){return a.map(function(a){return a.Hm()})}
function oH(a,b){return a.map(function(a,d){d=b[d];d.Dc.x=a[hH];d.Dc.y=a[iH];d.bc.x=a[jH];d.bc.y=a[kH];d.setColor(a[lH]);d.Hi=a[mH];return d})}var hH="POINT_1_X",iH="POINT_1_Y",jH="POINT_2_X",kH="POINT_2_Y",lH="COLOR",mH="THICKNESS";var qH=/([^\-0-9,.]*)([\-0-9,.\s]*\d)(\D*)/;function rH(a){this.parsed=!1;this.value=a;this.vh=NaN;this.post=this.mO=this.EB="";this.parse()}rH.prototype.Ak=function(a){this.value=a;this.parsed=!1;return this};rH.prototype.parse=function(){if(!this.parsed){var a=qH.exec(this.value);a&&!isNaN(sH(this.value))?(this.vh=sH(this.value),this.EB=a[1],this.mO=a[2],this.post=a[3]):(this.vh=NaN,this.post=this.mO=this.EB="");this.parsed=!0}};
rH.prototype.toString=function(){this.parse();return this.EB+this.mO+this.post};rH.prototype.isValid=function(){this.parse();return!isNaN(this.vh)&&(""!==this.EB||""!==this.post)};function sH(a){if(a=qH.exec(a))if(a=parseFloat(a[2].replace(/[,\s]*/g,"")),!isNaN(a))return a;return NaN};function tH(a){a=void 0===a?{}:a;var b=a.bar||{};this.p1=!0;this.Ls=5;this.spacing=void 0!==b.spacing?b.spacing:.5;this.padding=void 0!==b.padding?b.padding:10;this.$S=!1;this.color=yn(pn(a.colors?a.colors[0]:"#00c4cc"),a.gradientRange);this.data=[];this.bz=new V(0,0,0,0);this.Pd=void 0!==a.labelset?a.labelset:0;this.Yf=this.Pd+1;this.Gl={labels:[],FJ:[],Dk:[]};this.de={labels:[],Wv:[],Dk:[]};this.lO=a.lO||function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};a.data&&this.Ns(a.data)}
f=tH.prototype;
f.Ns=function(a,b,c){var d=this;this.Pd=b||this.Pd;this.Yf=c||this.Yf;this.Pd===this.Yf&&this.Yf++;var e=null;this.data=a.map(function(a){var b=new rH(a[d.Yf]);!e&&b.isValid()&&(e=b);a=a[d.Pd];b.parse();return[a,b.vh]}).filter(function(a){return!isNaN(a[d.Yf])});c=this.data.map(function(a){return a[d.Yf]});a=0;b=_.max(c);this.$S&&(a=Math.min(0,_.min(c)));this.p1&&(this.Ls=5,5<b&&10>=b&&0!==b%2?b+=2-b%2:10<b&&25>=b&&0!==b%5?b+=5-b%5:25<b&&100>=b&&0!==b%10?b+=10-b%10:100<b&&1E3>=b&&0!==b%50?b+=50-b%
50:1E3<b&&1E4>=b&&0!==b%100?b+=100-b%100:1E4<b&&(c=Math.pow(10,Math.floor(Math.log10(b))),b/=c,b=(Math.floor(b)+Math.ceil(20*(b-Math.floor(b)))/20)*c),4<b&&(0===b%4?this.Ls=5:0===b%3?this.Ls=4:0===b%5&&(this.Ls=6)));this.bz=new V(0,a,this.data.length,b-a);this.de=uH(this,a,b,e);this.Gl=vH(this,this.data,a)};f.xV=function(){var a=[];a[1]=this.Gl.Dk.slice();a[0]=this.de.Dk.slice();return a};f.getData=function(){return this.data};f.ar=function(a){this.spacing=a};f.pe=function(){return this.spacing};
function uH(a,b,c,d){for(var e=[],g=[],h=[],k=[],l=0;l<a.Ls;l++)k.push(fn(b,c,l/(a.Ls-1)));var m=k.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});k.forEach(function(c){var k=c-m;c=k+Math.abs(b);var l=a.lO(k.toString());d&&(d.parse(),l=d.EB+l+d.post);h.push(l);k=new QG({value:k+Math.abs(b),width:a.bz.l(),Hi:1,color:"#ccc"});e.push(new PG("right",0,c,a.Ls-1,1,l));g.push(k)});return{Dk:h,labels:e,Wv:g}}
function vH(a,b,c){var d=[],e=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Yf]);!a.$S&&0>l&&(l=0);var m=new PG("center",k,0,1,1,b[a.Pd]);e.push(new RG({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.Pd])});return{labels:d,FJ:e,Dk:g}}function wH(a,b,c,d){var e=c.l()/a.bz.l(),g=c.o()/a.bz.o();return b.map(function(a){a=a.clone();a.scale(e,g);a.translate(c.F(),c.w());a.ea(a.o());a.eb(d.o()-a.w()-a.o());return a})}
f.Lr=function(a){function b(a,b){return a>b?a:b}var c=this;if(0===this.data.length||0===this.bz.o())return{de:[[],[]],data:[[],[]]};var d=a.Qx.by[0].reduce(b,0),e=a.Qx.by[1].reduce(b,0),g=a.Qx.vN;this.padding=.5*g;this.spacing=void 0!==a.spacing?a.spacing:this.spacing;this.color=a.color||this.color;var h=a.UE,k=h.l()-d-2*this.padding,l=k/this.Gl.FJ.length,m=l<e,n=m?.7071067811865475*(e+g):g,p=d+this.padding,q=(1-this.spacing)*l,u=h.o()-n-g-this.padding,v=new V(0,n+this.padding+g/2,d,u),z=m?this.padding:
.5*this.padding,t=new V(p+(m?.7071067811865475*g/2:0),h.o()-n-z,k,n),n=new V(p,n+this.padding,k,u),k=wH(this,this.de.Wv,n,h),v=wH(this,this.de.labels,v,h),x=wH(this,this.Gl.FJ,n,h),H=wH(this,this.Gl.labels,t,h);H.forEach(function(a){return a.ea(g)});v.forEach(function(a){return a.ma(d)});x.forEach(function(a,b){a.setColor(c.color(b,x.length));if(1===x.length)a.ma(l);else{var d=1<x.length?b*c.spacing*l/(x.length-1):0;a.ma(q).translate(d,-1);H[b].translate(-(l-q)/2+d,0)}});k.forEach(function(b){return b.setColor(a.Vv)});
H.forEach(function(a){if(m){var b=a.F()+l/2;a.ma(e);a.kb(b-.7071067811865475*(e+g));a.dm(-45);a.eb(t.w()+.35355339059327373*e)}else a.ma(l),a.eb(t.w())});var E=Math.ceil(1.2*g/l),H=H.filter(function(a,b){return 0===b%E}),h={de:[],data:[]};h.de.push(k);h.de.push(v);h.data.push(x);h.data.push(H);return h};function xH(a){var b="undefined"!==typeof a.V3?a.V3:1;this.canvas=document.createElement("canvas");this.color=yn(pn(a.color||"#00c4cc"),b);this.data=[];this.Pd=0;this.Gl=[];this.total=0;this.Yf=1;this.Dk=[];this.spacing=a.spacing||0;a.data&&this.Ns(a.data)}f=xH.prototype;f.getData=function(){return this.data};f.xV=function(){return this.Dk};f.pe=function(){return this.spacing};f.ar=function(a){this.spacing=a};
f.Ns=function(a,b,c){var d=this;this.Pd=b||this.Pd;this.Yf=c||this.Yf;this.data=a.map(function(a){return[a[d.Pd],sH(a[d.Yf])]}).filter(function(a){return!isNaN(a[d.Yf])}).filter(function(a){return 0<a[d.Yf]});this.total=this.data.reduce(function(a,b){return a+b[d.Yf]},0);this.Gl=this.data.map(function(a){return[a[0],a[d.Yf],100*a[d.Yf]/d.total]});this.Dk[0]=this.data.map(function(a,b){return""+d.Gl[b][0]});this.Dk[1]=this.data.map(function(a,b){return Math.round(d.Gl[b][2])+"%"})};
f.Lr=function(a){for(var b=a.color||this.color,c=a.UE,d=a.n4||.9,e="undefined"!==typeof a.zW?a.zW:.3,d=Math.min(c.o(),c.l())/2*d,g=yH(this,b,c,d,e,a.Vv,a.Qx),h=zH(g,c);0<h&&10<d;)d=Math.max(d-h,10),g=yH(this,b,c,d,e,a.Vv,a.Qx),h=zH(g,c);return g};function yH(a,b,c,d,e,g,h){e*=h.fontSize;var k=c.l()/2,l=c.o()/2;b=AH(a,c,b,k,l,d,e);c=[];var m=[];if(0<h.fontSize){var m=d+2.1*h.fontSize,n=2*h.vN;c=BH(a,b,k,l,m,n,e,h);m=CH(c,k,l,m,n,g)}return{g4:0<m.length,labels:c,Wv:m,E8:d,Jo:b}}
function BH(a,b,c,d,e,g,h,k){return b.map(function(b,m){var n=Math.ceil(Math.max(k.by[0][m],k.by[1][m]))+2*h,p=.0032*n*(90-Math.abs(b.uh%180-90)),q=c+(e+p)*Math.cos(SG(b.uh)),p=d+(e+p)*Math.sin(SG(b.uh));m=new aH("center",q-n/2,p-g/2,n,g,"\x3cb\x3e"+a.Dk[0][m]+"\x3c/b\x3e\x3cbr/\x3e"+a.Dk[1][m]);m.Wq(q,p);m.angle=b.uh;m.slice=b;return m})}
function DH(a,b,c,d){var e=a.slice,g=e.jd(),h=a.jd(),k=a.hX,l=(2*k.x+e.jd().x)/3,m=(2*k.y+e.jd().y)/3,n=(2*k.x+a.jd().x)/3;a=(2*k.y+a.jd().y)/3;b=g.x>=b?1:-1;c=g.y>=c?-1:1;g=["M",g.x,g.y,"C",l,m,",",n,a,",",h.x,h.y,"L",h.x+b,h.y+c,"C",n+b,a+c,",",l+b,m+c,",",g.x+b,g.y+c,"Z"].join(" ");return new bH({left:e.F(),top:e.w(),width:e.l(),height:e.o(),color:d,data:g})}
function AH(a,b,c,d,e,g,h){var k=0;return a.Gl.map(function(l,m,n){var p=3.6*k,q=p+3.6*l[2],u=p+1.8*l[2];k+=l[2];return a.fU({top:0,left:0,width:b.l(),height:b.o(),value:l[1],xh:l[2],color:c(m,n.length),mf:p,jh:q,uh:u,jb:g,Cm:d,Dm:e,Lk:h})})}f.fU=function(a){return new TG(a)};
function zH(a,b){b=b.clone().setPosition(0,0);a=a.labels.reduce(function(a,b){return{left:Math.min(a.left,b.F()),top:Math.min(a.top,b.w()),right:Math.max(a.right,b.Za()),bottom:Math.max(a.bottom,b.xa())}},{left:b.F(),top:b.w(),right:b.Za(),bottom:b.xa()});return parseInt(Math.max(Math.abs(a.left-b.F()),Math.abs(a.top-b.w()),Math.abs(a.right-b.Za()),Math.abs(a.bottom-b.xa())),10)}
function CH(a,b,c,d,e,g){for(var h=[],k=[],l=0;10>l;l++){var m=h.length;a.forEach(function(b){a.forEach(function(a){b!==a&&Yg(b,a)&&[b,a].forEach(function(a){-1===h.indexOf(a)&&h.push(a)})})});if(h.length===m)break;h.forEach(function(a){var g=b+d*Math.cos(SG(a.angle)),h=c+d*Math.sin(SG(a.angle));a.Wq(g,h);a.eb(h-e/2);a.jd().x>=b?a.kb(g):a.kb(g-a.l());a.hX={x:g,y:h}})}var l=h.filter(function(a){return a.jd().x>=b&&a.jd().y<c}),m=h.filter(function(a){return a.jd().x>=b&&a.jd().y>=c}),n=h.filter(function(a){return a.jd().x<
b&&a.jd().y<c}),p=h.filter(function(a){return a.jd().x<b&&a.jd().y>=c}),q=[l,m,n,p];q.filter(function(a){return a.length}).forEach(function(a){a.sort(function(a,b){return a.w()>b.w()?1:-1});a[0].jd().y<c&&a.reverse()});var u=0;l[0]&&m[0]&&Yg(l[0],m[0])&&(u=l[0].xa()-m[0].w());n[0]&&p[0]&&Yg(n[0],p[0])&&(u=Math.max(u,n[0].xa()-p[0].w()));q.forEach(function(a){a.forEach(function(d,h){var l=u/2,m=d.jd(),n=d.jd().x>=b?m.x+25:m.x-25,l=d.jd().y>=c?m.y+l:m.y-l,p=d.jd().x>=b?n:n-d.l();d.Wq(n,l);d.kb(p);d.eb(l-
e/2);if((l=a[h-1])&&Yg(d,l))for(l=l.jd(),l=d.jd().y>=c?l.y+e:l.y-e,d.Wq(n,l),d.eb(l-e/2),m=l-m.y,h+=1;h<a.length;h++)n=a[h],l=n.jd(),p=l.y+m,n.Wq(l.x,p),n.eb(p-e/2);k.push(DH(d,b,c,g))})});return k}function EH(a){xH.call(this,a);this.$h=a.$h||.55}r(EH,xH);EH.prototype.fU=function(a){a=Object.assign({},a,{$h:this.$h});return new cH(a)};function FH(a){a=void 0===a?{}:a;tH.call(this,a)}r(FH,tH);
FH.prototype.Lr=function(a){var b=tH.prototype.Lr.call(this,a),c=b.data[0],d=a.UE.o()/100,e=1.5*d,g=c.map(function(a){return a.Mb()});g.unshift(g[0]);var h=e;a=d;1<c.length&&(a=c[1].F()-c[0].F(),h=Math.max(Math.min(e,a/3),.5*d),a=h/e*d);c=c.map(function(a,b){return new dH({left:a.F(),top:a.w(),width:a.l(),height:a.l(),color:g[b],jb:h})});d=[];for(e=0;e<c.length-1;e++){var k=c[e],l=c[e+1];d.push(new gH({x:k.F()+k.l()/2,y:k.w()},{x:l.F()+l.l()/2,y:l.w()},l.Mb(),a))}b.data[0]=d.concat(c);return b};var GH={type:"text",transparency:0,fontFamily:O.Vd,fontSize:O.Ud},HH={type:"image",isBackground:!1,isRecolorable:!0};function IH(a){var b=a.serialize();b.backgroundColor=a.Mb();return new AC(_.extend({},HH,b))}function JH(a,b,c){var d=a.serialize();d.html=a.toString();d.justification=0!=a.Ta()?"right":"center";d.rotation=a.Ta();d.padding=a.padding;c&&(d.fontMedia=c);return new Mp(_.extend({},GH,d,b))}
function KH(a,b,c,d){var e=d.chart;this.Ow=a;this.Xi=e.chartType;this.data=e.data;this.D2=b;this.lE=c;this.Zc=e.labelTextStyle;this.JA=e.labelFontMedia;this.Cs=e.interpolation;this.Ir=LH(d);this.Dj=!0;IC.call(this,d);this.C().addClass("chart");this.M2=_.debounce(this.render,300)}KH.prototype=Object.create(IC.prototype);f=KH.prototype;f.constructor=IC;function HC(a){a=JSON.parse(JSON.stringify(a));a.chart.data=MH(a.chart.data);var b=NH(a);return new KH(b,IH,JH,a)}
function OH(a){var b;function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("style","opacity: 0.15;");c.setAttribute("data-recolorable-lines","true");a.de[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line"),d=Math.max(2,a.w());b.setAttribute("x1",a.F());b.setAttribute("y1",d);b.setAttribute("x2",a.Za());b.setAttribute("y2",d);b.setAttribute("stroke",a.Mb());b.setAttribute("stroke-width",
"1");b.setAttribute("vector-effect","non-scaling-stroke");c.appendChild(b)});b.appendChild(c)}var d=JSON.parse(JSON.stringify(a));b=b||new V(0,0,d.width,d.height);a=d.chart.chartType;var e=d.chart;e.data=MH(e.data);var g=NH(d),d=LH(d),e=g.Lr({UE:b,Qx:{by:[[0],[0]],vN:0,fontSize:0},color:d,Vv:e.labelTextStyle.color||PH,n4:e.idealPieRadiusFactor||.8}),h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width","100%");h.setAttribute("height","100%");h.setAttribute("preserveAspectRatio",
"xMaxYMax");h.setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());switch(a){case QH:c(e,h);e.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.F());b.setAttribute("y",a.w());b.setAttribute("width",a.l());b.setAttribute("height",a.o());b.setAttribute("fill",a.Mb());h.appendChild(b)});break;case RH:case SH:e.Jo.forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d",a.He());
b.setAttribute("fill",a.Mb());h.appendChild(b)});break;case TH:c(e,h);var k=1;e.data[0].filter(function(a){return a instanceof gH}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line");b.setAttribute("x1",a.Dc.x);b.setAttribute("y1",a.Dc.y);b.setAttribute("x2",a.bc.x);b.setAttribute("y2",a.bc.y);b.setAttribute("stroke",a.Mb());b.setAttribute("stroke-width",.65*a.Hi);b.setAttribute("stroke-linecap","round");b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b);
k=a.Hi});e.data[0].filter(function(a){return a instanceof dH}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx",a.F()+a.l()/2);b.setAttribute("cy",a.w());b.setAttribute("r",k);b.setAttribute("fill",a.Mb());b.setAttribute("stroke",a.Mb());b.setAttribute("stroke-width",.75*k);b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b)})}return h}
function NH(a){a=a.chart;var b;b=Lb;b.TJ||(b.TJ=new of(b.config));b=b.TJ;a.lO=b.B1.bind(b);switch(a.chartType){case QH:return new tH(a);case RH:return new xH(a);case TH:return new FH(a);case SH:return new EH(a)}throw Error("Invalid chart type specified");}function LH(a){a=a.chart||{};switch(a.coloringType){case UH:if(a.interpolation&&(a=zn(a.interpolation)))return a}return VH}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};f.pe=function(){return this.Ow.pe()};
f.ar=function(a){this.Ow.ar(a);this.render()};f.Ns=function(a){this.data=JSON.parse(JSON.stringify(a));this.Ow.Ns(this.data)};f.ws=function(){return[mh(this.Zc.color)]};f.bb=function(){return[mh(this.Ir(0,1))]};f.Md=function(){return this.bb().length};f.ge=function(a,b){if(b instanceof hn){switch(this.Xi){case RH:case SH:this.Ir=yn(b,1,90,0,36);break;case QH:case TH:this.Ir=this.Cs&&this.Cs.from===this.Cs.to?function(){return b.ra()}:yn(b,.75)}this.render({dca:!0})}};
function WH(a){return new V(a.F(),a.w(),a.l(),a.o())}function XH(a){for(var b=WH(a).setPosition(0,0),c=a.ia().filter(function(a){return a instanceof DC}),d=0;2>d;d++){var e=c[d];e||(e=FG(b),iG(a,e,d),c[d]=e);e.viewBox=b;e.ma(b.l());e.ea(b.o())}return c}function YH(a){return function(b){DG(a,b.map(function(a){return new CG({d:a.He(),fill:a.Mb()})}));a.render()}}function ZH(a,b){a=a.de[0];var c=YH(b);b.em(75);c(a)}
function $H(a,b){var c=XH(a),d=c[0],e=a.zb.data[0],g=b.data[0],c=YH(c[1]);if(a.Dj)if(e.length){a=Math.max(g.length,e.length);for(var h=0;h<a;h++){var k=g[h],l=e[h];k&&!l?e.push(k):k||e.pop()}a=OG(e);TweenMax.to(a,.3,MG(a,e,g,c,Power1.easeOut))}else a.zb=b,c(a.zb.data[0]);else c(g);ZH(b,d)}
function aI(a,b){function c(){if(m.length){var a=[],c=[],k=m.filter(d),l=m.filter(e),t=n.filter(d),x=n.filter(e);g(t,k,k[0]);g(x,l,k[0]);var H=OG(k),E=pH(l),k=eH(H,k,t,function(b){c=b;p(a.concat(c))});TweenMax.to(E,.3,nH(E,l,x,function(b){a=b;p(a.concat(c))},Power1.easeOut));TweenMax.to(H,.3,k)}else h.zb=b,p(h.zb.data[0])}function d(a){return a instanceof dH}function e(a){return a instanceof gH}function g(a,b,c){for(var d=Math.max(a.length,b.length),e=0;e<d;e++){var g=a[e],h=b[e];if(g&&!h){var h=
g.clone(),k=b.length-1;g instanceof gH?-1<k?(h.bc.x=b[k].bc.x,h.bc.y=b[k].bc.y,h.Dc.x=b[k].bc.x,h.Dc.y=b[k].bc.y):(g=c.F()+c.l()/2-c.jb,h.bc.x=g,g=c.w(),h.bc.y=g,g=c.F()+c.l()/2-c.jb,h.Dc.x=g,g=c.w(),h.Dc.y=g):g instanceof dH&&(h.kb(b[k].F()),h.eb(b[k].w()),h.ma(b[k].l()),h.ea(b[k].o()));b.push(h)}else g||b.pop()}}var h=a,k=XH(a),l=k[0],m=a.zb.data[0],n=b.data[0],p=YH(k[1]);a.Dj?c():p(m=n);ZH(b,l)}
function bI(a,b){var c=XH(a),d=c[0],e=YH(d);d.em(75);e(b.Wv);e=c[1];c=a.zb.Jo;d=b.Jo;c.length||(a.zb=b);e=YH(e);if(a.Dj)if(c.length){a=Math.max(d.length,c.length);for(b=0;b<a;b++){var g=d[b],h=c[b];g&&!h?(g=g.clone(),g.setRadius(c[0].jb),c.push(g)):g||(c.pop(),g=c.length-1,d[g]&&(c[g].jh=d[g].jh))}a=YG(c);TweenMax.to(a,.3,ZG(a,c,d,e,Power1.easeOut))}else a.zb=b,e(a.zb.Jo);else e(d)}
function cI(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b)c=b instanceof PG?a.lE(b,a.ls(),a.uM()):a.D2(b),iG(a,c,b instanceof QG?0:void 0),b.setElement(c);else if(d)c=c.getElement(),a.sj(c),a.R().sj(c,{PZ:!0}),c.C().remove(),c.remove();else{c=c.getElement();if(b instanceof PG){c.setPosition(b.F(),b.w());c.ma(b.l());c.dm(b.Ta());c.zi(0,b.pv());var d=c,e=b.toString();Jb.G.get(hg)&&(d.C().removeData("cachedLineLengths"),uC(d).html(e));c.setPosition(b.F(),b.w())}else c.td(b),c.ax(mh(b.Mb())),c.rc(!0);
b.setElement(c);a.elements[a.elements.indexOf(c)]=c}}}function dI(a,b){var c=a.uM(),d=a.ls().fontFamily,e;c&&(e=new Zm(c));a.render();eI(Kb,d)?b&&b():eB(Kb,e,d,function(){this.render({nP:!0});b&&b()}.bind(a))}f.appendTo=function(a){IC.prototype.appendTo.call(this,a);fI(this,a)};f.dl=function(a){IC.prototype.dl.call(this,a);fI(this,a)};function fI(a,b){gI(a)&&0<a.ia().length&&a.render();a.listenTo(b,"change:background",function(){gI(this)&&this.render()})}
function gI(a){return a.Zc.color?!1:(a.Vv=a.R().If()?O.lD:O.kD,!0)}
f.render=function(a){function b(a){TweenMax.fromTo(a,.5,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeIn})}a=a||{};var c,d=this.Lr();!this.zb&&hI(this);var e=this.Dj;a.nP&&(this.Dj=!1);switch(this.Xi){case RH:case SH:for(c=0;c<Math.max(this.zb.labels.length,d.labels.length);c++)cI(this,d.labels[c],this.zb.labels[c]);a.tN&&this.Dj&&b(this.C().find(".text.element"));bI(this,d);break;case TH:for(c=0;c<Math.max(this.zb.de[0].length,d.de[0].length);c++)cI(this,d.de[1][c],this.zb.de[1][c]);for(c=0;c<Math.max(this.zb.data[0].length,
d.data[1].length);c++)cI(this,d.data[1][c],this.zb.data[1][c]);!a.tN&&this.Dj&&b(this.C().find(".text.element"));aI(this,d);break;default:for(c=0;c<Math.max(this.zb.de[0].length,d.de[0].length);c++)cI(this,d.de[1][c],this.zb.de[1][c]);for(c=0;c<Math.max(this.zb.data[0].length,d.data[1].length);c++)cI(this,d.data[1][c],this.zb.data[1][c]);!a.tN&&this.Dj&&b(this.C().find(".text.element"));$H(this,d)}this.zb=d;this.Dj=e};f.clone=function(){return HC(this.serialize())};
f.js=function(){return["copy","arrange","transparency","link","delete"]};f.RV=function(){return!0};f.Jr=function(){};f.LP=function(){};f.setSize=function(a,b,c){if(!(a<O.ly||b<O.ly)){var d=this.o();void 0!==a&&void 0!==b&&Z.prototype.setSize.call(this,a,b);c&&(a=this.o()/d,0!==a&&(a*=this.ls().fontSize,IC.prototype.$H.call(this,a),this.Zc.fontSize=a));this.C().find(".elements").length&&this.render({nP:!0})}};
f.$a=function(){IC.prototype.$a.call(this);var a=this.C().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"));(a=this.C().data("toolbar"))&&lE(a)};f.Bh=function(){Z.prototype.Bh.call(this);this.Su=!1};f.sy=function(){return!0};f.iG=function(){return!1};f.KV=function(){return!0};f.eN=function(){return!!this.Su};
f.serialize=function(){var a=IC.prototype.serialize.call(this);a.generatorType="CHART";var b=a.chart={};b.data=this.xi();b.labelColumn=0;b.labelTextStyle={};var c=this.ls(),d;for(d in c)b.labelTextStyle[d]=c[d];(c=dB(c.fontFamily))&&(b.labelFontMedia={id:c.id,version:c.version});b.chartType=this.Xi;(b[this.Xi.toLowerCase()]={}).spacing=this.pe();b.coloringType=UH;b=b.interpolation={};b.colorSpace="HCL";b.from=this.Ir(0,1);b.to=this.Ir(1,1);if("#aNaNaN"===b.from||"#aNaNaN"===b.from)a.invalid=!0;return a};
f.xi=function(){var a={columns:[]};this.data.forEach(function(b,c){b.forEach(function(b,e){var g=a.columns[e]||{};g.name=e?"Value":"Label";g.cells=g.cells||[];g.cells[c]=""+b;a.columns[e]=g})});return a};function MH(a){var b=[];a.columns.forEach(function(a,d){a.cells.forEach(function(a,c){b[c]=b[c]||[];b[c][d]=a})});return b}f.CV=function(a){switch(this.Xi){case RH:case SH:return{mj:2,hk:12,maxLength:16,Pd:0,cK:a.slice(0,2)};default:return{mj:2,hk:58,maxLength:16,Pd:0,cK:a.slice(0,2)}}};
f.uM=function(){var a=dB(this.ls().fontFamily);if(a)return{id:a.id,version:a.version}};f.ls=function(){return{fontFamily:this.Zc.fontFamily,fontSize:this.Zc.fontSize,bold:this.Zc.bold,italic:this.Zc.italic,color:this.Zc.color}};f.Tz=function(){return IC.prototype.Tz.call(this)};f.yQ=function(a){IC.prototype.yQ.call(this,a);this.Zc.bold=a;this.render()};f.AQ=function(a){IC.prototype.AQ.call(this,a);this.Zc.italic=a;this.render()};
f.zQ=function(a){this.elements.forEach(function(b){b instanceof Mp&&b.setColor(0,a)});this.Zc.color=a?a.ra():null;this.render()};f.ZH=function(a,b,c){var d=this;IC.prototype.ZH.call(this,a,function(c){c&&(d.Zc.fontFamily=a);d.render();b(c)},c)};f.$H=function(a){IC.prototype.$H.call(this,a);this.Zc.fontSize=a;this.render()};
f.vj=function(a,b,c,d){IC.prototype.vj.call(this,a,b,c,d);this.Zc.fontFamily=b.fontFamily;this.Zc.fontSize=b.fontSize;this.Zc.bold=b.bold;this.Zc.italic=b.italic;this.Zc.letterSpacing=b.letterSpacing;this.Zc.lineHeight=b.lineHeight;this.Zc.color=b.color;this.render()};function iI(a){switch(a){case RH:a=Qm.PIECHART1;break;case TH:a=Qm.LINECHART1;break;case SH:a=Qm.DONUTCHART1;break;default:a=Qm.BARCHART1}return HC(a)}
function jI(a,b){a=a.ls();var c=a.bold?"bold":"normal",d=a.italic?"italic":"",e=a.fontSize||O.Vd,g=a.fontFamily||O.Ud,h=document.createElement("canvas").getContext("2d"),k=96/72*e,l={by:[],vN:(a.lineHeight||O.Xt)/100*k,fontSize:k};h.font=d+" "+c+" "+e+"pt "+g;b.forEach(function(a){l.by.push(a.map(function(a){return Math.ceil(1.2*h.measureText(a).width)}))});return l}var QH="BAR",RH="PIE",TH="LINE",SH="DONUT",kI={Daa:QH,Uaa:RH,Saa:TH,Faa:SH},UH="INTERPOLATE";function lI(a,b){a.Ow=b}
function hI(a){a.zb=a.Xi===RH||a.Xi===SH?{labels:[],Jo:[],g4:!1,E8:0}:{de:[[],[]],data:[[],[]]};for(var b,c=a.R();b=a.elements.pop();)a.sj(b),c&&c.sj(b,{PZ:!0}),b.C().remove(),b.remove()}KH.prototype.Lr=function(){var a=jI(this,this.Ow.xV());return this.Ow.Lr({UE:WH(this),Qx:a,color:this.Ir,Vv:this.Zc.color||this.Vv||O.kD,zW:.3})};
function mI(a,b){function c(a){a=a.clone();a.mf=0;a.jh=0;return a}function d(a){a=a.clone();a.setRadius(0);return a}function e(a){a=a.clone();var b=a.xa();a.ea(0);a.top=b-a.o();return a}function g(a){var b=a.clone();a=q.indexOf(a);0!==a?(a=q[a-1],b.Dc.x=a.bc.x,b.Dc.y=a.bc.y,b.bc.x=a.bc.x,b.bc.y=a.bc.y):(b.bc.x=b.Dc.x,b.bc.y=b.Dc.y);return b}function h(a){DG(t,v);t.em(75);t.render();a=a.map(k);DG(x,a);x.render()}function k(a){return new CG({d:a.He(),fill:a.Mb()})}function l(){dI(p);b&&b();p.Dj=!0}
function m(a){return a instanceof dH}function n(a){return a instanceof gH}var p=a;a.Dj=!1;hI(a);a.render();var q,u,v,z;u=XH(a);var t=u[0],x=u[1];switch(a.Xi){case SH:v=a.zb.Wv.map(k);q=a.zb.Jo.reverse().map(c);u=a.zb.Jo.reverse();z=YG(q);TweenMax.staggerTo(z,.5,ZG(z,q,u,h,Power1.easeOut),.5/Math.max(a.getData().length,1),l);break;case RH:v=a.zb.Wv.map(k);q=a.zb.Jo.map(d);u=a.zb.Jo;z=YG(q);TweenMax.staggerTo(z,.5,ZG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case QH:q=a.zb.data[0].map(e);
u=a.zb.data[0];v=a.zb.de[0].map(k);z=OG(q);TweenMax.staggerTo(z,.5,MG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case TH:q=a.zb.data[0];u=a.zb.data[0];v=a.zb.de[0].map(k);var H=[],E=[],L=q.filter(n),L=L.map(g),J=q.filter(m),J=J.map(d),Q=u.filter(n),S=u.filter(m),N=.75/Math.max(J.length,1),ha=new TimelineMax({onComplete:l});J.forEach(function(a,b){L[b]&&(a=L[b].Hm(),ha.to([a],N,nH([a],[L[b]],[Q[b]],function(a){H[b]=a[0]},Power0.easeNone)));a=J[b].Hm();var c=eH([a],[J[b]],[S[b]],
function(a){E[b]=a[0];h(H.concat(E))});ha.to([a],N,c,"-\x3d"+N)});break;default:l()}}KH.prototype.mv=function(){return nI};function oI(a,b){var c=JSON.parse(JSON.stringify(b)),d=c.chart;d.data=a.getData();lI(a,NH(c));a.Xi=d.chartType;a.Ir=LH(b);a.Cs=d.interpolation;a.Zc=d.labelTextStyle;a.JA=d.labelFontMedia;TweenMax.to(a.C(),.3,{opacity:0,ease:Power1.easeOut,onComplete:function(){mI(a);TweenMax.to(a.C(),.5,{opacity:1,ease:Power1.easeOut})}})}
var VH=yn(pn("#00c4cc")),PH="#fff",nI=[6,8,10,12,14,16,18,21,24,28,32,36];function pI(a){Z.call(this,a);this.Ih=!0;this.uN="vertical"===a.align;this.qW=!this.uN;this.C().addClass("guide").addClass(a.align)}pI.prototype=Object.create(Z.prototype);f=pI.prototype;f.constructor=pI;f.lp=function(){return!1};f.Gy=function(){return!1};f.PD=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.sE=function(){this.C().addClass("inactive")};f.eb=function(a){this.qW&&Z.prototype.eb.call(this,a)};f.kb=function(a){this.uN&&Z.prototype.kb.call(this,a)};
f.setPosition=function(a,b){this.uN&&Z.prototype.kb.call(this,a);this.qW&&Z.prototype.eb.call(this,b)};function FC(a){Z.call(this,a);this.Ih=!0;this.placeholder=a.placeholder in qI?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+qI[this.placeholder]+")")}FC.prototype=Object.create(Z.prototype);FC.prototype.constructor=FC;
var qI={CARD:"https://static.canva.com/static/images/furniture_card_fold_line_center.svg",CARD_VERTICAL:"https://static.canva.com/static/images/furniture_card_fold_line_center_vertical.svg",DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};f=FC.prototype;f.serialize=function(){return{type:"fixed"}};f.$a=function(){};f.lp=function(){return!1};f.PD=function(){return!1};f.Gy=function(){return!1};function zC(a,b){this.index=a.index;this.Qa=b;this.ca=a.mediaId;this.da=a.mediaVersion;this.origin=a.origin?new Xm(a.origin):null;this.Ba=xm(a.imageBox);this.OY=this.RY=this.QY=this.PY=0;this.NB=!0;this.ya=a.flipOrientation|0;this.kG=0<this.Qa.parents(".svg.element").length;this.VF=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=mh(a.backgroundColor));this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;rE(this,this.hb)}f=zC.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ca,mediaVersion:this.da,imageBox:this.Ba.serialize(),flipOrientation:this.ya,mediaApproved:this.hb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.Qa};
function tE(a,b,c,d){var e=b!==a.ca||c!==a.da;if(a.VF&&!e)return d&&d(!0),a;e&&(a.ca=b,a.da=c,a.origin=null,rE(a,!0));a.VF=!0;a.NB=!0;a.kG?a.ca&&a.da&&(b=a.Qa.find("image.placeholder"),a.Qa.get(0).classList.add("filled"),xD({Cn:b,ca:a.ca,da:a.da,nw:d})):a.ca&&a.da&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.Qa.find(".placeholder").remove(),a.Qa.append(b),a.Qa.parent(".item").addClass("filled"),xD({Cn:b,ca:a.ca,da:a.da,nw:d}));return a}function sE(a,b){a.origin=b;return a}
function uE(a){a.VF=!1;rE(a,!0);a.ca=void 0;a.da=void 0;a.origin=null;a.kG?(a.Qa.get(0).classList.remove("filled"),a.Qa.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",O.Yo)):(a.Qa.parent(".item").removeClass("filled"),a.Qa.find(".placeholder").remove(),a.Qa.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}f.ln=function(){return this.Ba.clone()};function sD(a,b){a.Ba=b.clone();a.NB=!0;rI(a);return a}
f.ex=function(a){var b=a^this.ya;Mm(this.Ba,sI(this),b);this.NB=!0;this.ya=a;rI(this);return this};f.wt=function(a){this.Aw();this.ex(a);return this};f.lh=function(){return this.backgroundColor};f.ax=function(a){this.backgroundColor=a;tI(this);return this};function LE(a){a.backgroundColor=null;a.Qa.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function mE(a){return!(!a.ca||!_.isNumber(a.da))}f.isEmpty=function(){return!(mE(this)||this.lh())};
f.Kc=function(){return mE(this)?Hb.Kc(this.ca,this.da):null};function rE(a,b){(a.hb=b)?a.Qa.get(0).classList.remove("unapproved"):a.Qa.get(0).classList.add("unapproved");return a}f.ZC=function(a){var b=this.Pb();null!=this.backgroundColor||null==b||cq(a,this.Pb())||(uE(this),rE(this,!1))};f.Pb=function(){return void 0!==this.ca&&void 0!==this.da?new Zm({id:this.ca,version:this.da}):null};f.cm=function(a,b){return new P(function(c){this.ca=a;this.da=b;this.update(c)}.bind(this))};
f.update=function(a){var b=this.hb;void 0!==this.ca&&void 0!==this.da?(tE(this,this.ca,this.da,a),rI(this)):(uE(this),tI(this),a&&a(!0));rE(this,b)};f.clear=function(){uE(this);LE(this)};function tI(a){if(a.backgroundColor){uE(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.ra());a.Qa.find(".placeholder").replaceWith(b)}else a.clear()}
function rI(a){if(a.kG){var b=a.Qa.closest(".element").data("canvaElement"),c=a.Qa.find("image.placeholder"),d=sI(a);a=a.Ba.clone();a.translate(d.F(),d.w()).scale(1/jE(b));c.attr("width",a.l()).attr("height",a.o()).attr("x",a.F()).attr("y",a.w())}else{b=sI(a);c=b.l();d=b.o();if(a.NB)a.PY=a.Ba.F()/c,a.QY=a.Ba.w()/d,a.RY=a.Ba.l()/c,a.OY=a.Ba.o()/d,a.NB=!1;else{var e=a.Ba.ei();a.Ba.kb(c*a.PY);a.Ba.eb(d*a.QY);a.Ba.ma(c*a.RY);a.Ba.ea(d*a.OY);var g=e/a.Ba.ei(),e=c/2,h=d/2,k=1;1>g?(Cm(a.Ba,e,h,g,1),g=Math.max(0,
a.Ba.F(),c-a.Ba.Za()),k=c/(c-2*g)):1<g&&(Cm(a.Ba,e,h,1,1/g),g=Math.max(0,a.Ba.w(),d-a.Ba.xa()),k=d/(d-2*g));1<k&&Cm(a.Ba,e,h,k)}oD(a.Qa,null,a.ya);c=a.Ba.clone();Mm(c,b,a.ya);c.scale(W);c.round();a.Qa.find("img.placeholder").css(kD(c))}}function sI(a){var b=a.Qa.closest(".element").data("canvaElement");return b?b.rn(a.index):ym.clone()}f.Aw=function(){var a=this.Qa,b=O.zS*this.Ba.l();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function cE(a){this.VR=a.valign;this.Gj=xm(a.box);this.Lg=this.Gj.clone();this.ot=a.resizeHorizontal;this.po=a.resizeVertical;this.contents=a.contents;this.WR=[];this.l4=[];this.scale=1;this.Bv=uI(this);this.fW=this.Gj.o()-vI(this);wI(this);this.ja();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ja);b.listenTo(a,"change:height",b.ja)})}cE.prototype.trigger=Backbone.Events.trigger;cE.prototype.listenTo=Backbone.Events.listenTo;cE.prototype.stopListening=Backbone.Events.stopListening;
_.extend(cE.prototype,Backbone.Events);f=cE.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.ma=function(a){iE(a,this.l())||(this.Gj.ma(a),this.ja(),this.trigger("change:width",this),this.trigger("change",this))};f.l=function(){return this.Gj.l()};f.ea=function(a){iE(a,this.o())||(this.Gj.ea(a),this.ja(),this.trigger("change:height",this),this.trigger("change",this))};f.o=function(){return this.Gj.o()};
f.setSize=function(a,b,c){var d=this.l()!==a,e=this.o()!==b;if(d||e)this.Gj.setSize(a,b),this.scale!==c&&(this.scale=c,xI(this)),this.ja(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Wp=function(){return this.Gj.Wp()};f.td=function(a,b){this.Gj.kb(a.F()).eb(a.w());this.setSize(a.l(),a.o(),b)};f.qa=function(){return this.Gj.clone()};f.Yz=function(){return this.Lg.clone()};
function uI(a){a=a.contents.map(function(a){return a.qa()});return wl(a.map(function(a){return a.w()}))}function vI(a){a=a.contents.map(function(a){return a.qa()});return xl(a.map(function(a){return a.xa()}))}function yI(a){var b=uI(a);return vI(a)-b}function zI(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Yz();c=c.Yz();return a.w()<c.w()?-1:a.w()>c.w()?1:0});return a}
function wI(a){a.WR=[];if(!(2>a.contents.length)){var b=zI(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.qa(),d=b[d+1].qa().w()-c.xa());a.WR.push(d)})}}function AI(a,b){a.contents.forEach(function(c){var d=c.qa();d.translate(0,b);a.stopListening(c);c.td(d,a.scale);a.listenTo(c,"change:width",a.ja);a.listenTo(c,"change:height",a.ja)})}
function xI(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})}
f.ja=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.EC)if(b.kL)BI(b);else{var c=b.qa(),d=CI(b);c.ma(d.width);c.ea(d.height);b.td(c)}});var b=0===this.l4.length;this.contents.forEach(function(c){if(a.ot&&b){var d=c.qa();d.l()!==a.l()&&(d.ma(a.l()),c.td(d,a.scale))}});var c=zI(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var e=a.contents.indexOf(d),g=a.WR[e],e=b.qa();d=d.qa().xa()+g*a.scale;e.eb(d);b.td(e,a.scale)}});var d=yI(this),e=this.Gj.o(),g;"CENTER"==this.VR?
(g=this.Bv+this.fW,g=this.Bv+(e-d-g)/2,g-=uI(this),AI(this,g),d>e&&this.po&&(g=-uI(this),AI(this,g),this.ea(d))):"TOP"==this.VR?this.Bv+d>e&&this.po&&this.ea(this.Bv+d):"BOTTOM"==this.VR&&(g=this.Bv+this.fW,g=this.Bv+(e-d-g),g-=uI(this),AI(this,g),d>e&&this.po&&(g=-uI(this),AI(this,g),this.ea(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})};
function bE(a,b,c){this.Jk=a;this.Lg=a.data("rect").clone().translate(-b,-c);this.pz=!!a.data("dynamicWidth");this.TE=!!a.data("dynamicHeight");this.kL=!!a.data("dynamicFontSize");this.ko=a.data("defaultFontSize");this.kL&&(this.TE=this.pz=!1);this.pz&&this.TE&&(this.pz=!1);this.Lb={XI:0,ay:0,Gf:0,Sd:1};this.EC=!1}bE.prototype.trigger=Backbone.Events.trigger;bE.prototype.listenTo=Backbone.Events.listenTo;bE.prototype.stopListening=Backbone.Events.stopListening;_.extend(bE.prototype,Backbone.Events);
var eE="center",fE="right";f=bE.prototype;f.C=function(){return this.Jk};f.Yz=function(){return this.Lg.clone()};f.qa=function(){var a=this.Lg.clone();a.eb(this.Lb.XI+this.Lg.w()*this.Lb.Sd).kb(this.Lg.F()*this.Lb.Sd).ma(this.Lb.ay+a.l()*this.Lb.Sd).ea(this.Lb.Gf+a.o()*this.Lb.Sd);return a};
f.td=function(a,b){void 0===b&&(b=this.Lb.Sd);var c=this.qa(),d=a.clone().scale(W).round();this.Jk.css(d.serialize());DI(this);this.Lb.Sd=b;this.Lb.XI=a.w()-this.Lg.w()*this.Lb.Sd;this.Lb.ay=a.l()-this.Lg.l()*this.Lb.Sd;this.Lb.Gf=a.o()-this.Lg.o()*this.Lb.Sd;b=!iE(c.l(),a.l());d=!iE(c.o(),a.o());b&&this.trigger("change:width",this,a.l()-c.l());d&&this.trigger("change:height",this,a.o()-c.o());(b||d)&&this.trigger("change",this)};
f.scale=function(a){this.Lb.XI*=a/this.Lb.Sd;this.Lb.ay*=a/this.Lb.Sd;this.Lb.Gf*=a/this.Lb.Sd;this.Lb.Sd=a};function DI(a){if(a.Jk.hasClass("text")){var b=a.qa(),c=a.Jk.children(".inner");c.css("width",b.l()).css("height","");var d=a.Jk.height();a=c.height();b=Math.round(b.l()*(W-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+W+")")}}
function BI(a){if(!a.EC){var b=EI(a),c=a.Jk.data("canvaElement"),d=a.Jk.data("textIndex");a.EC=!0;c.ve(d,b);a.EC=!1;DI(a)}}function XD(a){var b;if(!a.EC)if(a.kL)BI(a);else{var c=a.qa();b=CI(a);var d=b.width;b=b.height;a.pz&&(d=Math.max(d,a.Lg.l()*a.Lb.Sd));a.TE&&(b=Math.max(b,a.Lg.o()*a.Lb.Sd));c.ma(d);c.ea(b);a.td(c)}}
function EI(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*O.Pi+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*O.Pi+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*O.Pi+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),O.jJ)}var c=a.ko*a.Lb.Sd,d=parseFloat(a.Jk.data("fontSize"))*a.Lb.Sd,e=Math.floor(a.Lb.ay+a.Lg.l()*a.Lb.Sd),g=Math.floor(a.Lb.Gf+
a.Lg.o()*a.Lb.Sd);a=a.Jk.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*O.Pi+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function CI(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);d=a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","");Bf($(d));b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Lb.ay+a.Lg.l()*a.Lb.Sd,d=a.Lb.Gf+a.Lg.o()*a.Lb.Sd,e=a.Jk;a.pz&&(c=b(e,"width",d));a.TE&&(d=b(e,"height",c));return{width:c,
height:d}};function FI(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),GI(b))return b}function GI(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function HI(){this.N=Ib;this.path="/login"};function II(){}r(II,Error);function JI(a,b,c){this.id=a;this.length=b;this.name=c}JI.prototype.u=function(){return this.id};JI.prototype.getLength=function(){return this.length};JI.prototype.getName=function(){return this.name};function KI(a,b,c,d){this.id=a;this.name=b;this.vd=d;this.Z7=c}KI.prototype.u=function(){return this.id};KI.prototype.getName=function(){return this.name};KI.prototype.re=function(){return this.vd};KI.prototype.ql=function(){return this.Z7};function LI(a,b,c){this.height=a;this.url=b;this.width=c}LI.prototype.o=function(){return this.height};LI.prototype.oa=function(){return this.url};LI.prototype.l=function(){return this.width};function MI(a){this.N=a.N;this.UW=a.UW;this.yJ=a.config.yJ;this.ds=null}var NI={D3:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
MI.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.nQ=function(b){OI(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.yJ,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});OI(a);c(a)};PI(a)})};MI.prototype.nQ=function(){OI(this)};function OI(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.nQ)}
function PI(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.nQ),c.parentNode.insertBefore(b,c))}function QI(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}
function RI(a,b){return new P(function(c,d){SI(a).then(function(e){e=e.permissions;var g=_.difference(b,e);a.ds&&a.ds.Kca(e);g.length?d():c()}).catch(d)})}
function SI(a){var b=[NI];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].D3.call(h,a,g);c(h)}})}).catch(function(b){a.ds=null;d(b)})})}
MI.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};MI.prototype.La=function(){return this.ds};
function TI(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.ds=null;d(b)}function g(g){g.authResponse&&g.status?RI(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.ds?a.ds.permissions:[]);0<h.length?FB.login(g,{scope:h.join(",")}):RI(a,b).then(c).catch(e)})}function UI(a){return RI(a,["email","public_profile","user_photos"])}
function VI(a){if(!QI())throw new II;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new JI(a.id,a.count||0,a.name)}),a(b))})})}
function WI(a,b,c){if(!QI())throw new II;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(e=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new KI(a.id,a.name,new LI(b,d,c),new LI(e,h,g))}),b(a))})})}
function XI(a,b){return new P(function(c,d){function e(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=e()<a+b;c&&k?VI(m.length).then(g).catch(d):h()}function h(){var c=0,e=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===e.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;e.forEach(function(c,d){var e=0===d?a-g:0;d=Math.min(b,c.getLength()-e);n<b&&(c=WI(c.u(),e,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!QI())throw new II;VI(0).then(g).catch(d)})}function YI(){this.yJ=C("appId",window.facebookConfig)};function ZI(a){this.N=a}ZI.prototype.RA=function(a,b){var c=b.qM(),d=b.$d(),e=b.Nb(),g=b.nM();a="/vfolders/"+a+b.wc()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(e?"\x26continuation\x3d"+encodeURIComponent(e):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return uj(this.N,a).get(0).then($I)};function aJ(a,b){var c=b.ka();return a.RA("brands/"+(c?encodeURIComponent(c):"~"),b)}
function bJ(a,b){var c=b.ka(),d=b.La();return a.RA("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function cJ(){this.content=null}cJ.prototype=new yk;cJ.prototype.getContent=function(){return this.content};function dJ(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function eJ(){}f=eJ.prototype;f.Aj=function(a){this.brand=a;return this};f.ka=function(){return this.brand||null};f.Wt=function(a){this.user=a;return this};
f.La=function(){return this.user||null};f.Hk=function(a){this.folder=a;return this};f.wc=function(){return this.folder};function fJ(a,b){a.filter=b;return a}f.qM=function(){return this.filter};f.Bj=function(a){this.continuation=a;return this};f.Nb=function(){return this.continuation||null};f.Vg=function(a){this.limit=a;return this};f.$d=function(){return this.limit};f.nM=function(){return this.decorations};function gJ(){this.items=[];this.folders=this.continuation=null}gJ.prototype.Cf=function(){return this.items};
gJ.prototype.Nb=function(){return this.continuation};gJ.prototype.Np=function(){return this.folders};function $I(a){if(!a)return null;a=$.extend(new gJ,a);a.items&&(a.items=a.items.map(nk));a.folders&&(a.folders=a.folders.map(Wj));return a};function hJ(a,b){this.Va=a;this.J=b}hJ.prototype.Jb=function(){var a=this.Va.getName(),b=this.Va.qe();if(a)return a;if(b){if("LOGOS"===b)return this.J.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.J.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Va===dk?this.J.format("objectPanelUploadsPanelUploadsFolder"):this.Va===ek?Ud(this.J):this.J.format("objectPanelUploadsPanelUntitledFolder")};function NE(a){this.name=a||"Normal";this.Zf=this.vignette=this.sf=this.saturation=this.contrast=this.brightness=this.blur=0;this.Hh=50}var iJ=new NE,jJ=new NE("halftone");
function kJ(a){var b=a.match(/([a-z0-9]{2})/gi),c=new NE;if("halftone"===a)return jJ;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.sf=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Zf=parseInt(b[6],16)-100;c.Hh=7<b.length?parseInt(b[7],16):iJ.Hh;return c}function lJ(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function mJ(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function nJ(a,b){var c=_.findWhere(oJ,{name:a.name});_.chain(c).keys().filter(lJ).each(function(a){this.YH(a,mJ(a,c[a],b))}.bind(a))}function pJ(a){var b=new NE;b.Rh(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=NE.prototype;
f.Rh=function(a){a&&(this.name=a.name||iJ.name,this.blur=a.blur||iJ.blur,this.brightness=a.brightness||iJ.brightness,this.contrast=a.contrast||iJ.contrast,this.saturation=a.saturation||iJ.saturation,this.sf=a.tint||iJ.sf,this.vignette=a.vignette||iJ.vignette,this.Zf=a.xpro||iJ.Zf,this.Hh=_.isNumber(a.tintAmount)?a.tintAmount:iJ.Hh)};
function qJ(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?iJ:a;b=void 0===b?iJ:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.YH=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.sf=b,!0;case "xpro":case "xprocess":return this.Zf=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.Hh=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.sf;case "xpro":case "xprocess":return this.Zf;case "vignette":return this.vignette;case "tintAmount":return this.Hh;default:throw Error("unknown filter property name: "+a);}};f.mN=function(){return null!==rJ(this)};
f.serialize=function(){if(qJ(this,iJ))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.sf&&(a.tint=this.sf);this.vignette&&(a.vignette=this.vignette);this.Zf&&(a.xpro=this.Zf);_.isNumber(this.Hh)&&(a.tintAmount=this.Hh);return a};
function rJ(a){var b=_.findWhere(oJ,{name:a.name});if(null===b)return null;var c=sJ(a,b);return null===c?null:_.all(b,function(a,e){return lJ(e)?1>=Math.abs(this.getByName(e)-mJ(e,b[e],c)):!0}.bind(a))?c:null}function sJ(a,b){var c=0,d=null;_.each(b,function(a,b){lJ(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.ra=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.sf+100,this.blur+100,this.vignette,this.Zf+100,this.Hh].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function tJ(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var e=.5>d?d*(1+c):d+c-d*c,g=2*d-e;d=Bn(g,e,a+1/3);c=Bn(g,e,a);a=Bn(g,e,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],ll:a[1],b:a[2]},ep:7+.14*(b-50)}}
function uJ(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function vJ(a){this.filter=new NE;this.fq=this.GP=this.Jj=!1;this.RE={};this.l3="";this.Oc=a;this.GK="print"==BC?AD:Lg;this.ZQ=null;this.yA=50}function xC(a,b){var c=new NE;b=new vJ(b);a&&c.Rh(a);ME(b,c);return b}f=vJ.prototype;f.mN=function(){return this.filter.mN()};f.Fs=function(){return this.fq};f.initialize=function(a){function b(){c.fq=!0;a&&a()}var c=this;!mE(this.Oc)||this.fq||qJ(this.filter,iJ)?b():CD(this,b)};function wJ(a){a.ci||(a.ci=new xJ(window,a.Oc,a.GK),a.ci.update(!0))}
f.update=function(a,b){var c=this;if(this.Jj)if(this.ZQ=ED(this),this.trigger("change"),this.Oc.isEmpty())this.ci&&(this.ci.remove(),this.ci=null),this.Jj=!1,b&&b();else{this.ci||(this.ci=new xJ(window,this.Oc,this.GK));var d=!!this.GP;yJ(this.ci.apply(this.filter),d).update(!!a,function(){c.Jj=!1;b&&b()})}else b&&b()};function CD(a,b){a.Jj=!0;a.GP=!0;a.Kp();a.update(!0,function(){a.GP=!1;a.Jp();b&&b()})}
f.YH=function(a,b,c){"intensity"===a?(this.yA=b,nJ(this.filter,b/50),this.Jj=!0):this.Jj=this.filter.YH(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.yA:this.filter.getByName(a)};function ME(a,b){a.filter=b;a.yA=Math.round(50*rJ(b))}function zJ(a,b){a.filter=new NE;a.yA=50;b&&a.filter.Rh(b);CD(a,void 0)}function AJ(a){a.filter=new NE;a.yA=50;a.Jj=!0;CD(a,void 0)}function ED(a){return a.filter.serialize()}f.ra=function(){return this.filter.ra()};f.Kp=function(){};
f.Jp=function(){if(this.ci){var a=yJ(this.ci,!0);if(!a.PR)if(a.WC)BJ(a);else if(a.canvas){var b=a.UI.clone(!0).off().removeAttr("crossorigin"),c=CJ(a);c?(b.get(0).src=c,DJ(a)):(c=a.canvas.toDataURL(),a.cache.add(EJ(a),c),b.get(0).src=c);a.Qa.find("img,canvas").remove();a.Qa.append(b);a.UI=b;$("#limbo").append(a.canvas);a.Yx=!1}}};f.Kc=function(){return this.Oc.Kc()};
f.jL=function(a,b,c){var d=new NE;a&&d.Rh(a);this.Oc.serialize().mediaId+this.Oc.serialize().mediaVersion!==this.l3&&(this.RE={});if(this.RE[d.name])c(this.RE[d.name]);else if(a=this.Kc()){var e=this,g=b?yD:this.GK,h=a[g];b=h.oa();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.l(),b=h.o();k.css("width",a).css("height",b);var a=new zC(e.Oc.serialize(),k),n=new xJ(window,a,g);n.apply(d).jL().update(!0,function(){var a={src:FJ(n),vaa:GJ(n)};
e.RE[d.name]=a;c(a);n.remove();k&&k.remove()})});lD(mD,a,b)}};f.remove=function(){this.ci&&this.ci.remove();this.ci=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(vJ.prototype,Backbone.Events);var oJ=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function xJ(a,b,c){this.Oc=b;this.ti=c;this.Qa=this.Oc.C();this.PR=this.Oc.kG;this.WC=HJ;this.oN=this.SE=this.Jj=this.locked=this.Yx=!1;!this.WC&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(IJ=a,JJ=b,this.WC=HJ=!0))}var IJ,JJ;xJ.prototype.U3=function(){var a=0;return function(){a+=1;return a.toString()}}();var HJ=!1;xJ.prototype.jL=function(){this.SE=!0;return this};xJ.prototype.apply=function(a){this.values=new NE;this.values.Rh(pJ(a).serialize());return this};
function yJ(a,b){a.Yx=b;return a}xJ.prototype.update=function(a,b){this.oN||!a&&this.locked||(this.PR?this.paa(b):this.WC?KJ(this,b):LJ(this,a,b))};function BJ(a){function b(){this.Yx=!1;c.Qa.find("img,canvas").remove();c.Qa.append(d);c.UI=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.UI.clone(!0).off().removeAttr("crossorigin"),e=CJ(a);e?(d.get(0).src=e,b(),DJ(a)):KJ(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(EJ(c),a);b()})}}
function MJ(a,b){a=a.Oc.ln().scale(W).round();$(b).css(kD(a,0))}
(function(){function a(a,c,d,e){BD(mD,a.Kc()[d].oa()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new zC(a.serialize(),h);h.appendTo("#limbo");var k=new xJ(window,g,d);k.values=b(c);k.update(!0,function(){var a=FJ(k);h.remove();e(a)})})}function b(a){a=kJ(a.ra());a.saturation/=.8;0!==a.sf&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,sf:k,blur:p,vignette:h,Zf:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.ln().scale(2);g.setAttribute("id",b);"print"===BC&&g.setAttribute("filterRes",c.l()+" "+c.o());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(uJ(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=NJ({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,O.py);c.setAttribute("offset",(1<O.py?O.pJ/O.py:O.pJ).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=tJ(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.ll/255,b:a.color.b/255},d=a.ep/100*2,e=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);e.appendChild(b)});e.classList.add("tint");
return[e]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var q=0;xJ.prototype.paa=function(b){var e="_CANVA_FILTER_"+q++;OJ(this);if(!this.values||qJ(this.values,iJ))b&&b();else{this.Jz=c(this.Qa.get(0));var g=d(this.values,e,this.Oc);this.Jz.appendChild(g);var g=this.Jz.querySelector(".vignette"),
h=this.Qa.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.Jz.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.Qa.find("image.placeholder").get(0);nA?a(this.Oc,this.values,this.ti,function(a){a&&lD(mD,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function EJ(a){var b,c=a.Oc.serialize();a.Jh&&a.values&&a.Oc&&(b=a.values.ra()+c.mediaId+c.mediaVersion+a.Jh.width+a.Jh.height);return b}
function PJ(a){var b=EJ(a);return a.Yx&&!!b&&!!a.cache.fetch(b)}function CJ(a){return PJ(a)?a.cache.fetch(EJ(a)):void 0}
function KJ(a,b){function c(){d.Jh.width=e;d.Jh.height=g;d.canvas||(d.canvas=d.SE?JJ:IJ,d.Qa.append(d.canvas),MJ(d,d.canvas),d.hH=d.canvas.texture(d.Jh),d.canvas.draw(d.hH,e,g),$("#limbo").append(d.Jh));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;MJ(d,d.canvas);d.canvas.draw(d.hH,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.sf){var a=tJ(d.values.sf+100,d.values.Hh);
d.canvas.colorize(a.color.r,a.color.ll,a.color.b,a.ep/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Zf&&(a=uJ(d.values.Zf),d.canvas.curves(a.red,a.green,a.blue));DJ(d);d.values.name===jJ.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.SE=!1;d.locked=!1;d.Jj=!1}var d=a,e,g;if(PJ(a))b&&b();else if(a=a.Oc.Kc())a=a[d.ti],e=a.l(),g=a.o(),d.ZV=a.oa(),d.Yx=!1,d.locked=!0,QJ(d,c)}
function LJ(a,b,c){function d(){h.Jh.width=k;h.Jh.height=l;if(h.Th){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.BT="camanCanvas"+h.U3(),h.canvas.id=h.BT,h.canvas.width=k,h.canvas.height=l,MJ(h,h.canvas),h.Qa.append(h.canvas),h.A1=h.canvas.getContext("2d"),h.A1.drawImage(h.Jh,0,0,k,l),h.Th=Caman("#"+h.BT,e),$("#limbo").append(h.Jh)}function e(){MJ(h,h.canvas);
h.Th.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Th.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Th.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Th.greyscale():h.Th.saturation(h.values.saturation));var a=tJ(h.values.sf+100,h.values.Hh);h.values.sf&&h.Th.colorize(a.color.r,a.color.ll,a.color.b,2.5*a.ep);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Th.stackBlur(h.values.blur):h.Th.sharpen(-1*
h.values.blur||0));if(h.values.Zf){var b=uJ(h.values.Zf),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Th.curves("r",a[0],a[1],a[2],a[3]);h.Th.curves("g",d[0],d[1],d[2],d[3]);h.Th.curves("b",b[0],b[1],b[2],b[3])}DJ(h)}h.Th.render(function(){c&&c();h.SE=!1;window.setTimeout(function(){h.locked=!1},1E3);h.Jj=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(PJ(a))c&&c();else if(a=a.Oc.Kc())a=a[h.ti],k=a.l(),l=a.o(),h.ZV=a.oa(),
h.Yx=!1,h.locked=!0,QJ(h,d)}else c&&c()}function DJ(a){var b=a.Qa.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.Qa.prepend(b));a.values.vignette?(a=GJ(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function QJ(a,b){function c(a){if(d.Vs&&0<d.Vs.length&&d.Vs.get(0).src){d.Jh=new Image;var c=$(d.Jh);c.css("visibility","hidden");lD(mD,c,a).then(function(){window.setTimeout(function(){d.oN||(d.Vs.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});MJ(d,d.Jh);d.Qa.append(c)}else window.setTimeout(function(){QJ(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.Qa),d.Qa.find("img").remove()),b()):(d.Vs=d.Qa.find("img"),d.UI=d.Vs,c(d.ZV))}
function GJ(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*O.pJ+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*O.py+"%"}function FJ(a){var b=$("\x3cimg /\x3e");a.WC?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
xJ.prototype.remove=function(){this.oN=!0;this.PR?OJ(this):($(this.Jh).remove(),this.Vs&&this.Vs.remove(),this.Qa.find(".vignette").remove(),this.hH&&this.hH.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function OJ(a){a.Qa.find("image.placeholder").removeAttr("filter");a.Qa.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.Jz).remove();a.Jz=null}function RJ(){this.cache={}}
RJ.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};RJ.prototype.fetch=function(a){return this.cache[a]};xJ.prototype.cache=new RJ;var SJ=FONT_DATA;O.wS&&SJ.forEach(function(a){a.fonts.forEach(function(a){a.displayNameThumbnail=a.displayNameThumbnail2x;a.sampleTextThumbnail=a.sampleTextThumbnail2x})});function TJ(a,b,c){var d=$("\x3cdiv\x3e");d.css("font-family",a+", zerowidthfallbackfont").css("font-size","20px").css("font-weight",b||"400").css("font-style",c||"normal").css("font-synthesis","none").css("position","absolute").css("white-space","pre").html("A1ラ  ");$("#limbo").append(d);a=d.get(0).offsetWidth;d.remove();return 0===a};function UJ(a,b){this.fonts=a;this.ac=b.ac;this.RI=b.RI;this.ZL=b.ZL;this.$L={};this.Mz=[];this.bM=[];this.ev=[];this.aM=[];this.tF=[];this.pI=Date.now();this.yP=[];this.XC=[];this.locale=b.locale;this.qY=null;this.kV=!!b.kV;this.H=b.H}UJ.prototype.off=Backbone.Events.off;UJ.prototype.on=Backbone.Events.on;UJ.prototype.once=Backbone.Events.once;UJ.prototype.trigger=Backbone.Events.trigger;
var VJ="hairline thin light regular medium bold black heavy".split(" "),WJ=new Set(VJ),XJ=new Map(VJ.map(function(a,b){return[a,b]})),YJ=new Set(["en"]);function ZJ(a){return a.XC.filter(function(a){return 0>this.yP.indexOf(a)},a)}
function $J(){var a=Kb;a.qY||(a.qY=new P(function(a,c){var d=FF((new EF).Vt(!0).Tt(!1).Wt("*").To(),["FONT"]).Vg(25);aF(this.ac,d,function(d,g){200===d&&g?(d=g.media,d=aK(this,d),d.forEach(function(a){0<=bK(this).indexOf(a)&&(this.XC.unshift(a),this.XC=this.XC.slice(0,25))},this),cK(this,d.map(function(a){return a.internalName})),a()):c()}.bind(this))}.bind(a)))}
function $A(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.name==b||g.family==b)return g.generic=d.generic,g}return null}function RA(a){a=$A(Kb,a);return!(!a||!0!==a.charWrappingForbidden)}
function dK(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.generic=d.generic,g}return null}function dB(a){if((a=$A(Kb,a))&&a.media)return new Zm({id:a.media.id,version:a.media.version})}function eB(a,b,c,d){var e=[],g=[];b&&e.push(b);c&&g.push(c);UD(a,e,g,d)}function eK(a,b){cK(Kb,[a],b)}
function eI(a,b){return(b=$A(a,b))?void 0===b.url&&!1===b.generateStyles||0<=a.ev.indexOf(b.family):!1}function fK(a,b,c){a.bM=a.bM.concat(b);a.tF.push({$e:b,callback:c||$.noop})}function gK(a){function b(a){var b=!0;0!==a.$e.filter(function(a){var d=eI(c,a);a=0<=c.aM.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.wU||(a.wU=!0,a.callback(b),c.trigger("update"))}var c=a;a.H.setTimeout(function(){c.tF.forEach(b);c.tF=c.tF.filter(function(a){return!a.wU})},0)}
function hK(a,b){a.ev=a.ev.filter(function(c){return(c=$A(a,c))&&0>b.indexOf(c.family)});b.forEach(function(b){var d=$A(a,b);d&&-1===a.aM.indexOf(d.family)&&a.aM.push(d.family);a.trigger("fontLoadFailed",b)});gK(a)}
function iK(a,b,c){c=c||0;var d=b.filter(function(b){var c=$A(a,b);if(c){b=c.family;var d=c.variants.bold,e=c.variants.italic,g=c.variants.boldItalic;Fa(!!(0<$("#limbo").length),"Font measurement requires #limbo");Fa(!!(0<$("#zeroWidthFallbackFont").length),"Font measurement requires #zeroWidthFallbackFont");TJ("zerowidthfallbackfont")?(c=!TJ(b),d=!d||!TJ(b,"700"),e=!e||!TJ(b,"400","italic"),b=!g||!TJ(b,"italic","700"),b=c&&d&&e&&b):b=!1}else b=!1;return b}),e=b.filter(function(a){return-1===d.indexOf(a)});
if(0<e.length)if(6>=c){var g=c+1;a.H.setTimeout(function(){iK(a,e,g)},200*Math.pow(2,c))}else jK(a,e);$.browser.safari?a.H.setTimeout(function(){jK(a,d)},2E3):jK(a,d)}function jK(a,b){b.forEach(function(b){b=$A(a,b);-1===a.ev.indexOf(b.family)&&a.ev.push(b.family)});gK(a)}
UJ.prototype.generateStyles=function(a){function b(a,b,c,k){k=k.woff?"src: url('"+k.woff+"') format('woff'); ":k.ttf?"src: url('"+k.ttf+"') format('truetype'); ":k.otf?"src: url('"+k.otf+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.pI);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.pI+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();
a.generateStyles&&(b(a.family,"normal","400",a.styles.regular),a.variants.bold?b(a.family,"normal","700",a.styles.bold):b(a.family,"normal","700",a.styles.regular),a.variants.italic?b(a.family,"italic","400",a.styles.italic):b(a.family,"italic","400",a.styles.regular),a.variants.boldItalic?b(a.family,"italic","700",a.styles.boldItalic):a.variants.bold?b(a.family,"italic","700",a.styles.bold):a.variants.italic?b(a.family,"italic","700",a.styles.italic):b(a.family,"italic","700",a.styles.regular))};
function UD(a,b,c,d){b&&0<b.length?c&&0<c.length?kK(a,b,function(b){b?cK(a,c,d):a.H.setTimeout(function(){d&&d(!1)},0)}):kK(a,b,d):c&&0<c.length?cK(a,c,d):a.H.setTimeout(function(){d&&d(!0)},0)}function lK(a,b,c){var d=[],e=[];b.forEach(function(a){var b=a.font;a=b.family;(b=b.Ob())?d.push(b):a&&e.push(a)});UD(a,d,e,c)}
function yE(a,b,c){function d(a){if(a){var b=m.ZL.Kc(a.id,a.version);if(b)l.push(h(mK(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.u()+","+a.Ja().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=aK(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.$L[a.u()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!dK(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.ac){var q=p.filter(k);if(0!==q.length){b=KF(new JF,q).To().i0().c0();var u=gF(a.ac,b);q.forEach(function(a){m.$L[a.u()+","+a.getVersion()]=u})}a=p.map(function(a){return m.$L[a.u()+","+a.getVersion()]});P.all(a).then(e).catch(g)}else a.ZL&&b.forEach(d),a.H.setTimeout(function(){c(!0,l)},0)}
function kK(a,b,c){yE(a,b,function(b,e){b?cK(a,e,c):c&&a.H.setTimeout(function(){c(!1)},0)})}function nK(a,b){function c(a){return a&&(a=(a.ida|a.oca+a.bda)/40,1<a)?Math.round(a*d-d):0}a=a.kV?15E3:6E4;var d=a/30;return b.reduce(function(a,b){b.styles&&(a+=c(b.styles.regular),a+=c(b.styles.bold),a+=c(b.styles.italic),a+=c(b.styles.boldItalic));return Math.ceil(a)},a)}
function cK(a,b,c){function d(a,b,c){h.RI.load({custom:{families:a,urls:b},active:function(){iK(h,c)},inactive:function(){hK(h,c)},timeout:u})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return $A(h,a)}var h=a,k=[],l=[],m={},n=_.uniq(b).filter(function(a){return null!==g(a)}),p=n.filter(function(a){var b=0<=h.ev.indexOf(a);a=$A(h,a);a=void 0===a.url&&!1===a.generateStyles;return!(b||a)}),q=p.filter(function(a){return 0>h.bM.indexOf(a)}),q=_.uniq(q.map(g)),u=nK(a,q);0===p.length&&c?h.H.setTimeout(function(){c(!0)},0):(fK(h,n,c),gK(h),q.forEach(function(a){var b;b=["n4"];a.variants&&(a.variants.italic&&b.push("i4"),a.variants.bold&&b.push("n7"),
a.variants.boldItalic&&b.push("i7"));b.sort();if(b=(b=a.variants&&(a.variants.italic||a.variants.bold||a.variants.boldItalic)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);"Noto Sans Devanagari"===a.family&&(m[b]="देवनागरी");!0===a.generateStyles?h.generateStyles(a):a.url&&l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.pI);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.pI+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.variants&&
(!1===a.variants.italic&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.variants.bold&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.variants.boldItalic&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)));h.trigger("fontLoadStart",
a.family)}}),0<q.length&&a.RI.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):iK(h,b)},inactive:function(){d(k,l,b)},timeout:u}))}function bK(a){return qC(a).filter(function(a){return!a.disabled}).sort(a.dK)}
UJ.prototype.dK=function(a,b){a=y(a.family||a.displayName);var c=y(b.family||b.displayName);if(!a.includes(" ")||!c.includes(" "))return a.localeCompare(c);b=a.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");a=c.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");var c=b.split(/\s+/gi),d=a.split(/\s+/gi),e=c.pop(),g=d.pop();return c.join("")===d.join("")&&WJ.has(e)&&WJ.has(g)?Math.sign(XJ.get(e)-XJ.get(g)):b.localeCompare(a)};
function qC(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.dK)}function KA(a){var b=qC(Kb).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function aK(a,b){return b.map(function(a){var b,e=new Zm({id:a.u(),version:a.Ja().getVersion()});if(oK(this,e))return dK(this,e);b=a.Ja();var g=a.u();a=b.qb()||a.importFilename.replace(/\..*$/,"")||g;var h=b.ic()[Lg].oa(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);h=b.ic()[yD];b=pK({displayName:a,fontFamily:g+"_"+b.getVersion(),displayNameThumbnail:{url:h.oa(),width:h.l(),height:h.o()},ca:g,da:b.getVersion(),B_:k,NX:l,j0:m});this.Mz.push(e);qK(this,b);return b},a)}
function mK(a,b,c){if(oK(a,b)&&dK(a,b))b=y(dK(a,b)),qK(a,b);else{a.Mz.push(b);var d=c[Lg].oa(),e,g,h;/\.ttf/gi.test(d)?e=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);c=c[yD];b=pK({displayName:b.id,fontFamily:b.id+"_"+b.version,displayNameThumbnail:{url:c.oa(),width:c.l(),height:c.o()},ca:b.id,da:b.version,B_:e,NX:g,j0:h})}qK(a,b);return b}
function qK(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.category})[0];return!!c})()?c.fonts.push(b):a.fonts.push({category:"Media",generic:"sans-serif",fonts:[b]})}function oK(a,b){for(var c=0;c!==a.Mz.length;c++)if(a.Mz[c].id===b.id&&a.Mz[c].version===b.version)return!0;return!1}
function pK(a){return{family:a.fontFamily,internalName:a.fontFamily,displayName:a.displayName,disabled:!1,generateStyles:!0,displayNameThumbnail:a.displayNameThumbnail,displayNameThumbnail2x:a.displayNameThumbnail,media:{id:a.ca,version:a.da},styles:{regular:{otf:a.NX,ttf:a.B_,woff:a.j0,psName:a.fontFamily}},url:"#",variants:{italic:!1,bold:!1,boldItalic:!1}}};function rK(a){this.id=a.id;this.version=a.version}rK.prototype.u=function(){return this.id};rK.prototype.getVersion=function(){return this.version};function sK(a){this.document=a.document;this.locale=a.locale}sK.prototype.getDocument=function(){return this.document};sK.prototype.Df=function(){return this.locale};function tK(){}function uK(){return new tK};function vK(){this.N=Ib}function wK(a,b,c,d,e,g){a.N.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,function(a){e&&e(a)})}function xK(a,b){sj(a.N,"/import/elementgroup/"+encodeURIComponent(b.document.id)+"/"+encodeURIComponent(String(b.document.version)),b).catch(tj).get(0).then(La).then(uK)}function yK(a,b,c,d){return sj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}
function zK(a,b,c,d){return uj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26signatureV4\x26mimeType\x3d"+encodeURIComponent(d)).spread(AK)}function BK(a,b,c,d){return sj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Fj(a.media)})}function CK(){this.prices={}}function DK(a,b,c){a.prices[b]=c;return a}var EK=DK(new CK,"ONE_USE",0),FK=DK(DK(DK(new CK,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);
function GK(){this.licensing=this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}GK.prototype.hS=function(a){this.licenseModel=a;return this};GK.prototype.iS=function(a){this.licensing=a;return this};function HK(a,b){a.publicifyMediaRequests.push(b)}function IK(){var a=(new GK).hS(EK).iS("FREE");a.autoPublicify=!0;return a}GK.prototype.TI=function(a){this.locale=a;return this};
function JK(){this.licensing=this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}function KK(a){var b=new JK;b.media=a;return b}f=JK.prototype;f.Ik=function(a){this.version=a;return this};function LK(a,b){a.title=b;return a}f.b0=function(a){this.description=a;return this};f.SI=function(a){this.keywords=a;return this};f.hS=function(a){this.licenseModel=a;return this};f.iS=function(a){this.licensing=a;return this};function MK(){}
MK.prototype.f0=function(a){this.importVersion=a;return this};function NK(a){this.reset();this.i=a}NK.prototype.reset=function(){this.previous=null;this.ur=[];this.Yk={top:0,left:0}};NK.prototype.MB=function(){var a=this;OK();a.ur.forEach(function(b){b={elementIndex:b.K(),pageIndex:ep(K,b.R()),"new":{left:b.F(),top:b.w()},old:{left:b.F()-a.Yk.left,top:b.w()-a.Yk.top}};M.register(new Y(fp,b))});PK()};
NK.prototype.tG=function(){var a=this;return function(b){a.ur=K.Wa();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.ur.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Yk.left-=1/W*1*d,a.ur.forEach(function(a){NC(a,1/W*1*d)}),QK(zc(a.i),Bc(a.i)),!1;
case 38:return a.previous=38,a.Yk.top-=1/W*1*d,a.ur.forEach(function(a){OC(a,1/W*1*d)}),QK(zc(a.i),Bc(a.i)),!1;case 39:return a.previous=39,a.Yk.left+=1/W*1*d,a.ur.forEach(function(a){PC(a,1/W*1*d)}),QK(zc(a.i),Bc(a.i)),!1;case 40:return a.previous=40,a.Yk.top+=1/W*1*d,a.ur.forEach(function(a){QC(a,1/W*1*d)}),QK(zc(a.i),Bc(a.i)),!1}}null!==a.previous&&a.MB();a.reset();return!0}};NK.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.MB(),a.reset())}};function hA(a){$(document).keydown(RK);a=new NK(a);$(document).keydown(a.tG());$(document).keyup(a.save())}
function RK(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;var c=K.Wa();0<$("*:focus").length?$("*:focus").blur():0<$(".modalContentMask").length?(a=$(".modalContentMask:last"),(c=a.next().children(".dialog").data("Canva_Views_Dialog"))?c.cancel():a.trigger("click")):$(".toolbar__item--submenuExpanded").length?T.trigger("hideContextualControlsRequested"):1===c.length&&c[0]instanceof IC&&
c[0].ad?(c[0].ad instanceof Mp&&EB(c[0].ad.C()),c[0].Yi()):0<a?hh():$(".infoPanel .close").click();return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=K.Wa()[0])&&0===AA(c.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");
$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=K.Wa()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return SK(),!1;if(K.ia().some(function(a){return a.vg}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return jo(cc,k.clone()),!1;if(86===a.which)return TK(k),!1}if(k&&k.fi&&g&&a.shiftKey&&
a.altKey){if(66===a.which)return UK(k),!1;if(187===a.which||171===a.which)return VK(k,1),!1;if(189===a.which||173===a.which)return VK(k,-1),!1}if(k&&k.lA()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return WK(k,1),!1;if(189===a.which||173===a.which)return WK(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return e?EB($(c)):XK($(c)),!1;if(g&&k&&k.h_()&&a.altKey){switch(a.which){case 37:return YK(k,-1),!1;case 39:return YK(k,1),!1;default:k.tr=void 0}if(a.shiftKey&&81===a.which)return YK(k,
0),!1}if(k&&k.nb()&&k.se()&&!k.Ff()&&!k.RV()&&(a.metaKey||a.ctrlKey)){if(74===a.which)return ZK(k),!1;if(75===a.which){if(a.shiftKey||a.altKey)return $K(k),!1}else if(76===a.which){if(a.shiftKey||a.altKey)return aL(k),!1}else if(82===a.which){if(a.shiftKey||a.altKey)return bL(k),!1}else if(67===a.which&&(a.shiftKey||a.altKey))return cL(k),!1}if(g&&k&&k.lR()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");$(".toolbar__button--uppercase").trigger("click");
break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:dL(k);break;case 77:eL(k);break;case 66:fL(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?gL():hL(),!1;if(89===a.which){if(a.shiftKey)return!0;gL();return!1}}if(!g){if(a.metaKey||
a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;iL();return!1;case 86:if(a.shiftKey)return!0;jL();return!1;case 68:if(a.shiftKey)return!0;iL();jL();return!1;case 71:return a.shiftKey?kL():lL(),!1;case 65:return hh(),a.shiftKey||mL(K.Ea().ia()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):
$(".enabled \x3e .toolbar__button--elementDelete").length?$(".toolbar__button--elementDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return nL(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return oL(1),!1;if(219===a.which)return oL(-1),!1}switch(a.which){case 221:case 38:if($p())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if($p())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return T.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return Rb().toggle(),!1}if(Jb.G.get(hg)&&a.altKey)switch(a.which){case 112:var l=prompt("Select which type of chart to create:\n0 \x3d Bar chart\n1 \x3d Pie chart\n2 \x3d Line chart\n3 \x3d Donut chart",
"0"),l=kI[Object.keys(kI)[+l]],m=iI(l);m.dl(K.Ea());mI(m,function(){Ag(m);Xl(l)});return!1}return!0};function pL(){}
pL.prototype.search=function(a,b,c){return new P(function(d,e){function g(){d(qL({results:[]}))}function h(){XI(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.re(),d=a.ql(),c={page:0,quality:"THUMBNAIL",height:c.o(),width:c.l(),url:c.oa()},d={page:0,quality:"SCREEN",height:d.o(),width:d.l(),url:d.oa()};b.push({id:a.u(),title:a.getName(),origin:Kg,files_:[c,d]})});d(qL({results:b}))}"facebook"==a.toLowerCase()?vg&&UI(vg).then(h).catch(function(){TI(vg).then(h).catch(g)}):e(Error("Not handled"))})};function rL(a,b){this.N=a;this.T9=b||[];this.url="/search"}var sL=["DESIGN"],tL=[Eg,Gg],uL=["ELEMENT_GROUP"];
rL.prototype.st=function(a){function b(a){var b="";0<a.length&&(b=a.map(function(a){return"\x26sort\x3d"+encodeURIComponent(a.$u+":"+a.direction)}).join(""));return b}a.from||(a.Rf=null);a="/search?q\x3d"+encodeURIComponent(a.query)+(a.Zh?"\x26docId\x3d"+encodeURIComponent(a.Zh):"")+function(a,b,e,g){var h="",k=[],l=[],m=[];if(a&&a.length){var n=[];a.forEach(function(a){a=a.toString().charAt(0);h+=a;n.push(a)});m.push("+type:("+n.join(" ")+")")}b&&Object.keys(b).forEach(function(a){k.push(""+a+":"+
b[a]);m.push("+"+a+":"+b[a])});e&&Object.keys(e).forEach(function(a){l.push(""+a+":"+e[a]);m.push("-"+a+":"+e[a])});g&&(m=m.concat(g));a="";h&&(a+="\x26types\x3d"+h);0<k.length&&(a+="\x26includes\x3d"+encodeURIComponent(k.join(",")));0<l.length&&(a+="\x26excludes\x3d"+encodeURIComponent(l.join(",")));0<m.length&&(a+="\x26fq\x3d"+encodeURIComponent(m.join(",")));return a}(a.Pn,a.Dn,a.Ym,a.filters)+(a.sort?b(a.sort):"")+(a.elevation?"\x26elevation\x3d"+encodeURIComponent(a.elevation):"")+(a.YE?"\x26elevateIds\x3d"+
encodeURIComponent(a.YE.join(",")):"")+(a.sz?"\x26elevatedOnly\x3dtrue":"")+(null!=a.limit?"\x26limit\x3d"+encodeURIComponent(String(a.limit)):"")+(null!=a.from?"\x26from\x3d"+encodeURIComponent(String(a.from)):"")+(a.mm?"\x26translatable\x3dtrue":"")+(a.Rf?"\x26rootSearchId\x3d"+encodeURIComponent(a.Rf):"")+(null!=a.Kg?"\x26organic\x3d"+encodeURIComponent(String(a.Kg)):"")+(null!=a.di?"\x26freeOnly\x3d"+encodeURIComponent(String(a.di)):"")+(null!=a.aspectRatio?"\x26aspectRatio\x3d"+encodeURIComponent(String(a.aspectRatio)):
"");return uj(this.N,a).get(0).then(qL)};function vL(a,b){return P.any(a.T9.map(function(a){return a.search(b.query,b.from,b.limit)})).catch(function(){return this.st(b)}.bind(a)).cancellable()}function wL(a,b){var c=Sb;sj(c.N,c.url+"/click",{events:kb(xL,"events",(new yL({events:[new zL({Uq:a.CM(),ca:a.u(),Nq:a.BM(),Kd:0===AL(a),Kg:!!b})]})).events)}).return()};function BL(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.oneTimeUseDiscountable=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=null;this.files_=[];this.designType=void 0;this.type=null;this.status=
lF;this.user=null;this.mp=void 0}f=BL.prototype;f.CM=function(){return this.searchId};f.BM=function(){return this.rank};f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Ef=function(){return this.origin};f.ka=function(){return this.brand};f.La=function(){return this.user};f.qV=function(){return this.artist};f.qb=function(){return this.title};f.He=function(){return this.description};f.Hb=function(){return this.background};f.ae=function(){return this.cutout};f.HA=function(){return this.repeating};
f.oc=function(){return this.recolorable};function AL(a){return a.oneTimeUsePriceCents}f.Kv=function(){return this.oneTimeUseDiscountable};f.HF=function(){return this.oneTimeUseAggregatePriceCents};f.lM=function(){return this.componentMedia};f.MF=function(){return this.superKeywords};f.Tj=function(){return this.keywords};f.ic=function(){return this.files_};f.vs=function(){return this.spritesheetMetadata};function CL(a){return a.type}
f.Kc=function(a){return this.ic().filter(function(b){return b.R()===(a||0)}).reduce(function(a,c){a[c.KF()]=c;return a},{})};f.jc=function(){return DL(this).length};function DL(a){var b=[];a.ic().forEach(function(a){a=a.R();-1===b.indexOf(a)&&b.push(a)});return b}function EL(a){return"DESIGN"==CL(a)&&1<a.jc()}f.getFile=function(a,b){return(b=this.Kc(b))?b[a]:void 0};
f.ql=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.mp?a&&a(JSON.parse(JSON.stringify(b.mp))):$.getJSON(c.oa(),function(c){b.mp=c;a&&a(JSON.parse(JSON.stringify(b.mp)))}):a&&a(JSON.parse(JSON.stringify(b.mp)))};f.tn=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(yD);return a?a.oa():null};
function Jg(a){if(!a)return null;a=$.extend(new BL,a);if(a.files_){var b;b=(b=a.files_)?b.map(Tq):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(La).map($m));a.spritesheetMetadata&&(a.spritesheetMetadata=Yr(La(a.spritesheetMetadata)));return a}function FL(a,b){a.id=b.u();a.version=b.Ja().getVersion();a.origin="CANVA"}function GL(){this.id="";this.totalHits=0;this.results=[]}GL.prototype.u=function(){return this.id};GL.prototype.aA=function(){return this.results};
function qL(a){if(!a)return null;a=$.extend(new GL,a);a.results&&(a.results=a.results.map(Jg));return a};function HL(a,b){switch(b){case "DESC":return"DESC";case "ASC":return"ASC";default:throw new TypeError('expected SortDirection for property "'+a+'", found: '+JSON.stringify(b));}}
function th(a,b){switch(b){case "web_marketplace":return"WEB_MARKETPLACE";case "web_2_object_panel":return"WEB_2_OBJECT_PANEL";case "iphone_marketplace":return"IPHONE_MARKETPLACE";case "iphone_add_menu":return"IPHONE_ADD_MENU";case "ipad_marketplace":return"IPAD_MARKETPLACE";case "ipad_object_panel":return"IPAD_OBJECT_PANEL";case "android_home":return"ANDROID_HOME";case "android_editor":return"ANDROID_EDITOR";default:throw new TypeError('expected ClientFeature for property "'+a+'", found: '+JSON.stringify(b));
}}function IL(a){this.$u=a.$u;this.direction=a.direction}IL.prototype.getDirection=function(){return this.direction};function rh(a){return new IL({$u:C("field",a),direction:Pa(HL,"direction",a)})}
function ph(a){this.query=a.query;this.mm=a.mm;this.Pn=a.Pn||[];this.Dn=a.Dn||new Map;this.Ym=a.Ym||new Map;this.filters=a.filters||[];this.di=a.di;this.set=a.set;this.category=a.category;this.BU=a.BU;this.elevation=a.elevation;this.YE=a.YE||[];this.sz=a.sz;this.sort=a.sort||[];this.zc=a.zc||[];this.locale=a.locale;this.aspectRatio=a.aspectRatio;this.dr=a.dr;this.limit=a.limit;this.iT=a.iT;this.qU=a.qU;this.Zh=a.Zh;this.Rf=a.Rf;this.Kg=a.Kg;this.QT=a.QT;this.MX=a.MX;this.VU=a.VU}f=ph.prototype;
f.ps=function(){return this.Pn};f.gg=function(){return this.zc};f.Df=function(){return this.locale};f.ei=function(){return this.aspectRatio};f.$d=function(){return this.limit};function zL(a){this.Uq=a.Uq;this.ca=a.ca;this.Nq=a.Nq;this.Kd=a.Kd;this.Kg=a.Kg;this.Rf=a.Rf;this.source=a.source;this.Zh=a.Zh}zL.prototype.CM=function(){return this.Uq};zL.prototype.Qp=function(){return this.ca};zL.prototype.BM=function(){return this.Nq};
function xL(a){return{searchId:ib("searchId",a.Uq),mediaId:ib("mediaId",a.ca),rank:db("rank",a.Nq),free:hb("free",a.Kd),organic:hb("organic",a.Kg),rootSearchId:I("rootSearchId",a.Rf),source:I("source",a.source),docId:I("docId",a.Zh)}}function yL(a){this.events=a.events||[]};function JL(a,b){this.cache=$.extend({},a,!0);this.ac=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=Tq(c.cache[a][g][b])})})})}function Qg(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=Tq(d[e])}JL.prototype.Kc=function(a,b){return KL(this,a,b)?this.cache[a][b]:null};
function KL(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function cq(a,b){return!!b&&KL(a,b.id,b.version)}function LL(a,b,c,d){function e(a){a&&a.media&&a.media.forEach(function(a){Qg(g,a.u(),a.Ja().getVersion(),a.Ja().ic())})}var g=a;0===b.length?d():(b=KF(new JF,b),c?LF(b):b.To(),gF(a.ac,b).then(e).catch($.noop).finally(d))}function ML(a,b,c){LL(a,b,!0,c)}
JL.prototype.getKeys=function(){var a=this,b=[];Object.keys(a.cache).forEach(function(c){Object.keys(a.cache[c]).forEach(function(a){b.push({id:c,version:Number(a)})})});return b};var NL={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function OL(){}OL.prototype.getKey=function(){return this.key};function AK(a){return Df(OL,a)};function PL(a,b,c){this.fileName=a;this.QU=b;this.y3=c}PL.prototype.getFileName=function(){return this.fileName};function QL(){}QL=Az.extend();QL.prototype.initialize=function(a){this.nr=a.nr;this.tf=a.tf;Az.prototype.initialize.call(this,{title:"Upload error",content:$(RL(this).toString())})};
function RL(a){var b=a.nr.QU,c=a.nr.getFileName()||"";switch(b){case 0:return a.tf.Ia("uploadErrorUnsupportedBrowserHtml");case 3:return a.tf.Ia("uploadErrorWorkerHtml");case 1:return a.tf.Ia("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.tf.Ia("uploadErrorFileTooLargeHtml",c);case 4:return a.tf.Ia("uploadErrorFileProcessingHtml",c);case 5:return a.tf.Ia("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.nr.y3,b=b instanceof DF?b.Ja().rejectionReason:void 0,b?a.tf.Ia("uploadErrorMediaImportWithReasonHtml",
c,b):a.tf.Ia("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}QL.dw=null;QL.show=function(a,b){if(!QL.yaa(a))return null;var c=new QL({nr:a,tf:b});c.on("hide",function(){QL.dw===c&&(QL.dw=null)});if(QL.dw)QL.dw.on("hide",function(){c.show()});else c.show();return QL.dw=c};QL.yaa=function(a){if(QL.dw)switch(a.QU){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function SL(a,b,c){this.$f=!1;this.tb=b;this.media=null;this.fo=0;this.Jx=Date.now();this.K$=!!c;this.ug=a;this.nr=null}f=SL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Ob=function(){return this.media};f.tn=function(){return this.ug};f.start=function(a){this.$f||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.$f||(this.fo=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.$f||(this.$f=!0,this.fo=100,this.trigger("complete",this))};f.fail=function(a){this.$f||(this.$f=!0,this.media=null,this.nr=a,this.trigger("fail",this))};function TL(){this.DJ=!1;this.LL=this.$f=0;this.id=void 0;this.dY=[];this.YQ=0}f=TL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Uo=function(a){this.id=a;return this};f.u=function(){return this.id};f.IF=function(){return this.dY};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.$f++;k.DJ&&k.$f+k.YQ===k.LL&&k.complete()}function h(){k.fail(l.nr);g()}var k=this,l=new SL(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.dY.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};function UL(a){a.DJ=!0;a.LL++}f.dr=function(){this.YQ++};
f.complete=function(){this.$f=this.YQ=this.LL=0;this.DJ=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function VL(){this.fw={}}_.extend(VL.prototype,Backbone.Events);VL.prototype.off=Backbone.Events.on;VL.prototype.on=Backbone.Events.on;VL.prototype.trigger=Backbone.Events.trigger;VL.prototype.IF=function(a){return 0<=Object.keys(this.fw).indexOf(a)?this.fw[a].IF():[]};
function WL(a,b){a=Object.keys(a.fw).map(a.IF,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Jx>=b});if(a.every(function(a){return a.$f}))return 100;var c=a.reduce(function(a,b){return a+(b.$f&&!b.media?100:b.fo)},0);return Math.min(100*c/(100*a.length),99)};function XL(a){this.source=a.source;this.ZG=a.ZG||null;this.listener=a.progress}function YL(a,b,c,d,e,g,h,k){var l=!1,m=a.listener.create(d,e,g,h);ZL(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.ZG&&a.ZG(m.Ob())},function(a){m.fail(new PL(b.name||"Unnamed File",6,a))})}
function $L(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new hn,k=0;k<b;k+=4)kn(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=c.iv();h.putImageData(d,0,0);g=g.toDataURL();return{color:a,DV:g}}
function aM(a,b){bM(b).then(function(c){var d=$L(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),q=0;m<n;++q,++m)p[q]=e[m].charCodeAt(0);k[l]=new Uint8Array(p)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;YL(a,e,b,d.color,d.DV,c,!1)}).catch($.noop)}
XL.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[NL[5],NL[6],NL[7],NL[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case NL[2]:l.translate(h,0);l.scale(-1,1);break;case NL[3]:l.translate(h,k);l.rotate(Math.PI);break;case NL[4]:l.translate(0,k);l.scale(1,-1);break;case NL[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case NL[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case NL[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case NL[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);e(a,b)});d.attr("src",b)}function e(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){k(d,e.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];cM(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new PL(a,4));c.listener.dr();l()})}function k(a,d,e){var g=$L(d);YL(c,a,e,g.color,g.DV,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){u++;u<q?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(O.W0.upload),q=0,u=0,v=0;v<a.length;v++){var z=a[v],t=z.name,x=z.type,H=z.size;UL(c.listener);var E;a:{switch(x){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":E=!0;break a}E=!1}if(E)if(26214400<H)c.listener.fail(new PL(t,2)),c.listener.dr();else{if("image/jpeg"===x||"image/png"===x)m[t]=z;n.push(z);q++}else c.listener.fail(new PL(t,1)),c.listener.dr()}c.listener.sync();if(0===q)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new PL(g.fileName,4)),c.listener.dr(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)e(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,PB(g)){a=(new LB(g)).e0(a);a.source=ZB(a.source);a.source=WB(a.source);a.source=YB(a.source);a.viewBox=XB(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(a.source)));YL(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new PL(a,5)),c.listener.dr(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(L){c.listener.fail(new PL(null,3));c.listener.complete();return}U&&U.track("image_upload",{source:c.source,quantity:q})}}else c.listener.fail(new PL(null,
0)),c.listener.complete()})};function cM(a){return new P(function(b,c){if(dM){var d=window.URL.createObjectURL(a);bM(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){bM(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function bM(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var dM="IE"!==(new UAParser).getResult().browser.name;function eM(a){w(0<a);this.P4=a;this.queue=[];this.ZM=0}eM.prototype.hQ=function(a){var b=this;return(new P(function(a){b.queue.push(a);fM(b)})).cancellable().then(a).finally(function(){b.ZM--;fM(b)})};function fM(a){if(!(a.ZM>=a.P4)){var b=a.queue.shift();b&&(a.ZM++,b())}};function gM(a,b,c,d,e,g,h,k){this.N=a;this.media=b;this.mc=c;this.ef=d;this.Xx=e;this.A3=g;this.Px={};this.RC=[];this.Ms=h;this.Vh=k;this.G_=[];this.QN=_.throttle(this.QN.bind(this),30,{leading:!1})}gM.prototype.Kc=function(a,b){return null==a||null==b?null:this.ef.Kc(a,b)||this.Px[a]||null};
function zD(a,b,c){var d=Hb,e=d.Kc(a,b),g;return e&&(g=e[c])?g.watermarked?(new P(function(c){d.G_.push({Q4:new Zm({id:a,version:b}),resolve:c});d.QN()})).then(function(){var e=d.Kc(a,b);if(!e||!(g=e[c]))throw Error();return g}):P.resolve(g):P.reject()}gM.prototype.QN=function(){var a=this.G_.splice(0),b=a.map(function(a){return a.Q4});ML(this.ef,b,function(){return a.forEach(function(a){return a.resolve()})})};
function hM(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.u();a=a.getVersion();if(this.Kc(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Og(a,b){var c=b.u();a.Px[c]||(b=b.Kc(),a.Px[c]={SCREEN:Tq(b[Lg]),THUMBNAIL:Tq(b[yD])})}
function Cg(a,b,c){var d=b.Ef();if(d!==Kg&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.u(),h=iM(b,a.mc),d=(new GF).Ut(h.filename).Vt(!0);a.RC.push(g);dF(a.media,d).then(function(b){var c=b.Ja();a.Px[b.u()]=c&&c.ic();e=b;a:switch(h.origin){case Kg:case "GOOGLE":b=new oM(h.id,h.mc,b,h.NH);break a;default:throw Error(h.origin+" is unsupported");}return a.Xx.upload(b)}).then(function(){var b=(new HD).Ik(e.Ja().getVersion()).ey(!0);return a.media.$_(e.u(),b)}).then(function(c){var d=
b.getVersion();FL(b,c);Qg(a.ef,c.u(),c.Ja().getVersion(),c.Ja().ic());var d={mediaId:g,mediaVersion:d},e={mediaId:c.u(),mediaVersion:c.Ja().getVersion()};pM(d,e);aq(K).forEach(function(a){var b=a.Pb();b&&b.id===g&&a.cm(c.u(),c.Ja().getVersion())});qM();return c}).catch(function(b){c.ZC(a.ef);qM();return Promise.reject(b)}).finally(a.ZZ.bind(a,g))}
function ZL(a,b,c,d,e,g){var h=Hb;function k(a){var e={};e[yD]=new yF({url:c,width:d.width,height:d.height});e[Lg]=new yF({url:b,width:d.width,height:d.height});q.Px[a.u()]=e;return a}function l(a){var b=(new HD).Ik(a.Ja().getVersion()).ey(!0);return q.media.$_(a.u(),b)}function m(a){Qg(q.ef,a.u(),a.Ja().getVersion(),a.Ja().ic());qM();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new rM({file:a,rF:g,id:_.uniqueId("file_"),media:b,mc:q.mc,Ms:q.Ms,Vh:q.Vh});b.BP.push(e);
return q.Xx.upload(b)}var q=h,u=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),z=HF((new GF).Ut(u).Vt(!0).h0(!1),a.size);h.RC.push(v);return h.A3.hQ(function(){return dF(q.media,z).then(k).then(p).then(l).then(m).catch(n).finally(q.ZZ.bind(q,v))})}gM.prototype.ZZ=function(a){a=this.RC.indexOf(a);-1!=a&&this.RC.splice(a,1)};function qM(){K.trigger("change")}
function sM(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(KL(d.ef,g,h)?0:g in d.Px)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=Hb;b(a)};function tM(a){this.id=a.id;this.origin=a.origin;this.NH=a.NH;this.ir=a.ir;this.filename=a.filename;this.mc=a.mc}
function iM(a,b){var c=a.Ef();switch(c){case Kg:var c=a.getFile(Lg).oa(),d=a.getFile(yD).oa(),e=c.split("?")[0].match(/.*(\.\w+)/)[1],e=a.u()+e;return new tM({id:a.u(),origin:a.Ef(),NH:c,ir:d,filename:e,mc:b});case "GOOGLE":return c=a.getFile(Lg).oa(),d=a.getFile(yD).oa(),e=a.qb(),new tM({id:a.u(),origin:a.Ef(),NH:c,ir:d,filename:e,mc:b});default:throw Error('Cannot create temporary media for origin "'+c+'"');}};function uM(){this.queue=[];this.SB={};this.OR={};this.EK=null}uM.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.u();var e=c.SB[d];e||(e=[]);e.push(b);c.SB[d]=e});vM(c);return b}var c=this,d=this.OR[a.u()];return d?P.resolve(d):P.resolve().then(b)};function vM(a){if(!a.EK&&0<a.queue.length){var b=a.queue.shift();a.EK=b;wM(a,b)}}
function wM(a,b){var c=b.request.u();xM(b.request).then(function(b){a.OR[c]=b}).then(function(){var b=a.SB[c],e=a.OR[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.SB[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.SB[c]}).finally(a.i5.bind(a))}
function xM(a){return new P(function(b,c){function d(h){7>e&&h===yM?(e++,g*=1.6,P.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}uM.prototype.i5=function(){this.EK=null;vM(this)};function zM(a,b){this.id=a;this.media=b;this.BP=[]}var yM=Error("Canva is too busy to process your upload at this time. Please try again later.");zM.prototype.u=function(){return this.id};zM.prototype.send=function(){return P.reject("Not implemented")};zM.prototype.IX=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.BP.length;b++)this.BP[b](this.media,a)}};function AM(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(BM,function(b,c){return a.slice(-c.length)===c})}var BM={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function rM(a){zM.call(this,a.id,a.media);this.file=a.file;this.rF=a.rF;this.mc=a.mc;this.k8=void 0;this.Vh=a.Vh;this.SM=a.Ms.SM("canva.editor.uploadrate")}rM.prototype=Object.create(zM.prototype);rM.prototype.constructor=rM;
rM.prototype.send=P.method(function(){var a=this,b=a.file.type||AM(a.file.name),c=this.Vh.now();return zK(this.mc,this.media.u(),this.media.Ja().getVersion(),b).then(function(c){var e=c.formFields||{};if(0<Object.keys(e).length)return c={file:a.file,url:c.postUrl,cM:e,progress:a.IX.bind(a)},CM(c);c={$0:c.awsAccessKeyId,file:a.file,T4:b,key:c.getKey(),H8:c.policy,progress:a.IX.bind(a),t$:c.signature,url:c.postUrl};return CM({file:c.file,url:c.url,cM:{key:c.key,AWSAccessKeyId:c.$0,policy:c.H8,signature:c.t$,
"Content-Type":c.T4||c.file.type},progress:c.progress,WV:c.WV})}).tap(function(){a.SM.update(a.file.size/(a.Vh.now()-c))}).then(function(c){c=(new MK).f0(c);c.mimeType=b;c.isPaid=!0===a.k8;a.rF&&(c.folderKey=a.rF);return BK(a.mc,a.media.u(),a.media.Ja().getVersion(),c)}).catch(this.y9.bind(this))});
rM.prototype.y9=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function oM(a,b,c,d){zM.call(this,a,c);this.mc=b;this.url=d}oM.prototype=Object.create(zM.prototype);oM.prototype.constructor=oM;oM.prototype.send=P.method(function(){var a=this;return yK(this.mc,this.media.u(),this.media.Ja().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?yM:Error();})});function gA(a){function b(a,b,c){c||b.forEach(function(a){a.u&&a.getVersion&&a.ic&&("CANVA"==a.Ef()?Qg(yb,a.u(),a.getVersion(),a.Kc()):Og(Hb,a))})}function c(){DM="FREE"===z.Db.cC;EM(l)}var d=$("#objectPanel"),e=new jh(window.viewConfig),g=jy(),h=ny(g),k=my(g).ka(),l=a.i,m=km(),n=a.Xb,p=new Jj(Ib),q=new rL(Ib);lK(Kb,function(){var a=(my(g).Lp()||new zx({})).LC;return a&&a[0]?a[0].MC||[]:[]}(),function(){var a=new FM({model:K,Ui:my(g).Lp(),i:l});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});
var u=null,v=oh(e);null!=v&&(u=GM(v));new HM({yb:k.hn(),DK:h.u(),uK:function(b){return new IM({J:lc(l),Ju:b,Wc:a.Wc,tx:!Jb.gz()})},hE:function(a,b){var c,d;-1<h.tv().indexOf("FUSION")?(c=fv(window.cdocType).u(),d=!1):(c=void 0,d=!0);return new JM({el:a,Q2:new KM({Ra:Ab,gc:p,na:h.u(),va:k.u(),dv:b,Zr:d,JE:c}),DA:!!b,i:l})},tK:function(a){return new LM({el:a,i:l,kE:function(){return new MM(null!=u?new NM({pQ:q,sd:u}):new NM({pQ:q,vc:K.lb(),query:e.xg.get("layoutQuery",null)}))}})},pK:function(a){return new OM({el:a,
i:l})},Ra:Ab,gc:p,el:"#resultsLayout",N4:e.xg.get("magicTemplates",[]).map(PM),model:K,Nca:Jb.G.get(Nf),Oca:Jb.gz(),i:l,RQ:!!my(g).getSubscription(),TQ:-1===["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(e.wh())});v=$(".searchAdvanced");if(1===v.length){var z=QM({Zl:Ed(l),TL:c,anchor:$("#search"),G:a.G,j:m,XD:function(){if(Jb.G.get(ug)){var a=Mb;a.j.wa(pm());Ho(a,No)}else a=Mb,a.j.wa(pm()),Ho(a,RM)}});v.append(z.view.$el);DM="FREE"===z.Db.cC}var t=new SM({el:"#resultsSearch",i:l});t.on("results:didFetch",
b);t.on("searchFilterMediaType",function(){TM=t.ps();EM(l)});TM=t.ps();v=new UM({el:"#resultsElements",i:l,n$:Jb.G.get(hg)});v.on("results:didFetch",b);v.on("folder:expand",function(a){m.track("folder_opened",{section:"editor",subsection:"object_panel",location:"elements_tab",type:a.replace(/\s/g,"_").toLowerCase()})});var v=new ZI(Ib),x=new VL,H=new wg({Fb:K,Gd:vb,ef:yb,ac:Db,gc:p,xI:Hb,Xy:function(a,b){var c=lc(l);a=a.u();var d;0<=Object.keys(x.fw).indexOf(a)?a=x.fw[a]:(d=(new TL).Uo(a),d.on("create",
x.trigger.bind(x,"create")),d.on("fail",x.trigger.bind(x,"fail")),a=x.fw[a]=d);return new XL({source:b,J:c,progress:a})}}),E;a:{try{E=my(g).Lp().hn().Gg;break a}catch(L){}E=void 0}E=new VM({yb:E,Pa:H,wz:Jb.G.get(Rf),hl:Jb.G.get(Pf),h3:new WM($(window)),il:vg,W:Jb,gc:p,Mi:v,ac:Db,i:l,Z:Eb,Xf:x,na:h.u(),H:jl,Wc:a.Wc});E.render().getElement().replaceAll("#normalUploads");E.show();(new XM({root:$("#objectPanel menu .uploads"),Xf:x,tf:md(l)})).start();YM(my(g).Lp(),tc(l),m);ZM(l);qA();d.children("menu").find("a").on("click",
function(){$M.call(this,l)});(new hp("#objectPanel")).on("mousedown",".templateGallery a",aN).on("touchstart",".templateGallery a",aN);d.on("click",".backgroundGallery a",bN);(new hp("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",cN).on("touchstart",".backgroundGallery *:not(.static) a",cN);d.on("click",".backgroundGallery a",!1);d.on("click",".infoPanelGallery .info .moreInfo",function(){dN.call(this,l)});d.on("click",".infoPanelGallery .info .superKeyword",eN);(new hp("#objectPanel")).on("mousedown",
".photoGallery:not(.gridGallery):not(.albumGallery) a",fN).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",fN);d.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new hp("#objectPanel")).on("mousedown",".gridGallery a",gN).on("touchstart",".gridGallery a",gN);(new hp("#objectPanel")).on("mousedown",".chartGallery .chart a",hN).on("touchstart",".chartGallery .chart a",hN).on("mousedown",".chartGallery :not(.chart) a",fN).on("touchstart",".chartGallery :not(.chart) a",
fN);vg&&vg.init().then(function(a){UI(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",iN);$("#search").on("focus",jN);$("#someoneElseEditing").find("a").on("click",kN);$("#inReview").find("a").on("click",lN);$("#touchDevice").find("a").on("click",mN);d.find(".scrollPane").each(function(){(new Xn($(this))).render()});nN(d,a.Bp,l);oN(n,pN,function(){var a=Ud(lc(l)),a=d.find('[title\x3d"'+a+'"]'),
b=d.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function nN(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?$M.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?($M.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},O.Da.mk)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);EM(c)},O.Da.mk)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
$M.call(a,c)}b?d(b):h()}
function YM(a,b,c){function d(){var a=e();if(a&&!a.equals(p.Up())||null===a&&null!==p.Up())p.off("preview",m.Bw),p.off("confirm",m.confirm),p.lC(a),p.confirm(),p.on("preview",m.Bw),p.on("confirm",m.confirm),m.reset()}function e(){if(fD(n)){var a=Vp(n);if(0<a.length)return a[a.length-1].lh()}return null}function g(){Zn(p);p.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=qN(),n=K.Ea();a=a&&a.My||[];
var p=new Rn({Ny:new zz({ty:function(a){a.appendTo("#objectPanel")},dA:function(){return $(document.body)},margin:O.pS,AC:yz}),Dl:b,$i:rc(Lb),Pl:K,tu:a,$B:!1,Rb:e(),j:c,W:Jb,window:window});p.on("preview",m.Bw);p.on("confirm",m.confirm);p.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});p.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});p.listenTo(K,"page:change:selected",
function(){g();p.stopListening(n);n=K.Ea();d();p.listenTo(n,"change:background",d)});p.listenTo(n,"change:background",d);p.listenTo(M,"beforeOperationStackPop",g);p.appendTo(l)}function jN(){var a=this;"resultsSearch"!==rN().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},O.Gc)}
function $M(a){function b(a,b,c,d,e,g){var h=$(a);a=h.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();a.parent(".layer").find(".searchError").remove();sN(a);a.height(h.height());tN=new uN(c,b,d,null,null,null,null,vN(h,h.height()),null,!1,!1,function(){wN(e)},!1,null);g&&(b=new uN(c,g,d,null,null,null,null,vN(h,h.height()),null,!1,!1,function(){wN(e)},!1,null),b.xY=tN,tN.UH=b);a.data("search",tN);wN(e)}T.trigger("objectPanel:tabClicked");var c=$(this).parents("menu"),d=$("li",c),e=$(this).parents("li"),
g=d.index(c.find("li.on"))+1,h=e.index()+1,k=$("#objectPanel"),l="#"+k.find(".content \x3e .results").get(g-1).id,c="#"+k.find(".content \x3e .results").get(h-1).id,m=k.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");k.get(0).className=m;k.addClass("stage"+h);d.removeClass("on");U&&e.get(0)&&Pl(U,e.get(0).className,"object_panel");e.addClass("on");d=rN();e.hasClass("search")&&$("#search").focus();g==h&&d.find(".layer").first().animate({scrollTop:0},O.Da.Tq);e=$(l+" .layer");xN(e);yN&&yN.cancel();
yN=null;g=$(c);e=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;e&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=vN(c,c.height()),a.ai(c)):"#resultsText"==c?b(c,uL,"text",null,a,tL):"#resultsBackground"==c&&b(c,tL,"backgrounds",{background:"true"},a));(a=d.find(".layer").last().find(".searchGroup").last().data("search"))&&tN&&"facebook"!=tN.query.toLowerCase().trim()&&(tN=a);return!1}
function aN(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>O.Hc,c=Math.abs(b-l)>O.Hc||c;null==k&&c&&(k=g.Wy(),$("#content").append(k),e.css("opacity",0),$("#search").blur(),zN(k,AN(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();e.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);e.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),e.animate({opacity:1},O.Da.rL),d()):(h=e.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem,.multiPageLayoutItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case BN:c=g.model instanceof cJ?"canva_layout_grid":"canva_layout";break;case CN:c=
"brand_template";break;case DN:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink"),e="function"===typeof g.model.HF&&0<g.model.HF();U&&U.track("layout_use",{media_id:g.model.u(),layout_source:c,component_page:d,interaction:b?"drag":"click",is_paid_layout:e?"yes":"no"});if(b=e&&Jb)b=Jb.G.get(tg);b&&(window.location.hash="#premiumLayoutHint",window.Appcues&&window.Appcues.page())}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==
O.Nh||a.ctrlKey)return!0;Xz();var e=$(this);e.addClass("pickedUp");var g=e.parents("li").data("view"),h=e.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=new hp($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function qN(){function a(){b&&(PK(),b=!1);d=c=null}var b=!1,c,d,e;return{Bw:function(a){hh();var h=K.Ea(),k=Vp(h);e={index:0,color:a.ra()};b||(OK(),b=!0);c=k.filter(function(a){return a.mq()}).pop();k.forEach(function(a){a!==c&&(EN(a),a.remove())});c?(d||(h=c.bb()[0],d={index:0,color:h?h.ra():O.eJ}),c.ge(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:e.color},_.extend(a,h.qa().serialize()),a=yg(a),a.appendTo(h),d=e,Ag(a),c=a)},confirm:function(){if(c&&c.R()){var b={elementIndex:c.K(),
pageIndex:c.R().K(),"new":e,old:d};M.register(new Y(FN,b));d=e}a()},reset:a}}function bN(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;hh();a=$(a.currentTarget).parents("li")[0];a=$(a);GN(a);a=a.data("result");wL(a,!1);Yl("background_image",a.u(),null);return!1}
function cN(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=O.Hc||Math.abs(a-p)>O.Hc)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.HA()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),t=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);t<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();zN(m,AN(q))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();q.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
O.Da.rL)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==O.Nh||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=new hp($(document));q.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function GN(a){var b=K.Ea(),c=gh(vb),d=Vp(b);if(0<d.length){var e=d[d.length-1].C().clone();e.removeClass("appearing");HN(c,e);P.delay(O.Da.n3*O.iy).then(function(){e.remove()})}a=$("img",a);(a=yg(IN(a)))&&a.QJ()&&(OK(),d.forEach(function(a){var c=a.K(),c={backgroundColor:a.lh(),elementIndex:c,oldElementIndex:c,pageIndex:ep(K,b)};GD(a);M.register(new Y(JN,c));EN(a);a.remove()}),d=b.qa(),c=a.qa(),Gm(c,d),a.td(c),b.addElement(a,!1,!0),Ag(a),d=a.K(),Wp(a),d={backgroundColor:a.lh(),elementIndex:a.K(),
oldElementIndex:d,pageIndex:ep(K,b)},M.register(new Y(KN,d)),PK())}
function qA(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=Oq(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.l();c=c.o()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
LN(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
q={s2:k,marginRight:l,marginBottom:m,ta:[]},u=p&&p.ta.length==n&&p.s2==k,v=0;v<n;v++)q.ta[v]={height:0,items:[],Gf:0},u&&(q.ta[v].Gf=p.ta[v].Gf);var z=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;z=$(this).data("originalTop")+(k-l)/b*a+m});null!=z&&u||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=q.ta[d].height,n=0;n<q.ta.length;n++)if(0==
q.ta[n].height){d=n;g=0;break}else q.ta[n].height<g&&(d=n,g=q.ta[n].height);var n=b.find("a"),p=b.find("img"),t,v;0<p.length?(t=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,v=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):v=t=k;var x=t>v,H=k-l,qa=H/t*v;p.css("height",qa);b.hasClass("grid")&&(qa=b.data("layoutItem").getContent(),qa=(k-l)*qa.height/qa.width,b.find("a").css("height",qa));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(x&&(H=t/v*(k-m),p.css("width",H).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.HA()&&(qa=x?0:(k-m-qa)/2,p.css("margin-left",(k-l-H)/2).css("margin-top",qa))),c&&(c.oc()&&(qa="#"+(O.N0[c.u()]||"888888"),b.data("color",qa),n.css("background-color",qa)),c.HA()&&b.addClass("patterned")),qa=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=z&&g+qa+m>z&&(d=q.ta[c].Gf,0==d&&(d=MN(a.parents(".searchGroup")),d+=z-q.ta[c].height,q.ta[c].Gf=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-q.ta[c].Gf)):u?(c=b.data("columnIndex"),b.css("left",c*k).css("top",q.ta[c].height).data("originalTop",q.ta[c].height)):b.css("top",g);q.ta[c].height+=qa+m;q.ta[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
O.Da.aB);var t=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==t.get(0);rA(t,!n);var x=t.height(),H=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=NN(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?ON(t):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),e=!1;(e=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<x)?window.setTimeout(function(){a.removeClass("newSearch")},++g*O.Da.jw*H):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
O.Gc)}})}
function LN(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});rA(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
O.Da.jw):b.removeClass("newSearch")})},O.Gc)})}function PN(a,b){var c=a.parents("li"),c=c.data("result");c||(c=a.parent().data("li"),c=c.data("result"));c.ql(function(a){QN(a).then(function(){b(a.elements)})})}
function IN(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=vb.Ap,g*=vb.Ap):a.hasClass("graphic")&&(h="graphic");var k=c.vs();return{type:h,origin:c.Ef(),mediaId:c.u(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.Hb()&&d,isCutout:c.ae(),isRepeating:c.HA(),isRecolorable:c.oc(),backgroundColor:c.oc()?b.data("color"):void 0,spritesheetMetadata:k&&Mg(k)}}
function RN(a){var b=Rg(K.lb().tb),c=$("img",a);a=c.parents("li").data("result");if("ELEMENT_GROUP"===CL(a))SN(a,!0,null);else{var c=yg(IN(c)),d=c.l(),e=c.o(),g=Math.min(d,b.l()*O.Oh),h=g/d*e;h>b.o()*O.Oh&&(h=b.o()*O.Oh,g=h/e*d);c.ma(g);c.ea(h);eD(c);c.QB();b=K.Ea();c.dl(b);TN(c,a);c.ak()&&UN(a,c);Ag(c)}}
function SN(a,b,c){function d(b,d,h,k){g=b.elements.filter(function(a){return"group"!==a.type}).map(function(a){delete a.elementIndex;delete a.groupIndex;"text"===a.type?(l++,a=new Mp(a,e)):a=yg(a);var b=(new an).translate(-1*d.F(),-1*d.w());a.transform(b);iG(d,a);return a});b=new V(0,0,d.l(),d.o());var m=O.Oh*h.l(),z=O.Oh*h.o(),m=new V(0,0,m,z),m=fh(b.clone(),m);m.l()<b.l()||m.o()<b.o()?d.setSize(m.l(),m.o(),!0):d.setSize(b.l(),b.o(),!0);k?d.dl(h):c&&(d.setPosition(c.x,c.y),h.addElement(d),AG(d,
h));Ag(d);U&&U.track("text_group_insert",{media_id:a.u()})}function e(){++k===l&&(h.Jr(g[0]),b?h.setPosition((m.l()-h.l())/2,(m.o()-h.o())/2):c&&(h.setPosition(c.x,c.y),Bg(h)))}var g,h,k=0,l=0,m=K.Ea();a.ql(function(c){if(c&&c.elements&&0<c.elements.length){var e=c.elements.filter(function(a){return"group"===a.type});h=new IC(e[0]);QN(c).then(function(){d(c,h,m,b);Yl("text_group",a.u(),CL(a))})}})}
function QN(a){function b(a){a&&a.media&&a.media.forEach(function(a){a&&Qg(yb,a.u(),a.Ja().getVersion(),a.Ja().ic())})}a=function(a){function b(a){a.mediaId&&e.push(new Zm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&e.push($m(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(e=e.concat(a.htmlFontMedia.map($m)))}var e=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return e}(a);return a.length?(a=KF((new JF).To(),a),
gF(Db,a).then(b)):P.resolve()}function UN(a,b){"CANVA"!==a.Ef()&&Cg(Hb,a,b)}function VN(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();qA(b)},500)}function pA(){$(".infoPanel .close").click()}
function dN(a){function b(a){a=a.u();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new jh(window.viewConfig)).xg.get("magicTemplates",[]).map(PM).reduce(function(a,b){a[b.template]=WN(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=XN(m),q=parseInt(m.css("margin-top"),10),u=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,z=YN(m),t=0,x=m.prevAll(".searchGroup");x.each(function(){t=Math.max(t,YN($(this)));z+=t});v&&z>l.height()&&(l.find(".infoPanel").css("height","0"),x.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-z));l.find(".infoPanel .close").click();e.addClass("infoOpen");var x=h.data("result"),H=h.data("designItem"),E=h.data("originalTop"),L=h.height(),J=E+L,p=p+J+ON(m),q=p-t+q;if(null!=x||null!=H){var Q=(new ZN({yb:my(jy()).ka().hn(),Ra:Ab,dN:!!H,
pN:!!x,bk:!(!x||!EL(x)),rN:!1===g.data("mediaApproved"),sN:u,Js:H&&b(H),model:x||H,GO:VN.bind(null,h),i:a,W:Jb,kI:g.height()/g.width()})).render().$el;Q.data("item",e);Q.css("top",q).appendTo(m);e.data("infoPanel",Q);var S=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');S.css("left",parseInt(h.css("left"),10)+parseInt(Q.css("left"),10)+h.width()/2).css("top",q).appendTo(m);Q.data("infoPanelPointer",S);var N=Q.height(),ha=Q.outerHeight(!0);Q.one("transitionend",d).css("height",0);P.delay(O.Gc).then(function(){Q.addClass("on").css("height",
N);S.addClass("on")});var fa=$N(k,J),fa=fa.filter(function(a){return a!=h.get(0)}),ta=k.data("columnData");ta.ta.forEach(function(a){var b=null;a.items.filter(function(a){return-1<fa.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=J+ha-d,a.Gf=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",ta.ta.indexOf(a))})});a=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");rA(m,!a);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>ha+b.height,e=0;a.height-b.bottom>ha?c&&(e=b.top-a.top-15):e=d?ha-(a.bottom-b.bottom):b.top-a.top-15;30>=e&&-30<=e&&(e=0);l.animate({scrollTop:l.scrollTop()+e},O.Da.Tq)},300):(v=p+ha,n=NN(n),a=v-q<l.height(),v>n&&a?l.animate({scrollTop:l.scrollTop()+(v-n)},O.Da.Tq):q<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-q)},O.Da.Tq),m.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",m,YN(m)))}}
function eN(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.MF()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new zF("en",a.trim())});g=new wF({data:new tF({superKeywords:g}),superKeywordsUpdatePolicy:"REPLACE"});e=MF((new jF).Uo(e.u()).Ik(e.getVersion()),g);hF(Db,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+
d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function aO(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").ta.forEach(function(a){a.Gf=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",d,0);return!1}
function fN(a){function b(a){function b(){t=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=IN(m);x=yg(a);x.ma(q);x.ea(u);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(x.C()),e;m.is(".svg")?e="svg":m.is(".graphic")&&(e="graphic");qa&&(c.addClass("elementGroupSearchResult"),PN(m,function(a){a=hG(a);var b=new V(0,0,a.l(),a.o()),d=O.Oh*L.l(),e=O.Oh*L.o(),d=new V(0,0,d,e),d=fh(b.clone(),d),e=b.l(),g=b.o();if(d.l()<b.l()||d.o()<b.o())e=d.l(),g=d.o();v=e*W;z=g*W;l=k/(v/z);a.setPosition(0,0);a.setSize(e,
g);a.MP=!1;a.jt=!1;c.empty().append(a.C());x=a}));e&&(t.addClass(e),c.addClass(e),a=Hb.Kc(a.mediaId,a.mediaVersion),x instanceof IC?x.ia().filter(function(a){return a instanceof cp})[0].Zq(a[yD].oa()):x.Zq(a[yD].oa()));t.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").toggleClass("cutout",x.ae()).data("li",g.parents("li")).data("canvaElement",x).data("isOrganicSearchResult",d);$("#content").append(t);g.css("visibility","hidden");
qa||!x.QD()&&!x.ae()||ih(t,null,AN(Za));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==t)if(AN(Za)){var e=Ln(S,N,c,a);if(300<e||60>e)b();else return!0}else(Math.abs(c-S)>O.Hc||Math.abs(a-N)>O.Hc)&&b();if(null!=t){var n=Math.min(1,Math.sqrt(Math.pow(c-S,2)+Math.pow(a-N,2))/ta),e=Math.min(1,k/(v*(1-n))),p=Math.min(1,l/(z*(1-n)));if(c>S){t.css("transform","scale("+e+", "+p+")");if(x.nb()){var xc=
vG(x);qb||xc&&0!==xc.length&&(1!==xc.length||"#000000"!==xc[0])||(qb=mh(O.lD));qb&&(xc=K.Ea().If()?qb:mh(O.kD))&&x.zQ(wn(qb,xc,n))}x.Py()&&(null===x.zm&&eD(x),gD(x,n),x.QB());n=Math.round(h.top+a-N-(p*z-l)*fa);t.css("left",Math.round(h.left+c-S-(e*v-k)*ha)).css("top",n)}else t.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").css("left",h.left+c-S).css("top",h.top+a-N);(c<E.left||c>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&
!t.hasClass("placing")&&bO(J,t)?(null==da&&(da=new bh(t,Q)),dh(da,xb,Ba)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Gc)}function n(){var a;if(a=qa.Kv())a=Jb.G.get(rg);a&&!Jb.G.get(og)&&(Jb.G.get(ug)?(a=Mb,a.j.wa(om()),Ho(a,
Jo)):(a=Mb,a.j.wa(om()),Ho(a,Io)))}Za.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==cO){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var p=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;var q=Math.abs(a-N)>O.Hc,q=Math.abs(p-S)>O.Hc||q;$("#hotspots").remove();P.delay(O.Da.C8).then(function(){g.removeClass("pickedUp")});var u=g.parents("li");if(u.data("result")){var qa=
u.data("result");if(null==t&&!q)return $("#search").blur(),RN(u),wL(qa,d),n(),!1;null!=t&&null!=x&&((p<E.left||p>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&bO(J,t)?(p=K.Ea(),"ELEMENT_GROUP"===CL(qa)?SN(qa,!1,{x:da.F(),y:da.w()}):(x.setPosition(da.F(),da.w()),x.ma(da.l()),x.ea(da.o()),p&&x.appendTo(p),x.ak()&&UN(qa,x),Ag(x),Bg(x)),m(),wL(qa,d),TN(x,qa),n(),t.remove()):null==t||t.hasClass("disappeared")?null!=t&&t.hasClass("disappeared")&&(m(),dO(t.data("placedInElement"))):
(h=g.offset(),t.addClass("returning"),t.one("transitionend",e).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/z+")")))}}}if(a.which==O.Nh||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=1===$(this).parents("#resultsSearch").length,e=Rg(K.lb().tb),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=IN(m),p=n.width,n=n.height,q=Math.min(p,e.l()*O.Oh),
u=q/p*n;u>e.o()*O.Oh&&(u=e.o()*O.Oh,q=u/n*p);var v=q*W,z=u*W,t=null,x=null,H=$("#objectPanel"),E=H.offset(),L=K.Ea(),e=gh(vb),J=e.$el,Q=e.$el.find(".page__content").offset(),S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ha=(S-h.left)/k,fa=(N-h.top)/l,ta=Math.abs(S-(E.left+H.outerWidth())),Za=new hp($(document)),qa=1===$(a.target).parents(".elementGroupSearchResult").length;Za.on("mousemove|touchmove",b).on("mouseup|touchend",
c);var da=null,Ba=ch(),xb={},qb=null;return eO}
function hN(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone" style\x3d"pointer-events: none"\x3e\x3c/div\x3e'),d=a.offset(),e=a.width(),g=a.height();c.append(OH(m)).css("left",d.left).css("top",d.top).css("width",e).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;
var d=c-J.x,g=a-J.y,n=Math.abs(d)>O.Hc||Math.abs(g)>O.Hc;if(!x)if(n)x=b(e);else if(AN(ha))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)x=b(e);else return!0;if(x){d=en(en(d,0,d)/N);g=fn(1,z/k,d);n=fn(1,t/l,d);x.css("width",g*k+"px").css("height",n*l+"px").css("left",h.left+c-J.x-fn(0,(z-k)*Q.x,d)).css("top",h.top+a-J.y-fn(0,(t-l)*Q.y,d));g=x.find('[data-recolorable-lines\x3d"true"] \x3e line');if(g.length){var n=e.find('[data-recolorable-lines\x3d"true"] \x3e line').first().attr("stroke"),p=K.Ea().If()?
O.lD:O.kD,d=wn(An(n),An(p),d);g.attr("stroke",d.toString())}c>S&&bO(E,x)?(fa=fa||new bh(x,L),dh(fa,Za,ta)):fO();d=$(".selectionBox");d.css("pointer-events","none");c=$(document.elementFromPoint(c,a));d.css("pointer-events","");c=c.is(".element.chart")?c:c.parents(".element.chart");$(".element.chart").not(c).removeClass("chartElement--droppable");c.length&&c.addClass("chartElement--droppable")}return!1}function c(a){function g(){$(this).remove();e.css("visibility","visible")}function p(){e.css("opacity",
0);P.delay(O.Gc).then(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}ha.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==cO){fO();hh();var q=d(a);a=Math.abs(q.x-J.x)>O.Hc||Math.abs(q.y-J.y)>O.Hc;var t=yg(m);t.ma(u);t.ea(v);if(!a&&!x)return $("#search").blur(),1===n.length&&n[0]instanceof KH?(a=n[0],q=a.serialize(),oI(a,t.serialize()),M.register(new Y(gO,{elementIndex:a.K(),pageIndex:a.R().K(),
"new":a.serialize(),old:q})),Bg(a),t=null):t&&(t.dl(H),TN(t),mI(t,function(){t&&(Ag(t),TN(t),U&&Xl(m.chart.chartType))})),!1;x&&(a=q.x>S&&bO(E,x),q=$(document.elementFromPoint(q.x,q.y)),q=q.is(".element.chart")?q:q.parents(".element.chart"),a&&t&&q.length?(a=q.data("canvaElement"),q.removeClass("chartElement--droppable"),a&&(q=a.serialize(),oI(a,t.serialize()),M.register(new Y(gO,{elementIndex:a.K(),pageIndex:a.R().K(),"new":a.serialize(),old:q})),Bg(a)),p(),x.remove(),t=null):a&&t?(t.setPosition(fa.F(),
fa.w()),t.appendTo(H),dI(t,function(){t&&(Ag(t),U&&Xl(m.chart.chartType))}),Bg(t),p(),x.remove()):(x.addClass("returning"),x.one("transitionend",g).css("left",h.left).css("top",h.top).css("width",k).css("height",l)))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==O.Nh||a.ctrlKey)return!0;var e=$(this),g=e.parents("li").data("chart-name"),h=e.offset(),k=e.width(),l=e.height(),m=JSON.parse(JSON.stringify(Qm[g])),
n=K.Wa(),g=m.width,p=m.height,q=Rg(K.lb().tb),u=.75*q.l(),v=u/g*p;v>.75*q.o()&&(v=.75*q.o(),u=v/p*g);var z=u*W,t=v*W,x=null,H=K.Ea(),g=gh(vb),E=g.$el,L=g.$el.find(".page__content").offset(),J=d(a),Q={x:(J.x-h.left)/k,y:(J.y-h.top)/l},S=document.getElementById("objectPanel").getBoundingClientRect().right,N=Math.abs(J.x-S),ha=new hp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",c);var fa=null,ta=ch(),Za={};return eO}
function gN(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",u).css("left",q).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(AN(ha)){var d=Ln(J,Q,c,a);if(300<d||60>d)S=!0,b();else return!0}else c-J>O.Hc&&(S=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-J,2)+Math.pow(a-Q,2))/N),a=c<=J?0:a,c=
2+(m-2)*a,d=z+(L-z)*a,h.css("width",v+(E-v)*a).css("height",d),d=u+(H-u)*a,h.css("left",q+(x-q)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.ia().forEach(function(a){if(a instanceof EC){for(var b=a.ig(),c,d=!0,e=0>=a.w()&&0>=a.F()&&0===a.Ta()&&a.l()>=p.l()&&a.o()>=p.o(),g=0;g!==b;g++)if(c=a.rl(g).mediaId){d=!1;break}d&&e&&(EN(a),a.remove())}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Gc)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;S?a>=x?(OK(),n.td(t),c(),n.appendTo(p),Bg(n),Ag(n),PK(),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(q)&&parseInt(h.css("top"),10)==Math.floor(u)?h.trigger("transitionend"):h.css("left",q).css("top",u).css("width",v).css("height",z)):(OK(),n.td(t),c(),n.dl(p),TN(n),Ag(n),PK());ha.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==O.Nh||a.ctrlKey)return!0;$("#search").blur();hh();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],Pm[k].items),m=(Pm[k].spacing||O.jD)*W,n=new EC({items:l}),p=K.Ea(),
k=vb.Ea(),l=$("#canvaDocument \x3e .inner").offset(),k=Xg(k).translate(l.left,l.top),q=g.left,u=g.top,v=e.width(),z=e.height(),g=0<Vp(p).filter(function(a){return!a.Hg()}).length,t=Wm(p.l(),p.o(),n.pe(),g),g=t.clone().scale(W).translate(k.F(),k.w()).round(),x=g.F(),H=g.w(),E=g.l(),L=g.o(),J=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,Q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,S=!1,N=x-J,ha=new hp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}function YN(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=xl(c.ta.map(function(a){return a.Gf}));else return b;b=xl(c.ta.map(function(a){return a.height}));c=xl(c.ta.map(function(a){return 0==a.height?0:a.height+a.Gf}));return b=b!=c?c-b:MN(a)}function MN(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function rA(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),e=d?a.find("p button")?a.find("p").height():0:XN(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=e;a.data("contentHeight",g);e=YN(a);b||d?a.height(g+e):a.height(Math.max(g+e,c.height()))}}
function iN(){var a=$(this).parents(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){hO(a)},100);a.data("scrollTimer",b)}
function $N(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.ta;for(var d=0;d<a.length;d++){for(var e=a[d].items,g=0,h=!1,k=0;k<e.length;k++){var l=e[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(e.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function vN(a,b){var c;c=a.find(".layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.find(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function hO(a){if(null!=tN&&!a.is(".modifying")){var b=a.find(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||Zg().read(function(d){var e=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());null!=tN&&tN.Qs>=tN.limit&&e<=a.outerHeight()*O.xS&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>O.nD&&iO(b,c-O.nD);c=a.find(".searchLoaderHolder");sN(c);
c.addClass("on");tN.from+=tN.limit;tN.pZ()})})}}
function iO(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)e=e.add(l[m]),b--}b=e.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=e.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),e.remove(),qA(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function XN(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function jO(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return ON(a)+a.outerHeight(!0)}function ON(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function kO(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.ta.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.Gf=0))})})}}function NN(a){var b=a.find(".layer").last().scrollTop();a=a.height();return b+a}
function rN(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function lO(){window.location.reload();return!1}function mO(a,b){$("#savingErrorCode").text("");$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");nO();return!1}function kN(){return mO.call(this,0,"#someoneElseEditing")}function lN(){return mO.call(this,0,"#inReview")}function mN(){return mO.call(this,0,"#touchDevice")}
function oO(){$("#inReview").addClass("on");pO()}function qO(){$("#outOfSync").is(".on")||(rO(),pO(),$("#outOfSync").removeClass("off").addClass("on"),$("#outOfSync button").on("click",lO))}function vO(){$("#savingError").is(".on")||$("#outOfSync").is(".on")||($("#savingError").removeClass("off").addClass("on"),$("#savingError button").on("click",lO),Tb&&wO())}function rO(){$("#savingError").is(".on")&&($("#savingError").removeClass("on").addClass("off"),nO())}
function TN(a,b){var c="other";a instanceof EC?c="grid":a instanceof AC?c="image":a instanceof cp&&(c="image:svg");U&&Yl(c,b?b.u():null,b?CL(b):null)};function xO(){this.nd=[];this.Iw=[];this.xn=[];this.KP=this.AR=!1}f=xO.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(xO.prototype,Backbone.Events);
xO.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.AR||this.KP)return!1;var b=a instanceof yO;0<this.xn.length?this.xn[this.xn.length-1].push(a):(this.nd.push(a),this.Iw=[],!b&&K.trigger("change"));return!0};function zO(){var a=M;return a.nd.length?a.nd[a.nd.length-1]:null}function OK(){var a=M,b=new yO;a.register(b);a.xn.push(b)}
function PK(){var a=M;if(0==a.xn.length)throw Error("mismatched number of .endGrouping calls");var b=a.xn.pop();-1!==a.nd.indexOf(b)&&0===b.getLength()&&a.nd.splice(a.nd.indexOf(b),1);0==a.xn.length&&K.trigger("change")}
function pM(a,b){var c=M;function d(a){var b=[];a instanceof Y?b.push(a):a instanceof yO&&a.nd.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.nd.map(d).concat(c.Iw.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Qb){case AO:e(c.data["new"],a,b);e(c.data.old,a,b);break;case BO:case CO:e(c.data,a,b)}})}
function DO(a){var b=[];if(a instanceof yO)a=a.nd,a.forEach(function(a){a=DO(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof Y&&a[1]instanceof Y&&a[0].Qb==BO&&a[1].Qb==AO&&(b=DO(a[0]));else if(a.Qb!=CO&&(a instanceof Y||a instanceof EO)){var c=a.data.elementIndex;K.O[a.data.pageIndex].ia().forEach(function(a){a.K()==c&&b.push(a)})}return _.uniq(b)}function FO(){this.Qb=null;this.data={}}
FO.prototype.ho=function(){throw Error("classes that inherit from Operation must implement .perform");};FO.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function GO(a){return $.extend(!0,{},a)}function yO(){this.nd=[]}yO.prototype=new FO;yO.prototype.ho=function(){this.nd.forEach(function(a){a.ho()})};yO.prototype.invert=function(){var a=new yO;this.nd.reverse();this.nd.forEach(function(b){a.push(b.invert())});this.nd.reverse();return a};
yO.prototype.push=function(a){this.nd.push(a)};yO.prototype.getLength=function(){return this.nd.length};var fp=1,CO=2,BO=3,AO=5,KN=7,JN=8,FN=9,gO=16;function Y(a,b){this.Qb=a;this.data=b}Y.prototype=new FO;
Y.prototype.ho=function(){gp();var a=K.O[this.data.pageIndex],b=a.ia().length,c,d;switch(this.Qb){case BO:d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;c=yg(d);break;case 4:case KN:case JN:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var e;switch(this.Qb){case fp:a=this.data["new"];null!=a.left&&c.kb(a.left);null!=a.top&&
c.eb(a.top);null!=a.rotation&&c.dm(a.rotation);null!=a.flipOrientation&&c.wt(a.flipOrientation);null!=a.transparency&&c.em(a.transparency);null!=a.borderWidth&&EE(c,a.borderWidth);null!=a.spacing&&c.ar(a.spacing);null!=a.padding&&c.iC(a.padding);null!=a.verticalAlignment&&(c.ke=a.verticalAligment);c.setSize(null==a.width?c.l():a.width,null==a.height?c.o():a.height,this.data.proportionalSetSize);null!=a.transformDependentData&&c.CZ(a.transformDependentData);break;case 11:a=this.data["new"];e=c.Mp(this.data.placeholderIndex);
a.filter?qJ(ED(e),a.filter)||zJ(e,a.filter):AJ(e);break;case 10:a=this.data["new"];null!=a.link&&LC(c,a.link);break;case CO:c.remove();break;case 4:e=this.data.elementIndex;this.data.oldElementIndex<e&&e++;b=a.ia().length;e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;e==b?c.appendTo(a):d&&c.insertBefore(d);break;case BO:e=this.data.elementIndex;var g=this.data.groupElementIndex,h=this.data.groupIndex;d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;
c=yg(d);if(!c)throw Error("bad element template while performing operation of type"+this.Qb.toString());e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;if(void 0!==g){var k=a.elements[g]||null;if(!k)throw Error("group could not be found for operation type "+this.Qb.toString());k.Mx();iG(k,c,h);c.Iv()?(a=function m(a){a===c&&(k.Jr(c),T.off("elementLoaded",m),T.off("elementLoadingError",m))},T.on("elementLoaded",a),T.on("elementLoadingError",a)):k.Jr(c)}else e==b?c.appendTo(a):d&&c.insertBefore(d);
break;case AO:c.$q(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.$z(this.data.placeholderIndex);c.ut(a);a=this.data["new"];e=xm(a.imageBox);d=xm(a.placeholderBox);c instanceof AC?a.cropped?(ul(c,d),c.bm(e),c.Nr(),c.kb(a.left),c.eb(a.top)):(c.kb(a.left),c.eb(a.top),c.ma(e.l()),c.ea(e.o()),ul(c,d),c.bm(e),c.DI=!1,c.Tk=!1,c.C().find("img").css("transform","").css("width","").css("height","")):(c.bm(e),c.Nr());break;case KN:Wp(c);ZC(a,c,this.data.elementIndex);this.data.backgroundColor&&
c.ge(0,this.data.backgroundColor);break;case JN:GD(c);ZC(a,c,this.data.elementIndex);break;case FN:e=this.data["new"];a=e.index;e.placementData?c.$q(a,e.placementData):(e=mh(e.color),c.ge(a,e));break;case 12:c.Xa[this.data.placeholderIndex].wt(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;g=this.data.elements;d=$.extend(!0,{},this.data);d.elements=[];e=this.data.elementIndex;c=new IC(d);ZC(a,c,e);if(2===b.length)for(e=b[0],d=0;e<=b[1];e++,d++)if(h=a.elements[e]||null)h.setPosition(g[d].left,
g[d].top),h.setSize(g[d].width,g[d].height),h.em(g[d].transparency),h.dm(g[d].rotation),c.addElement(h),c.C().find(".elements").append(h.C());break;case 14:HO(c);break;case 15:c.Ns(this.data["new"].data);c.render({nP:!0});break;case gO:oI(c,$.extend(!0,{},this.data["new"]));break;default:throw Error("cannot perform unknown operation type "+this.Qb.toString());}};
Y.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=GO(this.data);switch(this.Qb){case fp:case 11:case 6:case AO:case FN:case 10:case 12:case 15:case gO:return b["new"]=this.data.old,b.old=this.data["new"],new Y(this.Qb,b);case BO:case CO:return new Y(this.Qb==BO?CO:BO,b);case 4:return a(b),new Y(this.Qb,b);case KN:return a(b),new Y(JN,b);case JN:return a(b),new Y(KN,b);case 13:return new Y(14,b);case 14:return new Y(13,b);default:throw Error("cannot invert unknown operation type "+
this.Qb.toString());}};function IO(a,b){this.Qb=a;this.data=b}IO.prototype=new FO;IO.prototype.ho=function(){gp();var a=null;1==this.Qb?(a=$.extend(!0,{},this.data),a=new Jp(K,a)):a=K.O[this.data.pageIndex];switch(this.Qb){case 5:a=K.O[this.data.oldPageIndex];case 1:Xp(K,a,this.data.pageIndex);break;case 2:a.ia().forEach(function(a){JO(a)});Zp(K,a);break;case 4:KO(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Qb.toString());}};
IO.prototype.invert=function(){var a=GO(this.data);switch(this.Qb){case 1:case 2:return new IO(1==this.Qb?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new IO(this.Qb,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new IO(this.Qb,a);default:throw Error("cannot invert unknown operation type "+this.Qb.toString());}};function LO(a,b){return-1<[4,1].indexOf(a.Qb||-1)&&a.data.pageIndex===b}function EO(a,b){this.Qb=a;this.data=b}EO.prototype=new FO;
EO.prototype.ho=function(){function a(){var a=b instanceof IC?b.ia()[c]:b;a&&(void 0!==d.height&&a.ea(),void 0!==d.width&&a.ma(d.width))}var b=K.O[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!b)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Qb){case 1:var c=this.data.textIndex,d=this.data["new"];b.vj(c,d,a);break;default:throw Error("cannot perform unknown operation type "+this.Qb.toString());}};
EO.prototype.invert=function(){var a=GO(this.data);switch(this.Qb){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new EO(this.Qb,a);default:throw Error("cannot invert unknown operation type "+this.Qb.toString());}};function MO(a,b){this.Qb=a;this.data=b}MO.prototype=new FO;
MO.prototype.ho=function(){var a=this.data["new"],b,c;switch(this.Qb){case 1:b=a.doctypeSpec?Gp(a.doctypeSpec):null;c=fv(a.docType);K.resize(c,b);break;case 2:b=a.doctypeSpec?Gp(a.doctypeSpec):null;c=fv(a.docType);K.zR(a.model,c,b);break;default:throw Error("cannot perform unknown document operation type "+this.Qb.toString());}};
MO.prototype.invert=function(){var a=GO(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Qb){case 1:return new MO(2,a);case 2:return new MO(1,a);default:throw Error("cannot invert unknown operation type "+this.Qb.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180;b=Math.cos(e);e=Math.sin(e);return[b*a[0]-e*a[1],e*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},U4:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.u1=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.iH=[c.start.x,c.start.y];this.jH=[c.end.x,c.end.y];var d=b.U4(this.jH,this.iH),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.PX=b.add(this.iH,e);d=b.rotate(d,c.end.angle);this.QX=b.add(this.jH,d);this.E3=function(a){return a*a*a};this.F3=function(a){return 3*a*a*(1-a)};this.G3=function(a){return 3*a*(1-a)*(1-a)};this.I3=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.E3(a),c=this.F3(a),d=this.G3(a);a=this.I3(a);var e={};e.x=this.x=this.iH[0]*b+this.PX[0]*c+this.QX[0]*d+this.jH[0]*a+.5|0;e.y=this.y=this.iH[1]*b+this.PX[1]*c+this.QX[1]*
d+this.jH[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.Q8&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.vca-d.y,d.Q8-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function yp(a,b,c,d){this.Z=a;this.jP=0;this.oR=23;this.KJ="";a=this.i=c;a.Dd||(a.Dd=new Ze(a.config));this.Dd=a.Dd;this.gj=b;this.W=d}function NO(a){a.preventDefault();a.stopPropagation();return!1}var OO=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new BL,{qb:function(){return""},
id:c,u:function(){return c},files:{mJ:{width:a[0],height:a[1],url:a[2]},oy:{width:a[0],height:a[1],url:a[2]}}});OO.push(a)});function PO(){return{SCREEN:{oa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{oa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function QO(a,b,c){c(200,{Ja:function(){return{getVersion:function(){return 0},ic:function(){return PO()}}}});return new Dk}f=yp.prototype;f.go=function(){RO(this)};
function SO(a,b,c,d){function e(){var c=g.shift();c===a.KJ&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(e,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");e()}
function TO(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.RW=function(){var a=this;TO();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function UO(a){a.aU=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){VO(a).then(function(){a.aU||WO(a)}.bind(a))})}
function VO(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");var b=$("body \x3e .mask");b.addClass("off");$("video.for-onboarding").remove();a.Ab.addClass("disappearing");return P.delay(500).then(function(){b.removeClass("fullscreenMessageMask off on white");a.Ab.remove()})}
f.GZ=function(){UO(this);var a=$e(this.Dd);Cp()&&!this.z4&&XO()&&(a=this.Dd.format("twentyThreeSecondOnboardingChooseText"));this.Ab=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.oR+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.Dd.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+af(this.Dd)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+bf(this.Dd)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.Dd.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.Ab.appendTo("body");this.next()};
f.a0=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){a.aU=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
d=a.oR-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};f.XY=function(){$("body").append(this.HJ);this.HJ.on("click",NO);var a=this.oR-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.OU=function(){var a=K.Gb().length;hh();1===a&&K.Gb()[0].isEmpty()?(this.FZ=!1,this.page=K.Gb()[0]):(this.FZ=!0,a=new Jp(K,K.Jg()),Xp(K,a,0),this.page=a);this.next()};
f.jX=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();(function(){e.css({width:e.width(),height:"46px"});e.text("");P.delay(O.Da.S2).then(function(){e.animate({width:YO($e(b.Dd)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})})})()};
f.vW=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.e$=function(){$("#onboarding-active-button").text($e(this.Dd));this.next()};f.b$=function(){ZO(af(this.Dd));this.next()};
f.c$=function(){this.tC||ZO(this.Dd.format("twentyThreeSecondOnboardingEditText"));this.next()};f.d$=function(){$("#onboarding-active-button").text("Choose");this.next()};function $O(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function aP(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function bP(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function cP(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function ZO(a,b){var c=$("#onboarding-active-button");b=_.extend({width:YO(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function YO(a){return $("#onboarding-active-button-width").text(a).width()}
function dP(a,b,c){var d=2/3,e=c.fu||{x:0,y:0},g=c.callback||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.JU&&"BR"===c.JU&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=cP(k,l);l=new $.path.u1({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.callback===a.NEXT&&(g=
function(){a.next(300)});c.UM&&window.setTimeout(function(){c.UM()},d*b);h.animate({path:l},b,g)}f.c5=function(){dP(this,"#search",{callback:this.NEXT})};f.e2=function(){bP();$("#search").focus();this.next(600)};
f.R9=function(){function a(){var a=$("#resultsSearch"),a=$(".layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;xN(a);OO.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.mJ.url+'"data-screen-width\x3d"'+a.files.mJ.width+'"data-screen-height\x3d"'+a.files.mJ.height+'"src\x3d"'+a.files.oy.url+'"width\x3d"'+a.files.oy.width+'"height\x3d"'+a.files.oy.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");qA(c);Sb.st=b.st}var b=this,c=$("#search");this.st=Sb.st;Sb.st=function(){return new P(function(){})};SO(this,function(a){c.val(a)},this.Dd.format("twentyThreeSecondOnboardingSearchTerm"),function(){xN($("#resultsSearch .layer \x3e .inner \x3e .searchGroup"));EM(b.i,a)})};
f.b5=function(){ZO(af(this.Dd));dP(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{callback:this.NEXT})};f.ze=function(){this.next(600)};
f.g3=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=cP(b.offset(),c),e=Math.floor(.8*K.Ea().o())*W,g=Math.floor(.8025*e);$O();a.cs=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.cs.removeAttr("width");a.cs.removeAttr("height");a.cs.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.cs);a.cs.animate({height:e+"px",width:g+"px",left:(-180*
W-42)/2+"px",top:(-180*W-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.j3=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=yg(IN(b)),c=Math.floor(.8*K.Ea().o());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(K.Ea());Ag(b);aP();a.cs.fadeOut(200,function(){a.cs.remove()});a.next(300)};f.V9=function(){var a;a=K.Ea().ia().filter(function(a){return a instanceof AC})[0];Bg(a);this.next(200)};
f.z9=function(){function a(){aP();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=K.Ea(),e=800/642,g=$(".handle.br"),h=d.Wa()[0],k=vb.$el.offset(),l=FD(vb,this.page).qa(),d=.78*d.l(),m=d*e,n={left:Math.floor(k.left+l.F()+d*W*.78),top:Math.floor(k.top+l.w()+m*W*.78)},p=h.l();h.o();dP(this,".selectionBox .handle.br",{fu:{x:-20,y:-12},callback:function(){var b=c.offset();$O();g.addClass("on");P.delay(300).then(function(){c.animate(n,{duration:1E3,queue:!1,complete:a,
progress:function(){var a=(c.offset().left-b.left)/W+p,d=a*e;$(".selectionBox").css({height:d*W+"px",width:a*W+"px"});h.setSize(a,d)}})})}})};f.e5=function(){var a=this;ZO(this.Dd.format("twentyThreeSecondOnboardingAddText"));dP(this,"#objectPanel \x3e menu li.text a",{callback:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.i2=function(){bP();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};
f.Z4=function(){var a=this;dP(this,"#objectPanel .textControls [data-style\x3dtitle]",{fu:{x:0,y:16},callback:function(){a.next(300)}})};
f.L1=function(){function a(){var a=h.Bb();h.yk(a,"Carter One")}function b(){T.off("elementLoaded:text",b);c()}function c(){hh();bP();a();h.appendTo(e);Ag(h);Bg(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=K.Ea(),g={width:e.l()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var e=document.createElement("canvas").getContext("2d");if(null==e)return c;e.font=c*O.Pi*14/100+"px "+d;a=e.measureText(a).width;isFinite(b)&&0<b&&
(10<b-a||a>b)&&(c*=b/a);return Math.floor(c)}(cf(this.Dd),380,120,"Carter One"),color:"#222",left:e.l()-400,top:Math.floor(.5*e.o()-112.5)};T.on("elementLoaded:text",b);var h=new Mp(g)};f.eaa=function(){var a=this,b=K.Ea().Wa()[0];b.C().trigger("click");SO(this,function(a){uC(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},cf(this.Dd),function(){uC(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
f.oX=function(){var a=bf(this.Dd),b={left:-YO(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});ZO(a,b);dP(this,".editorActionExport",{callback:this.NEXT,UM:function(){$(".editorActionExport").addClass("fakeHoverState")}})};f.PT=function(){bP();$(".editorActionExport").trigger("click");this.next(600)};
f.nX=function(){var a=this;ZO(bf(this.Dd),{left:"22px",padding:"0 20px 0 31px"});dP(this,".exportPopOver__downloadButton",{callback:function(){a.next(600)},UM:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};f.NT=function(){bP();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.hI=function(){var a=gh(vb).$el.clone(),b=a.find(".page__content");a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.Ab=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Ab.css({width:b.width()-4+"px",height:b.height()-4+"px"});this.Ab.append(a);this.Ab.appendTo("body");this.next()};
f.aV=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.KZ=function(){var a=this,b=$(window).height()-a.Ab.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.Dd.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.Dd.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.Ab.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,fl:"easeOutQuint",queue:!1});a.Ab.animate({"margin-top":b+"px"},{duration:1800,fl:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function eP(){tN=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},O.Gc)}f.WY=function(){function a(){b.next()}var b=this;hh();!0===this.FZ?(Zp(K,this.page),a()):fP(b.page).then(a)};f.cQ=function(){eP();this.next()};
f.MT=function(){this.HJ.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");hh();this.next()};
f.wY=function(){this.t1=Ub;this.C3=Cb.fE;this.HJ=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.aw=wb.aw;Cb.fE=function(){return P.resolve(new nw({id:1,tB:null,status:"COMPLETE"}))};Ub=function(){};wb.close();wb.aw=function(){};K.off("change");this.next()};f.j4=function(){this.o0=Db.Ob;Db.Ob=QO;Qg(yb,"M-YUM-LION",0,PO());this.next()};f.E9=function(){Db.Ob=this.o0;this.next()};function WO(a){Ub=a.t1;Cb.fE=a.C3;wb.aw=a.aw;gP(window.csession,window.cdoc);K.on("change",Wb)}
f.iZ=function(){$(".page.selected").removeClass("invisible-text");WO(this);this.next()};f.J8=function(){$("#resultsLayout").data("view").eZ();this.next()};f.onComplete=function(){T.trigger("onboarding:complete")};function hP(a){a.order=[a.VY,a.RW,a.wY,a.GZ,a.a0,a.cQ,a.OU,a.XY,a.jX,a.vW,a.e$,a.ze,a.c5,a.j4,a.e2,a.R9,a.ze,a.b5,a.g3,a.j3,a.V9,a.z9,a.ze,a.e5,a.i2,a.ze,a.Z4,a.L1,a.ze,a.eaa,a.ze,a.oX,a.PT,a.ze,a.nX,a.NT,a.ze,a.hI,a.aV,a.ze,a.KZ,a.ze,a.WY,a.MT,a.E9,a.cQ,a.iZ,a.k$,a.J8,a.onComplete]}
f.G1=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free").first(),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.LA="."+b;this.next()};f.o1=function(){var a=new Fp({},pv(0,0,"PIXELS"),this.i),a=new Jp(a,{}),b=$(this.LA).data("layoutItem");b&&KO(a,Sm(b.content),null,null,!0);this.next()};f.a5=function(){this.NO=$(this.LA);this.OO=$(this.LA+" img");this.kF=$(this.LA+" img").clone();dP(this,this.LA,{callback:this.NEXT})};
f.f3=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=cP(b.offset(),c),e=d/4;$O();window.setTimeout(function(){a.kF.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.OO.parent().addClass("pickedUp");a.kF.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.kF);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.OO.parent().removeClass("pickedUp");a.next(300)}})};
f.i3=function(){function a(){T.off("pageLayoutLoaded",a);b.next()}var b=this;aP();this.kF.remove();T.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.NO.find(".multiPageLayoutItem").length){var c=this.NO.data("searchResult"),d=this.NO.parents(".results").data("view");c&&iP(d,c,!0)}else this.OO.click()};function jP(){return"substantial-text-element"}
f.f2=function(){if(!this.tC){var a=$("."+jP()),b=$("."+jP());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");bP();Bg(b);a.hasClass("element")||(XK(a,!0),kP(a,zc(this.i)),b.$a())}this.next()};
f.u$=function(){var a,b;if(!this.tC){var c=$("."+jP());b=c.clone();b.find("br").replaceWith(this.KJ);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.KJ,"g"),"\x3cbr\x3e"));this.GW=b;this.jV=a;c.children(".inner").html(this.jV)}$(".page.selected").removeClass("invisible-text");this.next()};
f.daa=function(){function a(a){SO(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.jV+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.GW,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.tC)this.next();else{var b=this,c=$("."+jP());c.trigger("click");a(function(){hh();b.next()})}};
f.D8=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.tC=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Lc()>b&&0<c.C().text().split("").length&&(b=c.Lc(),a=$(this))});a.addClass(jP())}this.next()};
f.d5=function(){if(this.tC)this.next();else{var a=parseFloat($("."+jP()).css("font-size").replace("px",""))*W,b=Math.floor(a/2),a=Math.floor(a*this.GW.split("").length/2);dP(this,"."+jP(),{JU:"BR",fu:{x:-a,y:-b},callback:this.NEXT})}};f.m$=function(){$("#objectPanel li.layout a").click();this.next()};f.k$=function(){$("#objectPanel li.elements a").click();this.next()};function Cp(){return/[?&]layouts/g.test(window.location.search)}
function XO(){return 1<=$(".templateGallery li:not(.grid)").has(".price.free").length}function lP(a,b,c){var d=c||1;10<d&&(a.z4=!0,b(!1));Cp()?1<=$(".templateGallery li").length?b(XO()):window.setTimeout(function(){lP(a,b,d+1)},200*d):b(!1)}f.VY=function(){mP.tU();this.next()};f.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.jP];d&&d.call?(this.jP++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function RO(a){a.jP=0;Cp()?lP(a,function(b){b?a.order=[a.VY,a.RW,a.wY,a.GZ,a.G1,a.o1,a.a0,a.OU,a.XY,a.jX,a.vW,a.d$,a.ze,a.a5,a.b$,a.ze,a.f3,a.i3,a.ze,a.D8,a.u$,a.d5,a.ze,a.c$,a.f2,a.ze,a.daa,a.ze,a.oX,a.PT,a.ze,a.nX,a.NT,a.ze,a.hI,a.aV,a.ze,a.KZ,a.ze,a.WY,a.MT,a.cQ,a.iZ,a.m$,a.onComplete]:hP(a);a.next()}):(hP(a),a.next())};function xp(a,b,c){this.document=a;this.config=b;this.dV="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.ng=c}xp.prototype.listenTo=Backbone.Events.listenTo;
function nP(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function oP(a){var b=a.config.wh();switch(b){case "FREE_NEW_USER":return b=pP(K.qb()),a={fbUrl:a.dV,twitterText:a.ng.format("magicButtonFreeNewTwitterText",b),congratulations:a.ng.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.ng.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.ng.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=pP(K.qb()),a={fbUrl:a.dV,twitterText:a.ng.format("magicButtonTutorialTwitterText",b),congratulations:a.ng.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.ng.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.ng.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.ng.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.ng.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.ng.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function qP(a){function b(){P.all([sA(1E3),sj(c.N,c.url+"/"+encodeURIComponent(wb.hc())+"/complete",null).get(0).then(yo)]).finally(function(){window.location="/"})}var c=new wo;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");oP(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function rP(a){return 0<a.document.ia().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
xp.prototype.jT=function(){function a(a){a.stopPropagation();a.preventDefault();qP(b);return!1}var b=this,c=b.document;b.jT=function(){};if(!rP(b)){b.page=new Jp(c,c.Jg());b.page.WW();Xp(c,this.page,c.jc(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.config.wh()&&$("#canvaDocument").addClass("pageControlsDisabled");FD(vb,b.page).$el.css("background-color","#20c4cb");var c={html:sP(this),width:460,justification:"center"},c=new Mp(c),d=c.C();d.attr("id","magic-button");d.on("mousedown",
a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.l()-c.l())/2,e=(b.page.o()-c.o())/2;c.setPosition(d,e)}};function sP(a){a={tutorialComplete:a.ng.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}xp.prototype.go=function(){nP();this.jT()};function Jp(a,b){this.Fb=a;this.Vc=null;this.elements=[];this.height=0;this.ja=b.layout&&new Rm(b.layout);this.nt=this.vi=this.Kq=null;this.uG=this.Ih=this.selected=!1;this.Fy=null;this.LH=this.BD=!1;this.width=0;this.Rh(b,!0);DD(this)}_.extend(Jp.prototype,Backbone.Events);f=Jp.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.WW=function(){this.Ih=!0};function tP(a,b){a.Kq=b;a.trigger("change:preview")}
function uP(a){a.Kq=null;a.trigger("change:preview")}function vP(a){var b=a.elements.filter(function(a){return a.Ih||a.Hb()&&a.Pb&&!a.Pb()?!1:!0}),c=!1,d=zO();d instanceof IO&&(c=LO(d,a.K()));return 0<b.length&&!c}
function KO(a,b,c,d,e){function g(a){a.forEach(function(a){var b=a.u(),c=a.getVersion();Qg(yb,b,c,a.sM())})}function h(){if(-1!==k.K()||e){var a=k.ja;if(a===m||a&&m&&a.id===m.id&&a.version===m.version)uP(k),k.Rh(m.Jg(),!1,e),DD(k)}else k.LH=!1,k.BD=!1}var k=a,l=hM(Hb,Ym(b)),m=b.clone();e||(m.ma(a.l()),m.ea(a.o()));a.Fy=a.Fy||a.serialize();a.clear();a.ja=m;a.BD=!0;0===l.length?(a.Rh(m.Jg(),!1,e),DD(a)):(a.LH=!0,c&&tP(a,c),d&&d.lc()===KB?Gq(d.u()).then(g).catch($.noop).finally(h):LL(yb,l,!1,h))}
f.Rh=function(a,b,c){function d(a){0<=q.indexOf(a)||(q.push(a),0<u.length&&e())}function e(){var b=0===u.filter(l).length,d=0===u.filter(h).filter(l).length,e=0<u.filter(k).length;d&&e&&!p?(p=!0,wP(u,a)):b?g():(window.clearTimeout(v),v=window.setTimeout(function(){c||T.trigger("pageTimeoutWaitingForElements");g()},n))}function g(){m.BD=!1;m.uG=!1;T.off("elementLoaded",d);T.off("elementLoadingError",d);window.clearTimeout(v);m.elements.forEach(function(a){a.Cy=!1});m.trigger("unpacked");T.trigger("pageLayoutLoaded",
m);b||(m.trigger("change"),c||m.Fb&&m.Fb.trigger("change"))}function h(a){return!a.nb()}function k(a){return a.nb()}function l(a){return-1===q.indexOf(a)}var m=this,n=3E4;this.Fb&&!this.Fb.$M&&(n+=5E3*this.Fb.jc());this.uG=!0;this.Fy=null;this.LH=!1;b||this.trigger("willchange");void 0!==a.dpi&&(this.Vc=a.dpi);void 0!==a.width&&this.ma(a.width);void 0!==a.height&&this.ea(a.height);var p=!1,q=[],u=[];T.on("elementLoaded",d);T.on("elementLoadingError",d);u=u.concat(function(a){return a?a.map(yg).filter(Boolean):
[]}(a.elements));u.forEach(function(a){a.appendTo(this)},this);var v=window.setTimeout(g,n);0<u.length?window.setTimeout(function(){e()},1):g();a.resizeContentBox?(this.vi=xm(a.resizeContentBox),this.nt=xP(this,this.vi)):this.nt=this.vi=null};f.ts=function(){if(this.vi&&this.nt){var a=xP(this,this.vi);if(zm(a,this.nt))return this.vi;this.nt=this.vi=null}return null};
function xP(a,b){var c=a.qa(),d=b.clone();a.ia().forEach(function(a){if(!(a.Ih||a.Hb()||a.Hg())){var b=a.qa();if(!(a instanceof EC&&Km(b,c))){a=Math.min(d.F(),b.F());var h=Math.min(d.w(),b.w()),k=Math.max(d.Za(),b.Za())-a,b=Math.max(d.xa(),b.xa())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}f.resize=function(a){var b=yP({qp:this.ts(),me:a,page:this});this.Rh(a.Jg(),!0);DD(this);this.trigger("resize");this.nt=(this.vi=b)&&xP(this,b)};f.zR=function(a){this.clear();this.Rh(a,!0);DD(this);this.trigger("resize")};
function wP(a,b){function c(a){T.trigger("elementLoaded",a);T.trigger("elementLoaded:group",a)}a.forEach(function(d,e){if(d.nb()){var g=b.elements[e].childRange;if(fq(g)){for(var h=g[0];h<=g[1];h++)if(!b.elements[h]||b.elements[h].groupIndex!==e){c(d);d.remove();return}for(h=g[0];h<=g[1];h++)e=fG(RC(d),RC(a[h])),d.addElement(a[h]),a[h].em(e.Ha),a[h].setPosition(e.left,e.top),a[h].dm(e.rotation),d.C().find(".elements").append(a[h].C()),d.ab();c(d)}else c(d),d.remove()}})}
f.hi=function(){var a=new Vo;this.elements.forEach(function(b){b.hi().gg().forEach(function(b){Yo(a,b)})});return a};f.clone=function(){return new Jp(null,this.serialize())};f.serialize=function(){return this.LH&&this.Fy?this.Fy:this.BD&&this.ja?this.ja.Jg():zP(this)};
function zP(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.Ih}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,e={Ha:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=gG(e,{Ha:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Ha,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.Vc&&(d.dpi=
a.Vc);var e=a.ja&&a.ja.serialize();e&&(d.layout=e);(a=a.ts())&&(d.resizeContentBox=a.serialize());return d}f.clear=function(){var a;for(uP(this);this.ia().length;)(a=this.elements[0]||null)&&this.sj(a);this.elements=[];this.nt=this.vi=null};f.ia=function(){return this.elements};f.Wa=function(){return this.ia().filter(function(a){return a.Jf()})};function Vp(a){return a.ia().filter(function(a){return a.Hb()})}function AP(a){return a.ia().filter(function(a){return a.Hg()})}
function BP(a,b){function c(a){return!a.Hb()}function d(a){return!(a instanceof FC)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ia().filter(function(a){return!WC(a)}).filter(c).filter(function(a){return!a.Hg()}).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return Yg(b.qa(),a.qa())})})}
f.sj=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].nb()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].sj(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.p9&&0===this.elements.length&&(this.ja=void 0),b.PZ||this.trigger("element:remove",this,a,c,!!b.Qba),(a.Hb()||a.Hg())&&this.trigger("change:background",this))};
function CP(a,b,c){var d=a.elements.indexOf(b);-1!==d&&b.elements&&0!==b.elements.length&&b.ia().forEach(function(e){d+=1;ZC(a,e,d,!0);e.te=b.te;e.Yq(a);!c&&a.trigger("element:add",a,e,!1,!1);b.C().find(".elements").append(e.C())})}f.addElement=function(a,b,c){this.elements.push(a);a.Yq(this);CP(this,a);this.trigger("element:add",this,a,b,c);(a.Hb()||a.Hg())&&this.trigger("change:background",this,a)};
function DP(a){return a.elements.filter(function(a){return a.nb()}).map(function(b){var c=b.ia().map(function(b){return a.elements.indexOf(b)}).filter(function(a){return-1!==a});c.push(a.elements.indexOf(b));return[Math.min.apply(null,c),Math.max.apply(null,c)]})}function EP(a,b){for(var c=0;c!==a.elements.length;c++)if(a.elements[c].nb()&&-1!==a.elements[c].elements.indexOf(b))return a.elements[c]}
function ZC(a,b,c,d){c=function(c){var d=c;0>d&&(d=a.elements.length);(c=EP(a,b))?(d=Math.max(d,a.elements.indexOf(c)),d=Math.min(d,a.elements.indexOf(c)+c.ia().length)):(d=Math.min(d,a.elements.length),DP(a).forEach(function(a){d>a[0]&&d<=a[1]&&(d=a[1]+1)}));return d}(c);var e=a.elements.indexOf(b);-1==e?(a.elements.splice(c,0,b),b.Yq(a),CP(a,b,d),!d&&a.trigger("element:add",a,b,!1,!1),(b.Hb()||b.Hg())&&a.trigger("change:background",a,b)):(a.elements.splice(c,0,a.elements.splice(e,1)[0]),a.trigger("element:move",
a,b))}f.F=function(){return 0};f.$b=Jp.prototype.F;f.w=function(){return 0};f.kc=Jp.prototype.w;f.l=function(){return this.width};f.rh=Jp.prototype.l;f.o=function(){return this.height};f.nh=Jp.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=Jp.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=Jp.prototype.xa;f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Ta=function(){return 0};f.setSize=function(){};f.ma=function(a){this.ja&&this.ja.ma(a);this.width=a};
f.ea=function(a){this.ja&&this.ja.ea(a);this.height=a};f.kb=function(){};f.eb=function(){};f.setPosition=function(){};function Yp(a,b){a.Fb=b;DD(a)}f.If=function(){var a=Vp(this);return 0<a.length?(a=a[a.length-1],a.oc()&&a.tM()):!1};function fD(a){a=Vp(a);return 0<a.length?a[a.length-1].oc():!0}
f.zk=function(a){var b;this.Fb&&this.selected!==a&&!this.Ih&&(a||(this.selected=!1),b=this.Fb.Ea(),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.Jf=function(){return this.selected};f.remove=function(){this.elements.slice().forEach(function(a){JO(a);a.remove()});this.Fb&&Zp(this.Fb,this);this.Fb=null};
function fP(a){a.elements.forEach(function(a){a.C().fadeOut()});return P.delay(400).then(function(){for(;0<a.elements.length;){var b=a.elements[0];JO(b);b.C().remove();a.sj(b)}a.elements=[]})}f.K=function(){return this.Fb?ep(this.Fb,this):-1};f.lu=function(){return Sm(this.serialize())};function DD(a){(function(){a.ia().slice(0).forEach(function(b){b instanceof FC&&a.sj(b)})})();(function(){var b=a.lb();b&&tv(b).forEach(function(b){(b=yg(b))&&ZC(a,b,0)})})()}f.isEmpty=function(){return 1>this.ia().filter(function(a){return!a.Ih}).length};
f.lb=function(){var a=this.Fb;return a?a.lb():null};f.Iv=function(){return this.uG};function Xn(a,b){this.HU=this.GU=this.FU=this.EU=this.Zx=this.wv=this.lQ=this.mQ=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.JI=this.RF=null;this.y_=!!b;this.IR=Zg(this);this.LR=Zg(this);this.qI=new FP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Rc=a;this.Xj=$("\x3cdiv\x3e").addClass("scrollThumb");this.Gk=$("\x3cdiv\x3e").addClass("scrollThumb");this.Eq=this.Eq.bind(this);this.XG=this.XG.bind(this);this.SG=this.SG.bind(this);
this.UG=this.UG.bind(this);this.QG=this.QG.bind(this);this.RG=this.RG.bind(this);this.eB=this.eB.bind(this);this.fB=this.fB.bind(this);this.OG=this.OG.bind(this);this.PG=this.PG.bind(this)}f=Xn.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Rc.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Xj).insertAfter(this.Rc);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Gk).insertAfter(this.Rc);GP(this);this.Rc.on("scroll",this.XG);this.Rc.on("transitionend",this.Eq);this.Rc.on("mouseenter",this.SG);this.Rc.on("mouseleave",this.UG);this.Xj.on("mousedown",this.QG);this.Gk.on("mousedown",this.RG);this.qI.on("attrModified",this.Eq);this.qI.on("subtreeModified",
this.Eq);this.qI.observe(this.Rc);$("\x3cspan\x3e").appendTo(this.Rc).remove();$(window).on("resize",this.Eq);return this};f.remove=function(){HP(this.qI);this.Rc.off("scroll",this.XG);this.Rc.off("transitionend",this.Eq);this.Rc.off("mouseenter",this.SG);this.Rc.off("mouseleave",this.UG);this.Xj.off("mousedown",this.QG);this.Gk.off("mousedown",this.RG);$(window).off("resize",this.Eq);return this};
function GP(a){Zg(a).read(function(a){var c=this.Rc.prop("clientWidth"),d=this.Rc.prop("offsetWidth"),e=this.Rc.prop("clientHeight"),g=this.Rc.prop("offsetHeight");a.write(function(){d>c&&this.Rc.css("margin-right",c-d);g>e&&this.Rc.css("margin-bottom",e-g);this.ab()})})}f.ab=function(){this.IR.read(this.I_)};
f.I_=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.wv,d=this.Zx;this.scrollWidth=this.Rc.prop("scrollWidth");this.scrollHeight=this.Rc.prop("scrollHeight");this.mQ=this.Rc.prop("clientWidth");this.lQ=this.Rc.prop("clientHeight");this.wv=this.Xj.parent().outerWidth();this.Zx=this.Gk.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.wv||d!==this.Zx)this.scrollTop=this.scrollLeft=-1,this.IR.write(this.u9),this.LR.read(this.L_)};
f.u9=function(){var a=Math.round(this.Zx*this.lQ/this.scrollHeight);this.Xj.css("width",Math.round(this.wv*this.mQ/this.scrollWidth)+"px");this.Gk.css("height",a+"px");var a=this.mQ<this.scrollWidth,b=this.lQ<this.scrollHeight,c=a!==this.RF,d=b!==this.JI;c&&(this.RF=a,this.Xj.toggleClass("disabled",!a));d&&(this.JI=b,this.Gk.toggleClass("disabled",!b));this.y_&&(c||d)&&this.trigger("change:scrollability",this.RF,this.JI)};
f.L_=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Rc.scrollLeft();this.scrollTop=this.Rc.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.LR.write(this.w9),this.y_&&(this.RF||this.JI)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.w9=function(){var a=Math.round(this.Zx*this.scrollTop/this.scrollHeight);this.Xj.css("transform","translateX("+Math.round(this.wv*this.scrollLeft/this.scrollWidth)+"px)");this.Gk.css("transform","translateY("+a+"px)")};
f.Eq=function(){this.IR.read(this.I_)};f.XG=function(){this.LR.read(this.L_)};f.SG=function(){this.Xj.addClass("ready");this.Gk.addClass("ready")};f.UG=function(){this.Xj.removeClass("ready");this.Gk.removeClass("ready")};f.QG=function(a){0===a.button&&(this.EU=a.screenX,this.GU=this.scrollLeft,this.Xj.addClass("active"),$(document).on("mousemove",this.eB).on("mouseup",this.OG),a.preventDefault(),a.stopPropagation())};
f.eB=function(a){this.Rc.scrollLeft(this.GU+Math.round((a.screenX-this.EU)*this.scrollWidth/this.wv))};f.OG=function(a){this.eB(a);this.Xj.removeClass("active");$(document).off("mousemove",this.eB).off("mouseup",this.OG)};f.RG=function(a){0===a.button&&(this.FU=a.screenY,this.HU=this.scrollTop,this.Gk.addClass("active"),$(document).on("mousemove",this.fB).on("mouseup",this.PG),a.preventDefault(),a.stopPropagation())};
f.fB=function(a){this.Rc.scrollTop(this.HU+Math.round((a.screenY-this.FU)*this.scrollHeight/this.Zx))};f.PG=function(a){this.fB(a);this.Gk.removeClass("active");$(document).off("mousemove",this.fB).off("mouseup",this.PG)};function IP(){this.query="";this.M3=[]}function JP(a,b){a.query=b;return a}IP.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.M3).map(function(a){return a.toString()}).join(" AND ")};var yN=null,TM=null,DM=!1,tN=null;function ZM(a){Xb=!1;Sb=new rL(Ib,[new pL]);$("#search").on("keypress",function(b){return KP.call(this,b,a)});$("#search").on("keydown",LP);$("#search").on("keyup",LP)}
function KP(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500);setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},O.Da.Tq)},900)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var e=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");break;case "chart":case "charts":case "graph":case "graphs":case "bar chart":case "bar graph":case "barchart":case "bargraph":case "pie chart":case "piechart":case "line chart":case "linechart":case "donut chart":case "donutchart":case "pie graph":case "piegraph":case "line graph":case "linegraph":case "donut graph":case "donutgraph":c();d("charts");break;case "layout":case "layouts":e.find(".layout a").click();
a.select();break;case "text":case "font":case "fonts":e.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":e.find(".uploads a").click();a.select();break;default:EM(b)}}return!1}}
function EM(a,b){function c(){p.animate({scrollTop:H-O.oD},O.Da.Tq,function(){x.remove();if(yN&&yN.isPending()){var a=rN(),a=$(".inner \x3e .searchGroup",a.find(".layer")).last();a.data("search")===tN&&sN(a)}b&&b()})}function d(){var a=$(".infoPanel",z);0<a.length&&(z.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),z.removeClass("doNotTransition"));var b=NN(n),c=-1;$("\x3e .gallery \x3e li",z).each(function(){var a=$(this);
t+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},O.Gc)},++c*O.Da.jw+O.Da.aB))});setTimeout(function(){Xb=!1},c*O.Da.jw+O.Da.aB)}var e=$("#search"),g=e.val().trim();if(""!==g){var h=tN?tN.query:"",k=tN?tN.ps():[],l=tN?tN.di:null,m=yN&&!yN.isRejected()&&tN&&!tN.Wb,n=$("#resultsSearch"),p=n.find(".layer").first(),q=$("\x3e .inner \x3e .searchGroup",p),u=TM||tL,
v=DM,h=g===h,k=0===_.difference(k,u).length+_.difference(u,k).length,l=v===l;p.data("userPreparedSearch",!0);if(h&&k&&l&&m){var z=q.last();xN(z);if(!Xb){Xb=!0;var t=ON(z);a=t-O.oD;1<Math.abs(a-p.scrollTop())?p.animate({scrollTop:a},O.Da.Tq,d):d()}}else{tN=new uN(g,u,null,null,null,null,null,vN(n,n.height()),null,!0,!0,wN.bind(null,a),v,null);eO?e.blur():e.select();z=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(g)+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
$("h2",z).text("“"+g+"”");z.height(n.height());var x=$();0<$(".searchLoaderHolder.on",n).length&&(x=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),x.height($(".searchLoaderHolder",n).height()),p.addClass("doNotTransition"),x.insertAfter(q.last()),p.removeClass("doNotTransition"));xN(q.last());var H=jO(p),u=NN(n),e=H>u+O.oD,g=$(),m=$();if(e){var E=u+O.oD,L=$();q.each(function(){var a=$(this);0==L.length&&ON(a)+a.outerHeight()>E&&(L=a)});0==L.length&&(L=q.last());u=$(".gallery",L);m=E-ON(L);v=
0;0<u.length&&(v=m-(u.offset().top-L.offset().top));v=$N(u,v);g=g.add(v);m=L.nextAll(".searchGroup");0>=$("li",u).length-v.length&&(g=$(),m=m.add(L));m=m.filter(function(){return!$(this).hasClass("inlineFolderGroup")});0==g.length&&0==m.length?e=!1:(n.addClass("modifying"),v=m,0<g.find("a.infoOpen").length&&(v=v.add(L)),l=$(".infoPanel",v),0<l.length&&(v.addClass("doNotTransition"),l.addClass("doNotTransition"),$(".close",l).click(),l.data("infoPanelPointer").remove(),l.remove(),v.removeClass("doNotTransition")),
u=u.data("columnData")||null,kO(u,g),g.detach(),rA(L,!0),L.hasClass("inlineFolderGroup")&&MP(p.data("view"),!1),n.removeClass("modifying"))}q=$("\x3e .inner \x3e .searchGroup",p);g=m.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);g=jO(p)+z.height()-g;e&&g<NN(n)&&z.height(z.height()+(NN(n)-g));z.insertAfter(q.last());m.detach();var J=m.toArray(),q=q.filter(function(){return-1==J.indexOf(this)});e||0!=$(".gallery li",q.last()).length||(q.last().remove(),
q=q.filter(function(a){return a!=q.length-1}));z.data("search",tN);var H=0,Q=parseInt(z.css("padding-top"),10)+parseInt(z.css("padding-bottom"),10);q.last().addClass("doNotTransition");q.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+YN(a);a.height(b);H+=b+Q}});q.last().removeClass("doNotTransition");e=$("#objectPanel").find("menu .search");e.hasClass("on")||e.find("a").click();wN(a);c()}}}
function wN(a){var b=rN(),c=tN;yN&&yN.cancel();yN=null;yN=Sb.st({Zh:wb?wb.hc():null,query:tN.query,Pn:tN.ps(),Dn:tN.Dn,Ym:tN.Ym,filters:tN.filters,sort:tN.sort,elevation:tN.elevation,sz:!1,Kg:tN.Kg,from:tN.kn(),limit:tN.$d(),mm:tN.mm,Rf:tN.Rf,di:tN.di,aspectRatio:tN.ei()}).then(function(b){NP(a,b)}).catch(function(d){var e=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&rN().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return xN(e),P.reject();
c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchFailed"));xN(e);e.find(".gallery").remove();e.append(d)}})}
function NP(a,b){var c=rN(),d=$(".layer \x3e .inner \x3e .searchGroup",c).last(),e=b.aA(),g=$(".photoGallery, .backgroundGallery",d);tN.Qs=e.length;xN(c.find(".layer"));if(0==e.length&&tN.Qs>=tN.limit)tN.pZ();else{var h=tN,k=tN.query;0===h.kn()&&(h.Rf=b.u());0<e.length||h.UH?(e=e.slice(0,h.$d()),e.forEach(function(a){Qg(yb,a.u(),a.getVersion(),a.Kc())}),e.forEach(function(b){(new OP({model:b,query:k,J:lc(a),W:Jb})).$el.appendTo(g)}),qA(g),setTimeout(function(){h.Qs>=h.limit||!h.UH?hO(c):(tN=h.UH,
wN(a))},e.length*O.Da.jw+O.Da.aB)):0==h.kn()&&(b=h.xY,!b||0===b.kn()&&0===b.Xz())&&(g.remove(),$(".noResults",d).remove(),b=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchNoResults")),d.append(b))}}
function sN(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}function xN(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function PP(){this.vo=[]}PP.prototype.trigger=Backbone.Events.trigger;PP.prototype.listenTo=Backbone.Events.listenTo;PP.prototype.stopListening=Backbone.Events.stopListening;_.extend(PP.prototype,Backbone.Events);PP.prototype.Kk=function(a){QP(this,a,this.vo.length)};function QP(a,b,c){-1===a.vo.indexOf(b)&&(c=Math.max(0,Math.min(c,a.vo.length)),a.vo.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
PP.prototype.PB=function(a){var b=this.vo.indexOf(a);-1<b&&(a.remove(),this.vo.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function RP(a){return a.vo[a.vo.length-1]}PP.prototype.getLength=function(){return this.vo.length};function MM(a,b,c){this.oQ=a;this.title=b||"";this.g9=c||"";this.QH=[];this.YA=!0}MM.prototype.trigger=Backbone.Events.trigger;_.extend(MM.prototype,Backbone.Events);f=MM.prototype;f.qb=function(){return this.title};f.remove=function(){this.oQ.cancel()};
f.clear=function(){this.QH=[];this.YA=!0;this.oQ.reset();this.trigger("results:clear",this)};f.ai=function(a){var b=this;this.trigger("results:willFetch",b);this.oQ.sv(a,function(c,d){b.YA=c.length>=a;0<c.length&&(b.QH=b.QH.concat(c));b.trigger("results:didFetch",b,c,d)})};f.Xz=function(){return this.QH.length};
function SP(a){var b=Ib,c=Db,d=Jb;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new TP(a);if("uploads"===a)return new UP(c,!0);if("marketplace"===a)return new UP(c,!1);b=new rL(b,[new pL]);c=new uN(a,tL,null,null,null,null,[],0,null,!1,!1,function(){},!1,null);return d.G.get(hg)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new VP(b,c,Qm):new WP(b,c)}function XP(){}_.extend(XP.prototype,Backbone.Events);XP.prototype.sv=function(a,b){b&&b([],!0)};XP.prototype.cancel=function(){};
XP.prototype.reset=function(){};function WP(a,b,c){this.search=a;this.sd=b;this.JM=c||Pm;this.Wb=!1;this.PH=this.Sc=null}_.extend(WP.prototype,Backbone.Events);f=WP.prototype;
f.sv=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Sc?b&&b([],!0):this.aX(a,b,this.Wb)||(this.sd.limit=a,this.PH=b,this.Sc=vL(this.search,{Zh:wb?wb.hc():null,query:this.sd.query,Pn:this.sd.ps(),Dn:this.sd.Dn,Ym:this.sd.Ym,filters:this.sd.filters,elevation:this.sd.elevation,sort:this.sd.sort,sz:!1,Kg:this.sd.Kg,from:this.sd.kn(),limit:this.sd.$d(),mm:this.sd.mm,Rf:this.sd.Rf,aspectRatio:this.sd.ei()}).catch(c,function(){}).then(this.Q9.bind(this)).catch(P.CancellationError,
function(){}))};f.aX=function(){return!1};f.cancel=function(){this.Wb=!0;this.Sc&&this.Sc.cancel();this.Sc=null};f.reset=function(){this.cancel();this.Wb=!1;this.sd.reset()};f.Q9=function(a){var b=[];!this.Wb&&a&&a.aA()&&(b=a.aA());this.ON(b,this.sd.$d());this.PH&&this.PH(b,this.Wb);this.Sc=this.PH=null;this.Wb||(0===this.sd.kn()&&(this.sd.Rf=a.u()),this.sd.Qs=b.length,a=this.sd,a.from+=a.limit)};f.ON=function(){};
function TP(a){this.Hx=0;this.Le=[];this.query=a;this.Wb=!1;if("grid"===a||"grids"===a)this.query="grid",this.Le=_.keys(Pm)}TP.prototype.cancel=function(){this.Wb=!0};TP.prototype.sv=function(a,b){if(this.Hx>=this.Le.length||this.Wb)b&&b([],this.Wb);else{var c=this.Le.slice(this.Hx,this.Hx+a);this.Hx+=a;b&&b(c,!1)}};TP.prototype.reset=function(){this.Wb=!1;this.Hx=0;this.Le=[]};function UP(a,b){this.ac=a;this.Xl=b;this.Y=null;this.Wb=!1;this.Sc=null;this.kA=!1}
UP.prototype.sv=function(a,b){function c(a,c){function e(a){return(a=a.Ja().ic())&&0<Object.keys(a).length}function l(a){var b=a.Ja(),c=b.ic(),d;CF(a.Ja())&&(d=100*CF(a.Ja()).ONE_USE||0);return Jg({id:a.u(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.ph(),type:a.lc()})}function m(a,b){a=a.u();b=b.u();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(e).sort(m).map(l),b&&b(a,d.Wb),d.Y=c.continuation,d.Sc=null,d.kA=!0):b&&b([],d.Wb)}var d=this,
e=[Eg,Gg];this.Sc?b&&b([],!0):null==this.Y&&this.kA?b&&b([],!1):(a=FF((new EF).Vt(this.Xl).Tt(!1).To(),e).Vg(a),null!=d.Y&&a.Bj(d.Y),this.Xl||(a=a.ey(!0)),this.Sc=aF(Db,a,c))};UP.prototype.cancel=function(){this.Wb=!0;this.Sc&&(this.Sc.cancel(),this.Sc=null)};UP.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null;this.kA=!1};
function NM(a){w(!((a.vc||a.query)&&a.sd));var b=a.JM||Pm;if(null!=a.sd)WP.call(this,a.pQ,a.sd,b);else if(null!=a.vc){var c=new IP,c=JP(c,a.query?a.query+" *":"*");WP.call(this,a.pQ,new uN(c.toString(),sL,{designType:a.vc.u()},null,null,null,[new IL({$u:"score",direction:"DESC"}),new IL({$u:"lastModified",direction:"DESC"}),new IL({$u:"id",direction:"ASC"})],0,null,!1,!1,function(){},!1,null),b)}this.dF=!1;this.eA=0}_.extend(NM.prototype,WP.prototype);
NM.prototype.reset=function(){WP.prototype.reset.call(this);this.dF=!1;this.eA=0};NM.prototype.aX=function(a,b,c){var d=[];return this.dF?(YP(this,d,this.eA,a),b&&b(d,c),!0):!1};NM.prototype.ON=function(a,b){(this.dF=0===a.length||a.length<b)&&YP(this,a,this.eA,b-a.length)};function YP(a,b,c,d){c=_.rest(_.keys(a.JM),c);d=_.first(c,d);a.eA+=d.length;d.forEach(function(c){b.push(ZP(a,c))})}
function ZP(a,b){b=a.JM[b];a=new cJ;var c=Rg(K.lb().tb);b={width:c.l(),height:c.o(),elements:[{type:"grid",left:0,top:0,width:c.l(),height:c.o(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function VP(a,b,c){WP.call(this,a,b,c);this.UJ=c;this.IL=!1;this.Ky=0}_.extend(VP.prototype,WP.prototype);VP.prototype.reset=function(){WP.prototype.reset.call(this);this.IL=!1;this.Ky=0};VP.prototype.ON=function(a){this.IL||(this.IL=$P(this,a,this.Ky,_.size(this.UJ)))};
function $P(a,b,c,d){c=_.rest(_.keys(a.UJ),c);d=_.first(c,d);a.Ky+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.Ky===_.size(a.UJ)}function KM(a){this.Wb=!1;this.Ra=a.Ra;this.gc=a.gc;this.na=a.na;this.va=a.va;this.dv=a.dv;this.Zr=a.Zr;this.JE=a.JE||null;this.cF=!1;this.rG=this.Y=this.Sc=null}_.extend(KM.prototype,WP.prototype);
KM.prototype.sv=function(a,b){function c(){function b(a){h.rG=a.Nb();h.cF=null==h.rG;a=a.Cf().map(function(a){return a.u()});if(!a.length)return null;k.wl=a;return new Wt(k)}if(h.dv){var c=(new ok).Hk(new Tj({id:h.dv})).Vg(a).Bj(h.rG);return h.gc.RA(c).then(b).catch(g)}return new P(function(a){a(new Wt(k))})}function d(a){h.Sc=null!=a?tq(h.Ra,a):P.resolve(null);return h.Sc}function e(a){a?(h.Y=a.continuation,this.dv||(h.cF=null==h.Y),b&&b(a.documents,h.Wb),h.Sc=null):b&&b([],h.Wb)}function g(a){b&&
b([],h.Wb);throw a;}var h=this,k={Zr:h.Zr,HL:!0,Y:h.Y,limit:a};this.JE&&(k.ja=this.JE);this.dv||(k.qd=new lr({user:h.na,D:h.va}),k.uH=[br]);this.Sc?b&&b([],!0):this.cF?b&&b([],this.Wb):this.Sc=c().then(d).then(e).catch(g)};KM.prototype.cancel=function(){this.Wb=!0;this.Sc&&(this.Sc.cancel(),this.Sc=null)};KM.prototype.reset=function(){this.cancel();this.Wb=!1;this.rG=this.Y=null;this.cF=!1};
function aQ(a){this.va=a.va||null;this.Wb=!1;this.SK=a.SK;this.Ra=a.Ra;this.RU=!1;this.Y=this.Sc=null;this.Mi=a.Mi}_.extend(aQ.prototype,WP.prototype);
aQ.prototype.sv=function(a,b){function c(a){var b=a.Cf().map(h);k.RU=null==a.Nb();k.Y=a.Nb();return 0!==b.length?(a=new Wt({wl:b}),tq(k.Ra,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Wb)}function e(){b([],k.Wb)}function g(){k.Sc=null}function h(a){return a.u()}var k=this;this.Sc?b&&b([],!0):this.RU?b&&b([],this.Wb):(a=fJ((new eJ).Aj(this.va).Hk("/designs/layouts"),this.SK).Vg(a).Bj(this.Y),this.Sc=aJ(this.Mi,a).then(c).then(d).catch(e).finally(g))};
aQ.prototype.cancel=function(){this.Wb=!0;this.Sc=null};aQ.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null};function uN(a,b,c,d,e,g,h,k,l,m,n,p,q,u){this.query="";this.Pn=b;this.Dn=c;this.Ym=d;this.filters=e;this.elevation=g;this.sort=h;"string"===typeof a?this.query=a.trim():a instanceof BL&&(this.query="group:"+a.ka());this.from=0;this.limit=k;this.Qs=0;this.Wb=!1;this.pZ=p;this.Rf=l;this.Kg=m;this.mm=n;this.di=q;this.aspectRatio=u;this.UH=this.xY=null}
function GM(a){var b={};a.Dn.forEach(function(a,c){return b[c]=a});var c={};a.Ym.forEach(function(a,b){return c[b]=a});return new uN(a.query,a.Pn,b,c,a.filters,null!=a.elevation?a.elevation:null,a.sort,a.limit,null!=a.Rf?a.Rf:null,null!=a.Kg?a.Kg:!1,null!=a.mm?a.mm:!1,function(){},null!=a.di?a.di:!1,void 0!==a.aspectRatio?a.aspectRatio:null)}f=uN.prototype;f.ps=function(){return this.Pn};f.kn=function(){return this.from};f.$d=function(){return this.limit};f.cancel=function(){this.Wb=!0};f.ei=function(){return this.aspectRatio};
f.Xz=function(){return this.Qs};f.reset=function(){this.Qs=this.from=0};function bQ(a){if(void 0!==a&&!cQ(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.Lm=a?a.gW||"none":"none";this.Ii=a?a.Ii.slice(0):[]}bQ.prototype.trigger=Backbone.Events.trigger;_.extend(bQ.prototype,Backbone.Events);bQ.prototype.bA=function(){return this.Lm};function dQ(a){return a.Ii.map(function(a){return _.extend({},a)})}
function eQ(a,b){var c=a.Ii.concat(b);if(!cQ({gW:a.Lm,Ii:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.Ii=a.Ii.concat(b)}bQ.prototype.transition=function(a){var b=this.Lm,c=fQ(this,a);if(null!==c)this.Lm=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.Lm);};
function gQ(a,b){var c=a.Lm;if(-1===a.Ii.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.Lm=b;a.trigger("state:enter",a,b,c)}bQ.prototype.start=function(){this.transition("start")};bQ.prototype.fail=function(){this.transition("fail")};
function fQ(a,b){var c=a.Ii.filter(function(c){return c.name===b&&c.from===a.Lm});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.Lm+'"');return 1===c.length?c[0].to:null}function cQ(a){var b=a.gW||"none",c;c=-1===hQ(a.Ii).indexOf(b)?!1:!0;var d=iQ(a.Ii);a=jQ(a.Ii);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function hQ(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function jQ(a){return hQ(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function iQ(a){return hQ(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Ln(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Om(180*e/Math.PI)}function Om(a){a%=360;0>a&&(a+=360);return a}function Jn(a){return Math.PI/180*a}function tC(a,b){a-=b;return 0>a?360+a:a}function kQ(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function lQ(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Mn(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function mQ(a,b){this.listener=void 0;this.ag=a;this.Gd=b;this.wJ=this.visible=!1;this.FV=[]}f=mQ.prototype;f.sh=function(){return!!this.visible};
function nQ(a){a.ag.Gb().forEach(function(b){if(!(!b||0>b.K()||a.Gd.Ma.length<=b.K())){b=FD(a.Gd,b);if(0>=b.$el.find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');b.$el.prepend(c)}b.$el.find(".guides").css("display","block")}})}f.toggle=function(){this.sh()?(this.hide(),oQ(this)):this.wJ?oQ(this):this.show()};
function pQ(a){return a.FV.filter(function(a){return a&&a.te&&a.R()})}f.add=function(a){this.FV.push(a)};f.hide=function(){var a=this;this.visible=!1;this.ag.Gb().forEach(function(b){FD(a.Gd,b).$el.find(".guides").css("display","none")});pQ(this).forEach(function(a){a.sE()});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.JD),this.listener.off("touchstart",".guides",this.JD))};
f.show=function(){this.visible=!0;nQ(this);pQ(this).forEach(function(a){a.activate()});this.listener=new hp("#canvaDocument");this.JD=this.hL.bind(this);this.listener.on("mousedown",".guides",this.JD);this.listener.on("touchstart",".guides",this.JD)};
f.hL=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.o(),left:p/W,top:0};e||(p.align="horizontal",p.width=k.l(),p.left=0,p.top=a/W,p.height=0);a=k;0<=p.left&&p.left<=a.l()&&0<=p.top&&p.top<=a.o()&&(a=new pI(p),a.appendTo(k),a.kb(p.left),a.eb(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new hp($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=this.ag.Ea();a=FD(this.Gd,k);var l=a.$el.find(".page__content").get(0).getBoundingClientRect().left,m=a.$el.find(".page__content").get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");HN(a,h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function qQ(){var a=Rb();return a.sh()?pQ(a):[]}
function oQ(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.wJ=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.wJ=!0,$(".page").addClass("showGuidelines"),$(".page__content").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),rQ())}function rQ(){if(K&&K.Gb&&K.Gb()[0]){var a=(K.Gb()[0].l()-140)/18*W-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*W)}}
function sQ(a){var b=FD(vb,a);if(!b.$el.hasClass("showGuidelines"))return delete ub.fA,[];if(ub.fA)return ub.fA;ub.fA=[];b.$el.find(".guidelines .gutter").each(function(a,d){function e(){return 0}function g(){return(d.getBoundingClientRect().right-k().left)/W}function h(){return(d.getBoundingClientRect().left-k().left)/W}function k(){return b.$el.find(".page__content").get(0).getBoundingClientRect()}ub.fA.push({F:h,$b:h,Nd:g,w:e,kc:e,rh:function(){return g()-h()},nh:function(){return(k().bottom-k().top)/
W},kd:function(){return(k().bottom-k().top)/W},Ta:function(){return 0}})});return ub.fA};var iC=An("#ffffff"),jC=An("#272c33"),kC=An("#7d8693");function tQ(a){var b=goog.asserts.assertArray(a.data,"expected parameter 'data' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":"")+'"\x3e';a=b.length;for(var e=0;e<a;e++)var g=b[e],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function uQ(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=goog.asserts.assertArray(a.jg,"expected parameter 'header' of type list\x3cstring\x3e.");for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e'+soy.$$escapeHtml(a[d])+"\x3c/th\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function vQ(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b=a.count;soy.asserts.assertType(goog.isString(a.lG)||a.lG instanceof goog.soy.data.SanitizedContent,"itemMessage",a.lG,"string|goog.soy.data.SanitizedContent");var c=a.lG;soy.asserts.assertType(goog.isString(a.MI)||a.MI instanceof goog.soy.data.SanitizedContent,"valueMessage",a.MI,"string|goog.soy.data.SanitizedContent");a=a.MI;for(var d='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e',e=
0;e<b;e++)d+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" placeholder\x3d"'+(0==e?soy.$$escapeHtmlAttribute(c):soy.$$escapeHtmlAttribute(a))+'" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/tr\x3e")}
function wQ(a){soy.asserts.assertType(goog.isString(a.pH)||a.pH instanceof goog.soy.data.SanitizedContent,"pasteMessage",a.pH,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tableView__spacer"\x3e\x3c/div\x3e\x3ctextarea placeholder\x3d"'+soy.$$escapeHtmlAttribute(a.pH)+'" class\x3d"tableView__pasteArea" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e')};function xQ(a){Backbone.View.call(this,{className:"tableView",tagName:"div"});this.i=a}r(xQ,Backbone.View);f=xQ.prototype;f.events=function(){return{"input .tableView__input":this.Vn,"keyup .tableView__input":this.Q6,"keydown .tableView__input":this.zO,"focus .tableView__input--data":this.h6,"focus .tableView__input--placeholder":this.l7,"blur .tableView__input--data":this.cB,"paste .tableView__input":this.FX,"paste .tableView__pasteArea":this.FX}};
f.K=function(a){if(!a.length)return{Eb:-1,Ua:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{Eb:b,Ua:a}};function yQ(a,b){return a.$el.find('[data-row\x3d"'+b.Eb+'"] [data-column\x3d"'+b.Ua+'"]')}f.tc=function(a){return""+a.val()};f.yi=function(a){yQ(this,a).focus();return this};f.blur=function(a){yQ(this,a).blur();return this};
function zQ(a,b,c){yQ(a,b).toggleClass("tableView__input--empty",!!c)}f.Ak=function(a,b,c){var d=yQ(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};f.FQ=function(a){var b=this.$el.find(".tableView__row--header");a=uQ({jg:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};f.Vn=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.tc(b);this.trigger("input",a,b)};
f.Q6=function(a){a.stopPropagation();AQ(a)?this.GL&&this.trigger("keyup",this.GL,function(){return a.preventDefault()}):a.preventDefault()};f.zO=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.K(b),b=this.tc(b);this.GL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd};AQ(a)?this.trigger("keydown",this.GL,function(){return a.preventDefault()}):a.preventDefault()};
function AQ(a){if(a.shiftKey)switch(a.which){case 188:case 190:return!1}return!0}f.FX=function(a){var b=!1,c=$(a.currentTarget),c=this.K(c),d=(a.originalEvent.clipboardData||window.clipboardData).getData("text"),e=-1!==d.indexOf("\x3c")||-1!==d.indexOf("\x3e"),g=-1!==d.indexOf("\t"),h=-1!==d.indexOf("\n")||-1!==d.indexOf("\r");if(g||h||e){if(-1===c.Ua||-1===c.Eb)b=!0,c.Eb=0,c.Ua=0;a.preventDefault();this.trigger("paste",c,d,b)}};
f.l7=function(a){a.preventDefault();a=parseInt($(a.target).attr("data-column"),10);this.trigger("append",a)};f.h6=function(a){a=$(a.currentTarget);this.trigger("focus",this.K(a));a.select()};f.cB=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.tc(b);this.trigger("blur",a,b)};
f.render=function(a,b,c,d){var e=this.el,g=goog.asserts.assertArray(a,"expected parameter 'data' of type list\x3clist\x3cstring\x3e\x3e.");soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var h='\x3ctable class\x3d"tableView__table"\x3e',k=g.length,l=0;l<k;l++)h+=tQ({data:g[l],index:l,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/table\x3e");e.innerHTML=b;c&&this.$el.find(".tableView__row").first().before(uQ({jg:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(vQ({count:a[0].length,
lG:ye(this.i,a.length+1),MI:this.i.format("editorToolbarTableValue")}).toString());this.$el.append(wQ({pH:this.i.format("editorToolbarPasteSpreadsheet")}).toString())};f.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(tQ({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());BQ(this)};function CQ(a,b){a.$el.find('.tableView__row--data[data-row\x3d"'+b+'"]').remove();BQ(a)}
function BQ(a){var b=0;a.$el.find(".tableView__row--data").each(function(a,d){$(d).attr("data-row",a);a>b&&(b=a)});a.$('.tableView__input--placeholder[data-column\x3d"0"]').attr("placeholder",ye(a.i,b+2))}function DQ(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function EQ(a,b,c,d,e,g){var h=this;this.view=a;this.i=b;this.hk=c;this.mj=d;this.maxLength=e||16;this.Pd=g||0;this.data=[];this.headers=[];this.Iu={Ua:0,Eb:0};this.view.on("focus",function(a){h.Iu=a});this.view.on("input",function(a,b){return h.Ak(a,b)});this.view.on("keyup",function(a,b){return FQ(h,a,b)});this.view.on("keydown",function(a,b){return h.Ll(a,b)});this.view.on("blur",function(a,b){h.validate(a,b);h.trigger("commit",h.getData())});this.view.on("paste",function(a,b,c){return GQ(h,a,
b,c)});this.view.on("append",function(a){return HQ(h,a)})}function IQ(a,b,c){var d=new xQ(c);c=new EQ(d,c,b.hk,b.mj,b.maxLength,b.Pd);c.setData(a);d.render(a,c.maxLength,b.cK,!0);return{Db:c,view:d}}f=EQ.prototype;f.setData=function(a){this.data=a};f.FQ=function(a){this.headers=a;this.view.FQ(this.headers)};
f.Ak=function(a,b){-1!==a.Eb&&-1!==a.Ua&&(b=this.sanitize(b),this.data[a.Eb]||(this.data[a.Eb]=JQ(this,a.Eb+1)),this.data[a.Eb][a.Ua]=b,this.validate(a,b),a=a.Ua!==this.Pd,this.trigger("change",this.getData(),a))};f.sanitize=function(a){return a.replace(/[<>]/g,"").substr(0,this.maxLength)};
f.validate=function(a,b){if(-1===a.Eb||-1===a.Ua)return!1;var c=a.Ua!==this.Pd,d=sH(b),d=!isNaN(d)||""===b;c&&yQ(this.view,a).toggleClass("tableView__input--numerical",!!d).toggleClass("tableView__input--nonNumerical",!d);zQ(this.view,a,!b.length);b=this.data[a.Eb].reduce(function(a,b){return!a.length&&!b.length});this.view.$('.tableView__row[data-row\x3d"'+a.Eb+'"]').toggleClass("tableView__row--empty",!!b);return d};
function FQ(a,b,c){var d=b.index,e=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.Eb):b.altKey?KQ(a,d):LQ(a,d);break;case 38:c&&c();KQ(a,d);break;case 40:c&&c();LQ(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),MQ(a,d));break;case 39:b.selectionStart==e.length&&b.selectionEnd==e.length&&(c&&c(),NQ(a,d));break;case 8:0===e.length&&(b=0===a.data[d.Eb].reduce(function(a,b){return a.length+b.length}),0===d.Ua&&b?(c&&c(),a.deleteRow(d.Eb),OQ(a,d)):(c&&c(),MQ(a,d)))}}
f.Ll=function(a,b){var c=a.index;switch(a.keyCode){case 9:b&&b();a.shiftKey?OQ(this,c):(a=c.Ua===this.mj-1,c.Eb===this.data.length-1&&a&&HQ(this),c.Eb<=this.data.length-1&&(a&&(c.Eb=Math.min(c.Eb+1,this.hk)),c.Ua=(c.Ua+1)%this.mj,this.yi(c)));break;case 27:b&&b(),this.view.blur(this.Iu)}};
function GQ(a,b,c,d){d&&PQ(a);d=-1!==c.indexOf("\n")?"\n":"\r";var e=[];c.split(d).forEach(function(a){return e.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(e,a.Pd);0<c&&a.FQ(e[c-1]);var g;for(c=Math.max(0,c);c<e.length&&c!==a.hk;c++,b.Eb++)for(b.Eb>=a.data.length&&a.insertRow(b.Eb-1,JQ(a,b.Eb+1),!0),d=0;d<Math.min(e[c].length,a.mj-b.Ua)&&d!==a.mj;d++){g=d+b.Ua;var h=a.sanitize(e[c][d]);g={Eb:b.Eb,
Ua:g};a.Ak(g,h,!0);a.view.Ak(g,h,!0);a.validate(g,h)}g&&(a.yi(g),a.trigger("change",a.getData(),!0))}f.yi=function(a,b){this.trigger("focus",a);!b&&this.view.yi(a)};function LQ(a,b){b.Eb+1<a.hk&&(b.Eb===a.data.length-1?HQ(a):(b.Eb++,a.yi(b)))}function KQ(a,b){0<=--b.Eb&&a.yi(b)}function NQ(a,b){b.Ua+1<a.mj&&(b.Ua++,a.yi(b))}function MQ(a,b){0<=--b.Ua&&a.yi(b)}function OQ(a,b){var c=0!==b.Eb;0!==b.Ua?(b.Ua--,a.yi(b)):c&&(b.Eb=Math.max(0,b.Eb-1),b.Ua=a.mj-1,a.yi(b))}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};
function JQ(a,b){for(var c=[],d=0;d<a.mj;d++)d===a.Pd?c.push(ye(a.i,b)):c.push(a.i.format("editorToolbarTableValue"));return c}
f.insertRow=function(a,b,c){var d=a+1;b=b||JQ(this,d+1);var e=!0,g=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&g++});b.forEach(function(a){return e=e&&0==a.length});this.data.length<this.hk&&0===g?(this.data.splice(d,0,b),this.view.insertRow(a,e,this.maxLength,b)):this.data.length===this.hk&&DQ(this.view,!1);this.yi({Eb:d,Ua:this.Iu.Ua},c);a=this.Iu.Ua!==this.Pd;!c&&this.trigger("change",this.getData(),a)};
function HQ(a,b){a.insertRow(a.data.length-1);void 0!==b&&a.yi({Ua:b,Eb:a.data.length-1})}f.deleteRow=function(a){if(1===this.data.length)return{Ua:0,Eb:a};CQ(this.view,a);this.data.splice(a,1);this.data.length<this.hk&&DQ(this.view,!0);a=this.Iu.Ua!==this.Pd;this.trigger("change",this.getData(),a)};
function PQ(a){a.data.length||(a.data=[JQ(a,1)]);for(var b=a.data.length-1;0<=b;b--)if(0===b)for(var c=0;c<a.mj;c++)a.Ak({Ua:c,Eb:b},"",!0),a.view.Ak({Ua:c,Eb:b},"",!0);else a.data.splice(b,1),CQ(a.view,b);b={Ua:0,Eb:0};a.Iu=b;a.yi(b,!0);a.data.length<a.hk&&DQ(a.view,!0)}f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;function QQ(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.iN||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.iN=!1;this.gR=_.debounce(this.gR,500);this.Ll=this.Ll.bind(this);$(document).on("keydown",this.Ll)}r(QQ,Backbone.View);function RQ(a){var b=$(SQ({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.qZ).toggleClass("toolbar__menuHeader",a.y4).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(ma(a)));return new QQ({el:b[0]})}f=QQ.prototype;
f.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};f.ZB=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};f.remove=function(){$(document).off("keydown",this.Ll);Backbone.View.prototype.remove.call(this)};f.gR=function(){this.iN=!1};
f.Ll=function(a){if("visible"===this.$el.css("visibility")){this.iN=!0;this.gR();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function TQ(a,b,c){this.element=a instanceof jQuery?a:$(a);this.qZ=b;this.y4=c}var SQ=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function UQ(a){var b=this;this.index=a.index;this.wo=a.wo;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return VQ(b,!1)},keyDown:function(){return WQ(b,!1)},keyTab:function(){return WQ(b,!0)},keyShiftTab:function(){return VQ(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.wo[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.wo[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function XQ(a){var b=RQ({elements:a.elements,className:a.className});"undefined"!==typeof a.Ku&&b.select(a.Ku);return new UQ({index:"undefined"===typeof a.Ku?null:a.Ku,wo:a.elements.filter(function(a){return a.qZ}),view:b})}function VQ(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.wo.length-1:0);a.view.select(a.index);a.view.ZB();a.trigger("activeChange",a.wo[a.index])}f=UQ.prototype;f.ZB=function(a){this.view.ZB(a)};
function WQ(a,b){a.index||(a.index=0);a.index++;a.index>=a.wo.length&&(a.index=b?0:a.wo.length-1);a.view.select(a.index);a.view.ZB();a.trigger("activeChange",a.wo[a.index])}f.remove=function(){this.stopListening();this.view.remove()};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function YQ(){Backbone.View.call(this,{className:"sideDrawer",tagName:"section"});this.visible=!1;this.$n=[];this.$el.hide().append('\x3cdiv class\x3d"sideDrawer__frame"\x3e\x3c/div\x3e')}r(YQ,Backbone.View);YQ.prototype.events=function(){return{click:this.preventDefault}};YQ.prototype.preventDefault=function(a){a.stopPropagation();a.preventDefault()};YQ.prototype.eu=function(a){this.$n.push(a);this.$el.find(".sideDrawer__frame").append(a.$el);return this};
function dD(a,b){b&&!a.visible?(a.visible=!0,a.$el.show(),a.$el.addClass("sideDrawer--showing"),a.$el.removeClass("sideDrawer--hiding")):!b&&a.visible&&ZQ(a)}function ZQ(a){a.visible=!1;a.$el.addClass("sideDrawer--hiding");a.$el.removeClass("sideDrawer--showing");P.delay(200*1.1).then(function(){return a.$el.hide()})}YQ.prototype.remove=function(){this.trigger("remove");this.$n.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function $Q(){}function aR(){this.type="separator"}r(aR,$Q);function bR(a,b){aR.call(this);this.id=a;this.label=b}r(bR,aR);
function cR(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.Nt=(c.Nt||b).toString();this.zf=!!c.zf;this.Cn=c.Cn;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.Tf=c.Tf;this.yj=!!c.yj;this.Xe=c.Xe||"no";"string"==typeof c.Qe?(a=c.Qe,b=-1<navigator.platform.indexOf("Mac")?"⌘":"Ctrl ",a=a.replace("^",b)):a=void 0;this.Qe=a}r(cR,$Q);
function dR(a,b,c){this.id=a;this.label=b;this.placeholder=c;this.type="input"}r(dR,$Q);function eR(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}r(eR,$Q);function fR(a,b,c){this.color=a;this.label=b;this.index=c||0;this.type="color";this.target="any"}r(fR,$Q);function gR(a,b,c){fR.call(this,a,b,c);this.target="fill"}r(gR,fR);function hR(a,b,c){fR.call(this,a,b,c);this.target="text"}r(hR,fR);function iR(a,b){var c=!1,d=new aR,e=[];a instanceof EC?(e.push(new gR("",ve(b))),c=!0):a.bb&&a.bb().length&&(e=e.concat(a.bb().map(function(a,c){if(a instanceof hn)return new gR(a.ra(),ve(b),c);if("string"===typeof a)return new gR(a,ve(b),c);if(null===a)return new gR("",ve(b),c)})),c=!0);if(a instanceof cp||a.ig&&a.ig()&&(a.QV()||a.Zp()))c&&e.push(d),e.push(new cR("filter",b.format("editorToolbarImageFilter"),{enabled:a.lq(),hidden:a instanceof cp&&!a.ig()}));if(a.Jm||a instanceof cp)c&&-1===e.indexOf(d)&&
e.push(d),e.push(new cR("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.gq&&a.gq()),hidden:a instanceof cp&&!a.Jm}));if(a.hq()){c&&-1===e.indexOf(d)&&e.push(d);var g=[];g.push(new cR("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new cR("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));e.push(new cR("flip",b.format("editorToolbarElementFlip"),{Tf:g,yj:!0}))}c&&a.lA()&&(-1===e.indexOf(d)&&e.push(d),e.push(new cR("gridSpacing",b.format("editorToolbarGridSpacing"),
{Tf:[new eR("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return e}
function jR(a,b){var c=[],d={HorizontalAlignLeft:new cR("HorizontalAlignLeft",me(b),{icon:!0,zf:!0}),HorizontalAlignCenter:new cR("HorizontalAlignCenter",oe(b),{icon:!0,zf:!0}),HorizontalAlignRight:new cR("HorizontalAlignRight",ne(b),{icon:!0,zf:!0}),VerticalAlignTop:new cR("VerticalAlignTop",pe(b),{icon:!0,zf:!0}),VerticalAlignCenter:new cR("VerticalAlignCenter",re(b),{icon:!0,zf:!0}),VerticalAlignBottom:new cR("VerticalAlignBottom",qe(b),{icon:!0,zf:!0})},e={HorizontalDistribute:new cR("HorizontalDistribute",
se(b),{icon:!0,zf:!0}),VerticalDistribute:new cR("VerticalDistribute",te(b),{icon:!0,zf:!0})};c.push(new bR("AlignTo",b.format("editorToolbarElementAlignTo")));a.forEach(function(a){d[a.id]&&c.push(d[a.id])});c.push(new bR("SpaceEvenly",b.format("editorToolbarElementSpaceEvenly")));a.forEach(function(a){e[a.id]&&c.push(e[a.id])});return c}
function kR(a,b,c){var d=[],e={group:new cR("group",c.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new cR("ungroup",c.format("editorToolbarElementUngroup"),{enabled:!0}),copy:new cR("copy",c.format("editorToolbarElementCopy")),arrange:new cR("arrange",c.format("editorToolbarElementArrange"),{yj:!0,Tf:[new cR("forward",c.format("editorToolbarElementForward"),{icon:!0,Qe:"^]",zf:!0}),new cR("back",c.format("editorToolbarElementBack"),{icon:!0,Qe:"^[",zf:!0})]}),transparency:new cR("transparency",
le(c),{icon:!0,Tf:[new eR("transparency",le(c))]}),link:new cR("link",c.format("editorToolbarElementLink"),{icon:!0,Tf:[new dR("link",c.format("editorToolbarElementLinkApply"),c.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new cR("delete",ke(c),{icon:!0}),deletePlaceholderMenu:new cR("deleteMenu",ke(c),{icon:!0,yj:!0,Tf:[new cR("imageDelete",c.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new cR("delete",we(c),{icon:!1})]}),deleteElementMenu:new cR("deleteMenu",ke(c),{icon:!0,
yj:!0,Tf:[new cR("elementDelete",we(c),{icon:!1}),new cR("delete",c.format("editorToolbarDeleteMenuDeleteGroup"),{icon:!1})]})};0!==b.length&&jR(b,c).forEach(function(a){e.arrange.Tf.push(a)});d.push(new aR);var g=["deletePlaceholder","deleteElement"];a.forEach(function(b){-1<g.indexOf(b)||("delete"===b?(d.push(new cR("more",c.format("editorToolbarElementMore"),{Tf:[],yj:!0,enabled:!1})),-1!==a.indexOf("deletePlaceholder")?d.push(e.deletePlaceholderMenu):-1!==a.indexOf("deleteElement")?d.push(e.deleteElementMenu):
d.push(e["delete"])):d.push(e[b]))});return d};function lR(a,b){a=goog.asserts.assertArray(a.items,"expected parameter 'items' of type list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, index: float|int, label: string, placeholder: string, shortcut: string, submenu: list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: bool]\x3e, target: string, tooltip: string, type: string, vertical: bool]\x3e.");
var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,e=0;e<d;e++){var g=a[e];if("color"==g.type)g=mR({color:g.color,label:g.label,index:g.index,target:g.target},b);else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator toolbar__subheading"\x3e'+(g.label?'\x3cspan class\x3d"toolbar__label"\x3e'+soy.$$escapeHtml(g.label)+"\x3c/span\x3e":"")+"\x3c/li\x3e";else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");
l=n.label;soy.asserts.assertType(goog.isString(n.Nt)||n.Nt instanceof goog.soy.data.SanitizedContent,"tooltip",n.Nt,"string|goog.soy.data.SanitizedContent");m=n.Nt;soy.asserts.assertType(null==n.zf||goog.isBoolean(n.zf)||1===n.zf||0===n.zf,"disableTooltip",n.zf,"boolean|null|undefined");h=n.zf;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===
n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var q=n.enabled;soy.asserts.assertType(null==n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var u=n.hidden;soy.asserts.assertType(null==n.yj||goog.isBoolean(n.yj)||1===n.yj||0===n.yj,"vertical",n.yj,"boolean|null|undefined");var v=n.yj;soy.asserts.assertType(null==n.Xe||n.Xe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Xe),"editable",n.Xe,"null|string|undefined");
var z=n.Xe;soy.asserts.assertType(null==n.Qe||n.Qe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Qe),"shortcut",n.Qe,"null|string|undefined");var t=n.Qe;soy.asserts.assertType(null==n.Tf||goog.isArray(n.Tf),"submenu",n.Tf,"?Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: boolean}\x3e, target: string, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.Tf;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(q?"enabled":"disabled")+" "+(u?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==z?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+'\x3c/span\x3e\x3cspan class\x3d"toolbar__spinner"\x3e\x3c/span\x3e'+(t&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+
soy.$$escapeHtml(m)+(t?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+lR({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function mR(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");var c=a.color;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var d=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var e=a.label;soy.asserts.assertType(goog.isString(a.target)||a.target instanceof
goog.soy.data.SanitizedContent,"target",a.target,"string|goog.soy.data.SanitizedContent");a=a.target;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color toolbar__item--color--'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cbutton data-colorindex\x3d"'+soy.$$escapeHtmlAttribute(d)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon toolbar__target--'+soy.$$escapeHtmlAttribute(a)+" "+(""==c?"noColor":"")+'" '+(""!=c?'style\x3d"'+(b.Yb?"/*"+
b.Yb+"*/":"")+"background-color: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(c))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/li\x3e")}
function nR(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");var c=a.width;soy.asserts.assertType(goog.isNumber(a.height),"height",a.height,"number");a=a.height;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" viewBox\x3d"0 0 '+
soy.$$escapeHtmlAttribute(c)+" "+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(b))+'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function oR(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.VD?b+" "+a.VD:b,b=a.Qi?b+" toolbar--"+a.Qi:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.H=a.H;this.name=a.name;this.Qi=a.Qi;this.element=a.element;this.bH=a.bH;this.NE=!1}r(oR,Backbone.View);f=oR.prototype;
f.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.t_,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.Y$,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.X$,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.t_}};f.t_=function(a){a=$(a.target);this.NE=!0;pR(this,a.closest(".toolbar__item"),a)};
f.Y$=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.NE&&a.parents(".toolbar__item--submenuExpanded").length?(qR(this),this.NE=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};f.X$=function(){this.NE=!1};
function pR(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),e=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(e)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.bH||a.bH();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?kl(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function qR(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");return P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}f.C=function(){return this.element};
f.getName=function(){return this.name};f.Tu=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};f.MK=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};
f.YF=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};f.LZ=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};f.Uf=function(a,b){b?this.Tu(a):this.MK(a)};
function rR(a,b){a.$el.find(".toolbar__item--fontFamily .toolbar__spinner").toggleClass("toolbar__spinner--visible",b)}function sR(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function tR(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
f.RS=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
f.lU=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};f.tD=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
f.Ay=function(a){"right"===this.Qi?this.$el.appendTo(a):this.$el.prependTo(a)};f.setFillColor=function(a,b,c){this.setColor(a,b,c,"fill")};function uR(a,b,c,d){a.setColor(b,c,d,"text")}
f.setColor=function(a,b,c,d){function e(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",q=(e+1)*c+"%";0==e?b+=d+" "+q+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+q+",")});return{xaa:"-webkit-linear-gradient(left, "+b+")",C$:"linear-gradient(to right, "+b+")"}}c=c||0;var g=this.$el.find(".toolbar__button--color");d&&(g=g.filter(".toolbar__target--"+d));g=g.filter('[data-colorindex\x3d"'+c+'"]');g.length||(g=this.$el.not(".toolbar--element").find(".toolbar__list"),"fill"===
d?g.append(mR(new gR("",b,c)).toString()):"text"===d?g.append(mR(new hR("",b,c)).toString()):g.append(mR(new fR("",b,c)).toString()),g=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]'));0<a.length?(g.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===NB?g.css("background-color","").css("background-image","").addClass("noColor"):g.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=e(a),g.css("background-color",
"").css("background-image",a.xaa).css("background-image",a.C$))):this.element.data("fill")?(a=mh(this.element.data("fill")),g.css("background-color",a.ra()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image","").addClass("noColor")};function vR(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}f.addClass=function(a){this.$el.addClass(a)};
f.removeClass=function(a){this.$el.addClass(a)};f.render=function(a){this.el.innerHTML=lR({items:a});return this};function wR(a){this.view=a.view;this.items=a.items;this.element=a.element;this.gd=a.element.data("canvaElement");this.Mo=[];this.BW=0}function xR(a){var b=new oR({H:a.H,name:a.name,VD:a.VD,Qi:a.Qi,element:a.element,bH:function(){return a.Oe.trigger("hideContextualControlsRequested")}});return(new wR({element:a.element,view:b,items:a.items})).render()}
function yR(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}f=wR.prototype;
f.pF=function(){var a=this,b=this.Ve&&this.Ve.width();if(b!==this.BW){this.BW=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more, .toolbar__item--deleteMenu"),e=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=e.get().concat(d.get()).reverse(),d=0;d<c.length&&(e=$(c[d]),e.hasClass("toolbar__item--collapsed")||(e.addClass("toolbar__item--collapsed"),k-=parseInt(e.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=e.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(e=$(h[d]),k+e.data("width")<b)k+=e.data("width"),e.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};f.C=function(){return this.element};f.tD=function(a,b){this.view.tD(a,b.view);this.Mo.push(b)};
function zR(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.Mo.push(b)}f.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};f.hide=function(){this.view.$el.hide()};f.show=function(){this.view.$el.show()};
f.Ay=function(a,b){this.Ve=a;this.activate();this.Ve.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.Ay(this.Ve.find(".toolbar__wrapper"));yR(this);this.pF();this.dQ=_.debounce(this.pF.bind(this),300);this.viewport=b;this.viewport.on("resize",this.dQ)};f.activate=function(){this.Ve&&this.Ve.addClass("toolbarContainer--active")};f.sE=function(){this.Ve&&this.Ve.removeClass("toolbarContainer--active")};
function AR(a,b){a.Ve&&a.Ve.toggleClass("toolbarContainer--noAnimation",!b)}function BR(a,b,c){b.forEach(function(b,e){b instanceof hn?a.view.setFillColor([b.ra()],c,e):"string"==typeof b&&a.view.setFillColor([b],c,e)});vR(a.view)}function CR(a){function b(a){a.forEach(function(a){a instanceof UQ&&a.ZB(!0);a.Mo&&b(a.Mo)})}a.Mo&&b(a.Mo)}f.addClass=function(a){this.view.$el.addClass(a)};f.removeClass=function(a){this.view.$el.addClass(a)};f.data=function(a){return"canvaElement"===a?this.gd:this.element};
f.oo=function(a){this.Mo.forEach(function(b){b.view.getName()===a&&b.remove(!0)})};f.remove=function(a){var b=this;this.dQ&&this.viewport.off("resize",this.dQ);a?(AR(this,!1),this.sE(),this.Mo.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.sE(),P.delay(400).then(function(){AR(b,!0);b.Mo.forEach(function(a){a.remove(!0)});b.view.remove()}))};f.render=function(){this.view.render(this.items);return this};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function DR(a,b,c){a=a||"Glegoo";b=b===FE?c.Jd():b;return[new cR("fontFamily",a,{Nt:c.format("editorToolbarFontFamilyTooltip")}),new cR("fontSize",b,{Nt:c.format("editorToolbarFontSizeTooltip"),Xe:"number"}),new aR,new hR("",ve(c)),new aR,new cR("bold",c.format("editorToolbarTextBold"),{icon:!0,Qe:"^B"}),new cR("italic",c.format("editorToolbarTextItalic"),{icon:!0,Qe:"^I"}),new cR("textAlign",c.textAlign(),{icon:!0,Tf:[new cR("left",c.format("editorToolbarTextLeft"),{icon:!0,Qe:"^ Shift L"}),new cR("center",
c.format("editorToolbarTextCenter"),{icon:!0,Qe:"^ Shift C"}),new cR("right",c.format("editorToolbarTextRight"),{icon:!0,Qe:"^ Shift R"})]}),new cR("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,Qe:"^ Shift K"}),new cR("list",c.format("editorToolbarTextList"),{icon:!0}),new aR,new cR("textSpacing",c.format("editorToolbarTextSpacing"),{Tf:[new eR("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new eR("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01}),new aR,new cR("textVerticalAlign",
c.format("editorToolbarResizeTextBox")),new cR("textVerticalAlignTop",c.format("editorToolbarResizeTextBoxFromTop"),{icon:!0,Qe:"^ Alt T"}),new cR("textVerticalAlignMiddle",c.format("editorToolbarResizeTextBoxFromMiddle"),{icon:!0,Qe:"^ Alt M"}),new cR("textVerticalAlignBottom",c.format("editorToolbarResizeTextBoxFromBottom"),{icon:!0,Qe:"^ Alt B"})]})]}
function ER(a){function b(b){var d=b.name||b.family,e=b.displayName||d,g=c(b.displayNameThumbnail),k=g.url,l=0<=k.indexOf("media-private"),d=$('\x3cbutton href\x3d"#"\n          data-name\x3d"'+d+'"\n          data-display-name\x3d"'+e+'"\n          data-family\x3d"'+b.family+'"\n          data-image-src\x3d"'+k+'"\n          title\x3d"'+e+'"\n          class\x3d"toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');E||e!==H&&b.family!==H||(d.addClass("toolbar__button--selected"),E=!0);a.S_&&
l?e=$('\x3cdiv class\x3d"toolbar__thumbnailSVG"\x3e\x3c/div\x3e').append(nR(g).toString()):(e=$('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+g.url+'" width\x3d"'+g.width+'" height\x3d"'+g.height+'" alt\x3d"'+e+'" /\x3e'),l&&e.addClass("toolbar__thumbnail--inverted"));d.append(e);if(e=b.sampleTextThumbnail)e=!!b.sampleTextThumbnail&&!(YJ.has(h.locale)&&(!h.locale||!b.locales||-1!==b.locales.indexOf(h.locale)));e&&(b=c(b.sampleTextThumbnail),a.S_&&l?(l=$('\x3cdiv class\x3d"toolbar__fontSampleTextSVG"\x3e\x3c/div\x3e').append(nR(b).toString()),
d.append(l)):d.append($('\x3cimg class\x3d"toolbar__fontSampleText" src\x3d"'+b.url+'" width\x3d"'+b.width+'" height\x3d"'+b.height+'" /\x3e')));return new TQ(d,!0,!1)}function c(a){return{url:a.url,width:a.width/a.height*30,height:30}}function d(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new TQ(a,!1,!0)}function e(a){var b=a.find(".menuList__inner");
a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadUpgradePrompt");var d=k.DN();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"buttonLabel",d,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}function g(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadCtaTitle");var d=k.format("editorToolbarFontUploadCtaLabel"),e=!(0<h.XC.length);soy.asserts.assertType(goog.isString("/brand"),"url","/brand","null|string|undefined");soy.asserts.assertType(null==
c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"title",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"label",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"buttonEnabled",e,"boolean");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontUploadFeatureCta"\x3e'+(e?'\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+
'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e\x3cbutton class\x3d"button toolbar__fontUploadFeatureCtaButton"\x3e'+tp({za:"toolbar__fontUploadFeatureCtaButtonIcon"})+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/a\x3e":'\x3cdiv class\x3d"toolbar__fontUploadFeatureCtaLink"\x3e\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/div\x3e")+"\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}var h=a.Q3,k=a.Af,l=bK(h),m=_.uniq(h.yP,!1,function(a){return a.family+a.displayName}),n=ZJ(h),p=a.b3.map(function(a){return $A(h,a)}).filter(function(a){return!!a}).sort(h.dK),q=new Set(l.filter(function(a){return!h.locale||!a.locales||-1!==a.locales.indexOf(h.locale)})),l=l.filter(function(a){return!q.has(a)}),u=n.length||m.length,v=0<q.size,z=2<=p.length||0<p.length&&u,t=0<l.length,x=v?k.format("editorToolbarOtherFontFamily"):
k.format("editorToolbarAllFontFamily"),H=a.Nz;H||(H=p[0]?p[0].displayName||p[0].name||p[0].family:m[0]?m[0].displayName||m[0].name||m[0].family:"Glegoo");var E=!1,u=[],u=z?u.concat(d(k.format("editorToolbarDocumentFontFamily"))).concat(p.map(b)):u,u=m.length?u.concat(d(k.format("editorToolbarBrandFontFamily"))).concat(m.map(b)):u,u=n.length?u.concat(d(k.format("editorToolbarUploadedFontFamily"))).concat(n.map(b)):u,u=v?u.concat(d(k.format("editorToolbarLocaleFontFamily"))).concat([].concat(ma(q)).map(b)):
u,u=t?u.concat(d(x)).concat(l.map(b)):u,m=_.findIndex(u.filter(function(a){return a.element&&a.element.data("name")}),function(a){return a.element.data("name")===H}),m=XQ({elements:u,Ku:m});a.R3?e(m.view.$el):a.S3&&g(m.view.$el);m.view.$el.find(".toolbar__button--selected").parent().addClass("active");return m}
function FR(a,b){var c=Lb,d=b.map(function(b){var d=b===a?"toolbar__button--selected":"",e=b===FE?zc(c).Jd():b;b=$('\x3cbutton class\x3d"toolbar__button '+d+'"\x3e').attr("data-text",b).text(e)[0];return new TQ(b,!0,!1)}),e=b.indexOf(a);if(-1===e)for(var g=Math.ceil(a),h=0;h!==b.length;h++)g>b[h]&&(e=h);b=XQ({elements:d,Ku:e});b.view.$el.find(".toolbar__button--selected").parent().addClass("active");return b}var FE=Number.POSITIVE_INFINITY;function fA(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.i=a.i}var GR,HR,IR,JR;r(fA,Backbone.View);
fA.prototype.init=function(a){var b=this.i;KR(b);$("#content").on("click",".toolbar__button",!1);LR.forEach(function(b){var c=this;(MR[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},NR(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||T.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){OR(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){PR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},QR);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){RR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){T.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement");if(a){var b=a.Jc(),c=
a.rl(b),b={elementIndex:a.K(),pageIndex:a.R().K(),placeholderIndex:b,"new":{},old:c};a.YY();M.register(new Y(AO,b));a.ab()}});this.$el.on("click",".enabled \x3e .toolbar__button--elementDelete",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");a&&(a=a.gd)&&a instanceof IC&&SR(a)});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},TR);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},UR);this.$el.on("click",".enabled \x3e .toolbar__button--crop",
{cancel:!0},VR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=WR(this);if(a instanceof EC){var b=a.Jc(),c=a.Sp(b),h=c.ya,k=h^1;c.wt(k);a={pageIndex:ep(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else XR.call(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=WR(this);if(a instanceof EC){var b=a.Jc(),c=a.Sp(b),h=c.ya,
k=h^2;c.wt(k);a={pageIndex:ep(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else YR.call(this)});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=Mb;a.j.wa(nm("toolbar_fonts_menu","bottom","fonts"));Ho(a,ZR)});this.$el.on("click",".toolbar__fontUploadFeatureCtaTarget",{cancel:!0},function(){Ol($R(),"upload_your_own_fonts","editor","toolbar","font_dropdown")});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",
{cancel:!0},aS);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",{cancel:!0},bS);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){cS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){dS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){eS(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");
fS(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");fS(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");fS(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){gS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},
GR);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},HR);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},IR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=hS(this);a&&iS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=hS(this);a&&jS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},
function(){var a=hS(this);a&&kS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=hS(this);a&&lS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=hS(this);a&&mS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=hS(this);a&&nS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=
hS(this);a&&oS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=hS(this);a&&pS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignTop",{cancel:!0},function(){qS("top",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignMiddle",{cancel:!0},function(){qS("middle",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignBottom",{cancel:!0},function(){qS("bottom",
this)});this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){rS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){sS(this,b)});Jb.G.get(hg)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");if(a){a=a.gd;a.Su=!a.Su;var c=tS(a,b);c&&dD(c,a.eN())}}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},function(){var a;
$("#objectPanel menu .elements a").click();(function(b){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+b+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+b+"]").mousedown()},500);a||(a=setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+b+"]").parent().position().top},O.Da.Tq);a=void 0},900))})("charts")}));$(window).resize(uS);$(document).on("keyup",function(a){return 27===
a.which&&uS()});var c=this.$el;T.on("hideContextualControlsRequested",function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&qR(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};fA.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function KR(a){function b(a){return 100-a}function c(){return this.Ff()?this.ns(this.Bb()):0}function d(){return this.Ff()?this.pl(this.Bb()):0}GR=vS([{name:"transparency",displayName:a.Ha(),method:Z.prototype.OF,Jy:wS(Z.prototype.em,"transparency",b),Oy:xS(Z.prototype.OF,"transparency","transparency",!1),NN:b}]);HR=vS([{name:"gridSpacing",displayName:"Spacing",method:EC.prototype.pe,Jy:wS(EC.prototype.ar,"gridSpacing"),Oy:xS(EC.prototype.pe,"gridSpacing","spacing",!1)}]);IR=vS([{name:"letterSpacing",
displayName:a.letterSpacing(),method:c,Jy:wS(function(a){return this.Ff()&&this.ix(this.Bb(),a)},"letterSpacing"),Oy:xS(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:d,Jy:wS(function(a){return this.Ff()&&this.jx(this.Bb(),a)},"lineHeight",function(a){return 100*a}),Oy:xS(d,"lineHeight","lineHeight",!0),NN:function(a){return.01*a}}])}function uS(){T.trigger("hideContextualControlsRequested")}function $R(){JR||(JR=U||km());return JR}
function yS(a,b,c,d,e){var g=(new UAParser).getResult().browser.name,g="IE"===g||"Edge"===g,h=c/vb.Ap;c=$A(Kb,b);K.JB();e=ER({Nz:b,R3:Jb.G.get(Xf),S3:!!Jb.G.get(mg),Q3:Kb,S_:g,Af:e,b3:K.fonts.slice()});d=FR(h,d);a.tD("fontFamily",e);a.tD("fontSize",d);c?sR(a.view,"fontFamily",b,c.family):sR(a.view,"fontFamily","");e.on("select",function(b,c,d){c&&-1!==b&&(zS(c),b=function(){var b=a.gd;a.remove();AS(b,zc(Lb))},d.shiftKey||qR(a.view,100).then(b))});d.on("select",function(b,c,d){c&&-1!==b&&("keydown"===
d.type?bS(d):BS(c),d.shiftKey||qR(a.view,100))});d.on("activeChange",function(b){sR(a.view,"fontSize",b.element.data("text"))});a.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(a=b.parents(".toolbar").data("element"),(a&&a.data("canvaElement"))instanceof Mp&&CS.$Z(a))});a.view.on("closeSubmenu",function(a){(a&&a.data("canvaElement"))instanceof Mp&&CS.XZ(a)})}
function PR(a){gp();var b=$(a).closest(".toolbar__item"),c=K.Ea();a=c.Wa();var c=BP(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<c.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],
g=b.K(),c=c.filter(function(a){return a.K()>g});if(a=c[0])a.nb()&&(a=yG(a)),b.insertAfter(a),b.$a(),b={oldElementIndex:g,elementIndex:b.K(),pageIndex:ep(K,b.R())},M.register(new Y(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top",
"");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:O.Da.oq,queue:!1}),k.animate({top:c},O.Da.oq));a=window.setTimeout(function(){d.animate({opacity:0},O.Da.HW,function(){$(this).remove()})},O.Da.IW);d.data("fadeTimer",a)}}
function OR(a){gp();var b=$(a).closest(".toolbar__item");a=K.Ea();var c=a.Wa();a=BP(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<a.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=
c[0],g=e.K(),b=a.filter(function(a){return a.K()<g}).reverse();if(c=b[0])e.insertBefore(c),e.$a(),e={oldElementIndex:g,elementIndex:e.K(),pageIndex:ep(K,e.R())},M.register(new Y(4,e));var e=$("li",d),h=e.eq(a.length-b.length),k=h.next();a=e.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){k.after(h);h.css("left",
"").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:O.Da.oq,queue:!1}),k.animate({top:-a},O.Da.oq));a=setTimeout(function(){d.animate({opacity:0},O.Da.HW,function(){$(this).remove()})},O.Da.IW);d.data("fadeTimer",a)}}
function QR(){T.trigger("hideContextualControlsRequested");gp();T.trigger("hideContextualControlsRequested");var a=[];K.Wa().forEach(function(b){var c=b.clone(),d=b.R()||K.Ea();b.FA&&!1===b.FA()&&c.DR&&c.DR();PC(c,O.hD);QC(c,O.hD);c.appendTo(d);c.rc();a.push(c)});OK();a.forEach(Ag);hh();PK();setTimeout(function(){mL(a)},O.Gc)}
function RR(a){(a=$(a).parents(".toolbar").last().data("toolbar"))&&a.remove(!0);T.trigger("hideContextualControlsRequested");OK();K.Wa().forEach(function(a){a.Ff()&&a.Mx();EN(a);a instanceof KH&&$l($R(),"delete_chart");a.remove()});PK();$(".multipleSelectionBox").remove()}function TR(){lL()}function UR(){kL()}function VR(){T.trigger("hideContextualControlsRequested");K.Wa().forEach(function(a){DS(a)})}function WR(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function zS(a){function b(a){e.gd&&(a?g.is(".focused")||(OK(),k.forEach(c),PK()):alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it."))}function c(a){var b=a.index,c=l.Ub(b);a={elementIndex:l.K(),pageIndex:ep(K,l.R()),textIndex:b,"new":c,old:a};M.register(new EO(1,a))}var d=a.element.parents(".toolbar"),e=d.data("toolbar");if(e){var g=e.C();d.find(".toolbar__button--fontFamily");var h=a.element.data("name");a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");
a.element.addClass("toolbar__button--selected");var k=[];if(g){var l=e.gd;a=l.Bb();if(-1!==a)k=[l.Ub(a)],l.yk(a,h,b);else if(l.nb()&&l.se())k=oG(l),l.ZH(h,b);else return;lE(e);ES(e,l)}}}
function BS(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar");if(c){var d=parseFloat(a.element.data("text"));sR(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");if(b){var e=b.data("canvaElement"),d=parseFloat(d*vb.Ap);!e.nb()||e.Ff()||e.KV()||d===FE?FS(e,function(){d===FE?e.xL():(e.CE(),e.fC(d))}):(a=d/rG(e),GS(e,a))}}}
function aS(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function bS(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last();if(c&&(c=c.data("element"))){var d=c.data("canvaElement");if(13===a.which){if(a=c.data("toolbar")){var c=b.closest(".toolbar__item").find(".menuList"),e=Math.min(Math.max(1,parseFloat(b.val())),400);""===b.val()||isNaN(e)?b.val(d.Lc(0)):(b.val()!==e.toString()&&b.val(e.toString()),sR(a.view,"fontSize",e.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),c.find('[data-text\x3d"'+
e+'"]').addClass("toolbar__button--selected"),qR(a.view),e=parseFloat(e*vb.Ap),d.nb()&&!d.Ff()?(b=e/rG(d),GS(d,b)):FS(d,function(){d.fC(e)}))}}else 27===a.which&&b.val(d.Lc(0))}}
function sS(a,b){var c=$(a).parents(".toolbar").last(),d=c.data("element").data("canvaElement");d.eG();var e=!!c.data("isFxPanelVisible");T.trigger("hideContextualControlsRequested");if(!e){T.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",!0);var g=new HS({model:d.Ld(),lP:oJ,Af:b});IS(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");
$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},O.Da.R2)}}
function rS(a){function b(a){k.removeClass("valid invalid");a?(u.text(zc(Lb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(u.text(zc(Lb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||KC.Yt.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);q.val(a);LC(n,a);a=q.get(0);
var b=$(a).data("element"),c=$(a).data("lastLinkState");c!=b.mn()&&(c={elementIndex:b.K(),pageIndex:ep(K,b.R()),"new":{link:b.mn()},old:{link:c||""}},M.register(new Y(10,c)),$(a).data("lastLinkState",b.mn()));h.toggleClass("hasLink",!!n.mn());qR(m.view)}function e(){var a=q.val().trim(),e=KC.URL.test(a)||KC.Yt.test(a),e=""===a||e;b(e);e?d(a):c()}function g(a){var e=$(a.target).val().trim(),g=KC.URL.test(e)||KC.Yt.test(e),g=""===e||g;b(g);13===a.which&&(g?d(e):c())}a=$(a);var h=a.parents(".toolbar").last(),
k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.mn();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var q=h.find(".toolbar__input--link"),u=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=KC.URL.test(p)||KC.Yt.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",e))})(q)}
function XR(){OK();K.Wa().forEach(function(a){if(a.hq()){var b=a.ya,c=b^1;a.wt(c);a={pageIndex:ep(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(fp,a))}});PK()}function YR(){OK();K.Wa().forEach(function(a){if(a.hq()){var b=a.ya,c=b^2;a.wt(c);a={pageIndex:ep(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(fp,a))}});PK()}
function vS(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var e=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.Oy)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(e)||0,n=("function"==typeof a.NN?a.NN(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",e);l.data(JS(a.name),a.method.call(e));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.Jy);var d=function(){$(document).off("mouseup",d);c(l,a.Oy);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.Jy))});m.on("blur",k)})}}}function wS(a,b,c){return function(){var d=parseFloat($(this).val()),e="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==e&&a.call(g,e)}}function JS(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function xS(a,b,c,d){return function(){var e=JS(b),g=$(this).data("element");if(g){var h=$(this).data(e),k=a.call(g);if(h!=k){var l={elementIndex:g.K(),pageIndex:ep(K,g.R()),"new":{},old:{}};d&&g instanceof Mp?(l.textIndex=0,l["new"]=g.Ub(0),l.old=g.Ub(0),l["new"][c]=k,l.old[c]=h,M.register(new EO(1,l))):(l["new"][c]=k,l.old[c]=h,M.register(new Y(fp,l)));$(this).data(e,k)}}}}
function fS(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),e=d.Bb(),g=["left","right","center"];g.splice(g.indexOf(b),1);FS(d,function(){d.zi(e,b);c.view.RS(b).lU.apply(c.view,g)})}function cS(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.Bb(),e=c.Ge();0===e.length&&c.nb()&&c.se()&&(e=wG(c));var g=!!e.data("bold");KS(c,function(){c.yo(d,!g);VA(e,!0);g=!!e.data("bold");b.toggleClass("toolbar__item--active",g)})}
function dS(a){a=$(a).parents("li");var b=K.Wa()[0],c=b.Bb(),d=b.CF(c);FS(b,function(){b.br(c,d?void 0:"uppercase");VA(b.cb(c),!0)});a.toggleClass("toolbar__item--active",d)}function eS(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),e=d.Bb(),g=d.Ge();0===g.length&&d.nb()&&d.se()&&(g=wG(d));var h=!!g.data("italic");KS(d,function(){d.Ao(e,!h);VA(c,!0);h=!!g.data("italic");b.toggleClass("toolbar__item--active",h)})}
function gS(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.Bb(),e=c.Ge(),g=!!e.data("list");KS(c,function(){c.kx(d,!g);g=!!e.data("list");b.toggleClass("toolbar__item--active",g)})}function KS(a,b){var c=a.Ge(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():LS(a,b)}function FS(a,b){LS(a,b)}
function aD(a,b){if(a&&b){a.view.Uf("crop",!(b.gq&&b.gq()));a.view.Uf("filter",!(!b.lq||!b.lq()));var c=xe();if(!(!b.bb||!b.bb().length||a.element&&a.element.hasClass("multiSelected")||b instanceof EC||b instanceof IC||b instanceof cp&&b.Ge().length))BR(a,b.bb(),c);else if(b instanceof IC){var d=b.ad;d instanceof Mp?uR(a.view,CE(d),c,0):d?d&&d.Md()&&BR(a,d.bb(),c):uR(a.view,vG(b),c,0)}b.GA&&!b.hb?(a.view.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled"),a.view.Tu("delete")):MS(a,
b);b.sy()&&(c=b.C().data("sideDrawer"))&&dD(c,b.eN());b instanceof IC&&!(b instanceof KH)&&(c=b.ad,a.view.Uf("elementDelete",!!c),!b.nb()||!c||c instanceof Mp||a.view.YF("color--text","fontFamily","fontSize","bold","italic","textAlign","uppercase","list","textSpacing"))}}
function MS(a,b){var c=BP(b.R(),b),d=b.K(),e=c.filter(function(a){return a.K()>d}),c=c.filter(function(a){return a.K()<d});b=b.iG()||0!==e.length||0!==c.length;a.view.Uf("forward",0!==e.length);a.view.Uf("back",0!==c.length);a.view.Uf("arrange",b)}
function lE(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.gd;if(b.se()){var c=b.Ge();if(b instanceof cp){if(0===c.length){a.oo("font");return}a.view.Uf("textSpacing",!1)}if(b.nb()&&!b.se())a.oo("font");else{if(1===c.length){var d=XA(c);0===d.$e.length&&(d=LA(c))}else b.nb()&&b.se()&&(d=tG(b),c=wG(b));var e=function(a){return d.$e.reduce(function(b,c){return b&&a(c)},!0)},g=e(function(a){return(a=$A(Kb,a))&&!0===a.variants.bold}),h=e(function(a){return(a=$A(Kb,a))&&!0===a.variants.italic}),
e=e(function(a){return(a=$A(Kb,a))&&!0===a.variants.boldItalic}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=!1}return b};a.pF();a.view.Uf("bold",!!c.data("italic")&&h&&e||!(c.data("italic")&&h)&&g);tR(a.view,"bold",k("bold"));a.view.Uf("italic",!!c.data("bold")&&g&&e||!(c.data("bold")&&g)&&h);tR(a.view,"italic",k("italic"));a.view.Uf("uppercase",!0);tR(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.lU("left",
"center","right");a.view.RS(g);tR(a.view,"list",!!c.data("list"));g=b.Bb();g=b.Lc(g);b.nb()&&!b.Ff()&&(xG(b)?g=0:0!==pG(b)||(g=rG(b)));g/=vb.Ap;b.EA()?sR(a.view,"fontSize",zc(Lb).Jd()):0!==g?sR(a.view,"fontSize",g):sR(a.view,"fontSize","");NS(a,b);uR(a.view,d.Bf,zc(Lb).format("editorToolbarTextPickAColor"));c.data("fontFamily")?(g=c.data("fontName")||d.$e[0],h=d.$e.filter(function(a){return null!==$A(Kb,a)}),g=(1<h.length?"":h[0])||g,(h=$A(Kb,g))&&h.displayName&&(g=h.displayName),h?sR(a.view,"fontFamily",
g,h.family):sR(a.view,"fontFamily","")):1===d.$e.length?(g=d.$e[0],(h=$A(Kb,g))&&h.displayName&&(g=h.displayName),h?sR(a.view,"fontFamily",g,h.family):sR(a.view,"fontFamily","")):1<d.$e.length&&sR(a.view,"fontFamily",zc(Lb).format("editorToolbarTextMultipleFonts"),"Open Sans");b.se()&&!b.Ff()&&a.view.YF("textAlign","uppercase","list","textSpacing");b=c.children(".inner");1===b.length&&(b=!0===b.get(0).isContentEditable,a.view.Uf("list",b))}}}}
function ES(a,b){var c=b.lv(),d=c.map(function(a){a=$A(Kb,a);return a.name||a.family}).filter(function(a){return!eI(Kb,a)});0<d.length?(rR(a.view,!0),fK(Kb,d,function(){var d=new Set(b.lv()),g;a:if(g=new Set(c),d.size!==g.size)g=!1;else{for(var d=la(d),h=d.next();!h.done;h=d.next())if(!g.has(h.value)){g=!1;break a}g=!0}g&&rR(a.view,!1)})):rR(a.view,!1)}function hS(a){if((a=$(a).parents(".toolbar").last().data("element"))&&a.data("canvaElement")instanceof IC)return a.data("canvaElement")}
function qS(a,b){$(b);var c=$(b).parents(".toolbar").last().data("element");b=c.data("toolbar");if(c=c.data("canvaElement")){switch(a){case "top":dL(c);break;case "middle":eL(c);break;case "bottom":fL(c)}b&&NS(b,c)}}function $C(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.pF(),clearTimeout(OS),OS=setTimeout(function(){var a=b.data("fxPanelView");a&&IS(a,b.get(0).getBoundingClientRect())},O.Gc+100))}
function PS(a,b){var c=$(".toolbarContainer");b=[new cR("group",b.format("editorToolbarElementGroup"),{enabled:!0}),new cR("copy",b.format("editorToolbarElementCopy")),new cR("arrange",b.format("editorToolbarElementArrange"),{enabled:!1}),new cR("transparency",le(b),{icon:!0,Tf:[new eR("transparency",le(b))],enabled:!1}),new cR("link",b.format("editorToolbarElementLink"),{icon:!0,enabled:!1}),new cR("delete",ke(b),{icon:!0})];b=xR({H:jl,Qi:"right",name:"element",items:b,element:a,Oe:T});a.is(".background, .group")&&
b.view.Uf("group",!1);b.Ay(c,$(window));b.save()}
function kP(a,b){var c=a.data("canvaElement"),d=$(".toolbarContainer");if(1===a.length&&c&&c.lp()){var e=a.data("toolbar");e&&e.remove();a=xR({H:jl,Qi:"right",name:"element",items:kR(c.js(),c.iG()?c.pV():[],b),element:a,Oe:T});if(c.rD())zR(a,xR({H:jl,name:"image",element:c.C(),items:iR(c,b),Oe:T}));else if(c.TS()){var g="group",h=[],e=c.mv();c instanceof KH&&(g="chart",h=[new cR("chartData",b.format("editorToolbarElementData"),{enabled:!0}),new aR,new gR(c.bb()[0].ra(),ve(b))],h.push(new cR("chartStyle",
b.format("editorToolbarElementStyle"),{enabled:!0})));var k=!1;if(c.Ff()){var k=c.Ge(),l=k.data("fontName"),m=k.data("fontFamily"),l=l||m,m=c.Lc(c.Bb());c.EA()&&(m=FE);(k=k.data("canvaElement"))&&(e=k.mv());h=h.concat(DR(l,m,b));k=!0}else!c.yv()&&c.se()&&(m=c.Tz(),l=m.fontName,m=m.fontFamily,l=l||m,sG(c)?m=FE:xG(c)?m=0:(m=pG(c),0===m&&(m=rG(c))),h=h.concat(DR(l,m,b)),k=!0);g=xR({H:jl,name:g,element:c.C(),items:h,Oe:T});k&&(yS(g,l,m,e,b),lE(g),ES(g,c));zR(a,g)}else c.vr()?zR(a,xR({H:jl,name:"image",
element:c.C(),items:iR(c,b),Oe:T})):c.du()?(e=c.Ge(),g=e.data("fontName"),l=e.data("fontFamily"),g=g||l||"Glegoo",l=c.Lc(c.Bb()),m=c.mv(),h=DR(g,l,b),e=xR({H:jl,name:"font",element:e,items:h,Oe:T}),c.EA()&&(l=FE),yS(e,g,l,m,b),lE(e),ES(e,c),zR(a,e)):c.US()&&zR(a,xR({H:jl,name:"shape",element:c.C(),items:[new gR("",ve(b))],Oe:T}));c.sy()&&tS(c,b);a.Ay(d,$(window));a.save();CR(a);c.$a()}}
function pD(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=xR({H:jl,name:"crop",VD:"elementToolbar",element:a,items:[new cR("ok","Ok",{icon:!0,Qe:"↩ Enter"}),new cR("cancel","Cancel",{icon:!0})]}),c.Ay(b,$(window)),c.save("confirmationToolbar"))}
function tS(a,b){if(a.sy()){var c=a.C(),d=c.data("sideDrawer");if(!d){var e=[b.format("editorToolbarElementDataLabelColumnHeader"),b.format("editorToolbarElementDataValueColumnHeader")];b=IQ(a.getData(),a.CV(e),b);b.Db.on("change",function(b,c){a.Ns(b);a.M2({tN:c})});var g=a.getData();b.Db.on("commit",function(b){var c={pageIndex:ep(K,a.R()),elementIndex:a.K(),"new":{data:b},old:{data:g}};M.register(new Y(15,c));g=b});d=new YQ;d.eu(b.view);dD(d,!1);$("#objectPanel section.content").after(d.$el);c.data("sideDrawer",
d);var h=function(){a.Su=!1;dD(d,!1)};T.on("objectPanel:tabClicked",h);d.on("remove",function(){return T.off("objectPanel:tabClicked",h)})}return d}}function NS(a,b){if(b=b.Ge().data("canvaElement"))switch(tR(a.view,"textVerticalAlignTop",!1),tR(a.view,"textVerticalAlignMiddle",!1),tR(a.view,"textVerticalAlignBottom",!1),b.xs()){case "top":tR(a.view,"textVerticalAlignTop",!0);break;case "middle":tR(a.view,"textVerticalAlignMiddle",!0);break;case "bottom":tR(a.view,"textVerticalAlignBottom",!0)}}
function GS(a,b){var c=a.qa(),d=oG(a);a.CE();a.setSize(a.l()*b,a.o()*b,!0);a.Jr();b=a.qa();zm(c,b)||(OK(),d.forEach(function(b){var c=b.index,d=a.Ub(c);d.fontSize=b.fontSize;b={elementIndex:a.K(),pageIndex:ep(K,a.R()),textIndex:c,"new":d,old:b};M.register(new EO(1,b))}),c=c.serialize(),d=b.serialize(),c={elementIndex:a.K(),pageIndex:ep(K,a.R()),old:c,"new":d,proportionalSetSize:!0},M.register(new Y(fp,c)),PK())}var OS=0;function NR(a,b){var c=QS[a];return function(a){return c&&c.call(this,a,b)}}var LR=Object.keys({nS:"CLICK_FILL_COLOR",oS:"CLICK_TEXT_COLOR"}),MR={nS:[".toolbar__button--color.toolbar__target--fill"],oS:[".toolbar__button--color.toolbar__target--text"]};
function RS(a,b){function c(a){var c=a.index===b.index,d=a.type===b.type;return!(a.element===b.element&&c&&d)}if(!a)return[];var d=[];a instanceof hn&&(d=Lp(a).filter(c));d.forEach(function(a){"FILL"===a.type&&(a.initial=SS(a.element,a.index));"TEXT"===a.type&&(a.initial=a.element.Ub(a.index))});return d}
function TS(a){a.forEach(function(a){if("FILL"===a.type){var c=SS(a.element,a.index);M.register(new Y(FN,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),old:a.initial,"new":c}));a.initial=c}"TEXT"===a.type&&(c=a.element.Ub(a.index),M.register(new EO(1,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),textIndex:a.index,old:a.initial,"new":c})),a.initial=c)})}
function US(a,b){a.forEach(function(a){"TEXT"===a.type&&a.element.setColor(a.index,b);"FILL"===a.type&&a.element.ge(a.index,b)})}function VS(a,b){return a instanceof EC?a.Sp(b).lh():a.Md()>b?(a=a.bb()[b],a===NB?null:a):null}function SS(a,b){if(a instanceof EC)return{index:b,placementData:a.rl(b)};var c=a instanceof cp?NB:"";a=VS(a,b);return{index:b,color:a?a.ra():c}}
var QS={nS:function(a,b){function c(a){var b=a?VS(l,m):n;(u=a)&&q.forEach(function(a){a.element.Oq()});b&&(US(q,b),OK(),TS(q),PK());a||q.forEach(function(a){a.element.tk()})}function d(a,b){k.removeClass("noColor");k.css("background-color",a.ra());b&&US(q,a);l.ge(m,a)}function e(a){var b=SS(l,m),c=l.R();c&&b!==p&&(OK(),a&&TS(q),M.register(new Y(FN,{elementIndex:l.K(),pageIndex:c.K(),old:p,"new":b})),PK(),p=b)}function g(){h.removeData("colorPalette");h.removeData("activeColorPaletteToolbarButton");
v.remove();e(u);l.tk();q.forEach(function(a){a.element.tk()})}var h=$(this).closest(".toolbar"),k=$(this),l=h.data("element").data("canvaElement");if(l){l.nb()&&l.ad&&(l=l.ad);var m=1===l.Md()?0:l instanceof cp||l instanceof CC||l instanceof DC||l instanceof IC&&l.ad?k.data("colorindex"):l instanceof EC?l.Jc():-1;if(-1!==m){var n=VS(l,m),p=SS(l,m);a=h.data("activeColorPaletteToolbarButton");var q=RS(n,{element:l,index:m,type:"FILL"});T.trigger("hideContextualControlsRequested");if(a!==this){l.Oq();
a=1<=q.length;var u=!1,v=new Rn({Ny:WS,tu:b.Ui&&b.Ui.My||[],Dl:tc(b.i),$i:rc(b.i),Pl:l.R().Fb,$B:!0,xD:!0,Rb:VS(l,m),Qg:a,xy:n,j:b.j,W:Jb});v.on("preview",d);v.on("confirm",e);v.on("changeApplyAll",c);v.listenTo(M,"beforeOperationStackPop",g);v.listenTo(T,"hideContextualControlsRequested",g);v.render();v.$el.addClass("toolbar--overlay");XS.nm(v.$el,$(this));v.uC();h.data("colorPalette",v);h.data("activeColorPaletteToolbarButton",this)}}}},oS:function(a,b){function c(a){var b=a?mh(p.Ub(u).color):v;
(Q=a)&&z.forEach(function(a){a.element.Oq()});b&&(US(z,b),OK(),TS(z),PK());a||z.forEach(function(a){a.element.tk()})}function d(a,b){L=a;n.removeClass("noColor");n.css("background-color",a.ra());b&&US(z,a);p.setColor(u,a)}function e(a){!(q=p.R())||E===L||E&&E.equals(L)||(E=L,OK(),a&&TS(z),TS(t),x=[],H.forEach(g),PK(),H=x)}function g(a){var b=a.index,c=p.Ub(b);a={elementIndex:p.K(),pageIndex:ep(K,q),textIndex:b,old:a,"new":c};x.push(c);M.register(new EO(1,a))}function h(){m.removeData("colorPalette");
m.removeData("activeColorPaletteToolbarButton");S.remove();e(Q);z.forEach(function(a){a.element.tk()})}function k(a){return 0<a.Md()}function l(a,b){return a.concat(b.bb().map(function(a,c){return{element:b,index:c,type:"FILL",initial:SS(b,c)}}))}var m=$(this).parents(".toolbar"),n=$(this);a=m.data("element");var p=a.data("canvaElement");p.nb()&&p.ad&&(p=p.ad);var q=p.R(),u=p.nb()?p.ad?p.elements.indexOf(p.ad):-1:p.Bb(),v=mh(a.data("fill")),z=RS(v,{element:p,index:u,type:"TEXT"}),t=[],x=[];if(-1!==
u)var H=[p.Ub(u)];else if(p.nb())H=oG(p),t=p.ia().filter(k).reduce(l,[]);else return;a=m.data("activeColorPaletteToolbarButton");T.trigger("hideContextualControlsRequested");if(a!==this){var E=null,L=null;a=b.Ui&&b.Ui.My||[];var J=1<=z.length,Q=!1,S=new Rn({Ny:WS,Dl:tc(b.i),$i:rc(b.i),Pl:p.R().Fb,tu:a,$B:!0,xD:!0,Rb:v,Qg:J,xy:v,j:b.j,W:Jb});S.on("preview",d);S.on("confirm",e);S.on("changeApplyAll",c);S.listenTo(M,"beforeOperationStackPop",h);S.listenTo(T,"hideContextualControlsRequested",h);S.render();
S.$el.addClass("toolbar--overlay");XS.nm(S.$el,n);S.uC();m.data("colorPalette",S);m.data("activeColorPaletteToolbarButton",this)}}};function YS(a){a.appendTo("#overlays")}function ZS(){return $("#canvaDocument")}var XS=new zz({ty:YS,dA:ZS,margin:O.IS,AC:yz}),WS=new zz({ty:YS,dA:ZS,margin:O.pS,AC:yz});function $S(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var c=a.disabled;soy.asserts.assertType(a.Vq instanceof soydata.SanitizedHtml||a.Vq instanceof soydata.UnsanitizedText||goog.isString(a.Vq),"selectContent",a.Vq,"soydata.SanitizedHtml");
var d=a.Vq;goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox'+(c?" listbox--disabled":"")+" "+soy.$$escapeHtmlAttribute(b)+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"listbox__select"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"listbox__options"\x3e'+aT(a)+"\x3c/div\x3e\x3c/div\x3e")}
function aT(a){var b="";a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");for(var c=a.length,d=0;d<c;d++)b+=soy.$$escapeHtml(a[d]);return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function bT(a,b,c){var d=this;hc.call(this,a);this.Ph=c.Ph;this.fD=b;this.vX=this.B5.bind(this);a.on("keydown",function(a){return d.Ll(a)});b.on("click",this.vX);a.on("click",function(a){$(a.target).closest("a")[0]||(d.$el.toggleClass("listbox--open"),d.trigger(cT,d.$el.hasClass("listbox--open")))});a.on("click",".listbox__option",function(a){$(a.target).closest("a")[0]||(a=d.Ph($(a.target).closest(".listbox__option")),d.trigger(dT,a))});a.on("mousemove",".listbox__option",function(a){return d.DO(a)});
a.on("mouseout",".listbox__option",function(a){d.trigger(eT,d.Ph($(a.target).closest(".listbox__option")))})}r(bT,hc);function fT(a,b){return new bT(a,$(document),b)}f=bT.prototype;f.remove=function(){hc.prototype.remove.call(this);this.fD.off("click",this.vX)};f.xu=function(){this.$el.removeClass("listbox--open");this.$el.blur()};f.B5=function(a){this.$el[0]!==$(a.target).closest(".listbox")[0]&&this.trigger(gT)};function hT(a,b){a.$el.find(".listbox__select").empty().append(b.toString())}
f.Eh=function(a){this.$el.toggleClass("listbox--disabled",!a)};f.lx=function(a){a=$(aT({options:a.map(function(a){return iT(a)})}).toString());this.$el.find(".listbox__options").empty().append(a)};f.Uj=function(){var a=this;return this.$el.find(".listbox__option").toArray().map(function(b){return a.Ph($(b))})};f.length=function(){return this.Uj().length};function jT(a){return a.Uj().findIndex(function(a){return a.$el.hasClass("listbox__option--hover")})}
function kT(a){return a.Ph(a.$el.find(".listbox__option--hover"))}f.Ll=function(a){27===a.keyCode?(a.preventDefault(),this.trigger(lT)):38===a.keyCode?(a.preventDefault(),this.trigger(mT)):40===a.keyCode?(a.preventDefault(),this.trigger(nT)):13===a.keyCode&&(a.preventDefault(),this.trigger(oT))};f.DO=function(a){this.trigger(pT,this.Ph($(a.target).closest(".listbox__option")))};var cT="CLICK",dT="OPTION_SELECT",gT="BLUR",pT="HOVER",eT="UNHOVER",mT="PRESS_UP",nT="PRESS_DOWN",oT="PRESS_ENTER",lT="PRESS_ESC";
function qT(a){gc.apply(this,arguments)}r(qT,gc);qT.prototype.tc=function(){var a=this.$el.attr("data-value");return y(a&&a.toString(),"value must be present on the option")};qT.prototype.zk=function(a){this.$el.toggleClass("listbox__option--selected",a)};function rT(a,b){a.$el.toggleClass("listbox__option--hover",b)}qT.prototype.Jf=function(){return this.$el.hasClass("listbox__option--selected")};function iT(a){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a.$el.prop("outerHTML"))};function sT(a){var b=this;this.view=a;this.WG=null;this.view.on(cT,function(a){return b.Lf(a)});this.view.on(dT,function(a){return tT(b,a)});this.view.on(gT,function(){return b.xu()});this.view.on(pT,function(a){return b.DO(a)});this.view.on(eT,function(a){return rT(a,!1)});this.view.on(mT,function(){var a=jT(b.view);rT(kT(b.view),!1);0>=a?(a=b.view.length()-1,a=b.view.Uj()[a],rT(a,!0)):rT(b.view.Uj()[a-1],!0)});this.view.on(nT,function(){var a=jT(b.view);rT(kT(b.view),!1);a===b.view.length()-1?rT(b.view.Uj()[0],
!0):rT(b.view.Uj()[a+1],!0)});this.view.on(lT,function(){return b.xu()});this.view.on(oT,function(){tT(b,kT(b.view));b.xu()})}function uT(a){Fa(0<a.length,"Need at least one option to render the listbox");a=a.filter(function(a){return a.Jf()});Fa(1===a.length,'Expected one option to be selected but found "{}"',a.length);return a[0].oh()}f=sT.prototype;f.lx=function(a){hT(this.view,uT(a));this.view.lx(a)};function vT(a,b){Fa(!a.WG,"onOptionChanged listener already registered");a.WG=b}
f.Lf=function(a){a||this.xu()};f.xu=function(){this.view.xu();rT(kT(this.view),!1)};f.DO=function(a){rT(kT(this.view),!1);rT(a,!0)};function tT(a,b){a.Uj().filter(function(a){return a.Jf()}).forEach(function(a){return a.zk(!1)});b.zk(!0);hT(a.view,b.oh());null!=a.WG&&a.WG(b)}function wT(a){return a.Uj().find(function(a){return a.Jf()})}f.Uj=function(){return this.view.Uj()};f.tc=function(){return y(wT(this),"At least one option must have been selected").tc()};f.Eh=function(a){this.view.Eh(a)};
f.destroy=function(){this.view.remove()};function xT(a){this.C2=a}function yT(){return new xT(function(){return new FormData})}
function CM(a){var b=yT();return new P(function(c,d){var e=b.C2();Object.keys(a.cM).forEach(function(b){e.append(b,a.cM[b])});e.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=Gk(g.status),e=b&&(a.WV||g.getResponseHeader("x-amz-version-id"));b&&e?c(e):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(e)})};function xl(a){return Math.max.apply(Math,a)}function wl(a){return Math.min.apply(Math,a)}function zT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d}function AT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};function eh(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function bO(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return ah(a,b)}
function ah(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function kD(a,b){a=a instanceof V?a:xm(a);return{transform:bp({Ji:a.F(),Ki:a.w(),Sw:b||0}),left:"",top:"",width:a.l(),height:a.o()}}
function oD(a,b,c){var d={pt:0,Rw:0,Sw:0};null!=b&&(d.Ji=b.F(),d.Ki=b.w(),a.css("width",b.l()+"px"),a.css("height",b.o()+"px"));a.each(function(){var a=$(this);d.pt=a.data("FlipTransformation_rotateX")||0;d.Rw=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.pt%360)&&(d.pt+=180,a.data("FlipTransformation_rotateX",d.pt));!!(c&1)!=(0!=d.Rw%360)&&(d.Rw+=0==d.pt%360?180:-180,a.data("FlipTransformation_rotateY",d.Rw));a.css("transform",bp(d))})}
function nD(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new V(d,c,b,a)}function lC(a){a=a.get(0).getAttribute("viewBox").split(" ");return new V(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function bp(a){var b=void 0===a.uo?1:a.uo,c=void 0===a.Sq?1:a.Sq,d=a.pt||0,e=a.Rw||0,g=a.Sw||0;a=""+("translate("+(a.Ji||0)+"px,"+(a.Ki||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=e&&(a+=" rotateY("+e+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function BT(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function yl(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(BT(a))){a=a[1].split(",");if(6==a.length)return{uo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Sq:parseFloat(a[3]),Ji:parseFloat(a[4]),Ki:parseFloat(a[5])};if(16==a.length)return{uo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Sq:parseFloat(a[5]),Ji:parseFloat(a[12]),Ki:parseFloat(a[13])}}return{uo:0,skewX:0,skewY:0,Sq:0,Ji:0,Ki:0}}
function $g(a,b,c){var d=yl(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.uo,d.skewX,d.skewY,d.Sq,d.Ji,d.Ki];$(a).css("transform","matrix("+b.join(",")+")")}function iE(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function CT(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function cD(a,b){b=Math.round(Om(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function NJ(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function DT(){var a=$("#canvaDocument"),b,c,d,e;nA||$("body").hasClass("fullscreenMode")?(e=c=0,d=$(window).width(),a=$(window).height()):(e=O.x0,d=O.w0,b=O.u0,c=O.v0,d=a.width()-c-d,a=a.height()-e-b);return new V(c,e,d,a)}function ET(){var a=O.pD;return Em(DT().translate(a,a),-2*a,-2*a)}function FT(){var a=O.IS;return Em(DT().translate(a,a),-2*a,-2*a)};var oA=!1,nA=!1;function GT(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=dQ(a.Lh.qg).filter(d).map(e(a.name));c=c.concat(a)});return new bQ({Ii:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.up=null;this.rI=(b||[]).slice(0);this.qg=new bQ;this.Gp=null;var g=this,h;0<this.rI.length?(h=c(),eQ(this.qg,h.Ii),this.rI.forEach(function(a){g.listenTo(a.Lh,"change:state",g.G7)})):a&&eQ(this.qg,a);this.listenTo(this.qg,"state:enter",
this.F7)}GT.prototype.trigger=Backbone.Events.trigger;GT.prototype.listenTo=Backbone.Events.listenTo;GT.prototype.on=Backbone.Events.on;GT.prototype.off=Backbone.Events.off;_.extend(GT.prototype,Backbone.Events);GT.prototype.start=function(){this.qg.start()};GT.prototype.cancel=function(){this.up&&this.up.cancel?(this.up.cancel(),this.up=null):this.up&&this.up.abort&&(this.up.abort(),this.up=null);this.rI.forEach(function(a){a.Lh.cancel()})};
GT.prototype.G7=function(a,b,c,d){var e=this.rI.filter(function(b){return b.Lh===a})[0].name+":"+b;this.qg.bA()!==e&&gQ(this.qg,e);var g=Array.prototype.slice.call(arguments,2),e=["change:state",this,e].concat(g);this.trigger.apply(this,e)};GT.prototype.F7=function(a,b){this.trigger("change:state",this,b)};function LP(a){a.stopPropagation()}function HT(a){a.preventDefault()}function IT(){return!1}var eO="createTouch"in document,cO=!1;function hp(a){this.el=$(a);this.VI={};this.iU=""}function AN(a){return 0<=a.iU.indexOf("touch")}hp.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.iU=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function JT(a){return a.split("|").filter(function(a){return""!==a})}
function KT(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function LT(a,b,c,d){if(a.VI[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.VI[b+"_"+c]=d}hp.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.k0=g;LT(this,a,e,g);JT(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(LT(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
hp.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.VI[a+"_"+e];if(g){if(g!==(b.k0||b))throw Error('The given handler is not listening to event "'+a+'"');b.k0=null;KT(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.VI[a+"_"+e]}return this};function qj(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}qj.prototype=Object.create(Error.prototype);qj.prototype.constructor=qj;
function pj(a){switch(a){case "card_declined":return new MT;case "expired_card":return new NT;case "incorrect_cvc":return new OT;case "incorrect_number":return new PT;case "invalid_cvc":return new QT;case "invalid_expiry_month":return new RT;case "invalid_expiry_year":return new ST;case "invalid_number":return new TT;case "missing":return new UT;case "processing_error":return new VT;default:return new WT(a)}}function MT(){qj.call(this,"credit card declined")}MT.prototype=Object.create(qj.prototype);
MT.prototype.constructor=MT;function NT(){qj.call(this,"credit card expired")}NT.prototype=Object.create(qj.prototype);NT.prototype.constructor=NT;function OT(){qj.call(this,"credit card cvc incorrect")}OT.prototype=Object.create(qj.prototype);OT.prototype.constructor=OT;function PT(){qj.call(this,"credit card number incorrect")}PT.prototype=Object.create(qj.prototype);PT.prototype.constructor=PT;function QT(){qj.call(this,"credit card cvc invalid")}QT.prototype=Object.create(qj.prototype);
QT.prototype.constructor=QT;function RT(){qj.call(this,"credit card expiry month invalid")}RT.prototype=Object.create(qj.prototype);RT.prototype.constructor=RT;function ST(){qj.call(this,"credit card expiry year invalid")}ST.prototype=Object.create(qj.prototype);ST.prototype.constructor=ST;function TT(){qj.call(this,"credit card number invalid")}TT.prototype=Object.create(qj.prototype);TT.prototype.constructor=TT;function XT(){qj.call(this,"credit card country invalid")}XT.prototype=Object.create(qj.prototype);
XT.prototype.constructor=XT;function ZT(){qj.call(this,"credit card region invalid")}ZT.prototype=Object.create(qj.prototype);ZT.prototype.constructor=ZT;function $T(){qj.call(this,"credit card zipcode invalid")}$T.prototype=Object.create(qj.prototype);$T.prototype.constructor=$T;function UT(){qj.call(this,"credit card missing but required")}UT.prototype=Object.create(qj.prototype);UT.prototype.constructor=UT;function VT(){qj.call(this,"credit card processing error")}VT.prototype=Object.create(qj.prototype);
VT.prototype.constructor=VT;function WT(a){qj.call(this,"unknown credit card processing error "+a);this.errorCode=a}WT.prototype=Object.create(qj.prototype);WT.prototype.constructor=WT;function aU(){qj.call(this,"no credit card entered")}aU.prototype=Object.create(qj.prototype);aU.prototype.constructor=aU;function bU(a,b){if(b instanceof MT)return a.format("creditCardDeclined");if(b instanceof NT)return a.format("creditCardExpired");if(b instanceof OT)return a.format("creditCardCvcIncorrect");if(b instanceof PT)return a.format("creditCardNumberIncorrect");if(b instanceof QT)return a.format("creditCardCvcIncorrect");if(b instanceof RT)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof ST)return a.format("creditCardExpiryYearIncorrect");if(b instanceof TT)return a.format("creditCardNumberIncorrect");
if(b instanceof UT)return a.format("creditCardMissingButRequired");if(b instanceof VT)return a.format("creditCardProcessingError");if(b instanceof WT)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof aU)return a.format("creditCardNoCardEntered");if(b instanceof XT)return a.format("creditCardNoCountryEntered");if(b instanceof ZT)return a.format("creditCardNoRegionEntered");if(b instanceof $T)return a.format("creditCardNoZipcodeEntered");if(b instanceof qj&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function cU(){var a=window.stripeConfig;switch(a.impl){case "local":return new dU;case "stripe":return new eU(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function dU(){}dU.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.JL,expYear:a.KL,last4:a.vh.slice(-4)})});function eU(a,b){(this.nf=b)&&this.nf.setPublishableKey(a)}
eU.prototype.createToken=function(a){return new P(function(b,c){if(!this.nf)throw Error("Stripe API is unavailable");a={cvc:a.Om,exp_month:a.JL,exp_year:a.KL,number:a.vh};this.nf.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(pj(g))}else b(e.id)})}.bind(this))};function FP(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.lw=null;this.iA={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.cl=new c(function(a){a.forEach(function(a){b.handle(a)})})}FP.prototype.normalize=function(a){return a.toLowerCase()};FP.prototype.on=function(a,b){a=this.normalize(a);this.iA.hasOwnProperty(a)||(this.iA[a]=[]);this.iA[a].push(b);return this};
FP.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.lw&&(g.target=a.target,g.currentTarget=c.lw.get(0),c.iA.hasOwnProperty(e)&&c.iA[e].forEach(function(a){a.call(c.lw,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
FP.prototype.observe=function(a){var b=$(a).get(0);if(this.lw)throw Error("Already observing an element");b&&(this.cl.observe(b,this.config),this.lw=$(a))};function HP(a){a.cl.disconnect();a.lw=null};function Hp(a,b,c){this.text=b||null;b=nc(a);this.text&&this.text.toLocaleLowerCase()===be(b).toLocaleLowerCase()&&(this.text=null);this.Mu=c||null;this.i=a}Hp.prototype.on=Backbone.Events.on;Hp.prototype.off=Backbone.Events.off;Hp.prototype.trigger=Backbone.Events.trigger;function fU(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function gU(a){return null===a.text||""===a.text}Hp.prototype.ul=function(){return this.text};
function hU(a,b){var c;if(c=b){b=b.trim().replace(/\s+/g," ");c=O.Xo;var d="";b=b.trim();if(b.length<=c)c=b;else{void 0===d&&(d="…");var e=b.substr(0,c-d.length),g=b.substr(c-d.length).match(/^\S+/),h=e.match(/\S+$/);h&&g&&(e=e.substr(0,e.length-h[0].length));e=e.trim();""===e&&(e=b.substr(0,c-d.length));c=e=e.trim()+d}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function iU(a,b){var c=lc(a.i);a=nc(a.i);return-1!=[a.Ng(),a.format("documentSvgPlaceholderText"),Vd(c),Wd(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function pP(a,b){var c=a.text||be(nc(a.i));b=b&&!!b.p4;a.Mu&&(gU(a)||b)&&(c=a.Mu+" – "+c);return c};function jU(a){this.media=a.media;this.bh=a.bh;this.Bc=a.Bc;this.Uv=a.Uv;this.df=a.df;this.dC=null;this.nV=a.om&&this.media.Kv()}f=jU.prototype;f.init=function(){var a=kU(this);0<a.length&&!this.Hv()&&!this.yn()&&(this.dC=a[0].ek);return this};f.yn=function(){var a=this;return this.Bc.some(function(b){return 0<=a.df.indexOf(b.type)})};function lU(a){return a.yn()?a.Bc[0].type:null}f.jG=function(){return"DESIGN"==this.media.lc()};
f.Hv=function(){var a=CF(this.media.Ja());return!a||mU(this)?!0:Object.keys(a).every(function(b){return 0==a[b]})};function mU(a){return a.nV&&a.df.some(function(a){return"ONE_USE"===a})}f.tn=function(){var a=this.media.Ja().ic()[yD];return a?a.oa():null};function nU(a){if(a.nV)return Infinity;var b=a.Bc.map(function(b){return(b.ML||b.Az||Infinity)-a.Uv});return Math.min.apply(Math,[].concat(ma(b)))}f.qN=function(){return!/\.png$/.test(this.tn())};f.In=function(a){return 0<=this.df.indexOf(a)};
function kU(a){var b=CF(a.media.Ja());if(!b||a.Hv())return[];var c=Object.keys(b).filter(function(b){return 0<=a.df.indexOf(b)&&0>oU(a).indexOf(b)}).map(function(c){return{ek:c,ba:b[c],Jf:a.dC==c}});return _.sortBy(c,function(a){return a.ba})}function oU(a){return a.Bc.map(function(a){return a.type})}f.qb=function(){return this.media.Ja().qb()};f.Qp=function(){return this.media.u()};f.qs=function(){return this.media.Ja().getVersion()};
function pU(a){if(a.yn())return 0;a=kU(a).filter(function(a){return a.Jf}).map(function(a){return a.ba});return 0<a.length?a[0]:0}function qU(a,b){function c(a){return a.jG()?0:a.Hv()?a.yn()?2:1:a.yn()?(a=oU(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function rU(){this.si=[]}function sU(a,b){tU(a,b.items.map(function(a){return new jU({media:a.media,bh:a.bh,Bc:a.Bc,df:b.df,Uv:b.Uv,om:b.om})}))}
function tU(a,b){a.si=b;a.si.forEach(function(a){return a.init()});a.si.sort(qU)}rU.prototype.In=function(a){return this.si.some(function(b){return b.In(a)})};rU.prototype.FF=function(){return this.si};function uU(a){return a.si.filter(function(a){return!a.yn()})}function vU(a){return a.si.reduce(function(a,c){return a+pU(c)},0)}function wU(a){return Math.min.apply(Math,[].concat(ma(a.si.map(function(a){return nU(a)}))))}
function xU(a,b,c,d){var e=[];d&&e.push(new Qh({D:b,items:[new hi({zK:xh(d)})],currency:"USD"}));e.push(new Qh({D:b,items:yU(a,c),currency:"USD"}));return e}function yU(a,b){return uU(a).map(function(a){return new hi({qq:new Yh({media:a.Qp(),version:a.qs(),document:b,ek:a.dC||"ONE_USE"})})})};function zU(a){this.$el=a}r(zU,gc);function AU(a,b,c,d,e){this.va=a.va;this.ub=a.ub;this.ac=a.ac;this.Z=a.Z;this.Sb=e;this.view=b;this.Ab=c;this.fY=d;this.open=!1}function BU(a,b){return new P(function(c){a.fY.once("paymentComplete",c);CU(a,b).then(function(){return a.show()})})}AU.prototype.close=function(){this.Ab.remove();this.open=!1};AU.prototype.show=function(){Fa(!this.open,"the watermark remove dialog is already open");this.open=!0;this.fY.refresh();this.Ab.show()};
function CU(a,b){var c=["ROYALTY_FREE","EXTENDED"],d,e,g,h=new WE({types:c,status:["ACTIVATED"],D:a.va,media:b,limit:100});b=(new JF).gS(b).To();return P.all([gF(a.ac,b),a.ub.mF(h)]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;d=b;e=c.Bc;g=c.Wl;return P.all(d.media.map(function(b){return a.Z.ka(b.ka())}))}).then(function(b){var h=d.media.map(function(a){return new jU({media:a,bh:b.find(function(b){return b.id===a.ka()}).displayName,Bc:e.filter(function(b){return b.media===a.u()}),
$ca:g,df:c,om:!1})});tU(a.Sb,h)})};function DU(a,b,c,d,e,g,h,k){var l=fO;void 0===k&&(k=!0);var m=Math.max(O.FS,O.FS/d());k=EU(a,c,m,b,h);if(void 0!==h&&null!=k.Ct&&null!=k.Dt){var n=Math.abs(a.$b()-k.Ct),p=Math.abs(a.kc()-k.Dt);n>p?k.Dt=null:k.Ct=null}null!=k.Ct&&(!a.Ta()&&1===k.No.length&&!k.No[0].Ta()&&Math.abs(k.No[0].F()-a.F())<m?!h&&a.kb(k.No[0].F()):!h&&a.kb(k.Ct));null!=k.Dt&&(!a.Ta()&&1===k.No.length&&!k.No[0].Ta()&&Math.abs(k.No[0].w()-a.w())<m?!h&&a.eb(k.No[0].w()):!h&&a.eb(k.Dt));!h||null==k.Ct&&null==k.Dt||(k=EU(a,c,1,
b,h));l();b=[].concat([a],ma(k.No));if(null!=k.Ct){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.kd()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.kc()}))));var q=Math.abs(c-h)*d(),u=Math.min.apply(Math,[].concat(ma(b.map(function(a){return g(a)})))),v=[];k.gu.zl&&v.push(e(a)-1);k.gu.r&&v.push(e(a)+a.rh()*d());k.gu.cy&&v.push(e(a)+a.rh()/2*d());Zg().write(function(){v.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(u)).css("left",
Math.round(a)).css("height",Math.round(q))})})}if(null!=k.Dt){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.Nd()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.$b()}))));var z=Math.abs(c-h)*d(),t=Math.min.apply(Math,[].concat(ma(b.map(function(a){return e(a)})))),x=[];k.gu.t&&x.push(g(a)-1);k.gu.b&&x.push(g(a)+a.nh()*d());k.gu.cx&&x.push(g(a)+a.nh()/2*d());Zg().write(function(){x.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",
Math.round(a)).css("left",Math.round(t)).css("width",Math.round(z))})})}}
function EU(a,b,c,d,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];S.slice(0).sort(b).forEach(function(e){c&&0==b(c.Le[0],e)?(c.Le.push(e),c.El=Math.min(c.El,e.El),c.Fl=Math.min(c.Fl,e.Fl),c.Nn=Math.max(c.Nn,e.Nn),c.On=Math.max(c.On,e.On)):d.push(c={Le:[e],pos:a(e),El:e.El,Fl:e.Fl,Nn:e.Nn,On:e.On,RK:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.RK<b.RK?a:b}function l(a,b,d){var e=zT(b,{pos:d-c},h),g=AT(b,{pos:d+c},h);b=b.slice(e,g);b.forEach(function(a){a.RK=
Math.abs(d-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={zl:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},u=a.rh(),v=a.nh(),z,t,x,H,E,L,J,Q;z=a.$b();t=a.kc();x=a.Nd();H=a.kd();E=a.rh();L=a.nh();J=z+E/2;Q=t+L/2;var S=b.map(function(a){var b=a.$b(),c=a.Nd(),d=(b+c)/2,e=a.kc(),g=a.kd();return{object:a,El:b,Fl:e,DG:d,EG:(e+g)/2,Nn:c,On:g}});d.fq||(d.fq=!0,d.im={El:g(function(a){return a.El}),DG:g(function(a){return a.DG}),Nn:g(function(a){return a.Nn}),Fl:g(function(a){return a.Fl}),EG:g(function(a){return a.EG}),
On:g(function(a){return a.On})});b=0;var N=null;b=[];if(void 0===e||e.zl)if(N=null,b=[],l(b,d.im.El,z),l(b,d.im.Nn,z),N=b.length&&b.reduce(k))for(m=N.pos,q.zl=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);if(void 0===e||e.r)if(N=null,b=[],l(b,d.im.El,x),l(b,d.im.Nn,x),N=b.length&&b.reduce(k))for(m=N.pos-E,q.r=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);if(void 0===e||e.d)if(N=null,b=[],l(b,d.im.Fl,t),l(b,d.im.On,t),N=b.length&&b.reduce(k))for(n=N.pos,q.t=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);
if(void 0===e||e.faa)if(N=null,b=[],l(b,d.im.Fl,H),l(b,d.im.On,H),N=b.length&&b.reduce(k))for(n=N.pos-L,q.b=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);(function(){var b;b=[];l(b,d.im.DG,J);if(b=b.length&&b.reduce(k)){m=b.pos-E/2;q.cy=!0;for(var c=0;c<b.Le.length;++c)p.push(b.Le[c].object);var g=(c=e&&e.El)?a.Nd():a.$b();u=2*Math.abs(b.DG-g);c&&(m-=(u-E)/2)}})();(function(){var a;a=[];l(a,d.im.EG,Q);if(a=a.length&&a.reduce(k)){n=a.pos-L/2;q.cx=!0;for(var b=0;b<a.Le.length;++b)p.push(a.Le[b].object);
b=e&&e.Fl;v=2*Math.abs(a.EG-(b?H:t));b&&(n-=(v-L)/2)}})();z=a.F()-a.$b();x=a.w()-a.kc();null!==m&&m>a.F()?m+=z:null!==m&&m<a.F()&&(m+=z);null!==n&&n>a.w()?n+=x:null!==n&&n<a.w()&&(n+=x);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{Ct:m,Dt:n,Aba:u,zba:v,No:p,gu:q}};var BC="screen";function gP(a,b,c){var d=Ab,e=Ib;a=new tu(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Jq(b.extensions),null!=b.conversionResult?Vs("conversionResult",b.conversionResult):null);c=new mu(d,e,a,new sl,c);c.jq=!0;wb=c;Jb.G.get(Kf)&&wb.start();wb.JQ(FU);Yb=0;return wb}
function eA(a){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",HT);$("#canvaDocument").on("mouseup",fO);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",GU(a));$("#content").on("keydown",".element.text.focused",HU);$("#content").on("keydown",".element.text.focused",IU);$("#content").on("input",".element.text.focused",JU);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",KU);if(!eO)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);
$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",LU);(new hp("#canvaDocument")).on("mousedown",".selectionBox, .element",Zb).on("touchstart",".selectionBox, .element",Zb);(new hp("#canvaDocument")).on("click",".element.focused",LP).on("mousedown",".element.focused",LP).on("touchstart",".element.focused",LP).on("mousedown",".element:not(.focused, .multiSelected)",MU).on("touchstart",".element:not(.focused, .multiSelected)",MU);(new hp("#content")).on("click",".selectionBox.multipleSelectionBox",
IT).on("click",".element.multiSelected",IT).on("mousedown",".selectionBox.multipleSelectionBox",NU).on("touchstart",".selectionBox.multipleSelectionBox",NU).on("mousedown",".element.multiSelected",NU).on("touchstart",".element.multiSelected",NU);(new hp("#content")).on("click",".selectionBox",IT).on("mousedown",".selectionBox",OU).on("touchstart",".selectionBox",OU);(new hp("#content")).on("click",".selectionBox .handle",IT).on("mousedown",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",
PU).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",PU);(new hp("#content")).on("click",".selectionBox .handle",IT).on("mousedown",".selectionBox.text.freeResize .handle.br",QU).on("touchstart",".selectionBox.text.freeResize .handle.br",QU);(new hp("#content")).on("mousedown",".multipleSelectionBox .handle",RU).on("touchstart",".multipleSelectionBox .handle",RU);(new hp("#content")).on("click",".cropControls",IT).on("mousedown",".cropControls",SU).on("touchstart",
".cropControls",SU);(new hp("#content")).on("click",".cropControls .handle",IT).on("mousedown",".cropControls .handle",TU).on("touchstart",".cropControls .handle",TU);(new hp("#content")).on("click",".viewPort .frameHandle",IT).on("mousedown",".viewPort .frameHandle",UU).on("touchstart",".viewPort .frameHandle",UU);(new hp("#content")).on("click",".selectionBox .rotate",IT).on("mousedown",".selectionBox .rotate",ap).on("touchstart",".selectionBox .rotate",ap);(new hp("#objectPanel")).on("mousedown",
VU).on("touchstart",VU).on("mousedown",".gallery a",VU).on("touchstart",".gallery a",VU);$("#canvaDocument").on("mouseenter",".unapproved, .failed",WU);if(eO)$("#content").on("click",XU);$("#null").keydown(function(){$(this).blur()})}function YU(){var a=K;function b(a){a.ZC(yb)}nA||aq(a).forEach(b)}
function ZU(a,b,c,d,e,g){function h(){return new $U({Bm:(new UAParser).getBrowser().name,document:a,W:b,pa:wb,Hs:Date.now(),fj:new Iu(Ib),WK:new Bu,Uk:d,i:g})}function k(a){document.title=a}if(nA)vb=new aV({i:g,model:a,H:jl});else{Tb=new mP({model:a,W:b,pa:wb,mc:ac,gj:c,EI:k,qJ:e,qK:h,Eg:d.Eg,i:g,Uk:d,j:y(U)});c=c.wh()?bV:void 0;vb=new aV({i:g,model:a,H:jl,$I:c});$b=new cV({model:a,Zk:vb,i:g});var l=new mQ(a,vb);Rb=function(){return l}}}
function dA(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}K&&(hh(),K.off(),vb.remove(),nA||(Tb.remove(),$b.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(K&&K.ia){var a=10*K.ia().length;T.off("elementLoaded",h);T.off("elementLoadingError",h);window.setTimeout(function(){K.$M=!0;T.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.wa("rendered"),g.done());K.on("change",K.EH);
K.listenTo(T,"elementLoaded:graphic",K.EH);K.listenTo(T,"elementLoaded:svg",K.EH);K.EH();K.on("change",K.JB);K.listenTo(T,"elementLoaded:text",K.JB);K.listenTo(T,"elementLoaded:svg",K.JB);K.JB()},100+a)}});T.on("elementLoaded",h);T.on("elementLoadingError",h);T.on("pageTimeoutWaitingForElements",function(){vO()});K=new Fp(a,b,d);K.on("change",Wb);ZU(K,Jb,c,Mb,e?e():[],d);K.Gb().forEach(function(a){a.ia().forEach(function(b){a.trigger("element:add",a,b)})});m();M=new xO;YU()}
function Ag(a){var b=a.R();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=GO(a.serialize());a.pageIndex=ep(K,b);M.register(new Y(BO,a))}function dV(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}
function eV(a){var b=a.R();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=GO(a);c.pageIndex=ep(K,b);c.childRange=dV(a);M.register(new Y(13,c))}function fV(a){var b=a.R();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=GO(a);c.pageIndex=ep(K,b);c.childRange=dV(a);M.register(new Y(14,c))}
function EN(a){var b=a.R();if(null!=b){var c=GO(a.serialize());c.pageIndex=ep(K,b);WC(a)&&(b=a.rM())&&(c.groupElementIndex=b.K(),c.groupIndex=b.ia().indexOf(a));M.register(new Y(CO,c))}}
function gV(a){if(a.QJ()){var b=a.R(),c=ep(K,b),d=b.qa();Km(a.qa(),d)?(OK(),b.ia().forEach(function(b){b!==a&&b.Hb()&&(EN(b),b.remove())}),a.Hb()||(b=a.K(),Wp(a),M.register(new Y(KN,{backgroundColor:a.lh(),elementIndex:a.K(),oldElementIndex:b,pageIndex:c})),hh(),Bg(a)),PK()):a.Hb()&&(b=a.K(),d=a.lh(),GD(a),M.register(new Y(JN,{backgroundColor:d,elementIndex:a.K(),oldElementIndex:b,pageIndex:c})))}}
(function(){var a=0,b=!1;Wb=function(){if(wb&&wb.jq){var c=K.serialize();sM(c);if(eq(c).result)Yb=wb.post(Yb,c),null==Yb&&qO(),a=0;else if(K.$M)if(gq())T.once("pageLayoutLoaded",Wb);else 3<=a&&(vO(),wb.close()),a+=1;else b||(b=!0,T.once("documentRendered",Wb))}else vO()}})();var hV=0;
function FU(a){window.clearTimeout(hV);wb&&wb.jq?(1==a?hV=window.setTimeout(function(){vO()},O.ny):2==a?(1===Yb&&2===wb.fe()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload(),rO()):3==a&&(qO(),wb.close()),T.trigger("session:sync",a)):vO()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Zb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.Jf()?(JO(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return hh(),Bg(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function iV(){return K.Gb().map(function(a){return{rect:Xg(FD(vb,a)),page:a}})}
function GU(a){return function(b){var c=my(a.Ka).ka(),c={j:U,na:ny(a.Ka).u(),va:c.u(),aa:Bb,ac:Db,Z:Eb,ub:a.ub,fb:a.fb,i:Lb,cf:c.ii(),fa:a.fa},d=c.i;d.dS||(d.dS=new Ye(d.config));var e=d.dS,d=new rU,g={j:c.j,aa:c.aa,Z:c.Z,fb:c.fb,ub:c.ub,i:c.i,na:c.na,va:c.va,kf:!1,Qf:e.Qf(),Sb:d,cf:c.cf,fa:c.fa},h=jV({D:g.va,Ej:g.aa,Xe:!1,nf:g.fb,Ya:cd(g.i),j:g.j}),h=new kV({xd:h.Db,cj:h.view}),g=(new lV({view:h,j:g.j,na:g.na,va:g.va,aa:g.aa,Z:g.Z,ub:g.ub,Xb:g.Xb,i:g.i,kf:g.kf,Qf:g.Qf,Sb:g.Sb,pb:g.pb,cf:g.cf,fa:g.fa})).init(),
k=e.title(),e=$;soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"title",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"watermarkRemovalDialog__content"\x3e\x3cheader class\x3d"watermarkRemovalDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(k)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"watermarkRemovalDialog__body"\x3e\x3cdiv class\x3d"watermarkRemovalDialog__paymentPage"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e');
e=e(k.toString());e.find(".watermarkRemovalDialog__paymentPage").append(h.$el);h=new zU(e);e=new mp({content:h.$el,H:jl,jf:!0,className:"watermarkRemovalDialog"});c=new AU(c,h,e,g,d);b=$(b.target).parent(".selectionBox");d=b.data("element");if(d.data("canvaElement"))return d=d.data("canvaElement"),mV(c,d,b)}}
function mV(a,b,c){var d=K;function e(a,b){if(b.Jv()){var c=b.Wz();if(0<c.length&&c.map(function(a){return a.Pb()}).some(h.bind(null,a)))return!0}return b.ak()?h(a,b.Pb()):!1}function g(a){return a.Kw?a.Kw():P.resolve()}function h(a,b){return a.some(function(a){return null!=a&&null!=b&&a.id===b.id&&a.version===b.version})}var k=[];if(b.Jv()){var l=b.Wz();0<l.length&&(k=l.map(function(a){return a.Pb()}).filter(nV))}b.ak()&&nV(b.Pb())&&k.push(b.Pb());b=k.filter(function(a){return null!=a}).map(function(a){return a.id});
BU(a,b).then(function(a){a=d.ia().filter(e.bind(null,a)).map(g);return P.all(a)}.bind(null,k)).then(function(){a.close();c.removeClass("hasWatermark")})}function oV(a){if(a.Jv()){var b=a.Wz();if(0<b.length&&b.some(function(a){return nV(a.Pb())}))return!0}return a.ak()?nV(a.Pb()):!1}function nV(a){var b;a&&(b=(a=Hb.Kc(a.id,a.version))&&a[Lg]);return b&&b.watermarked||!1}function gp(){$("#overlays .element.text.focused").each(function(){EB($(this))})}
function MU(a){function b(a){fm=!!a.shiftKey;xb=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;qb=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;wc=t.C().get(0).getBoundingClientRect();ue.read(c);return!1}function c(){var a=!1;if(t.ak()){var b=t.Pb();b&&!cq(yb,b)&&(a=!0)}if(!t.GA||t.hb||a){a=xb-E;b=qb-L;ta&&t.nb()&&t.Yi();if(ta){var c=Vg(vb,Wg(wc));(c=pV(c,h))&&c.page?(Ig&&(Ig=!1,t.C().removeClass("outsidePage")),t.Gy()&&!t.Ov(t.R())?(Vb&&c.page!=Vb&&Vb.$el.removeClass("hotspotHover"),
Vb=FD(vb,c.page),Vb.$el.addClass("hotspotHover")):Vb&&Vb.$el.removeClass("hotspotHover")):(t.C().addClass("outsidePage"),Ig=!0)}if(ta||Math.abs(a)>O.Hc||Math.abs(b)>O.Hc){ta=!0;t.setPosition(ha+a/W,fa+b/W);fm||Ba.hasClass("placing")?fO():dh(t,Za,qa);b=$(".page.selected.on");c=$("#overlays");if(1===b.length&&1===c.length&&1===J.length){var a=J.get(0).getBoundingClientRect(),b=b.get(0).getBoundingClientRect(),d=c.get(0).getBoundingClientRect(),c=a.left-d.left,d=a.top-d.top,g=Math.round((a.left-b.left)/
W),a=Math.round((a.top-b.top)/W);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+c+"px,"+d+"px)").text(g+", "+a)}t.$a()}ta&&!da&&(a=Ba.find("img"),a.attr("data-screen-width",t.l()).attr("data-screen-height",t.o()),t.GA&&a.attr("data-media-approved",t.hb),Ba.addClass("clone"),!t.QD()&&t instanceof AC&&Ba.addClass("cutout"),b=Jg({id:t.ca,version:t.da,origin:t.origin?t.origin.lc():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",
page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),Ba.data("li",c),t.QD()||t.ae())&&(ih(Ba,null,AN(xc)),da=!0)}}function d(a){xc.off("mousemove|touchmove",b).off("mouseup|touchend",d);Md.read(function(){var b=t.C().get(0).getBoundingClientRect();Md.write(function(){var c;e.remove();J.remove();t.vg=!1;$("#hotspots").remove();Vb&&Vb.$el.removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(ta){if(t.R())if(t.Ov(t.R()))OK(),gV(t),c={elementIndex:t.K(),
pageIndex:ep(K,t.R()),"new":{left:t.F(),top:t.w()},old:{left:ha,top:fa}},c=new Y(fp,c),M.register(c),PK();else{t.Ff()&&EB(t.Ge());c=Vg(vb,Wg(b));var d=pV(c,h);d&&t.Gy()?(OK(),c=qV(t,c,d,ha,fa),gV(c),PK(),H&&rV([c])):(c=GO(t.serialize()),c.pageIndex=ep(K,t.R()),c.left=ha,c.top=fa,c=new Y(CO,c),OK(),M.register(c),t.remove(),PK())}}else if(!p||q&&!m||n)c=!1,u&&(d=k.closest(".text"),x?EB(d):a.shiftKey||(t instanceof cp?(XK(d,!0),kP(v,zc(g)),c=!0):t instanceof KH||(t instanceof IC?(t.Yi(),d.is(".element")&&
XK(d,!1),t.oo(),kP(v,zc(g)),c=!0):XK(d)))),!(t instanceof KH)&&t instanceof IC&&z&&(mG(t,z),(d=t.C().data("toolbar"))&&aD(d,t)),Bg(t,c);Ba.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");Ba.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}if(a.which==O.Nh||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Lb,h=iV(),k=
$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".chart"),p=k.is(".group .elements"),q=k.is(".chart .elements"),u=k.is(".text")||0<k.parents(".text").length,v=u?k.closest(".element"):$(this),z;l&&(z=v.data("canvaElement"),v=k.parents(".group").first());if(v.data("canvaElement")){var t=v.data("canvaElement");if(l=t.R()){if(!t.PD())return a.preventDefault(),a.stopImmediatePropagation(),!1;T.trigger("hideContextualControlsRequested");a.altKey&&(gp(),t=t.clone(),t.appendTo(l),t.rc(),
v=t.C());var x=v.hasClass("focused"),H=t.Jf(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,L=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(E,L)).is(".handle.on"))return!0;if(a.shiftKey&&0===K.Wa().length||t.Hb()&&!H||t.Hg()&&!H)return $b.ZA(a,!0);var J=$("\x3cdiv\x3e\x3c/div\x3e"),l=Om(t.Ta());45<l&&135>=l?J.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?J.css({position:"absolute",bottom:0,right:0}):225<l&&315>=l?J.css({position:"absolute",
top:0,right:0}):J.css({position:"absolute",top:0,left:0});t.C().append(J);l=!(1===K.Wa().length&&K.Wa()[0]===t);a.shiftKey||H||!l||hh();if(t instanceof cp)l=$("#overlays .svg.text.focused"),0<l.length&&(EB(l),t.PP(),kP(v,zc(g))),l=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=O.Yo}),k.is("image.placeholder")&&k.attr("xlink:href")!=O.Yo?t.ut(k):k.is(".outline")&&1===l.length&&t.ut(l);else if(t instanceof EC)k.is(".placeholder")&&
t.Fg()!==k&&t.ut(k);else if(t instanceof IC){a=z===t;var Q=z instanceof Mp,S=!Q&&t.ad instanceof Mp,N=Q&&z!==t.ad;if(S||N||Q&&l||a)(N||S||a)&&t.ad instanceof Mp&&EB(t.ad.C()),t.Yi(),t.PP(),a||!m&&!p||kP(v,zc(g))}var ha=t.F(),fa=t.w(),ta=!1,Za={},qa=ch(t),da=!1,Ba=t.C();Ba.data("startLeft",ha).data("startTop",fa);var xb=0,qb=0,wc=v.get(0).getBoundingClientRect(),ue=Zg(),Md=Zg(),Ig=!1,Vb,fm=!1;t.vg=!0;var xc=new hp($(document));xc.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}}
function qV(a,b,c,d,e){var g=(b.F()-c.rect.F())/W;b=(b.w()-c.rect.w())/W;var h=GO(a.serialize());h.pageIndex=ep(K,a.R());h.left=d;h.top=e;d=new Y(CO,h);OK();M.register(d);d=a.clone();a.remove();d.Hb()&&GD(d);d.appendTo(c.page);d.setPosition(g,b);Ag(d);PK();return d}function pV(a,b){for(var c=0;c!=b.length;c++)if(Yg(a,b[c].rect))return b[c];return null}
function sV(a,b){return K.Wa().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.K()-b.K()})}function tV(a){var b=Lb;2>K.Wa().length||(JO(a),a=K.Wa(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),QK(zc(b),Bc(b))):1===a.length&&($(".multipleSelectionBox").remove(),hh(),a[0].C().removeClass("multiSelected"),dO(a[0]),a[0].$a()))}
function uV(a){function b(a,b){return a.K()-b.K()}if(2>a.length)return null;for(var c=a[0].R(),d=c.K(),e=1;e!==a.length;e++)if(!c||!a[e].R()||a[e].R()!==c)return null;var g=jG(new IC,a);OK();(function(a){a.sort(b);for(var c=a[0],e=1;e!==a.length;e++){var g=a[e].K();a[e].insertAfter(c);var c=a[e],n=a[e].K();g!==n&&M.register(new Y(4,{oldElementIndex:g,elementIndex:n,pageIndex:d}))}return a})(a);g.insertBefore(a[0]);a.forEach(function(a){g.addElement(a);var b=(new an).translate(-1*g.F(),-1*g.w());a.transform(b);
g.C().find(".elements").append(a.C())});eV(g);PK();return g}function lL(){function a(a){return a.elements&&0!==a.elements.length}function b(a){return a.Hb()}function c(a){return WC(a)}var d=K.Wa();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var e=d[0].R(),g=1;g!==d.length;g++)if(!e||!d[g].R()||d[g].R()!==e)return;hh();(d=uV(d))&&Bg(d)}}
function LS(a,b){var c=a.C().data("toolbar"),d=a.Bb();if(-1!==d)d=[a.Ub(d)];else if(a.nb()&&a.se())d=oG(a),c&&lE(c);else return;b();OK();d.forEach(function(b){var c=b.index,d=a.Ub(c);b={elementIndex:a.K(),pageIndex:ep(K,a.R()),textIndex:c,"new":d,old:b};M.register(new EO(1,b))});PK();c&&lE(c)}
function ZK(a){function b(a){if(0===a.Ta()){var b=a.qa();a.kb(0);a.ma(c);var h=a.qa();zm(b,h)||M.register(new Y(fp,{elementIndex:a.K(),pageIndex:d,old:b.serialize(),"new":h.serialize(),proportionalSetSize:!1}))}}if(a.nb()){var c=a.l(),d=ep(K,a.R());OK();lG(a).forEach(b);PK()}}function $K(a){a.nb()&&(OK(),lG(a).forEach(function(b){LS(b,function(){a.br(0,"uppercase");VA(a.cb(0),!1)})}),PK())}
function aL(a){a.nb()&&(OK(),lG(a).forEach(function(a){LS(a,function(){a.zi(0,"left");VA(a.cb(0),!1)})}),PK())}function bL(a){a.nb()&&(OK(),lG(a).forEach(function(a){LS(a,function(){a.zi(0,"right");VA(a.cb(0),!1)})}),PK())}function cL(a){a.nb()&&(OK(),lG(a).forEach(function(a){LS(a,function(){a.zi(0,"center");VA(a.cb(0),!1)})}),PK())}
function vV(a,b,c){var d=a.ia().slice(),e=b(a),g=a.ad;g&&(e=b(g));OK();b=a.Ge();1===b.length&&EB(b);fV(a);HO(a);d.forEach(function(a){var b=a.F(),d=a.w();c(a,e);M.register(new Y(fp,{elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:d}}))});(a=uV(d))&&dO(a);PK()}function iS(a){vV(a,function(a){return a.$b()},function(a,c){NC(a,a.$b()-c)})}function jS(a){vV(a,function(a){return a.Nd()},function(a,c){PC(a,c-a.Nd())})}
function kS(a){vV(a,function(a){return a.$b()+a.rh()/2},function(a,c){var d=a.$b()+a.rh()/2;NC(a,d-c)})}function lS(a){vV(a,function(a){return a.kc()},function(a,c){OC(a,a.kc()-c)})}function mS(a){vV(a,function(a){return a.kd()},function(a,c){QC(a,c-a.kd())})}function nS(a){vV(a,function(a){return a.kc()+a.nh()/2},function(a,c){var d=a.kc()+a.nh()/2;OC(a,d-c)})}
function pS(a){var b=a.ia().slice();OK();fV(a);HO(a);a=b.slice().sort(function(a,b){return a.$b()>b.$b()});var c=a.shift().Nd(),d=a.pop().$b(),e=a.reduce(function(a,b){return b.rh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();NC(a,a.$b()-h-g);h=a.Nd();M.register(new Y(fp,{elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=uV(b))&&dO(b);PK()}
function oS(a){var b=a.ia().slice();OK();fV(a);HO(a);a=b.slice().sort(function(a,b){return a.kc()>b.kc()});var c=a.shift().kd(),d=a.pop().kc(),e=a.reduce(function(a,b){return b.nh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();OC(a,a.kc()-h-g);h=a.kd();M.register(new Y(fp,{elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=uV(b))&&dO(b);PK()}
function HO(a){var b=[].concat(a.ia()).reverse(),c=RC(a);a.Yi();b.forEach(function(b){a.sj(b);var e=gG(c,RC(b),!0);b.insertAfter(a);b.C().insertAfter(a.C());b.em(e.Ha);b.setPosition(e.left,e.top);b.dm(e.rotation)});a.remove();hh();mL(b)}function kL(){var a=K.Wa(),b;if(b=1===a.length)b=-1!==a[0].js().indexOf("ungroup");b&&(hh(),OK(),a=a[0],fV(a),HO(a),PK())}
function NU(a){function b(a){t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;E.read(c);return!1}function c(){var a=t-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=Vg(vb,Wg(c)),c=pV(c,H);if(z||Math.abs(a)>O.Hc||Math.abs(b)>O.Hc)z=!0,h.setPosition(n+a/W,p+b/W),dh(h,u,v),c&&c.page&&c.page!==h.R()&&!h.Ov(h.R())?FD(vb,c.page).$el.addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),QK(zc(e),
Bc(e))}function d(){J.off("mousemove|touchmove",b).off("mouseup|touchend",d);L.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),b=Vg(vb,Wg(a));L.write(function(){var a=pV(b,H);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");wV(g,!1);if(z){OK();if(h.Ov(h.R()))g.forEach(function(a,b){a={elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:q[b].left,top:q[b].top}};M.register(new Y(fp,a))});else if(a){for(var c=[],
d=g.length-1;0<=d;d--){var e=g[d];if(e.Gy()){var k=e.C().get(0).getBoundingClientRect(),k=Vg(vb,Wg(k)),e=qV(e,k,a,q[d].left,q[d].top);c.push(e)}}hh();mL(c)}else g.forEach(function(a,b){var c=GO(a.serialize());c.left=q[b].left;c.top=q[b].top;c.pageIndex=ep(K,a.R());M.register(new Y(CO,c));a.remove()}),$(".multipleSelectionBox").remove();PK()}})})}var e=Lb;if(a.which==O.Nh||a.ctrlKey)return!0;var g=K.Wa().sort(function(a,b){return b.K()-a.K()}),h=new vl(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=sV(k,l)[0];if(a.shiftKey&&m)return tV(m),!1;wV(g,!0);var n=h.F(),p=h.w(),q=g.map(function(a){return{left:a.F(),top:a.w()}}),u={},v=ch(g),z=!1,t=0,x=0,H=iV(),E=Zg(),L=Zg(),J=new hp($(document));J.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){bc=new FP;bc.on("nodeInserted",xV).on("nodeInserted",yV).on("nodeRemoved",yV).on("characterDataModified",yV)});
function SK(){if(1===K.Wa().length){var a=K.Wa()[0];if(a.nb()){var b=a.Bb(),c;a:{for(c=a.Bb()+1;c!=a.elements.length;c++)if(nG(a,c))break a;b:{for(c=0;c!=a.elements.length;c++)if(nG(a,c))break b;c=-1}}-1!==c&&c!==b&&(b=a.cb(c),c=b.data("canvaElement"))&&(EB(a.Ge()),a.Yi(),XK(b),mG(a,c),a.$a())}}}
function XK(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c&&c.lp()){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Tb&&(zV(Tb),AV(Tb));var e=!!a.parents(".page").length;if(a.is(".svg .text"))d=a.parents(".element").first(),e&&a.data("precedingElement",d.prevAll(".element").first()),a.addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),dp(c);else if(a.is(".group .text")){var g=a.parents(".group").first();e&&(e=g.prevAll(".element").first(),a.data("precedingElement",
e),g.data("precedingElement",e));a.addClass("focused");d&&g.find(".text").addClass("dark");g.appendTo("#overlays");g.data("canvaElement").setPosition()}else e&&a.data("precedingElement",a.prevAll(".element").first()),a.appendTo("#overlays").addClass("focused"),c.setPosition();d=c.Bb();a.removeClass("focused");c=c.Ub(d);a.data("oldTextData",c);a.addClass("focused");WA(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.off("paste").on("paste",BV);HP(bc);bc.observe(a);CS.XZ(a);d=
nc(Lb);a=a.data("placeholderText")||d.Ng();a=c.text()==a;(b||a)&&oB(c)}}}function oB(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function BV(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function xV(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var CV=!1;
function yV(a){var b=$(this),c=b.data("textChangeCount")||0;b.data("textChangeCount",++c);if(CV)CV=!1;else{var c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&XD(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(CV=!0,b.html(c.replace(a,"�")))}}
var CS=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else if(e){if(100<a-h){var b=jQuery.data(e,"toolbar");b&&lE(b);h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{XZ:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},$Z:a}}();
function EB(a){var b=a.data("canvaElement");if(b&&a.is(".focused")){a.data("textChangeCount",0);var c=a.data("precedingElement"),d=a.children(".inner"),e=b.R()||K.Ea(),g=FD(vb,e),h=b.Bb(),k=!1,l=!a.parents(".page").length;CS.$Z(a);Tb&&DV(Tb);a.removeClass("dark");if(a.is(".svg.text"))k=a.parents(".element").first(),l&&(c&&0<c.length?k.insertAfter(c):EV(g,k)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),dp(b),FA(b,h),k=!0,(c=b.C().data("toolbar"))&&
c.oo("font");else if(a.is(".group .text")){var m=a.parents(".group").first();m.find(".text").removeClass("dark");var n=m.data("canvaElement"),c=m.data("precedingElement");l&&(c&&1===c.length&&0>=m.has(c[0]).length?m.insertAfter(c):EV(g,m));m.removeData("precedingElement");a.removeData("precedingElement");a.text().match(/^\s*$/)&&n?((c=a.data("oldTextData"))&&b.vj(h,c),SR(n)):(FA(b,h),k=!0);n.Yi();d.attr("contentEditable","false");n.rc();(c=n.C().data("toolbar"))&&c.oo("font")}else 0<a.length&&(l&&
(c&&0<c.length?a.insertAfter(c):EV(g,a)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.vj(h,c),OK(),EN(b),b.remove(),PK()):(FA(b,h),k=!0));d.off("paste",BV);HP(bc);b.rc();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(k){if(d=a.data("oldTextData"))k=b.Ub(h),e={elementIndex:b.K(),pageIndex:ep(K,e),textIndex:h,"new":k,old:d},e=new EO(1,e),OK(),M.register(e),b.Uc=!0,PK();b=K.qb();e=a.text();gU(b)&&hU(b,iU(b,
e)?"":e)}a.removeData("oldTextData")}}
function OU(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var c=$(this).data("element");if(!c)return;b=c.get(0);if(b&&(c=c.data("canvaElement")))if(c instanceof Mp)a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):a.target=b;$(this).css("visibility","")}else return;
MU.call(b,a)}return!1}function LU(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(!c||a.metaKey)return!1;b.hasClass("text")?XK(b):c.Jm?DS(c):c.sy()&&(c.Su=!c.Su,c.$a());return!1}var FV=!1;
function Bg(a,b){function c(a){var b=a.C();a.Bh();b.is(".text.focused")&&EB(b);b.addClass("multiSelected")}FV=!1;var d=Lb,e=a.C(),g=K.Wa();if(a.lp()){var h=!1;g.forEach(function(b){b.R()===a.R()&&(h=!0)});if(!(0<g.length)||h){if(WC(a))if(e=e.parents(".group"),1===e.length&&e.data("canvaElement"))a=e.data("canvaElement"),kG(a),a.Yi(),a.oo();else return;a.Jf()?a.nb()&&!b&&AS(a,zc(d)):(a.zk(!0),0===g.length?(GV(e),!b&&AS(a,zc(d))):WC(a)||(g.forEach(c),e.addClass("multiSelected"),QK(zc(d),Bc(d))))}}}
function AS(a,b){kP(a.C(),b)}function dO(a){var b=K.Wa();if(1!=b.length||-1==b.indexOf(a))hh(),Bg(a)}function oL(a){var b=K.Wa(),c=K.Ea(),d=c.ia().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var e=c.elements[b]||null;e&&(e.Hb()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&dO(a))}}var HV=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function GV(a){function b(){e.removeClass("initialHover");e.off("mousemove",b)}var c=Lb,d=$("#overlays"),e=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");e||(e=$(HV({resize:Bc(c).resize(),stretch:Bc(c).stretch(),rotate:Bc(c).rotate(),removeWatermark:Bc(c).r9()})),e.data("element",a).appendTo(d),a.hasClass("text")&&e.addClass("text"),a.hasClass("svg")&&e.addClass("svg"),a.hasClass("graphic")&&e.addClass("graphic"),a.hasClass("unapproved")&&e.addClass("unapproved"),a.hasClass("group")&&
e.addClass("group"),a.data("selectionBox",e));g&&(Jb.G.get(cg)&&(oV(g)?(e.addClass("hasWatermark"),e.addClass("initialHover"),e.on("mousemove",b)):e.removeClass("hasWatermark")),g.$a())}function JO(a){var b=a.C(),c=b.find(".text.focused");a.zk(!1);a.Bh();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?EB(b):a instanceof IC?1===c.length&&EB(c):a instanceof cp&&1===c.length&&EB(c);a.Yi();(b=a.R())&&!a.Ov(b)&&(EN(a),a.remove())}function IV(a){JO(a);Bg(a)}
function mL(a){for(var b=0;b!==a.length;b++)if(!a[b].lp())return;if(1===a.length)Bg(a[0]);else for(b=0;b!==a.length;b++)Bg(a[b],!0)}
function rV(a){function b(a){!1===FV?c():(a=d.indexOf(a),-1!==a&&d.splice(a,1),0===d.length&&(c(),mL(e)))}function c(){T.off("elementLoaded",b);T.off("elementLoadingError",b)}var d=a.filter(function(a){return a.Iv()}),e=a.filter(function(b){return 0===a.filter(function(a){return a.nb()&&-1!==a.elements.indexOf(b)}).length});0<d.length?(FV=!0,T.on("elementLoaded",b),T.on("elementLoadingError",b)):mL(e)}
function hh(){T.trigger("hideContextualControlsRequested");K&&K.Wa().forEach(JO);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function TK(a){var b=lo(),c=b.elements[0],d=-1;b.um&&0===b.um.elementIndex&&(d=b.um.filterableIndex);var e=-1;b.wm&&0===b.wm.elementIndex&&(e=b.wm.textIndex);var g=ep(K,a.R()),h=a.K();if(b&&c&&b.Mv){OK();M.register(new Y(fp,{elementIndex:h,pageIndex:g,"new":{transparency:c.Ha},old:{transparency:a.Ha}}));a.em(c.Ha);c.MM()&&a.MM()&&(M.register(new Y(fp,{elementIndex:h,pageIndex:g,"new":{border:c.fi()},old:{border:a.fi()}})),EE(a,c.fi()));c.PM()&&a.PM()&&(M.register(new Y(fp,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),a.iC(c.padding));c.lA()&&a.lA()&&(M.register(new Y(fp,{elementIndex:h,pageIndex:g,"new":{spacing:c.pe()},old:{spacing:a.pe()}})),a.ar(c.pe()));if(c.Zp()&&a.Zp()){var b=a.Sz(),k=c.Mp(d),d=a.Ld();if(k&&d){var k=ED(k),l=ED(d),h=new Y(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});zJ(d,k);M.register(h)}}h=c.Md();b=a.Md();0!==h&&h===b&&c.bb().forEach(function(b,c){if(null!==b){var d={index:c},e={index:c};a instanceof
EC?d.placementData=a.rl(c):d.color=a.bb()[c];a.ge(c,b);a instanceof EC?e.placementData=a.rl(c):e.color=a.bb()[c];b=new Y(FN,{elementIndex:a.K(),pageIndex:g,old:d,"new":e});M.register(b)}});c.se()&&a.se()&&(h=a.Bb(),-1!==e&&-1!==h&&(b=a.Ub(h),(c=c.Ub(e))&&b&&(a.yo(h,c.bold),a.yk(h,c.fontFamily),c.fontMedia&&a.Xq(h,$m(c.fontMedia)),a.ve(h,c.fontSize),a.Ao(h,c.italic),a.zi(h,c.justification),a.ix(h,c.letterSpacing),a.jx(h,c.lineHeight),a.br(h,c.textTransform),a.setColor(h,mh(c.color))),c=a.Ub(h),c=new EO(1,
{elementIndex:a.K(),pageIndex:g,textIndex:h,"new":c,old:b}),M.register(c)));PK();a.$a()}}function iL(a){void 0===a&&(a=K.Wa());if(0<a.length){var b=a.map(function(a){return a.clone()});ko(b,a[a.length-1])}}
function jL(){function a(a){if(a.ak()){var b=a.Pb();b&&!cq(yb,b)&&eF(Db,b.id,(new HD).Ik(b.version)).then(function(b){Qg(yb,b.u(),b.Ja().getVersion(),b.Ja().ic());a.Kw()}).catch($.noop)}}function b(b){b.nb()?b.ia().forEach(a):a(b);e?(PC(b,O.hD),QC(b,O.hD),b.insertAfter(e),e=b):b.appendTo(d);h++;h===g.length&&(OK(),g.forEach(Ag),hh(),PK(),rV(g),iL(g))}var c=lo();if(c&&!c.Mv){var d=K.Ea(),e=c.yw;!e||-1<d.elements.indexOf(e)||(e=null);e&&e.nb()&&(e=yG(e));var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function SU(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Jn(e.Ta()),b=(p-g)*Math.cos(a)-(h-q)*Math.sin(a)+g-g,a=-1*(h-q)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>O.Hc||Math.abs(a)>O.Hc)m=!0,b/=W,a/=W,e.wQ(k+b,l+a),e.$a()}function d(){u.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.vg=!1}if(a.which==O.Nh||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=
$(this).data("canvaElement");if(!e)return!0;var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.fg();var k=a.F(),l=a.w(),m=!1,n=Zg(),p=0,q=0;e.vg=!0;var u=new hp($(document));u.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function TU(a){function b(a){ha=a.shiftKey?!1:!0;S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;fa.read(c);return!1}function c(){u=Bm(Wg($(".cropControls").get(0).getBoundingClientRect()));fa.write(function(){var a,b,c=0,d=0;b=a=0;var k=kQ({x:S,y:N},q),u=Mn(n,p,S,N),fa=Math.cos(Jn(k-v))*u;ha&&(k=v,u=fa);fa=tC(k,g.Ta());switch(CT(e.get(0))){case 2:c=fa-lQ("TR");b=u*Math.cos(Jn(c));a=u*Math.sin(Jn(c));ha&&(b=a/m);c=
z;d=t-b;a=x+a;b=H+b;break;case 7:c=fa-lQ("BR");b=u*Math.sin(Jn(c));a=u*Math.cos(Jn(c));ha&&(b=a/m);c=z;d=t;a=x+a;b=H+b;break;case 5:c=fa-lQ("BL");b=u*Math.cos(Jn(c));a=u*Math.sin(Jn(c));ha&&(b=a/m);c=z-a;d=t;a=x+a;b=H+b;break;case 0:c=fa-lQ("TL"),b=u*Math.sin(Jn(c)),a=u*Math.cos(Jn(c)),ha&&(b=a/m),c=z-a,d=t-b,a=x+a,b=H+b}var u=l.F()+l.l(),fa=l.w()+l.o(),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Vb=Math.ceil(d+b)<fa;k&&(l.w(),J===l.w()?(d=J,b=Q,ha&&(c=E,a=L)):(d=l.w(),b=Q+(J-
d),ha&&(a=b*m,c=E,Math.ceil(c+a)<u&&(a=u,b=a/m))));ta&&(l.F(),E===l.F()?(c=E,a=L,ha&&(b=Q,d=J)):(c=l.F(),a=L+(E-c),ha&&(b=a/m,d=J,Math.ceil(d+b)<fa&&(b=fa,a=b*m))));Za&&(E+L===u?(a=L,c=E,ha&&(d=J,b=Q)):(a=u-c,ha&&(b=a/m,d=J)));Vb&&(J+Q===fa?(b=Q,d=J,ha&&(c=E,a=L)):(b=fa-d,ha&&(a=b*m,c=E)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<fa&&(d=J,c=E,b=fa,ha&&(a=b*m)),a<u&&(c=E,d=J,a=u,ha&&(b=a/m)),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Vb=Math.ceil(d+b)<fa,k||ta||Za||
Vb||(h.kb(c/W).eb(d/W).ma(a/W).ea(b/W),g.bm(h),g.$a(),E=c,J=d,L=a,Q=b))})}function d(){Za.off("mousemove|touchmove",b).off("mouseup|touchend",d);ta.write(function(){e.removeClass("on");g.vg=!1})}var e=$(this),g=K.Wa()[0],h=g.fg(),k=g.fg().scale(W),l=g.hd().scale(W);l.kb(0).eb(0);var m=k.ei(),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q={x:n,y:p};a=Bm(Wg(e.get(0).getBoundingClientRect()));var u=Bm(Wg($(".cropControls").get(0).getBoundingClientRect())),
v=kQ(a,u),z=k.F(),t=k.w(),x=k.l(),H=k.o(),E=k.F(),L=k.l(),J=k.w(),Q=k.o(),S=0,N=0,ha=!0,fa=Zg(),ta=Zg();g.vg=!0;var Za=new hp($(document));Za.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function UU(a){function b(a){H=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;E=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;L.read(c);return!1}function c(){var a,b,c,d,J=0,Q=0,qa=h.clone(),da=Mn(l,m,H,E),J=tC(kQ({x:H,y:E},n),e.Ta()),Ba=0;switch(CT(g.get(0))){case 2:Ba=J-lQ("TR");Q=da*Math.cos(Jn(Ba));J=da*Math.sin(Jn(Ba));a=h.F();c=h.w()-Q;b=h.l()+J;d=h.o()+Q;break;case 7:Ba=J-lQ("BR");Q=da*Math.sin(Jn(Ba));J=da*Math.cos(Jn(Ba));a=h.F();c=h.w();b=h.l()+J;d=h.o()+
Q;break;case 5:Ba=J-lQ("BL");J=da*Math.sin(Jn(Ba));Q=da*Math.cos(Jn(Ba));a=h.F()-J;c=h.w();b=h.l()+J;d=h.o()+Q;break;case 0:Ba=J-lQ("TL"),Q=da*Math.sin(Jn(Ba)),J=da*Math.cos(Jn(Ba)),a=h.F()-J,c=h.w()-Q,b=h.l()+J,d=h.o()+Q}da=k.w();c<da&&(t===da?(c=t,d=x):(c=da,d=x+(t-c)));da=k.F();a<da&&(v===da?(a=v,b=z):(a=da,b=z+(v-a)));da=k.o()+k.w();c+d>da&&(t+x===da?(d=x,c=t):d=da-c);da=k.l()+k.F();a+b>da&&(v+z===da?(b=z,a=v):b=da-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(qa.kb(a).eb(c).ma(b).ea(d),
v=a,t=c,z=b,x=d,L.write(function(){ul(e,qa.scale(1/W));u&&dh(u,p,q);e.$a()}))}function d(){Q.off("mousemove|touchmove",b).off("mouseup|touchend",d);J.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.vg=!1})}var e=K.Wa()[0],g=$(this);e.$a();var h=e.hd();h.scale(W);var k=e.fg();k.scale(W).translate(h.F(),h.w());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},q=ch(e),
u=e instanceof AC?new tl(e):null,v=h.F(),z=h.l(),t=h.w(),x=h.o(),H=0,E=0,L=Zg(),J=Zg();e.vg=!0;var Q=new hp($(document));Q.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function RU(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-n;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-p;var d=Math.sqrt(Math.pow(q+b,2)+Math.pow(u+a,2));J=e(H);10>q+b||10>u+a||(E=d/v,c(),x.css("-webkit-transform","scale("+E+")").css("transform","scale("+E+")"))}function c(){var a=$("#overlays").offset();L.css("top",J.top-a.top+"px").css("left",J.left-a.left+"px").css("width",J.width+"px").css("height",J.height+"px")}function d(){N.off("mousemove|touchmove",
b).off("mouseup|touchend",d);wV(z,!1);k();x.remove();h();L.remove()}function e(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>e&&(e=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function g(){H=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();H.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});
H.removeClass(".multiSelected");x=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");H.appendTo(x);var a=K.Wa()[0].C().parent(".elements");x.appendTo(a);m.hasClass("br")?x.addClass("fixTopLeft"):m.hasClass("bl")?x.addClass("fixTopRight"):m.hasClass("tr")?x.addClass("fixBottomLeft"):m.hasClass("tl")&&x.addClass("fixBottomRight")}function h(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=
$(this).data("canvaElement");$(this).css("opacity",1-a.Ha/100)})}function k(){var a=x.get(0).getBoundingClientRect(),b=a.left,c=a.top;OK();H.each(function(){function a(){0==v&&h.setPosition(t/W,u/W)}function d(){var a=h.qa();if(!zm(n,a)){var b=n.serialize(),a=a.serialize();h.mA()&&(b.transformDependentData=p,a.transformDependentData=h.cA());b={elementIndex:h.K(),pageIndex:q,old:b,"new":a};M.register(new Y(fp,b))}}var e=$(this).data("multi-id"),g=$(".multiSelected").filter(function(){return $(this).data("multi-id")==
e}).first(),h=g.data("canvaElement"),k=g.get(0).getBoundingClientRect(),m=$(this).get(0).getBoundingClientRect(),n=h.qa(),p=h.mA()?h.cA():null,q=ep(K,h.R()),g=(m.right-m.left)/(k.right-k.left),k=(m.bottom-m.top)/(k.bottom-k.top),t=m.left-b+S,u=m.top-c+Q,v=h.Ta();$(this).remove();if(h instanceof Mp){var m=h.Lc(0),m=parseFloat(parseFloat(m*E)),z=h.l()*g,k=h.Ub(0),g=h.Jd;h.Jd=!1;h.ve(0,m);h.ma(z);h.ea();h.ab();a();m=h.Ub(0);m={elementIndex:h.K(),pageIndex:q,textIndex:0,"new":m,old:k};M.register(new EO(1,
m));d();g&&DE(h)}else h.setSize(h.l()*g,h.o()*k),a(),d();h.ab();QK(zc(l),Bc(l))});PK()}var l=Lb,m=$(this),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=$(".multipleSelectionBox").width(),u=$(".multipleSelectionBox").height(),v=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),z=K.Wa();if(!(0>=z.length)){a=z[0].R();for(var t=0;t!==z.length;t++)if(z[t].R()!==a)return;m.addClass("on");T.trigger("hideContextualControlsRequested");
wV(z,!0);var x,H,E=1,L=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');g();var J=e(H),t=FD(vb,y(a));a=t.$el.offset().top;var t=t.$el.offset().left,Q=J.top-a,S=J.left-t;x.css("left",S+"px").css("top",Q+"px");H.each(function(a,b){$g(b,{Ji:-S,Ki:-Q},!0)});$("#overlays").append(L);
c();var N=new hp($(document));N.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function QU(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?e.iC(b/W):e.iC();e.$a();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.fk&&e.fk();e.vg=!1;var a={elementIndex:e.K(),pageIndex:ep(K,e.R()),"new":{padding:e.padding},old:{padding:g}};M.register(new Y(fp,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement");if(e){var g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.vg=!0;var k=new hp($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}
function PU(a){function b(a){yr=k instanceof cp||k instanceof CC?E:k.nb()?E:a.shiftKey?!E:E;Hm=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Im=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;sO.read(c);return!1}function c(){Zq=ip(k);var a=kQ({x:Hm,y:Im},H),b=Mn(t,x,Hm,Im),c=Math.cos(Jn(a-jM))*b,d=0,g=0,l=0;yr&&(a=jM,b=c);if(!(mM&&3>Math.abs(lM-Hm)||nM&&3>Math.abs(kM-Im))){mM=nM=!1;var m=CT(e.get(0)),n,E,zf=!1,a=tC(a,k.Ta());switch(m){case 4:d=c;n=wc;E=da;break;case 3:d=
c;n=da;E=wc;break;case 1:g=c;n=xb;E=Za;break;case 6:g=c;n=Za;E=xb;break;case 2:zf=!0;n=qb;E=qa;l=a-lQ("TR");d=b*Math.sin(Jn(l));g=b*Math.cos(Jn(l));break;case 7:zf=!0;n=ta;E=Ba;l=a-lQ("BR");g=b*Math.sin(Jn(l));d=b*Math.cos(Jn(l));break;case 5:zf=!0;n=qa;E=qb;l=a-lQ("BL");d=b*Math.sin(Jn(l));g=b*Math.cos(Jn(l));break;case 0:zf=!0,n=Ba,E=ta,l=a-lQ("TL"),g=b*Math.sin(Jn(l)),d=b*Math.cos(Jn(l))}k instanceof Mp&&(3===m?(n=qa,E=wc,rC(k)&&(n=Md),sC(k)&&(n=Ba)):4===m&&(n=ta,E=da,rC(k)&&(n=ue),sC(k)&&(n=qb)));
var Jm=n.get(0).getBoundingClientRect(),tO=S.scrollLeft,uO=S.scrollTop;yr&&zf&&(0===d?d=g*z:g=d/z);var Nz;Nz=0===d?k.l():zf?Math.max(u+d,J)/W:Math.max(u+d,L*W,Ig)/W;var Oz;Oz=0===g?k.o():zf?Math.max(v+g,Q)/W:Math.max(v+g,L*W,Vb)/W;k.elements&&0!==k.elements.length||dh(k,l7,m7,{d:!0,zl:!0,r:!0,faa:!0},yr);c=$("#overlays").get(0).getBoundingClientRect();E=E.get(0).getBoundingClientRect();a=E.left-c.left;c=E.top-c.top;E.left<Zq.x&&fa.addClass("positionIndicatorScalingFromLeft");E.top>Zq.y&&fa.addClass("positionIndicatorScalingFromBottom");
fa.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(Nz.toFixed(0)+" × "+Oz.toFixed(0));sO.write(function(){Pz=zf;k.setSize(Nz,Oz,Pz);var a=n.get(0).getBoundingClientRect(),b=uO-ha,c=tO-N;ha=uO;N=tO;fm+=Jm.top-a.top-b;xc+=Jm.left-a.left-c;a=k;b=(q+fm)/W;MC(a,(p+xc)/W);UC(a,b);k instanceof Mp&&0!==k.Ta()?(k.ma(),k.rc()):k.ab();JV(k);(a=h.data("toolbar"))&&k.nb()&&k.se()&&lE(a)});lM=Hm;kM=Im}}function d(){Jm.off("mousemove|touchmove",
b).off("mouseup|touchend",d);J9.write(function(){fa.remove();$("#overlays .align").removeClass("on");e.removeClass("on");k instanceof Mp?window.setTimeout(function(){k.fk();VA(h,!0);k.vg=!1},0):k.vg=!1;var a=k.qa();if(!zm(l,a)){OK();gV(k);var b=l.serialize(),a=a.serialize();k.mA()&&(b.transformDependentData=m,a.transformDependentData=k.cA());b={elementIndex:k.K(),pageIndex:ep(K,k.R()),old:b,"new":a,proportionalSetSize:Pz};M.register(new Y(fp,b));n&&(b={elementIndex:k.K(),pageIndex:ep(K,k.R()),old:n,
"new":k.Ub(k.Bb()),textIndex:k.Bb()},M.register(new EO(1,b)));PK()}ta.remove();Za.remove();qa.remove();da.remove();Ba.remove();xb.remove();qb.remove();wc.remove();ue.remove();Md.remove()})}var e=$(this),g=Lb,h=e.parents(".selectionBox").data("element"),k=h.data("canvaElement");if(k){e.addClass("on");var l=k.qa(),m=k.mA()?k.cA():null,n=k instanceof Mp&&k.Jd?k.Ub(k.Bb()):null,p=Math.round(k.left*W),q=Math.round(k.top*W),u=VC(k),v=jp(k),z=u/v,t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H={x:t,y:x},E=!(k instanceof Mp||k instanceof EC),L=O.kJ;k instanceof IC&&(L=O.ly);k instanceof KH&&(L=O.I0);a=(new V(0,0,L,L)).scale(W);a=Gm(new V(0,0,z,1),a);var J=a.l(),Q=a.o(),S=$("#canvaDocument").get(0),N=S.scrollLeft,ha=S.scrollTop,fa=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(fa);T.trigger("hideContextualControlsRequested");gp();k.nb()&&k.se()&&(k.oo(),kP(h,zc(g)));var ta=$("\x3cdiv\x3e\x3c/div\x3e");
ta.css({position:"absolute",top:0,left:0});k.C().append(ta);var Za=$("\x3cdiv\x3e\x3c/div\x3e");Za.css({position:"absolute",top:0,left:"50%"});k.C().append(Za);var qa=$("\x3cdiv\x3e\x3c/div\x3e");qa.css({position:"absolute",top:0,right:0});k.C().append(qa);var da=$("\x3cdiv\x3e\x3c/div\x3e");da.css({position:"absolute",top:"50%",right:0});k.C().append(da);var Ba=$("\x3cdiv\x3e\x3c/div\x3e");Ba.css({position:"absolute",bottom:0,right:0});k.C().append(Ba);var xb=$("\x3cdiv\x3e\x3c/div\x3e");xb.css({position:"absolute",
bottom:0,left:"50%"});k.C().append(xb);var qb=$("\x3cdiv\x3e\x3c/div\x3e");qb.css({position:"absolute",bottom:0,left:0});k.C().append(qb);var wc=$("\x3cdiv\x3e\x3c/div\x3e");wc.css({position:"absolute",top:"50%",left:0});k.C().append(wc);var ue=$("\x3cdiv\x3e\x3c/div\x3e");ue.css({position:"absolute",top:"50%",left:0});k.C().append(ue);var Md=$("\x3cdiv\x3e\x3c/div\x3e");Md.css({position:"absolute",top:"50%",right:0});k.C().append(Md);var Ig=0,Vb=0;k instanceof cp&&(g=k.vb?$.extend(!0,{},k.vb):null)&&
(Ig=(g.left+g.right)*hE(k).scale*W,Vb=(g.top+g.bottom)*hE(k).scale*W);var fm=0,xc=0,Zq=ip(k),g=Bm(Wg(e.get(0).getBoundingClientRect())),jM=kQ(g,Zq),kM=x,lM=t,mM=!1,nM=!1,l7={},m7=ch(k),Hm=0,Im=0,yr=E,Pz=!1,sO=Zg(),J9=Zg();k.vg=!0;var Jm=new hp($(document));Jm.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function JV(a){if(a instanceof Mp&&a.Jd){for(var b=a.Lc(0),c=a.C().children(".inner"),d=c.parent().outerHeight()/W,e=c.parent().outerWidth()/W;c.outerHeight()<=d&&Number(c.prop("scrollWidth"))<=e&&b<O.G0;)b++,a.ve(0,b,!0);for(;(c.outerHeight()>d||.95*Number(c.prop("scrollWidth"))>e)&&b>O.jJ;)b--,a.ve(0,b,!0);b===O.jJ&&c.outerHeight()>d&&a.ea(c.outerHeight());a.C().removeData("cachedLineLengths")}}var KV=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function QK(a,b){if(K&&K.Wa){var c=K.Wa();if(!(2>c.length)){var d=$("#overlays"),e=$(".selectionBox.multipleSelectionBox");0==e.length&&(e=$(KV({resize:b.resize(),rotate:b.rotate()})),e.appendTo(d));0===c.filter(function(a){return 0!==a.Ta()}).length&&e.addClass("cornerHandles");b=LV(c);e.css("left",b.F()).css("top",b.w()).css("width",b.l()).css("height",b.o());var g=$();c.map(function(a){g.push(a.C().get(0))});PS(g,a)}}}
function LV(a){function b(a,b){return TC(vb.Ma[a?a.K():0])+b*W}function c(a,b){return XC(vb.Ma[a?a.K():0])+b*W}var d=a.map(function(a){return b(a.R(),a.$b())}),e=a.map(function(a){return c(a.R(),a.kc())}),d=wl(d),e=wl(e),g=xl(a.map(function(a){return b(a.R(),a.Nd())}));a=xl(a.map(function(a){return c(a.R(),a.kd())}));return new V(d,e,g-d,a-e)}
function MV(){var a=$(this),b=a.data("canvaElement");if(b&&b.lp()&&!(0<a.parents(".group").length)){var c=K.Wa(),d=K.Gb().filter(function(a){a=FD(vb,a);return bO(a.$el,$("#marquee"))}),e=bO(a,$("#marquee")),d=-1!==d.indexOf(b.R()),g=0===c.length;c.forEach(function(a){b.R()===a.R()&&(g=!0)});e&&d&&g?b.Hb()||b.Hg()?(c=a.get(0).getBoundingClientRect(),e=$("#marquee").get(0).getBoundingClientRect(),e.top+10<c.top&&e.left+10<c.left?(b.zk(!0),a.addClass("multiSelected")):(b.zk(!1),a.removeClass("multiSelected"))):
(b.zk(!0),a.addClass("multiSelected")):(b.zk(!1),a.removeClass("multiSelected"))}}function KU(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function HU(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function IU(){if(NV)$("#content").off("keydown",".element.text.focused",IU);else{var a=$(this);OV(a)}}function JU(){NV=!0;var a=$(this);OV(a)}var NV=!1;function OV(a){function b(){a.data("handleTextElementInputTimerId",0);PV(a);VA(a,!0)}if(!QV(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=NV?requestAnimationFrame(b):window.setTimeout(b,O.Gc),a.data("handleTextElementInputTimerId",c))}}
function PV(a){var b=a.data("canvaElement");if(b){var c=b.Bb();0<Object.keys(b.ks(c)).length&&RV(function(){b.fp(c)})}}function QV(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function RV(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function VA(a,b){function c(){h.ab();k&&(m.LP(h,L),m.ab())}function d(a,b){return a.$b()+b>a.R().Nd()}function e(a){return a.$b()<=a.R().$b()}var g=!!b;if(!QV(a)){var h=a.data("canvaElement");if(h&&(h.Iv()&&(g=!1),b=a.children(".inner"),0!==b.length)){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Ta();h.fk()}100<b.text().length&&h.lt(h.Bb());var n=g&&!h.FA();n&&(b.css("width","0"),b.addClass("explicitLineBreaksLayoutMode"));var p=b.prop("scrollWidth"),
q=yl(b[0]).uo;q&&1<q&&(p/=q);var q=a.data("justification"),u=h.l(),v=h.F();if(n){var z=u;a.data("ephemeralStartWidth")?z=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",h.l());a=Math.max(z,p+2);h.R()&&(q&&"left"!==q?"right"===q?(h.kb(v+u-a),e(h)&&(a=u,h.kb(0),h.fk())):"center"===q&&(h.kb(v+(u-a)/2),e(h)||d(h,a))&&(h.kb(v),a=u,h.fk()):d(h,a)&&(a=h.R().Nd()-h.$b(),h.fk()))}else a=Math.max(u,p);q=p=0;if(g=(0!==Om(l)-Om(h.Ta())||!(!h.ke||"top"===h.ke))&&g){var t=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
h.C().find(".shim").remove();h.C().prepend(t);t.css("position","absolute").css("left",0);h.ke&&"top"!==h.ke?sC(h)?t.css("top","100%"):rC(h)&&t.css("top","50%"):t.css("top",0);var x=t.get(0).getBoundingClientRect(),H=h.w(),E=h.F()}n&&b.removeClass("explicitLineBreaksLayoutMode");h.ma(a);var L=h.qa();b=h.o();h.ab();g&&b!==h.o()?(b=t.get(0).getBoundingClientRect(),t.remove(),p=b.top-x.top,q=b.left-x.left,WC(h)&&(t=cn(bn([q,p]).rotate(m.Ta())),q=t[0],p=t[1]),0==p&&0==q||h.setPosition(E-q/W,H-p/W),window.setTimeout(c,
0)):(c(),t&&t.remove());JV(h)}}}
function nL(){var a=K.Wa(),b,c,d=O.yS*O.jD,e,g;(c=K.Ea())&&1===a.length&&(b=a[0],JO(b),a=b.qa(),b instanceof EC?(e=c.qa(),e.eb(e.w()-d),e.ma(e.l()+2*d),e.ea(e.o()+2*d),e.kb(e.F()-d)):e=fh(a.clone(),c.qa()),b instanceof Mp?(OK(),d=b.Ub(0),g=b.Lc(0)*(e.o()/a.o()),b.ve(0,g),window.setTimeout(function(){b.ma(e.l());b.ea();b.ab()},0),b.setPosition(e.F(),e.w()),g=b.Ub(0),d={elementIndex:b.K(),pageIndex:ep(K,c),textIndex:0,"new":g,old:d},d=new EO(1,d),M.register(d)):(b.td(e),b.ab()),c={elementIndex:b.K(),
pageIndex:ep(K,c),"new":e.serialize(),old:a.serialize()},c=new Y(fp,c),M.register(c),b instanceof Mp&&PK(),Bg(b))}function Xz(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}function VU(){Xz()}
function WU(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=u,a.Fz=!1,a.C().toggleClass("failed",a.Fz),a.Xq(0),a.gC(0),a.yk(0,"Glegoo"),a.jt=!0,WA(a.C(),!0),a.ab(),Bg(u),XK(u.C(),!0),u.$a(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=q.get(0)===n;if(a=q.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=Wg(a.get(0).getBoundingClientRect()),b=Wg(n.getBoundingClientRect()),a=Yg(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=nc(Lb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
q=$("#cutoutMessage"),u=$(n).data("canvaElement");if(u){0>=q.length&&(q=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));q.data("canvaElement",u).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=Wg(n.getBoundingClientRect()),h=Wg($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=FT().translate(k.left,k.top).translate(-h.F(),
-h.w()),l=new V(0,0,l,m),Lm(Fm(l,a).translate(-h.F(),-h.w()),k),q.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function XU(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page .page__elements")&&($(a.target).is("input")||$(document.activeElement).blur(),hh())}
function ih(a,b,c){function d(a){cO=!0;window.clearTimeout(S);S=window.setTimeout(function(){cO=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);N.forEach(function(a){a!=b&&l.call(a)});var c=$(b),d=0<=N.indexOf(b);!d&&0<c.parents("#hotspots").length&&c.is(".element.hotspot")?(Q=b,g.call(b,a),N=[b]):N=d?[b]:[]}function e(a){$(document).off("touchmove",d).off("touchend",e);var b=$(Q);0<b.parents("#hotspots").length&&b.is(".element.hotspot")&&
m.call(Q,a);window.setTimeout(function(){cO=!1},300)}function g(b){if(b&&b.shiftKey)z=!1;else if(a.hasClass("svg")||a.hasClass("cutout")){t=z=!1;var c=$("#cutoutMessage");0>=c.length&&(c=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),c.appendTo("#content"));c.off("transitionend").removeClass("disappear")}else if(u&&null===u.Pb())t=z=!1;else{var d=q.clone(!0);d.css("width","").css("height","");b=$(this).data("canvaElement");var e=$(this).data("placeholderIndex");
a.data("placedInElement",b).addClass("placing").addClass("draggedMediaOverHotspot");var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.u(),h=h.getVersion(),l=b.rn(e),d=new V(0,0,u?VC(u):parseInt(d.data("screenWidth"),10),u?jp(u):parseInt(d.data("screenHeight"),10));Gm(d,l).translate(-l.F(),-l.w());d={type:"image",index:e,mediaId:g,mediaVersion:h,origin:u?u.Ef():null,imageBox:d.serialize(),flipOrientation:u?u.ya:0,mediaApproved:void 0===k?!0:k};L=b.rl(e);J=ED(b.Mp(e));
g===L.mediaId?z=!1:(b.$q(e,d),u&&((g=u.C().data("selectionBox"))&&g.hide(),u.Zp()&&u.Ld()&&(c=ED(u.Ld()))),b=b.Mp(e),b.remove(),zJ(b,c||ED(b)))}}function h(){E.read(k)}function k(){var b=a.offset();E.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.Mp(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");z&&(b.$q(c,L),d.remove(),zJ(d,J),u&&(b=u.C().data("selectionBox"))&&b.show())}function m(b){if(a.data("li")&&(!b||!b.shiftKey)&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),t)){b=a.data("li").data("result");var c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.$z(d);dO(c);var g={elementIndex:c.K(),pageIndex:ep(K,c.R()),placeholderIndex:d,"new":c.rl(d),old:L},h={elementIndex:c.K(),pageIndex:ep(K,
c.R()),placeholderIndex:d,"new":{filter:ED(c.Mp(d))},old:{filter:J}},g=new Y(AO,g),h=new Y(11,h);OK();M.register(g);M.register(h);c.Uc=!0;c.ut(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");x.remove();e.removeData("oldPlacement");u&&(u.kb(a.data("startLeft")),u.eb(a.data("startTop")),EN(u),u.remove(),u instanceof AC&&c instanceof cp&&0!=u.ya&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?
($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);u=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(u);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");
0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));var m=FD(vb,y(c.R()));l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e');SV(m,l);var q=c.qa(),t=c.rn(d),m=q.w()+t.w()+t.o()/2,m=m*W,m=m-l.outerHeight()/2,q=q.F()+t.F()+t.l()/2,q=q*W,q=q-l.outerWidth()/2;l.css("top",m).css("left",q);$(document).on("mousedown",a).on("mousemove",e);var u=0,v=setTimeout(k,
1E4)},200));PK();b&&(e=b.Ef(),e!==Kg&&"GOOGLE"!==e||Cg(Hb,b,c.Sp(d)),wL(b,v))}}function n(){$(this).remove()}b=b||K.Ea();var p=nc(Lb),q=$("img",a),u=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),z=!0,t=!0,x=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),H=KE(vb,b);x.css(H.serialize());var E=Zg();b.ia().forEach(function(a){if((a instanceof cp||a instanceof EC)&&!WC(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.qa();b.css(d.scale(W).round().serialize()).css("transform",
"rotate("+a.Ta().toString()+"deg)");for(var d=a.ig(),e=0;e<d;e++){var k=a.rn(e);k.scale(W).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(x)}});x.appendTo("#content");b=FD(vb,b).$el;x.css("left",b.offset().left).css("top",b.offset().top);var L=null,J=null,Q=null,S=null;if(!0===c){var N=[];$(document).on("touchmove",d).on("touchend",
e)}}
function zN(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:q,top:u,width:0,height:0},c=0;c<p.length;c++){var d=p[c];ah(a,d)&&!ah(b,d)?e.call(d.element):ah(b,d)&&!ah(a,d)&&g.call(d.element)}q=a.left;u=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.originalEvent.changedTouches[0].clientX,top:b.originalEvent.changedTouches[0].clientY,width:0,height:0},g=0;g<p.length;g++){var l=p[g];
if(ah(e,l)){var m=$(".page",k).index(l.element);$(l.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(m));h.call(l.element,b,a)}}}function e(){var b=$(this).data("page");b&&(b.addClass("hotspotHover"),$(this).addClass("hover"),a.addClass("placing"))}function g(){var b=$(this).data("page");b&&b.removeClass("hotspotHover");$(this).removeClass("hover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);yP({qp:h.ts(),me:K.lb(),page:h});c(h.serialize())}
function c(b){n&&(e=new Xm({type:KB,id:n.id,version:n.version}),TV(a,e));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);p&&(d.id=p.id,d.version=p.version);b=Tm(new Rm(d),b);var d={"new":b,old:Za,pageIndex:ta.K()},g=eq(b.Jg()),h=U,k=b.serialize();!g&&h&&k&&Vl(h,k.id);KO(ta,b,l,e);M.register(new IO(4,d))}var e;l&&(ta.clear(),tP(ta,l));if(a.width!==ta.l()||a.height!==ta.o()){var g=Tm(new Rm,a),h=new Jp(K,{});KO(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function e(a){return a.getDocument().Ie().content.pages[q.pageIndex]}
hh();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page");if(g&&h){h=$("#canvaDocument \x3e .inner \x3e .page").index(h);Kp(K,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),p=g.find("a").data("layoutProperties"),q=g.find("a").data("pageTemplateRequest"),u=g.find("a").data("pageTemplateRequest"),fa=g.find("a").data("pageTemplate"),ta=K.Ea(),Za=ta.lu();n&&n.previewUrl&&(l=n.previewUrl);p&&p.previewUrl&&(l=p.previewUrl);if(q||u||fa)HM.Qy(ta,Lb).then(function(a){a&&
(q?(ta.clear(),tP(ta,n.previewUrl),Ab.getDocument(new Ft({ag:n.id,vA:!0})).then(e).then(d)):u?(ta.clear(),$.getJSON(u.url,function(a){(a=a.content.pages[0])&&d(a)})):fa&&d(fa))});else if(0<g.parents(".backgroundGallery").length)GN(a.data("li")),(h=g.data("result"))&&wL(h,m);else if(0<g.parents(".templateGallery").length){var qa=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),da=g.parents(".results").data("view"),Ba=g.find("a");UV(da,Ba,!0);m?(g=g.data("usablePreview"),VV(da,m,
g)):qa?WV(da,qa):h&&iP(da,h)}}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e'),l=parseInt($("#canvaDocument").offset().left,10),m=parseInt($("#canvaDocument").offset().top,10),n=$("#canvaDocument").get(0).scrollTop;k.css("left",l).css("top",m-n).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){var a=$(this);a.clone().css("width",a.outerWidth()).css("height",
a.outerHeight()).data("page",a).empty().appendTo(k)});if(b){var p=[],q=0,u=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();p.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",k).mouseover(e).mouseout(g).mouseup(h)}
function DS(a){function b(){h.data("selectionBox")?($("#overlays \x3e .mask").addClass("on"),h.addClass("cropping"),a.$a(),$(".cropControls img.uncropped").css("opacity",.5),$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)"),cD($(".cropControls"),a.Ta())):e()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.F(),c=a.w();a.Nr();b={elementIndex:a.K(),pageIndex:ep(K,a.R()),placeholderIndex:a.Jc(),"new":{placeholderBox:a.hd().serialize(),imageBox:a.fg().serialize(),
cropped:!0,left:a.F(),top:a.w()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof AC,left:b,top:c}};M.register(new Y(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();kP(h,zc(Lb));g();U&&Wl("crop_confirm")}function e(){a instanceof AC?(l&&ul(a,l),a.bm(k),a.DI=!1,h.removeClass("cropping")):(a.bm(k),a.Nr());var b=h.data("toolbar");a.Jf()&&b&&b.show();$("#overlays \x3e .mask").removeClass("on");
$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();a.Jf()&&kP(h,zc(Lb));g();Wl("crop_cancel")}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",e);$(document).off("keydown",c)}if(a.Jm&&a.QM()){var h=a.C(),k=a.fg(),l=a.hd(),m=!!a.Tk;$("#content").on("click",".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",e);$(document).on("keydown",c);a.BH(a.Jc(),
b)}}function fO(){Zg().write(function(){$("#overlays .align").removeClass("on")})}function dh(a,b,c,d,e){function g(a){var b=null;if(a instanceof Z||a instanceof vl)b=a.R();return b?FD(vb,b):gh(vb)}DU(a,b,c,function(){return W},function(a){return TC(g(a))+Math.round(a.$b()*W)},function(a){return XC(g(a))+Math.round(a.kc()*W)},d,e)}
function ch(a){var b=[];void 0!==a&&(a instanceof Z?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?K.Ea():b[0].R();if(!c)return[];a=c.ia();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.Hb()&&!WC(a)});a.push(c);var d=[];Rb&&Rb()&&(d=qQ());c=sQ(c)||[];return a.concat(d).concat(c)}function pO(){Tb&&wO();$("body").addClass("blockDocument");hh();$("#search").blur()}
function nO(){if(Tb){var a=Tb;a.ID=!1;a.$el.removeClass("blockEditorControls");XV(a,a.Ou)}$("body").removeClass("blockDocument")}function VK(a,b){var c=a.fi();c&&EE(a,c+105*b/2);a={elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{borderWidth:a.fi()},old:{borderWidth:c}};M.register(new Y(fp,a))}function WK(a,b){var c=a.pe();b=c+5*b;0<=b&&50>=b&&(a.ar(b),a={elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{spacing:a.pe()},old:{spacing:c}},M.register(new Y(fp,a)))}
function UK(a){var b=a.fi();b?EE(a,0):EE(a,105);a={elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{borderWidth:a.fi()},old:{borderWidth:b}};M.register(new Y(fp,a))}function YV(a,b){M.register(new Y(fp,{elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{verticalAlignment:a.xs()},old:{verticalAlignment:b}}))}function dL(a){var b=a.xs();a.vR();YV(a,b)}function eL(a){var b=a.xs();a.XN();YV(a,b)}function fL(a){var b=a.xs();a.IJ();YV(a,b)}
function YK(a,b){function c(){a.mU&&a.mU()}function d(){a.bW&&a.bW()}function e(){a.BZ&&a.BZ(0)}var g=a.cb(a.Bb());0===AA(g)&&(1===b?RV(d):-1===b?RV(c):0===b&&RV(e),VA(g,!0))}
function SR(a){var b=a.ad,c=_.sortBy(a.ia(),function(a){return a.w()}),d=c.filter(function(a){return a!==b});if(b){a.Ff()&&a.Mx();OK();var e=[],g;if(b instanceof Mp){var h=b.qa(),k=c.indexOf(b)-1,l=c.indexOf(b)+1;g=b.xs();var m=a.w(),n=h.clone(),p;c.length>l&&c[l]instanceof Mp?(p=h.xa()-c[l].w(),n.ea(p)):1<c.length&&c[k]instanceof Mp?(p=c[k].xa()-h.w(),n.ea(p)):n.ea(0);d.forEach(function(a){var b={pageIndex:ep(K,a.R())};b.old=a.qa();e.push(b)});Object.freeze(d);Object.freeze(e);a.LP(b,h,n);if(0===
a.Ta()){c=m;switch(g){case "middle":c=m-p/2;break;case "bottom":c=m-p}g={elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{top:c},old:{top:m}};g=new Y(fp,g);M.register(g);a.eb(c)}}EN(b);a.sj(b);b.remove();g=a.Jr(d[0]);g.proportionalSetSize=!1;g=new Y(fp,g);M.register(g);d.forEach(function(a,b){e[b]&&(e[b].elementIndex=a.K(),e[b]["new"]=a.qa(),e[b].proportionalSetSize=!1)});e.forEach(function(a){M.register(new Y(fp,a))});1===a.ia().length&&(JO(a),fV(a),HO(a));PK()}}
function wV(a,b){a.forEach(function(a){a.vg=b})}function hL(){var a=$(".element [contenteditable\x3dtrue]");if(1===a.length){var b=a.data("textChangeCount")||0;if(0<b&&document.execCommand("undo",!1,null)){a.data("textChangeCount",--b);return}gp()}a=M;if(0!=a.nd.length){a.trigger("beforeOperationStackPop");a.AR=!0;if(0<a.xn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.nd.pop(),c=b.invert();c.ho();a.Iw.push(b);hh();rV(DO(c));a.AR=!1;K.trigger("change")}}
function gL(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;gp()}var a=M;if(0!=a.Iw.length){a.trigger("beforeOperationStackPop");a.KP=!0;if(0<a.xn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.Iw.pop();b.ho();a.nd.push(b);hh();rV(DO(b));a.KP=!1;K.trigger("change")}}
function ZV(a){var b=new MO(1,{"new":{docType:Wu(a.doctype),doctypeSpec:a.$k?Op(a.$k):null},old:{docType:Wu(a.Fb.lb()),doctypeSpec:a.Fb.$k?Op(a.Fb.$k):null,model:a.Fb.serialize()}}),c=y(a.doctype.getName()),d=a.Fb.qb();d.Mu=c;d.trigger("change");hh();a.nd.register(b);b.ho()};function $V(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function aW(a,b){return $V(a,"view",b)}function bW(a,b,c,d){return aW(a,b)+"?"+cW(a,c,d)}function cW(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function dW(){}dW=Backbone.View.extend({className:"switch"});f=dW.prototype;f.events=function(){return{"blur input":this.cB,"change input":this.q5,dragstart:this.Ss,"focus input":this.Dq,mousedown:this.Ts}};f.initialize=function(a){a=_.defaults({},a,{Kl:null,on:!1,ik:null});this.Kl=a.Kl;this.ou=void 0===a.ou||!!a.ou;this.MG=this.MG.bind(this);this.NG=this.NG.bind(this);this.ik=a.ik;this.CO=a.on};function eW(a){return!!a.input.prop("checked")}f.cB=function(){this.$el.removeClass("switchFocused")};
f.q5=function(){var a=eW(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.MG=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=eW(this)&&a.pageX<b;a=!eW(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),fW(this),this.toggle()};f.NG=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.ou&&this.toggle());this.handle.removeClass("switchHandlePressed");fW(this)};f.Ss=function(a){a.preventDefault()};f.Dq=function(){this.$el.addClass("switchFocused")};
f.Ts=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.MG),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.NG)};f.remove=function(){Backbone.View.prototype.remove.call(this);fW(this)};function fW(a){$(document).off({mousemove:a.MG,mouseup:a.NG})}
f.render=function(){var a;this.CO?(a=this.CO,delete this.CO):a=!(!this.input||!this.input.prop("checked"));var b,c={Kl:this.Kl,ik:this.ik},d,c=c||{};soy.asserts.assertType(null==c.ik||c.ik instanceof goog.soy.data.SanitizedContent||goog.isString(c.ik),"onLabel",c.ik,"null|string|undefined");b=c.ik;soy.asserts.assertType(null==c.Kl||c.Kl instanceof goog.soy.data.SanitizedContent||goog.isString(c.Kl),"offLabel",c.Kl,"null|string|undefined");c=c.Kl;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function yP(a){function b(a){a.translate(-g.F(),-g.w());Cm(a,q,u,p);a.translate(t,x)}var c=a.page,d=c.qa(),e=function(a){a=Rg(a.tb);return new V(0,0,a.l(),a.o())}(a.me),g=a.qp||d;a=g.l();var h=g.o(),k=e.l(),l=e.o(),m=k/a,n=l/h,p=Math.min(m,n),q=a/2,u=h/2,v=k/2,z=l/2,t=v-q,x=z-u;c.ia().forEach(function(a){if(!a.Ih&&!WC(a)){var c;if(a instanceof EC&&1===a.ig()){var g=a.pe();c=a.qa();g=Wm(d.l(),d.o(),g,!1);c=Km(c,g)}else c=a instanceof AC?a.mq()&&a.Hb():!1;if(c)a instanceof EC?(a.td(Wm(k,l,a.pe(),!1)),
a.ab()):a.td(e.clone());else if(a.Hb()){c=a.qa();g=1;b(c);if(m<n)var g=c.w(),h=l-c.xa(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.F(),h=k-c.Za(),g=k/(k-2*Math.max(0,g,h)));1<g&&Cm(c,v,z,g);a.td(c)}else c=a.qa(),a instanceof Mp&&(g=p*a.Lc(0),a.FA()?a.ve(0,g):(a.fk(),a.ve(0,g),a.DR())),b(c),a.td(c),a instanceof EC&&a.ab()}});c.ma(k);c.ea(l);return fh(g.clone(),e)};function gW(){}gW=Backbone.View.extend({className:"tileListBusyIndicator"});f=gW.prototype;f.initialize=function(){this.transitionDelay=-1;this.AI=0};f.hide=function(){hW(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function hW(a,b){0!=a.AI&&(window.clearTimeout(a.AI),a.AI=0);0<=a.transitionDelay?a.AI=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){hW(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function iW(a,b){this.$el=a;this.Fm=b.Fm||"";this.ah=b.ah}function jW(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new iW(b,a)}f=iW.prototype;f.add=function(a,b){var c=this;this.ta||kW(this,this.ol());var d=lW(this);this.ta.eq(0).append(a);var e=a.get().map(this.o,this);a.each(function(a,h){var k=mW(c,d);d[k]+=e[a];b?c.ta.eq(k).prepend(h):c.ta.eq(k).append(h)})};
function nW(a,b){var c=a.ol();if(void 0!==b.ta){if(b.ta.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.ta||kW(a,c);a.ta.each(function(a,c){b.ta.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.ta||!this.ta.children().filter(a).length)};function kW(a,b){var c="masonryLayoutColumn "+a.Fm;a.ta=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.ta.appendTo(a.$el)}
f.FL=function(a){var b=this.$el.width()/this.ol();return Math.floor(a/b)*this.ol()+this.ol()};f.ol=function(){var a;"function"===typeof this.ah?(a=this.$el.width(),a=this.ah(a)):a=this.ah;return Math.max(a,1)};function lW(a){return a.ta.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function mW(a,b){b||(b=lW(a));return _.min(_.range(b.length),function(a){return b[a]})}f.o=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};f.Cf=function(){var a=this.ta&&this.ta.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
f.ov=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.ta.children().get().filter(function(a){return b(a)>c}))};f.tl=function(){if(this.ta){var a=mW(this),a=this.ta.get(a);return $(a)}return null};f.isEmpty=function(){return!(this.ta&&this.ta.children().length)};f.push=function(a){this.add(a)};
f.ab=function(){var a=this.ol(),a=this.ta&&a!==this.ta.length;this.ta&&a&&(a=this.Cf().detach(),this.ta&&this.ta.remove(),this.ta=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.ta&&this.ta.children().filter(a).remove()};f.removeAll=function(){this.ta&&this.ta.children().remove()};
f.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.ov(a);if(0===b.length)return null;var c=jW({Fm:this.Fm,ah:this.ah});kW(c,this.ta.length);this.ta.each(function(a,e){e=$(e).children().filter(b);c.ta.eq(a).append(e)});return c};f.unshift=function(a){this.add(a,!0)};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function oW(a){this.children=[];this.Fm=a.Fm;this.ah=a.ah;this.$el=$("\x3cdiv\x3e")}f=oW.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function pW(a){return jW({Fm:a.Fm,ah:a.ah})}f.FL=function(a){var b=this.$el.width()/this.ol();return Math.ceil(a/b)*this.ol()+this.ol()};f.ol=function(){var a;"function"===typeof this.ah?(a=this.$el.width(),a=this.ah(a)):a=this.ah;return Math.max(a,1)};
f.Cf=function(){var a=[];this.children.forEach(function(b){b instanceof iW?a=a.concat(b.Cf().get()):a.push(b)});return $(a)};function qW(a,b){return a.EF().filter(function(a){return a.contains(b)})[0]||null}f.EF=function(){return this.children.filter(function(a){return a instanceof iW})};f.tl=function(){var a=this.EF().slice(-1)[0];return a&&a.tl()||null};
function rW(a,b,c){var d,e;d=qW(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.ov(b).length&&(a.trigger("beforeSplit",d.ta),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.ta,b.ta))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof iW)){var b;b=pW(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.ab=function(){function a(){b=!0}var b=!1;this.EF().forEach(function(b){b.on("redraw",a);b.ab();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof iW?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function sW(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof iW&&e instanceof iW&&(a.trigger("beforeMerge",e.ta,d.ta),nW(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof iW)){var b;b=pW(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function tW(a){this.Hp=a;this.z3=$.isWindow(this.Hp[0]);this.IV=_.throttle(this.dispatchEvent.bind(this),200)}f=tW.prototype;f.tG=function(){this.stopListening();this.Hp.on("scroll",this.IV)};f.stopListening=function(){this.Hp.off("scroll",this.IV)};
function uW(a,b,c){c=_.defaults({},c,{YM:!1});var d=b.offset().top;c=c.YM?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.z3?a.Hp.scrollTop():a.Hp.offset().top+parseInt(a.Hp.css("border-top-width"),10);a=a.Hp.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function vW(a){soy.asserts.assertType(null==a.Al||a.Al instanceof goog.soy.data.SanitizedContent||goog.isString(a.Al),"licensePrice",a.Al,"null|string|undefined");var b=a.Al;soy.asserts.assertType(null==a.rq||goog.isBoolean(a.rq)||1===a.rq||0===a.rq,"licenseFree",a.rq,"boolean|null|undefined");var c=a.rq;soy.asserts.assertType(goog.isString(a.Tv)||a.Tv instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.Tv,"string|goog.soy.data.SanitizedContent");var d=a.Tv;soy.asserts.assertType(goog.isString(a.Sv)||
a.Sv instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.Sv,"string|goog.soy.data.SanitizedContent");var e=a.Sv;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");a=a.Kd;c=null!=c&&c;b=""+('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(c?soy.$$escapeHtml(a):soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e\x3c/li\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function wW(a){soy.asserts.assertType(goog.isBoolean(a.WB)||1===a.WB||0===a.WB,"royaltyFreeEnabled",a.WB,"boolean");var b=!!a.WB;soy.asserts.assertType(goog.isBoolean(a.Cz)||1===a.Cz||0===a.Cz,"extendedEnabled",a.Cz,"boolean");var c=!!a.Cz;soy.asserts.assertType(null==a.pB||a.pB instanceof goog.soy.data.SanitizedContent||goog.isString(a.pB),"oneUsePrice",a.pB,"null|string|undefined");var d=a.pB;soy.asserts.assertType(null==a.XB||a.XB instanceof goog.soy.data.SanitizedContent||goog.isString(a.XB),
"royaltyFreePrice",a.XB,"null|string|undefined");var e=a.XB;soy.asserts.assertType(null==a.Dz||a.Dz instanceof goog.soy.data.SanitizedContent||goog.isString(a.Dz),"extendedPrice",a.Dz,"null|string|undefined");var g=a.Dz;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");var h=a.Kd;soy.asserts.assertType(goog.isString(a.uF)||a.uF instanceof goog.soy.data.SanitizedContent,"freeDescription",a.uF,"string|goog.soy.data.SanitizedContent");
var k=a.uF;soy.asserts.assertType(a.oB instanceof soydata.SanitizedHtml||a.oB instanceof soydata.UnsanitizedText||goog.isString(a.oB),"oneTimeUseWithMarkup",a.oB,"soydata.SanitizedHtml");var l=a.oB;soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");var m=a.Nc;soy.asserts.assertType(goog.isString(a.MD)||a.MD instanceof goog.soy.data.SanitizedContent,"c4wFreeMediaTitle",a.MD,"string|goog.soy.data.SanitizedContent");
var n=a.MD;soy.asserts.assertType(a.YB instanceof soydata.SanitizedHtml||a.YB instanceof soydata.UnsanitizedText||goog.isString(a.YB),"royaltyFreeWithMarkup",a.YB,"soydata.SanitizedHtml");var p=a.YB;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Qc,"string|goog.soy.data.SanitizedContent");var q=a.Qc;soy.asserts.assertType(a.Ez instanceof soydata.SanitizedHtml||a.Ez instanceof soydata.UnsanitizedText||goog.isString(a.Ez),"extendedWithMarkup",
a.Ez,"soydata.SanitizedHtml");var u=a.Ez;soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Yd,"string|goog.soy.data.SanitizedContent");var v=a.Yd;soy.asserts.assertType(null==a.pw||goog.isBoolean(a.pw)||1===a.pw||0===a.pw,"oneUseFree",a.pw,"boolean|null|undefined");var z=a.pw;soy.asserts.assertType(null==a.Tw||goog.isBoolean(a.Tw)||1===a.Tw||0===a.Tw,"royaltyFreeFree",a.Tw,"boolean|null|undefined");var t=a.Tw;soy.asserts.assertType(null==
a.Zu||goog.isBoolean(a.Zu)||1===a.Zu||0===a.Zu,"extendedFree",a.Zu,"boolean|null|undefined");var x=a.Zu;soy.asserts.assertType(goog.isBoolean(a.CA)||1===a.CA||0===a.CA,"isC4wFreeMedia",a.CA,"boolean");var H=!!a.CA;soy.asserts.assertType(null==a.Pz||goog.isBoolean(a.Pz)||1===a.Pz||0===a.Pz,"forceFree",a.Pz,"boolean|null|undefined");a=a.Pz;b=""+(null!=d&&!z||b&&null!=e&&!t||c&&null!=g&&!x?"\x3cul\x3e"+(null!=d?(H?"\x3cli\x3e\x3cp\x3e"+soy.$$escapeHtml(n)+"\x3c/p\x3e\x3c/li\x3e":"")+vW({Al:d,rq:z||a,
Tv:l,Sv:m,Kd:h}):"")+(b&&null!=e?vW({Al:e,rq:t||a,Tv:p,Sv:q,Kd:h}):"")+(c&&null!=g?vW({Al:g,rq:x||a,Tv:u,Sv:v,Kd:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function ZN(){}
ZN=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),U9:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),P2:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
f5:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
saa:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
fK:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),D4:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
f=ZN.prototype;f.initialize=function(a){this.i=a.i;this.W=a.W;this.J=lc(a.i);this.title=a.title||this.model.qb&&this.model.qb()||Pd(this.J);this.document=null;this.Ra=a.Ra;this.sN=a.sN;this.bk=a.bk;this.pN=a.pN;this.dN=a.dN;this.rN=a.rN;this.GO=a.GO;this.yb=a.yb;this.Js=a.Js;this.mp=new Map;this.kI=a.kI};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.e3,"click .componentLayouts .componentItem a":this.fT,"click .brandInfo a":this.P9,"click .mediaKeyword":this.S9,"click .removeUpload":this.q9,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:Nd(this.J)}));if(this.sN)this.$el.html(this.saa({title:this.title||Pd(this.J),id:this.model.u(),version:this.model.getVersion(),isUnapproved:this.rN,close:Nd(this.J),closeThisInfoPanel:Od(this.J),uploadError:this.J.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.J.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.J.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.J.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.J.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.J.format("objectPanelInfoDelete")}));else if(this.dN)this.$el.html(this.P2({title:this.title,count:Qd(this.J,Number(this.model.Ie().pageCount)),hasComponentDesignPages:this.OV(),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),this.OV()&&xW(this);else if(this.bk)this.$el.html(this.f5({title:this.title,count:Qd(this.J,Number(this.model.jc())),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),EL(this.model)&&0<
this.model.jc()&&yW(this);else if(this.pN){this.$el.html(this.U9({title:this.title,id:this.model.u(),url:"/media/"+encodeURIComponent(this.model.u()),hasComponentMedia:this.NM(),hasKeywords:this.PV(),close:Nd(this.J),purchase:this.J.format("objectPanelInfoPurchase"),includedAssets:this.J.format("objectPanelInfoIncludedAssets"),details:this.J.format("objectPanelInfoDetails"),keywords:this.J.format("objectPanelInfoKeywords"),idTag:this.J.format("objectPanelInfoIDTag")}));if(this.PV()){var a=this.model.Tj().map(this.D4).join(", ");
this.$(".keywords").html(a)}this.NM()&&zW(this);this.model.ka&&this.model.ka()&&AW(this);var b,c,d=0;this.NM()?(d=this.model.HF()/100,a=0===d?0:100):a=AL(this.model);b=10*a;c=100*a;this.$(".prices").html(wW({WB:!1,Cz:!1,pB:BW(this,a,d),XB:BW(this,b,d),Dz:BW(this,c,d),Kd:this.J.format("objectPanelInfoFree"),uF:this.J.format("objectPanelInfoFreeDescription"),oB:this.J.format("objectPanelInfoOneUse"),Nc:this.J.format("objectPanelInfoOneUsePriceDescription"),MD:this.J.format("objectPanelInfoC4WFreeMedia"),
YB:this.J.Fc(),Qc:this.J.format("objectPanelInfoRoyaltyFreePriceDescription"),Ez:this.J.Id(),Yd:this.J.format("objectPanelInfoExtendedPriceDescription"),pw:0===a,Tw:0===b,Zu:0===c,CA:this.model.Kv()}).toString())}return this};
function zW(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;u.removeClass("fetchingComponentItem");u.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&CW(c)}if(200===a){a=0;var e=b.Ja().ic(),e=e.THUMBNAIL_LARGE||e[yD],g=CF(b.Ja());g&&(a=100*CF(b.Ja()).ONE_USE||0);var u=$(c.fK({url:"/media/"+b.u(),id:b.u(),hasPrice:g,price:DW(c,a)}));c.$(".componentMedia").append(u);$("\x3cimg/\x3e").attr("src",e.oa()).one("load",d)}}var c=a,d=a.model.lM(),e=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;EW(c);a.css("height",e*g+"px");d.forEach(function(a){Db.Ob(a.id,(new HD).Ik(a.version),b)})}function FW(a,b){function c(){return null}var d=Eb.ka(a.model.ka()).catch(c);a="DESIGN"==CL(a.model)&&a.model.La&&a.model.La()?Eb.La(a.model.La()).then(function(a){return a.Jb()||a.qh()}).catch(c):a.model.qV();P.all([d,a]).spread(b)}
function AW(a){FW(a,function(b,c){var d="DESIGN"==CL(a.model)?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.Jb()||b.zF(),g=a.J.format("objectPanelInfoBrand")+" "+b.u();c?b.ii()&&!e?d.text(a.J.format("objectPanelInfoByUser",c)):d.text(a.J.format("objectPanelInfoByUserFromBrand",c,e||g)):d.text(a.J.format("objectPanelInfoByBrand",e||g))}else d.text(a.J.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function yW(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(yD,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.fK({url:"#",id:a,hasPrice:!1})).css("padding-top",d.kI*l*100+"%");b&&(c=b.url);g.append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();h++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");h>=k&&CW(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&
(c=b.media.map(La).map($m));0<c.length&&fF(Db,KF(new JF,c),function(b,c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(CF(b.Ja()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')})}var d=a,e=a.model.jc(),g=a.$(".componentLayouts"),h=0,k=e,e=$(".infoPanelGallery").width(),l=(e-10)/e/2;EW(a);AW(a);DL(a.model).sort(function(a,b){return a-b}).forEach(function(a){b(a);GW(d,a,function(b){c(a,b)})})}
function xW(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var m=$(c.fK({url:"#",id:a,hasPrice:!1})).css("padding-top",c.kI*n*100+"%");m.toggleClass("componentItemThumbnailUpdating",!b||g);h.append(m);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();k++;m.removeClass("fetchingComponentItem");m.find(".componentItemLink").css("background-image","url("+a+")");k>=l&&CW(c)})}var c=a,d=a.model.Ie().imageSets.thumbnail,
e=d.images,g=a.model.getVersion()>d.version,d=a.model.Ie().pageCount,h=a.$(".componentLayouts"),k=0,l=d,m=$(".infoPanelGallery").width(),n=(m-10)/m/2;EW(a);for(a=0;a<d;a++)b(a)}function EW(a){a.$el.addClass("infoPanelLoading")}function CW(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},O.Da.r4)}f.PV=function(){return this.model.Tj&&0<(this.model.Tj()||[]).length};f.OV=function(){return this.model.Ie&&1<this.model.Ie().pageCount};
f.NM=function(){return this.model.lM&&0<(this.model.lM()||[]).length};function BW(a,b,c){return null===b?null:0===b?a.J.format("objectPanelInfoFree"):null!=c&&0<c?a.J.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.J.format("objectPanelInfoPrice",(b/100).toFixed(0))}function DW(a,b){b=BW(a,b);null===b&&(b=a.J.format("objectPanelInfoPriceUnavailable"));return b}f.close=function(){aO.call(this.$(".close").get(0))};f.P9=function(){$("#search").val("brand:"+this.model.ka());tN=null;EM(this.i)};
f.S9=function(a){$("#search").val(a.currentTarget.textContent);tN=null;EM(this.i)};f.q9=function(a){this.close(a);a=(new jF).Uo(this.model.u()).Ik(this.model.getVersion()).Tt(!0);hF(Db,a,this.GO)};
f.zM=function(a){var b;if(!(this.model instanceof qr))throw Error("attempted to get a page from a non-design");try{b=this.model.Ie().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.Ie().content.pages[a]}catch(c){}b?this.yb&&this.Js&&(a={},a[this.Js.Mb()]="#"+this.yb,b=HW(null,b,a)):b=null;return b};function GW(a,b,c){var d=a.model.getFile("ORIGINAL",b).oa();$.getJSON(d,function(d){a.mp.set(b,d);c&&c(d)})}function IW(a,b){if(a=a.mp.get(b))return a.content.pages[0]}
function JW(a){return a.Ra.getDocument(new Ft({ag:a.model.u(),vA:!0})).then(function(a){return this.document=a.getDocument()}.bind(a))}
f.fT=function(a,b){function c(a){function b(){yP({qp:v.ts(),me:K.lb(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof BL&&(g.id=d.model.u(),g.version=d.model.getVersion());b=Tm(new Rm(g),b);var g={"new":b,old:l,pageIndex:h.K()},n=eq(b.Jg()),p=U,u=b.serialize();!n&&p&&u&&Vl(p,u.id);KO(h,b,k,e);M.register(new IO(4,g))}if(d.model instanceof qr){var e=new Xm({type:KB,id:d.model.u(),version:d.model.getVersion()});TV(a,e)}if(a.width!==
h.l()||a.height!==h.o()){var g=Tm(new Rm,a),v=new Jp(K,{});KO(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,e=parseInt(a.currentTarget.textContent,10),g=this.bk?IW(this,e):this.zM(e),h=K.Ea();if(b){var k=this.model instanceof qr?rr(this.model,e):this.model.getFile(yD,e).oa(),l=h.lu();h.clear();k&&tP(h,k);g?c(g):this.bk?GW(this,e,function(a){return c(a)}):JW(this).then(this.zM.bind(this,e)).then(c.bind(this))}else HM.Qy(h,this.i).then(function(b){b&&this.fT(a,!0)}.bind(this))};
f.e3=function(a){var b,c,d,e=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.bk?(b=IW(this,e),c=this.model.getFile("THUMBNAIL_LARGE",e)||this.model.getFile(yD,e),d={url:c.oa()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.zM(e),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[e],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.bk?{cdfRequest:{url:this.model.getFile("ORIGINAL",e).oa()}}:{pageTemplateRequest:{pageIndex:e}};this.model instanceof qr?b.documentProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:rr(this.model,e)}:this.model instanceof BL&&(b.layoutProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:this.model.getFile(yD,e).oa()});e=KW(vq(c),lc(this.i));e.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",e);return aN.call(a.currentTarget,a)};function KW(a,b,c){if(a instanceof BL)return"DESIGN"===CL(a)&&LW(function(){a.ql()}),new OP({model:a,query:c||void 0,J:b,W:Jb});if(a instanceof cJ)return new MW({model:a});if(a instanceof qr)return new NW({model:a});if("string"===typeof a&&-1<_.keys(Pm).indexOf(a))return new OW({model:a});if("string"===typeof a&&-1<_.keys(Qm).indexOf(a))return new PW({model:a,J:b});throw new TypeError("Unknown galleryObject type: "+typeof a);}
var LW=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function QW(){}QW=Backbone.View.extend({});QW.Uba=function(){};QW.prototype.kc=function(){return Math.round(this.$el.offset().top)};QW.prototype.kd=function(){return Math.round(this.$el.offset().top+this.$el.height())};function RW(a){return Math.round(parseInt(a.$el.css("left"),10)+a.$el.width()/2)}QW.prototype.Xg=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};
function SW(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
QW.prototype.Wy=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function OW(){}OW=QW.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});OW.prototype.initialize=function(a){this.EV=this.model;this.W3=Pm[this.EV];!a.el&&this.render();this.$el.data("view",this)};OW.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.EV);this.$("a").append(HE(this.W3.items));return this};function PW(){}PW=QW.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});PW.prototype.initialize=function(a){this.J=a.J;this.KT=this.model;this.C1=JSON.parse(JSON.stringify(Qm[this.KT]));!a.el&&this.render();this.$el.data("view",this)};
PW.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.KT);var a=OH(this.C1);a.setAttribute("style","max-height: 72px");this.$("a").append(a);this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.J.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function MW(){}MW=QW.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),X3:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});MW.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
MW.prototype.render=function(){var a=this,b=this.model.getContent();dJ(this.model)?(this.$el.addClass("grid").html(this.X3(this.model)),this.$("a").append(HE(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
MW.prototype.Wy=function(){var a=QW.prototype.Wy.call(this),b=a.children().first();a.addClass("template");dJ(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function NW(){}NW=MW.extend({className:"designGalleryItem newSearch loading",tagName:"li"});NW.prototype.initialize=function(){this.render()};
NW.prototype.render=function(){var a=this,b=this.model.draft,c=TW(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:Oq(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function TW(a){var b;try{b=a.model.Ie().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}NW.prototype.Wy=function(){var a,b,c;a=QW.prototype.Wy.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};NW.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function OP(){}OP=QW.extend();OP.prototype.initialize=function(a){this.gj=new jh(window.viewConfig);this.query=a.query;this.J=a.J;this.W=a.W;this.render()};OP.prototype.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};OP.prototype.bk=function(){return EL(this.model)};
OP.prototype.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.MF();var e=!1;if(a)for(var g=0;g<a.length;g++)if(a[g].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";d.data("superKeywordAdd",!e);d.data("query",b);d.find(".searchResultItem__info").append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),e=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(yD,0);a.css("background-image","url("+e.oa()+")");b.text(String(c.model.jc()));d.find("a \x3e *").wrapAll(a);d.find(".multiPageLayoutItem").append(b)}var c=this,d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),e=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(yD),g=this.model.getFile(Lg),h=this.J.format("objectPanelSearchResultItemViewShowMoreInfo");
switch(CL(this.model)){case "ELEMENT_GROUP":OP.Q$(function(){c.model.ql()});d.addClass("elementGroupSearchResult");break;case Gg:d.addClass("vectorSearchResult");break;case Eg:d.addClass("rasterSearchResult")}(function(){var a=$("img",d);lD(mD,a,e.oa()).then(function(){d.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});
a.data("screen-url",g.oa()).data("screen-width",g.l()).data("screen-height",g.o()).attr("width",e.l()).attr("height",e.o());CL(c.model)===Gg&&(c.model.vs()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=AL(c.model),b=(a/100).toFixed(0),e=c.model.HF(),g=!!c.W.G.get(og)&&c.model.Kv(),a=(e=!!e)&&"$"||(0===a||g)&&$d(c.J)||UW(c)&&c.J.format("objectPanelMediaItemCostPro")||null!==a&&"$"+b+" USD"||null;$("a",d).append(VW({Bt:h,Wf:e,yf:WW(c)||UW(c)||g,ba:a}).toString())})();c.bk()&&(b(),$(".info",
d).remove());"CANVA"!==c.model.Ef()&&$(".info",d).remove();c.model.restricted||c.model.status==lF||($(".info",d).remove(),$(".price",d).remove(),$("img",d).addClass("inMarketplaceReview"));this.gj.xg.get("quickKeywordEditEnabled",void 0)&&a();return d};
function WW(a){if(0!==AL(a.model)||["text","lines","shapes","frames","Canva"].some(function(b){return b===a.query}))return!1;switch(CL(a.model)){case "DESIGN":return a.W.G.get(lg);case Eg:return a.W.G.get(pg);case Gg:return a.W.G.get(pg);default:return!1}}function UW(a){var b=AL(a.model);if(!a.model.Kv()||0===b||null==b)return!1;switch(CL(a.model)){case Eg:return a.W.G.get(sg);case Gg:return a.W.G.get(sg);default:return!1}}
OP.Q$=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function XW(){}XW=Backbone.View.extend({className:"searchGroup"});f=XW.prototype;f.initialize=function(a){this.fv=a.fv;this.oV=[];this.Uw=a.model;this.listenTo(this.Uw,{"results:willFetch":this.aD,"results:didFetch":this.Tr,"results:clear":this.I1});this.i=a.i;this.SP=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.Uw.qb()}));this.$(".gallery").addClass(this.fv);""===this.Uw.qb()&&this.$("h2").remove();return this};f.aD=function(){};
f.Tr=function(a,b,c){function d(b){return KW(b,p,a.g9)}function e(a){a.$el.appendTo(n)}function g(a){return a instanceof BL&&"DESIGN"===CL(a)}function h(a){return a instanceof OW}function k(a){return a instanceof PW}function l(a){return a instanceof MW}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=lc(this.i);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(d),c.forEach(e),c.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
c.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),c.some(l)&&m(),b.some(g)&&m(),this.oV=this.oV.concat(c),this.ja(),this.trigger("results:render")):0===this.Uw.Xz()&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.uL())))};f.I1=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ja=function(){qA(this.$(".gallery"),!1)};f.compact=function(){rA(this.$el,!0)};
f.ea=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function YW(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.ov=function(a){var b=a.kd();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function ZW(a,b){b=a.ov(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.kc()-b.kc()});b=b.slice(0).sort(function(a,b){return b.kd()-a.kd()});a=a[0];return b[0].kd()-a.kc()}function $W(a){return a.$el.outerHeight(!0)-a.$el.height()}f.yz=function(){};f.ST=function(){};f.uL=function(){return $("\x3cp\x3e").addClass("noResults").text(lc(this.i).format("objectPanelSearchNoResults"))};f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function aX(){}aX=XW.extend();aX.prototype.initialize=function(a){this.i=a.i;this.DA=a.DA;XW.prototype.initialize.call(this,a)};aX.prototype.uL=function(){var a=$("\x3cp\x3e");this.DA?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(lc(this.i).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(lc(this.i).format("objectPanelYourDesignsNoResults"));return a};function bX(){}bX=XW.extend();bX.prototype.initialize=function(a){this.i=a.i;XW.prototype.initialize.call(this,a)};bX.prototype.uL=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(lc(this.i).format("objectPanelTemplateNoResults"))};function cX(){}cX=XW.extend({});cX.prototype.initialize=function(a){this.Ex=null;this.SU=0;XW.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new QW({el:this});$(this).data("view",a)})};
cX.prototype.yz=function(a,b){var c=a.$el,d=this.ov(a),e=c.height(),e=c.data("originalTop")+e,g=dX(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){SW(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){SW(a,b,!1)})},O.Da.Qz);this.ea(e,!0);this.SU=b;null===this.Ex&&(a=ZW(this,a),c=this.$el.next(),this.Ex=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.Ex.css("height",a).insertAfter(c))};
cX.prototype.ST=function(a){var b=this.ov(a),c=this.SU-dX(this);0<c&&b.forEach(function(a){a.Xg(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){SW(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.Ex&&d.Ex.remove();d.Ex=null},O.Da.Qz*O.iy)};function dX(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function eX(){}eX=XW.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});eX.ky=150;f=eX.prototype;f.initialize=function(a){this.model=a.model;this.jg=null;XW.prototype.initialize.apply(this,arguments);this.render();this.ea(0,!1)};
f.remove=function(){function a(){XW.prototype.remove.apply(b,arguments);b.SP=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.SP=!0;d&&c.trigger("click");if(this.jg)this.jg.css("opacity",0).one("transitionend",function(){$(this).remove();b.jg=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){YW(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.aD=function(){0===this.Uw.Xz()&&sN(this.$el);XW.prototype.aD.apply(this,arguments)};f.Tr=function(a,b,c){xN(this.$el);XW.prototype.Tr.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},O.Da.G9)};f.compact=function(){if(0!==this.model.Xz()){var a=this;XW.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<eX.ky&&a.ea(eX.ky,!0)},O.Da.Qz)}};
function fX(a){if(null===a.jg){var b=a.$el.parents(".layer");a.jg=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.Uw.qb())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.jg.css("opacity",0).insertAfter(b);P.delay(O.Gc).then(function(){a.jg.css("opacity","")});a.jg.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function gX(a){if(null!==a.jg){var b=a.jg;a.jg=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function hX(){}hX=Backbone.View.extend({tagName:"section",className:"layer"});hX.Sk=function(a,b){return new XW({model:a,fv:"infoPanelGallery photoGallery",i:b})};f=hX.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.i=a.i;this.aC=this.model=a.model;this.ee=[];this.RH=[];this.Sk=a.Sk||hX.Sk;this.aN=!1;this.listenTo(this.aC,"searchGroup:add",this.Kk);this.listenTo(this.aC,"searchGroup:remove",this.PB);this.listenTo(this.aC,"results:willFetch",this.aD);this.listenTo(this.aC,"results:didFetch",this.Tr);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.ee.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.ee.filter(function(a){return a.SP}).length||this.dG()};
f.dG=function(){var a=this.$el.parent(),b=this.ee[this.ee.length-1],c=RP(this.aC);if(0!==a.length&&b&&c&&!this.aN){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};Zg(this).read(function(){if(c.YA&&d()<=a.outerHeight()*O.xS){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>O.nD&&Zg(this).write(function(){iO(this.$el,b-O.nD)});this.aN=!0;c.ai(iX(this))}c.YA||Zg(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.Kk=function(a,b,c){(a=this.ee[c-1])&&a.compact();b=this.Sk(b,this.i);this.ee.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.PB=function(a,b,c){a=this.ee[c];this.ee.splice(c,1);a.remove()};f.aD=function(a){this.RH.push(a);sN(this.$el)};f.Tr=function(a,b){var c=this.RH.indexOf(a);-1<c&&this.RH.splice(c,1);0===this.RH.length&&xN(this.$el);this.aN=!1;if(a.YA){var d=this;setTimeout(function(){a===RP(d.model)&&d.dG()},b.length*O.Da.jw+O.Da.aB)}};
function iX(a){a=a.$el.parent();return vN(a,a.height())};function jX(){}jX=hX.extend({});f=jX.prototype;f.events=function(){var a=hX.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.M1;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.OT;a.mousedown=this.W1;return a};f.initialize=function(a){hX.prototype.initialize.call(this,a);this.YD=!1;this.fF=0;this.wA=$();this.listenTo(T,"infoPanelToggle",this.s4)};
function kX(a){a=a.ee.filter(function(a){return a instanceof eX});return 0<a.length?a[0]:null}f.scroll=function(a){hX.prototype.scroll.apply(this,arguments);var b=kX(this);b&&Zg().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?gX(b):fX(b)})})};f.dG=function(){this.$el.data("userPreparedSearch")?iN.call(this.el):hX.prototype.dG.apply(this,arguments)};
f.W1=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.ee[0].$("li.folderExpanded").data("view"))&&lX(this,a),!1};f.M1=function(a){var b=this.ee[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?lX(this,a):c?(b=b.$("li.folderExpanded").data("view"),lX(this,b)):this.YD||mX(this,a);return!1};
f.OT=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.YD&&lX(this,a)};
function mX(a,b){var c=a.ee[0],d=a.model,e=b.$el.children("a"),g=e.attr("title"),e=e.data("query"),h=SP(e),k=new MM(h,g,e);QP(d,k,1);a.trigger("folder:expand",e);d=a.ee[1];d.$el.attr("data-query",e);nX(a,eX.ky);c.yz(b,a.fF);0===ZW(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.OT()});a.wA.remove();a.wA=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.wA.css("left",RW(b)+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);sN(d.$el);setTimeout(function(){k.ai(iX(a))},
O.Da.Qz*O.iy);a.$el.removeData("userPreparedSearch")}function lX(a,b){var c=a.ee[0],d=a.model;if(1<d.getLength()){a.YD=!0;var e=RP(d),g=kX(a);a.stopListening(g);d.PB(e);a.wA&&setTimeout(function(){a.wA.remove();a.YD=!1},O.Da.Qz)}c.ST(b);nX(a,0);a.$el.data("userPreparedSearch",!0)}f.Kk=function(a,b,c){(a=this.ee[c-1])&&a.compact();var d=new eX({model:b,fv:"infoPanelGallery photoGallery",i:this.i});this.ee.splice(c,0,d);d.$el.insertAfter(a.$el);P.delay(O.Gc).then(function(){d.ea(eX.ky-72,!0)})};
f.Tr=function(a,b,c){hX.prototype.Tr.apply(this,arguments);MP(this,!0)};function MP(a,b){var c=a.ee[0],d=kX(a),e=c.$("li.folderExpanded").data("view");if(e){var g=$W(d),h=d.$el.data("contentHeight")||0,g=g+h,k=YN(d.$el),l=Math.max(g,eX.ky),m=c.$el.find("li");b?c.yz(e,l+k):(m.addClass("doNotTransition"),P.delay(O.Gc).then(function(){c.yz(e,l+k);P.delay(O.Gc).then(function(){m.removeClass("doNotTransition")})}));nX(a,l)}}
f.s4=function(a,b){var c=kX(this);c&&c.el===a.get(0)&&(a=this.ee[0],c=a.$("li.folderExpanded").data("view"),a.yz(c,this.fF+b))};function nX(a,b){var c=b-a.fF;a.fF=b;var d=a.ee[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer");d.one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop");P.delay(O.Gc).then(function(){d.css("top","+\x3d"+c)})};function FM(){}FM=Backbone.View.extend({className:"textControls"});FM.R0=1.02;f=FM.prototype;f.events=function(){return{"mousedown a.add":this.V4,"click a.add":this.K1}};f.initialize=function(a){this.Ui=a.Ui;this.i=a.i;this.RD=!1;this.listenTo(this.model,"change:defaultFont",this.oaa);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.J4=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=lc(b.i);return{hasBrandKit:!!b.Ui,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in ec)a.append(oX(this,ec[c]));pX(this,this.A9.bind(this));return this};
f.A9=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function pX(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(ec).forEach(function(a){a=this.hs(ec[a]).fontFamily;eK(a,c)},a)}function oX(a,b){b=a.hs(b);return $(a.J4(b))}
f.hs=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.II[a]),d=$.extend(!0,{},this.model.Dr[a]),e=qX(this,a),g=lc(this.i);switch(a){case "title":g=Vd(g);break;case "subtitle":g=Wd(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=$A(Kb,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*O.Pi;return c};function qX(a,b){var c;try{c=a.Ui.LC[0].MC||[]}catch(d){c=[]}return c.filter(function(a){return!!a.font&&a.getName()===b}).map(function(a){a=a.font;return{bold:a.bold,italic:a.italic,fontFamily:a.family,fontSize:a.Wp()}})[0]}f.oaa=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=oX(this,b);eK(c.fontFamily,function(){d.replaceWith(e)})};
f.K1=function(a){function b(a){a.dl(d);Ag(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=c.Ea();this.lE(a).then(b,b);this.RD=!0;return!1};
f.lE=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.hs(a);c.fontSize*=vb.Ap;var d=rX(this,b);d.find("a").css("font-size",c.fontSize*O.Pi+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var e=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:e*FM.R0,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Mp(g,function(c,d){d?a(c):b(c)})})};
function rX(a,b){var c=a.model.Ea().If(),d=a.hs(b.data("style")),e=b.clone();a=sX(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*W+"%").css("color",c?"white":"black").append(e);return b}
f.V4=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.RD)return E.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.RD=!1;if(null==l)if(AN(E)){var m=Ln(t,x,h,a);if(300<m||60>m)l=rX(d,e),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-t)>O.Hc||Math.abs(a-x)>O.Hc)l=rX(d,e),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-x,l.css("left",k.left+h-t).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-t,2)+Math.pow(a-x,2))/H),l.css("font-size",100*(1+(u-1)*m)+"%").css("color",Cn(S,N,m).ra()),(h<n.left||h>n.left+p||a<n.top||a>n.top+q)&&bO(v.$el,l)?(null==L&&(L=new bh(l,z)),dh(L,Q,J)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(L.F(),L.w());a.appendTo(d.model.Ea());Ag(a);Bg(a);XK(a.C())}E.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var u=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;if(null==l&&Math.abs(u-t)<O.Hc&&Math.abs(a-x)<O.Hc)return!1;null!=l&&((u<n.left||u>n.left+p||a<n.top||a>n.top+q)&&bO(v.$el,l)?
(u=e.data("style"),d.lE(u).then(m).finally(h)):(u=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",u.left).css("top",u.top).css("font-size","100%").css("color",S.ra())))}if(a.which!==O.Nh){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),q=m.outerHeight(),h=this.hs(h);h.fontSize*=vb.Ap;var u=1/(parseFloat(e.get(0).style.fontSize)/O.Pi*sX(this)/h.fontSize)*W,v=gh(vb),z=v.$el.find(".page__content").get(0).getBoundingClientRect(),
t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H=Math.abs(t-(n.left+p)),E=new hp($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",c);var L=null,J=ch(),Q={};a=this.model.Ea().If();var S=kn(new hn,255,255,255),N=new hn;h.color&&"auto"!==h.color?N=mh(h.color)||N:a?kn(N,255,255,255):kn(N,0,0,0);this.RD=!1;return eO}};
function sX(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function OM(){}OM=hX.extend();OM.prototype.initialize=function(a){this.limit=0;this.J=lc(a.i);a.model=new PP;a.Sk=OM.Sk;hX.prototype.initialize.call(this,a);this.model.Kk(tX())};OM.Sk=function(a,b){return new bX({model:a,fv:"infoPanelGallery photoGallery",i:b})};function tX(){var a=my(jy()).ka(),b=y(K.lb().u());return new MM(new aQ({va:a.u(),Ra:Ab,SK:b,Mi:new ZI(Ib)}))}OM.prototype.ai=function(a){this.limit=a;RP(this.model).ai(a)};
OM.prototype.reset=function(){for(var a=this.model;RP(a);)a.PB(RP(a));this.model.Kk(tX())};function JM(){}JM=hX.extend();JM.Sk=function(a,b,c){return new aX({model:b,DA:a,fv:"infoPanelGallery photoGallery",i:c})};JM.prototype.initialize=function(a){a.model=new PP;a.Sk=JM.Sk.bind(null,a.DA);hX.prototype.initialize.call(this,a);this.model.Kk(new MM(a.Q2))};JM.prototype.ai=function(a){RP(this.model).ai(a)};function LM(){}LM=hX.extend();LM.prototype.initialize=function(a){this.kE=a.kE;a.model=new PP;hX.prototype.initialize.call(this,a);this.model.Kk(this.kE())};LM.prototype.ai=function(a){RP(this.model).ai(a)};LM.prototype.reset=function(){this.model.PB(RP(this.model));this.model.Kk(this.kE())};function HM(){}HM=Backbone.View.extend();f=HM.prototype;f.initialize=function(a){this.yb=a.yb;this.DK=a.DK;this.Qr=BN;this.hE=a.hE;this.tK=a.tK;this.pK=a.pK;this.uK=a.uK;this.Ra=a.Ra;this.gc=a.gc;this.Yc=null;this.lV=!1;this.RQ=a.RQ;this.TQ=a.TQ;this.MA=this.pq=this.Gi=null;this.Js=a.N4.reduce(function(a,c){a[c.template]=WN(c);return a},{});this.SH=null;this.i=a.i;this.J=lc(this.i);this.render();uX(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.eZ)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.a2,"click .templateGallery a":this.h2,"click .tabDropdown":this.g2}};f.remove=function(){this.MA&&this.MA.remove();Backbone.View.prototype.remove.call(this)};f.l8=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function uX(a){var b=uk((new tk).Wt(a.DK),[Yj]).jS().Vg(100);a.gc.hV(b).then(function(b){a.Yc=b.Np().filter(function(a){var b;if(b="undefined"!==typeof a.gn())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.gn())<=b.indexOf("EDITOR");return b}).sort(vX);a.Gi&&a.Yc&&wX(a.Gi,a.Yc)}).catch(function(){a.lV=!0;a.Gi&&xX(a.Gi)})}f.ai=function(a){this.SH&&this.SH.ai(a)};
f.h2=function(a){hh();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if(UV(this,a))return!1;c.getContent?(WV(this,c),b.$el.addClass("on")):c.ic?(iP(this,c),b.$el.addClass("on")):c.Ie&&1===c.Ie().pageCount&&(VV(this,c),b.$el.addClass("on"));return!1};
function UV(a,b,c){var d=b.parents("li").data("view"),e=d.model;return d.bk&&d.bk()||e.Ie&&e.Ie()&&1<e.Ie().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?pA():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),dN.call(c,a.i)),!0):!1}f.a2=function(a){return dN.call(a.currentTarget,this.i)};
HM.Qy=function(a,b){if((new jh(window.viewConfig)).wh())b=P.resolve(!0);else{b.pL||(b.pL=new ge(b.config));b=b.pL;a=vP(a);var c=Eb,d=new yX({H:jl,cS:b.cS(),Y2:b.Nk(),h5:b.HG(),x9:b.pp(),bS:b.bS()});b=(new zX({i:b,RO:a,Z:c},d)).confirm()}return b};
function VV(a,b,c,d){function e(a){return a.getDocument()}function g(a){function d(){yP({qp:g.ts(),me:K.lb(),page:g});AX(K.Ea(),Sm(g.serialize()),p,rr(a,0),m)}n.clear();q&&c&&tP(n,q);l=a.Ie().content.pages[0];m=new Xm({type:KB,id:a.u(),version:a.getVersion()});TV(l,m);null!==k.yb&&k.Js.hasOwnProperty(b.u())&&HW(null,l,h());if(l.width!==n.l()||l.height!==n.o()){var e=Tm(new Rm,l),g=new Jp(K,{});KO(g,e,null,null,!0);k.listenToOnce(g,"unpacked",d)}else AX(K.Ea(),Sm(l),p,rr(a,0),m)}function h(){var a=
{};a[k.Js[b.u()].Mb()]="#"+k.yb;return a}var k=a,l,m,n=K.Ea(),p=n.lu(),q=rr(b,0);if(d){var u;try{u=b.Ie().content.pages[0]}catch(v){}u?g(b):(n.clear(),q&&c&&tP(n,q),a.Ra.getDocument(new Ft({ag:b.u(),vA:!0})).then(e).then(g))}else HM.Qy(n,a.i).then(function(a){a&&VV(this,b,c,!0)}.bind(a))}function WV(a,b,c){var d=K.Ea();c?(a=b.getContent(),a=Tm(new Rm,a),dJ(b)&&Vm(a,d.l(),d.o()),AX(d,a)):HM.Qy(d,a.i).then(function(a){a&&WV(this,b,!0)}.bind(a))}
function iP(a,b,c){function d(a){function c(){yP({qp:n.ts(),me:K.lb(),page:n});AX(g,Sm(n.serialize()),null,b.tn())}if(a&&a.content&&a.content.pages){var d={id:b.u(),version:b.getVersion(),price:AL(b),title:b.qb(),keywords:b.Tj()},d=Um(new Rm(d),a),m=K.Ea();a=a.content.pages[0];if(a.width!==m.l()||a.height!==m.o()){var n=new Jp(K,{});KO(n,d,null,null,!0);e.listenToOnce(n,"unpacked",c)}else AX(g,d,null,b.tn())}}var e=a,g=K.Ea();c?(b.ql(d),wL(b,!1)):HM.Qy(g,a.i).then(function(a){a&&iP(this,b,!0)}.bind(a))}
function AX(a,b,c,d,e){c={"new":b,old:c||a.lu(),pageIndex:a.K()};var g=eq(b.Jg()),h=U,k=b.serialize();!g&&h&&k&&Vl(h,k.id);KO(a,b,d,e);M.register(new IO(4,c))}HM.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.J.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Xd(this.J),showTabMenu:this.TQ}));BX(this);return this};HM.prototype.eZ=function(){this.pq.reset&&this.pq.reset();this.SH===this.pq&&this.ai(vN(this.$el,this.$el.height()))};
HM.prototype.g2=function(){var a=this;this.Gi=this.uK(this.Qr);this.Gi.on("select",function(b){a.Qr!==b&&(a.Qr=b,BX(a))});this.Gi.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.Gi.on("remove",function(){a.Gi.off();a.Gi=null});this.Gi.Ci(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.lV?xX(this.Gi):this.Yc&&wX(this.Gi,this.Yc);uX(this)};
function BX(a){var b=a.$(".tabDropdown"),c=$(a.l8()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.MA&&a.MA.remove();a.MA=(new Xn(c.find(".scrollPane"))).render();switch(a.Qr){case BN:a.pq=a.tK(d);b.text(Yd(a.J));break;case CN:a.pq=a.pK(d);b.text(Zd(a.J));break;case DN:a.pq=a.hE(d,null);b.text(Xd(a.J));break;default:a.pq=a.hE(d,a.Qr),b.text(a.Yc.filter(function(b){return b.u()===a.Qr})[0].getName()||"")}a.RQ&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(sd(a.i).Sn()),
b.append(c));b.attr("data-selected",a.Qr);a.SH=a.pq;a.ai(vN(a.$el,a.$el.height()))};var BN="CANVA_LAYOUTS",CN="TEAM_TEMPLATES",DN="YOUR_DESIGNS";function IM(){}IM=Cz.extend({className:"layoutsTabMenu"});f=IM.prototype;f.initialize=function(a){this.J=a.J;this.Ju=a.Ju;this.Wc=a.Wc;this.tx=a.tx;this.Yl=null;Cz.prototype.initialize.call(this,{content:this.UP(),vx:!1,qw:!0,Ho:!1,position:zp})};
f.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.H.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a(BN,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(CN,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(DN,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Wc;a.j.wa(nm("object_panel_layouts","folders_dropdown","design_templates"));var d;a.W.G.get(fg)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Ho(a,CX);b.remove()}}};f.Rp=function(){return DX};f.remove=function(){this.Yl&&this.Yl.remove();Cz.prototype.remove.call(this)};
f.render=function(){Cz.prototype.render.call(this);this.Yl||(this.Yl=(new Xn(this.$(".selectMenu"))).render());return this};
f.UP=function(){var a=$,b;b=this.J.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.J.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(EX({Os:"canvaLayouts",selected:this.Ju===BN,label:Yd(this.J),locked:!1}).toString());b.before(EX({Os:"teamTemplates",selected:this.Ju===CN,label:Zd(this.J),locked:this.tx}).toString());b.before(EX({Os:"yourDesigns",selected:this.Ju===DN,label:Xd(this.J),locked:this.tx}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.tx);return a};function wX(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(EX({Os:"folder",selected:a.Ju===b.u(),label:b.getName()||"",px:b.shared,Gx:b.Yp()&&b.Yp().starred,Lz:b.u(),locked:a.tx}).toString())})}
function xX(a){a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersError"))};function EX(a){soy.asserts.assertType(goog.isString(a.Os)||a.Os instanceof goog.soy.data.SanitizedContent,"modifierName",a.Os,"string|goog.soy.data.SanitizedContent");var b=a.Os;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var e=!!a.locked;soy.asserts.assertType(null==a.px||goog.isBoolean(a.px)||1===a.px||0===a.px,"sharedFolder",a.px,"boolean|null|undefined");var g=a.px;soy.asserts.assertType(null==a.Gx||goog.isBoolean(a.Gx)||1===a.Gx||0===a.Gx,"starredFolder",a.Gx,"boolean|null|undefined");var h=a.Gx;soy.asserts.assertType(null==a.Lz||a.Lz instanceof goog.soy.data.SanitizedContent||goog.isString(a.Lz),"folderId",a.Lz,"null|string|undefined");a=a.Lz;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(e?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?FX({za:"layoutsTabMenu__icon",Ni:h}):GX({za:"layoutsTabMenu__icon",Ni:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function WM(a){this.sO=this.sO.bind(this);this.Tn=this.Tn.bind(this);this.element=a;this.element.on({dragover:this.sO,drop:this.Tn});this.wN=null;this.JW=-1}_.extend(WM.prototype,Backbone.Events);WM.prototype.trigger=Backbone.Events.trigger;
WM.prototype.sO=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.JW),this.wN||(this.wN=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.JW=setTimeout(function(){b.trigger("dragleave");b.wN=null},500))};
WM.prototype.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function HX(){}HX=Backbone.View.extend({className:"uploadsFolderItem"});f=HX.prototype;f.events=function(){return{click:this.Lf,dragstart:this.Ss,mousedown:this.Ts}};f.initialize=function(a){this.Pa=a.Pa;this.model=a.model;this.root=a.root};f.Lf=function(){this.Pa.VS(this.model)};f.Ss=function(a){a.preventDefault();return!1};f.Ts=function(a){return a.which===O.Nh||this.eR(a)};f.BO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Lf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.RB();return this};f.RB=function(){var a,b,c=this;a=this.model.re().o()/this.model.re().l();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});lD(mD,a,this.model.re().oa())};
f.eR=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new V(c,d,c,d),b=Wg(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Pa,g=this.model;Ug(d,Dg(g),b,e,c,d.VS.bind(d,g));this.aS(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.aS=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.BO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function IX(a){this.Pa=a.Pa;this.il=a.il;this.bi=!1;this.OM=!0;this.ja=new JX;this.offset=0;this.Kf=a.Kf;this.view=new KX({J:a.J});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=IX.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){TI(this.il).then(this.view.s_.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.D1=function(){return UI(this.il).catch(function(){throw new LX;})};f.fetch=function(){function a(){b.bi=!1}var b=this;this.Kf?!b.bi&&b.OM&&(this.bi=!0,this.view.Tg(!0),this.view.Lt(!1),this.waa().bind(this).then(this.D1).then(this.L3).finally(a).then(this.j7).catch(LX,this.g7).catch(NX,this.u7).catch(this.k7)):MX(this.view)};f.Hz=function(){this.fetch()};f.L3=function(){return XI(this.offset,25)};f.getElement=function(){return this.view.$el};f.tl=function(){return this.ja.tl()};f.zs=function(){return this.OM};
f.g7=function(){this.view.Tg(!1);this.view.s_(!0)};f.j7=function(a){var b,c=this;b=$(a.map(function(a){return(new HX({Pa:c.Pa,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Ng(this.Pa,a);this.OM=0<a.length;OX("uploadsItemAppearing",b,2200);this.ja.push(b);this.offset+=a.length;this.view.Tg(!1);this.view.Kt(1>this.ja.Cf().length&&1>a.length);this.trigger("fetch")};f.k7=function(){this.view.Tg(!1);this.view.Lt(!0)};f.u7=function(){this.view.Tg(!1);this.view.Lt(!0)};f.remove=function(){this.stopListening()};
f.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);return this};f.waa=P.method(function(){function a(){return P.try(function(){return QI()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new NX;})});function LX(){}LX.prototype=Object.create(Error.prototype);function NX(){}NX.prototype=Object.create(Error.prototype);function KX(){}KX=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=KX.prototype;f.s3=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.bF=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.t6,"click .facebookPhotosRetry":this.q7}};
f.initialize=function(a){this.Vi=new gW;this.J=a.J};f.t6=function(){this.trigger("signIn")};f.q7=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Vi.render().$el);return this};f.s$=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.R4=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
f.Tg=function(a){a?this.Vi.show():this.Vi.hide()};f.Kt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.s3({message:this.J.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
f.Lt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.bF({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.J.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.s_=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.s$({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.J.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function MX(a){a.$(".facebookUploadDisabled");var b=$(a.R4({label:Rd(a.J)}));a.$el.prepend(b)};function OX(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function PX(){}PX=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=PX.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Va=a.Va;this.i=a.i;this.na=a.na;this.Kf=a.Kf};f.render=function(){this.$el.html(this.template(this.xi()));return this};
f.xi=function(){var a=lc(this.i),b=new hJ(this.Va,a),c=this.Va.La()===this.na,d=this.Va.shared,b=b.Jb(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Va.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.Kf}};f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function QX(){}QX=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=QX.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.caa}};f.initialize=function(a){this.eL=a.eL;this.gO=a.gO;this.Va=a.Va;this.pr=a.pr||[];this.item=a.item;this.J=a.J;this.Kf=a.Kf;this.title=a.title;this.item.Ob()&&(this.title=this.item.Ob().importFilename)};
function RX(a){var b=a.$("select").val();return a.pr.filter(function(a){return a.u()===b})[0]}f.render=function(){this.$el.html(this.template(this.xi()));this.$("select").val(this.Va.u());return this};
f.xi=function(){var a=this;return{title:this.title,downloadLink:this.eL,moveOptions:this.gO,downloadOriginalTitle:this.J.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.pr.map(function(b){return _.extend({},b,{name:(new hJ(b,a.J)).Jb()})}).map(this.S7),trashLabel:this.J.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.Kf}};f.caa=function(){this.trigger("move",RX(this))};f.S7=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
f.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function SX(){var a={za:"printOrderError__headerIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function TX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
function UX(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function VX(a){var b;b={};soy.asserts.assertType(goog.isString(a.Ze)||a.Ze instanceof goog.soy.data.SanitizedContent,"fileType",a.Ze,"string|goog.soy.data.SanitizedContent");var c=a.Ze;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"font-size: 10px; font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\"\x3e"+soy.$$escapeHtml(c)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function GX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Ni||goog.isBoolean(a.Ni)||1===a.Ni||0===a.Ni,"withStar",a.Ni,"boolean|null|undefined");a=a.Ni;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function FX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Ni||goog.isBoolean(a.Ni)||1===a.Ni||0===a.Ni,"withStar",a.Ni,"boolean|null|undefined");a=a.Ni;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function WX(){var a={za:"addressDetailsAddress__expandAddressButtonIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e')}
function tp(a){a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'" ':"")+'fill\x3d"'+soy.$$escapeHtmlAttribute(null==b?"#FFF":
b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"-505 380 12 10"\x3e\x3cpath d\x3d"M-503 388h8v1h-8zM-494 382.2c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3l-2.3.7-1.5-2.2c.3-.2.5-.5.5-.8 0-.6-.4-1-1-1s-1 .4-1 1c0 .3.2.6.5.8l-1.5 2.2-2.3-.8c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8s-.8.4-.8.8.3.8.8.8h.2l.8 3.3h8l.8-3.3h.2c.4 0 .8-.3.8-.8 0-.4-.4-.7-.8-.7z"/\x3e\x3c/svg\x3e')};function vX(a,b){var c=a.Yp()&&a.Yp().starred,d=b.Yp()&&b.Yp().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function XX(){}XX=Backbone.View.extend({className:"uploadsFolderItem"});f=XX.prototype;f.initialize=function(a){this.Pa=a.Pa;this.disabled=!1;this.model=a.model;this.ew=a.ew;this.Di=a.Di;this.J=a.J;this.sk=void 0;this.root=a.root;(this.ye=a.ye)&&this.listenTo(this.ye,{complete:this.M7,fail:this.N7,update:this.lr})};f.events=function(){return{click:this.Lf,dragstart:this.Ss,mousedown:this.Ts}};
f.Lf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Ob();a.target&&$(a.target).is("img")?b=eh(a.target)>O.iJ:1===$(a.target).find("img").length&&(b=eh($(a.target).find("img").get(0))>O.iJ);c?this.Pa.WS(c,void 0,void 0,b):this.ye&&this.ye.Ob()&&this.Pa.XS(this.ye,void 0,void 0,b)}};f.M7=function(){this.sk.remove();this.sk=void 0;this.stopListening(this.ye)};
f.N7=function(){this.Fk(!0);this.sk.$el.addClass("uploadProgressBarFail");this.stopListening(this.ye);setTimeout(this.JZ.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Ss=function(a){a.preventDefault();return!1};f.Ts=function(a){Xz();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==O.Nh;return this.disabled||c||b||a.ctrlKey||this.eR(a)};
f.BO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(Tg(this.Pa,Wg(e)),setTimeout(c,600)):(this.Lf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a=this.model.yV(),b=this.el,a=a&&a.type,c=this.J.qq(this.J.format("objectPanelLicenseExtended")),d=this.J.qq(this.J.format("objectPanelLicenseRoyaltyFree")),e=this.Di;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"showControls",e,"boolean");var e=!!e,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+='\x3cdiv class\x3d"uploadsFolderItemLicense"\x3e'}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(e?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.ew);this.RB();this.ye&&!this.ye.$f&&(b=this.$(".uploadsControls"),this.sk||(this.sk=new YX),this.sk.render().$el.insertBefore(b));if(b=this.ye)b=this.ye,b=b.$f&&!b.media;
b&&this.JZ();return this};f.RB=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.re().o()/this.model.re().l();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.re().oa();lD(mD,d,b)};f.show=function(){this.sk&&this.lr()};
f.eR=function(a){var b,c,d=this.model.Ob();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsFolderItemLicense").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new V(b,c,b,c);c=Wg(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");var g=!1;if(d){var g=this.Pa,h;h=d.Ja().ic()[Lg];h=Jg({id:d.u(),version:d.Ja().getVersion(),files_:[{page:0,quality:"THUMBNAIL",
url:e.find("img").attr("src")},{page:0,quality:"SCREEN",url:h.oa(),width:h.l(),height:h.o()}]});Ug(g,h,c,e,b,g.WS.bind(g,d));g=!0}else if(this.ye){d=this.Pa;g=this.ye;h=e.find("img").attr("src");var k=g.Ob();k?(h=Jg({id:k.u(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.tb.width,height:g.tb.height}]}),Ug(d,h,c,e,b,d.XS.bind(d,g)),g=!0):g=!1}g&&this.aS(a)}return!0};f.Fk=function(a){this.disabled=a};
function ZX(a,b){a.ew=b;a.$el.toggleClass("uploadsFolderItemMovable",a.ew)}f.JZ=function(){this.sk&&this.sk.remove();this.sk=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.J.format("objectPanelUploadsPanelUploadFailed"));ZX(this,!1);this.Fk(!0)};
f.Rx=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(O.Gc).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.lr=function(){$X(this.sk,this.ye.fo)};
f.aS=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.BO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function aY(a){this.Pa=a.Pa;this.ac=a.ac;this.Y=null;this.yq=!0}aY.prototype.fetch=function(a){function b(a){return nk({id:a.u(),media:a,thumbnail:a.Ja().ic()[yD],type:"MEDIA"})}var c=this;a=FF((new EF).Vt(!0).Tt(!1).To(),[Eg,Gg]).Vg(a);null!=c.Y&&a.Bj(c.Y);return cF(this.ac,a).then(function(a){0!==a.media.length&&Pg(c.Pa,a.media);c.Y=a.Y;c.yq=null!=c.Y;return P.resolve(a.media.map(b))})};aY.prototype.zs=function(){return this.yq};function bY(a){this.Pa=a.Pa;this.Mi=a.Mi;this.$R=a.$R;this.Y=null;this.yq=!0}bY.prototype.fetch=function(a){function b(a){return nk(a)}var c=this;a=(new eJ).Hk(this.$R).Vg(a).Bj(this.Y);return bJ(this.Mi,a).tap(function(a){c.Y=a.Nb();c.yq=!!c.Y}).tap(function(a){a=(a.Cf()||[]).map(function(a){return a.Ob()}).filter(Boolean);Pg(c.Pa,a)}).then(function(a){return(a.Cf()||[]).map(b)})};bY.prototype.zs=function(){return this.yq};function cY(a){this.Pa=a.Pa;this.gc=a.gc;this.Va=a.Va;this.Y=null;this.yq=!0}cY.prototype.fetch=function(a){function b(a){return a.Cf()||[]}var c=this;a=pk((new ok).Bj(this.Y).Hk(Sg(this.Va))).Vg(a);return this.gc.RA(a).tap(function(a){c.Y=a.Nb();c.yq=!!c.Y}).tap(function(a){a=b(a).map(function(a){return a.Ob()});Pg(c.Pa,a)}).then(b)};cY.prototype.zs=function(){return this.yq};function dY(a){this.Zn=this.D=void 0;this.Lv=a.na===a.Va.La();this.Pa=a.Pa;this.W=a.W;this.fV=this.bi=!1;this.Va=a.Va;this.pr=a.pr;this.gc=a.gc;this.uA=!1;this.ji=[];this.ja=new JX;this.ac=a.ac;this.J=a.J;this.Ur=a.Ur;this.Z=a.Z;this.Pt=a.Pt;this.Xf=a.Xf;this.listenTo(this.Xf,"create",this.jaa);this.na=a.na;this.Uh=a.Uh;this.qF=a.qF;this.cp=a.cp;this.Di=a.Di;this.view=new eY({disabled:a.disabled,model:this.Va,J:this.J,cp:a.cp,gl:a.gl,Kf:this.W.G.get(ig)});this.listenTo(this.view,{upload:this.HI,share:this.h$})}
f=dY.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Wh=function(){this.dW=void 0;this.mg&&(sW(this.ja,this.mg.$el),this.mg=void 0)};f.fetch=function(a){a=a||25;this.bi||this.uA||!this.zs()||(this.bi=!0,this.view.Tg(!0),this.qF.fetch(a).bind(this).then(this.K6).catch(this.L6))};f.Hz=function(a){a=this.ja.FL(a);isFinite(a)?this.fetch(a):this.fetch()};f.getElement=function(){return this.view.$el};
function fY(a,b){for(var c=0;c<a.ji.length;c++){var d=a.ji[c];if(d.model===b||d.ye===b)return d}return null}f.tl=function(){return this.ja.tl()};function gY(a){return a.Xf.IF(a.Va.u()).filter(function(b){return!fY(a,b)}).filter(function(b){return b.$f&&!b.media?!1:b.$f&&b.Ob()?-1===a.Pt.indexOf(b.Ob().u()):!0})}f.zs=function(){return this.qF.zs()};
f.moveItem=function(a,b,c){var d=fY(this,a);d&&(this.Wh(),this.view.Kt(1===this.ji.length),b=Qj(Rj(new Pj,Sg(this.Va)).g0([a.u()]),Sg(b)),P.settle([this.gc.Y4(b),d.Rx(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):hY(this,a)}.bind(this)))};
f.CX=function(a){var b;if(a===this.dW)this.Wh();else{var c;c=(new QX({eL:this.W.G.get(Uf),gO:this.Va!==dk,Va:this.Va,pr:this.pr,item:a,title:a.getName()||be(this.Ur),J:this.J,Kf:this.W.G.get(ig)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.baa.bind(this,a),download:this.d3.bind(this,a)});b=fY(this,a);this.Wh();c=(new iY({Ri:!1,Fr:!0,content:c.$el,J:this.J,target:b.$el})).render();c.on("close",this.Wh,this);this.mg=c;rW(this.ja,b.$el,this.mg.$el);this.mg.show();this.dW=a;this.Uh&&this.Uh(this.mg.getContent(),
!0)}};
f.K6=function(a){this.fV=!0;this.bi=!1;jY(this,gY(this).map(this.aZ,this));jY(this,a.filter(this.A4,this).map(this.t9,this));this.view.Tg(!1);this.view.Kt(1>this.ji.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");if(!a.Kf)b.remove(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Rd(a.J)),soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"label",b,"soydata.SanitizedHtml"),b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"feedback feedback--error"\x3e'+soy.$$escapeHtml(b)+
"\x3c/p\x3e").toString(),a.$el.prepend(b);else if(a.cp&&1>b.length){var b=a.J.format("objectPanelUploadsPanelUploadButtonLabel"),c=!!a.disabled;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"label",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"disabled",c,"boolean");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton" '+(c?"disabled":"")+"\x3e"+
soy.$$escapeHtml(b)+"\x3c/button\x3e").toString();a.$el.prepend(b)}this.trigger("fetch")};f.A4=function(a){function b(a){var b="MEDIA"===a.lc(),c=a.Ob();a="FONT"!==a.Ob().lc();return b&&(!c||a)}var c=this;return function(a){return c.ji.every(function(b){return b.ye&&b.ye.Ob()?b.ye.Ob().u()!==a.u():!0})}(a)&&-1===c.Pt.indexOf(a.u())&&b(a)};
function kY(a){function b(){if(!e.Lv)return e.Z.La(e.Va.La())}function c(){lY(e.view,!1)}function d(a,b){a&&(e.Lv||b)&&(e.Zn=b?b:void 0,e.D=a,lY(e.view,!0),mY(e.view,!1,nY(e)))}var e=a,g;g=(new rk).Hk(Sg(a.Va));a.gc.wc(g).then(function(a){a=a.wc();var g=a.gn();a&&(e.Va=a);a="ADMIN"===g;var g="OWNER"===g,l=e.Va.qe(),m=e.Va===ck;!a&&!g||l||m?c():P.all([e.Z.ka(e.Va.ka()),b()]).spread(d).catch(c)}).catch(c)}f.L6=function(){this.bi=!1;this.uA=!0;this.view.Tg(!1);this.view.Lt(!0)};
f.TG=function(a){this.removeItem(a);this.trigger("trash",a.u())};f.O7=function(a){var b=fY(this,a);b&&(b.model=b.model.Ly({id:a.Ob().u()}),b.Fk(!1),ZX(b,!0))};function jY(a,b){var c=$(b.map(function(a){return a.el}));a.ji=a.ji.concat(b);OX("uploadsItemAppearing",c,2200);a.ja.push(c);b.forEach(function(a){a.show()})}f.remove=function(){this.ji.forEach(function(a){a.remove()});this.cr&&this.cr.remove();this.stopListening()};
f.removeItem=function(a){a=fY(this,a);a.remove();this.ji.splice(this.ji.indexOf(a),1);this.view.Kt(1>this.ji.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);this.view.Tg(!0);return this};f.t9=function(a){a=(new XX({Pa:this.Pa,model:a,ew:!0,Di:this.Di,J:this.J,root:$(window)})).render();this.listenTo(a,{infoClick:this.CX,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.aZ=function(a){var b=(new XX({Pa:this.Pa,model:nk({id:"",thumbnail:{height:a.tb.height,url:a.tn(),width:a.tb.width},type:"MEDIA"}),ew:!1,Di:!0,J:this.J,root:$(window),ye:a})).render();this.listenTo(b,{infoClick:this.CX,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.O7);return b};function hY(a,b){if(b=fY(a,b))b.Rx(!1),a.view.Kt(!1)}f.jaa=function(){function a(a){a.Fk(!0)}var b=gY(this);!this.kA()||1>b.length||(b=b.map(this.aZ,this),b.forEach(a),oY(this,b),this.view.Kt(!1))};
f.kA=function(){return this.fV};function oY(a,b){var c=$(b.map(function(a){return a.el}));a.ji=b.concat(a.ji);OX("uploadsItemUploading",c,600);a.ja.unshift(c);b.forEach(function(a){a.show()})}f.HI=function(a){var b=this.Va===dk;this.cp&&(b?0<a.length&&this.Pa.Xy(this.Va,"button").upload(a):this.Pa.HI(this.Va,a,"button"))};
f.h$=function(a,b){function c(a,b){"UNSHARED"===a?nY(d)&&(d.Lv||window.confirm(d.J.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(pY(d,d.D.u(),!1),d.view.Fk(!d.Lv),d.trigger("disabled",!d.Lv)):(pY(d,a,b),d.view.Fk(!1),d.trigger("disabled",!1))}var d=this,e;this.D&&(e=d.Lv?this.J.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Td(this.J,this.Zn.Jb()||this.Zn.qh()),e=[{id:"UNSHARED",sR:!nY(this),title:e},{id:this.D.u(),sR:nY(this),title:this.D.Jb()||this.J.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.cr&&(d.stopListening(this.cr),this.cr.remove()),this.cr=new qY({title:this.J.format("objectPanelUploadsPanelSharePopOverTitle")}),rY(this.cr,e),this.cr.sx(a,b),this.listenTo(this.cr,"change",c))};function pY(a,b,c){function d(){mY(e.view,!1,nY(e))}var e=a;c=c?"EDITOR":void 0;mY(e.view,!0);b=kk(a.Va,b,c);a.gc.GR(b).then(function(a){a&&a.wc()&&a.wc().u()===e.Va.u()?(e.Va=a.wc(),mY(e.view,!1,nY(e))):d()}).catch(d)}
function nY(a){return 0<(a.Va.Rj()&&a.Va.Rj().getEntries()||[]).filter(function(b){return a.D&&b.ka()===a.D.u()&&"EDITOR"===b.gn()}).length}f.baa=function(a){function b(){return c().then(function(a){return kF(g.ac,a.u(),a.Ja().getVersion())})}function c(){return P.try(function(){return a.Ob()||eF(g.ac,a.u(),IF(new HD))})}function d(b){b.isFulfilled()?g.TG(a):hY(g,a)}var e=fY(this,a),g=this;e&&(this.Wh(),P.settle([b(),e.Rx(!0)]).get(0).then(d))};
f.d3=function(a){var b=this;(function(){var c=a.u(),d=new HD;d.includeImportFileUrl=!0;d=IF(d);return eF(b.ac,c,d)})().then(function(a){a=a.Ja().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function eY(){}eY=Backbone.View.extend({className:"uploadsFolderContent"});f=eY.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.u6,"click .uploadsFolderContentUploadButton":this.L7,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.v7}};
f.initialize=function(a){this.Y0="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Vi=new gW;this.cp=a.cp;this.disabled=a.disabled;this.J=a.J;this.gl=a.gl||this.J.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.Kf=a.Kf};
f.render=function(){var a=this;this.Kf&&this.$el.html(sY({accept:this.Y0}).toString());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.getName()?a.model.getName().toLowerCase():"";return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.Vi.render().$el);this.Fk(this.disabled);return this};f.u6=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
f.v7=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};f.L7=function(){this.$(".uploadsFolderContentFileInput").click()};f.Tg=function(a){a?this.Vi.show():this.Vi.hide()};f.Fk=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.Kt=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.Kf?1>b.length&&this.$el.append(tY({gl:this.gl}).toString()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.Lt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(uY({message:this.J.format("objectPanelUploadsPanelFolderContentLoadingError")}).toString()):b.remove()};
function lY(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e').toString()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function mY(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)};function sY(a){soy.asserts.assertType(goog.isString(a.accept)||a.accept instanceof goog.soy.data.SanitizedContent,"accept",a.accept,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"'+soy.$$escapeHtmlAttribute(a.accept)+'" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e')}
function uY(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/p\x3e")}
function tY(a){soy.asserts.assertType(goog.isString(a.gl)||a.gl instanceof goog.soy.data.SanitizedContent,"emptyPrompt",a.gl,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e'+soy.$$escapeHtml(a.gl)+"\x3c/p\x3e")};function vY(){}vY=Backbone.View.extend({className:"uploadsFolder"});f=vY.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.b7,"click .uploadsFolderName \x3e span":this.a7,"click .uploadsFolderThumbnail":this.HX,dragenter:this.l6,dragleave:this.m6,dragstart:this.Ss,drop:this.Tn,"mouseover .uploadsFolderThumbnail":this.K7,"mouseout .uploadsFolderThumbnail":this.J7,"focus .uploadsFolderName \x3e input":this.c7,"keypress .uploadsFolderName \x3e input":this.d7}};
f.initialize=function(a){this.Ri=a.Ri;this.uy=a.uy;this.yb=a.yb;this.disabled=!1;this.model=a.model;this.gw=!1;this.J=a.J;this.cH=-1;this.ZY=!1;this.Di=a.Di;this.H=a.H};function wY(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function xY(a){function b(){return k.model.u().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.u(),e=!!a.model.re(),g=!!a.model.qe(),h="LOGOS"===a.model.qe(),k=a;return e?"":h&&a.yb?"#"+a.yb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function yY(a,b,c){return a.Ri&&wY(a,b,c)&&!a.jq()}f.jq=function(){return this.$el.hasClass("uploadsFolderOpen")};f.l6=function(a){this.Ri&&(this.$el.addClass("uploadsFolderDropping"),this.jq()||(this.H.clearTimeout(this.cH),this.cH=this.H.setTimeout(this.HX.bind(this,a),1E3)))};f.m6=function(a){wY(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.H.clearTimeout(this.cH),this.cH=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Ss=function(a){a.preventDefault();return!1};
f.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Ri&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.a7=function(){this.disabled||(this.uy?zY(this,!0):this.trigger("click",this.model))};f.b7=function(){this.gw&&(this.gw=!1,AY(this))};f.c7=function(){this.gw=!0};f.d7=function(a){13===a.which&&AY(this)};
f.HX=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.K7=function(){this.$el.addClass("uploadsFolderHover")};f.J7=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.uy||this.disabled,b=new hJ(this.model,this.J),c=this.model.qe();this.gw=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Ri);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.Jb());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.xi()));this.RB();zY(this,this.ZY);return this};
f.RB=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.re();return a&&a.o()>a.l()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",xY(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.re());d="LOGOS"===this.model.qe();c=b.children("img");c.on("load",a);lD(mD,c,function(){var a=e.model.re();return a?a.oa():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.xi=function(){return _.extend({},this.model,{name:(new hJ(this.model,this.J)).Jb(),shared:this.model.shared,showControls:this.Di})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.cT=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.H.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.Fk=function(a){this.disabled=a};f.Rx=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(O.Gc).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function zY(a,b){a.gw=!1;a.ZY=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.gw=!0)}function BY(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.H.setTimeout(function(){b.css("background-color",xY(a))},O.Gc)}function AY(a){var b=Sd(a.J),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function CY(a){this.yb=a.yb;this.Pa=a.Pa;this.Y=null;this.iL=this.QE=void 0;this.il=a.il;this.wz=a.wz;this.hl=a.hl;this.W=a.W;this.bi=!1;this.gc=a.gc;this.Mi=a.Mi;this.hj=[];this.uA=!1;this.ja=new JX;this.listenTo(this.ja,"redraw",this.R6);this.ac=a.ac;this.i=a.i;this.eO=!0;this.$G=this.$G.bind(this);this.Z=a.Z;this.Pt=[];this.Xf=a.Xf;this.na=a.na;this.EE=[];this.H=a.H;this.Uh=a.Uh;this.Wc=a.Wc;this.view=new DY({J:lc(this.i),Io:this.W.G.get(Xf)&&!this.hl,root:a.root});this.listenTo(this.view,{close:this.mw,
drop:this.Tn,drag:this.k6,dragScroll:this.n6,folderUpgradeCta:this.B6});this.hl&&(a=new EY({i:this.i}),this.listenTo(a,"click",this.f7),this.Aq=a)}function FY(a,b,c){return a.hj.filter(function(a){return!GY(this,a.model)&&yY(a,b,c)}.bind(a))[0]}f=CY.prototype;f.B6=function(){var a=this.Wc;a.j.wa(nm("object_panel_uploads","top","photo_folders"));Ho(a,HY)};f.mw=function(){this.Wh()};
f.k6=function(a,b){function c(){e&&d.view.Vr.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;IY(this,a,b);var e=FY(this,a,b);e!==this.QE&&(this.QE&&this.view.Vr.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.QE=e,this.iL&&clearTimeout(this.iL),this.iL=setTimeout(c,300))};f.n6=function(a){this.$O&&this.trigger("dragScroll",a)};
f.Tn=function(a,b){function c(){JY(e.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e=this,g=this.$O,h=this.iY,k=this.hY;IY(this,-1,-1);this.$O=this.hY=this.iY=this.QE=void 0;a=(d=FY(this,a,b))&&d.model;g&&a&&a!==k&&!GY(e,a)?(c(),h.moveItem(g,a,!0)):e.Fq||JY(this.view,"uploadsFolderItemCloneHidden")};f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Wh=function(){var a;this.cW=void 0;this.mg&&(sW(this.ja,this.mg.$el),this.u4=this.mg.Rl,this.mg=void 0,KY(this)||this.Dx());this.Fq&&(a=this.wc(this.Fq),this.cv.remove(),this.cv=void 0,LY(this,a).close(),this.Fq=void 0,MY(this.view,!1))};
f.eU=function(a){var b=vY,c=a.La()===this.na,d=!!a.qe();a=new b({Ri:!0,uy:c&&!d,yb:this.yb,model:a,J:lc(this.i),Di:!a.qe(),H:this.H});this.listenTo(a,{click:this.wO,drop:this.NR,infoClick:this.y6,rename:this.s9});a.render().show();return a};f.rK=function(a){var b;b=a.getName();b=(new wk).Ut(b);b.type="MEDIA";b=b.Wt(this.na);this.gc.rK(b).then(this.w6.bind(this,a)).catch(this.x6.bind(this,a))};
f.sK=function(a){function b(b,d,h,k){return new dY({Pa:c.Pa,W:c.W,Va:a,pr:c.Np().filter(function(a){return NY(c,a)}),gc:c.gc,ac:c.ac,J:lc(c.i),Ur:nc(c.i),Z:c.Z,Pt:c.Pt,Xf:c.Xf,na:c.na,disabled:GY(c,a),Uh:c.Uh,qF:b,cp:d,Di:h,gl:k})}var c=this,d;switch(a){case ck:d=new IX({Pa:c.Pa,il:c.il,J:lc(c.i),Kf:c.W.G.get(ig)});break;case dk:d=b(new aY({Pa:this.Pa,ac:this.ac}),!0,!0);this.listenTo(d,{trash:c.TG,pickedUp:c.DX.bind(c,d,a),disabled:c.zX.bind(c,a)});break;case ek:d=b(new bY({Pa:this.Pa,Mi:this.Mi,
$R:"/media/unlimited_use_purchases"}),!1,!1,lc(this.i).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));break;default:d=b(new cY({Pa:this.Pa,gc:this.gc,Va:a}),!0,!0),this.listenTo(d,{trash:c.TG,pickedUp:c.DX.bind(c,d,a),disabled:c.zX.bind(c,a)}),c.wz&&kY(d)}d.fetch();d.render();return d};
f.fetch=function(a){if(!this.bi&&!this.uA&&this.eO)if(this.hl){var b=uk((new tk).Bj(this.Y),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.Wt(this.na).Vg(a||25);this.bi=!0;this.view.Tg(!0);this.gc.hV(a).bind(this).then(this.D6).catch(this.E6)}else this.wc(dk.u())||OY(this,dk),this.wc(ek.u())||OY(this,ek),this.wc(ck.u())||OY(this,ck),this.eO=!1,this.view.Tg(!1),this.trigger("fetch")};f.Hz=function(a){a=this.ja.FL(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.wc=function(a){return this.Np().filter(function(b){return b.u()===a})[0]};f.Np=function(){return this.hj.map(function(a){return a.model})};f.tl=function(){return this.ja.tl()};f.qe=function(a){return this.Np().filter(function(b){return(b=b.qe())&&b===a})[0]};
function KY(a){function b(){var a=LY(h,ck);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.qe("UNFOLDERED"),a=a&&LY(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=h.qe("LOGOS"),a=a&&LY(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ja.Cf(),h=a;return function(){var a=h.ja.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.Aq||g.first().is(h.Aq.$el))&&d()&&e()}f.getElement=function(){return this.view.$el};function LY(a,b){return a.hj.filter(function(a){return a.model===b})[0]}function PY(a){return a.Fq?a.wc(a.Fq):void 0}function GY(a,b){return _.contains(a.EE,b.u())}function NY(a,b){var c=-1!==_.values(fk).map(function(a){return a.u()}).indexOf(b.u());return!GY(a,b)&&!c}
f.wO=function(a){a.u()===this.Fq?this.Wh():(this.Wh(),LY(this,a).open(),MY(this.view,!0),this.cv=this.sK(a),this.Fq=a.u(),QY(this,{Fr:!1,content:this.cv.getElement(),Va:a}),this.trigger("open"),this.Uh(LY(this,a).$el))};f.w6=function(a,b){b=b.wc();a=LY(this,a);a.model=b;a.Fk(!1);a.render();BY(a)};f.x6=function(a,b){a=y(LY(this,a));window.alert(this.wV(b));this.stopListening(a);this.hj.splice(this.hj.indexOf(a),1);this.ja.remove(a.$el);this.Dx()};
f.wV=function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error?lc(this.i).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):lc(this.i).format("objectPanelUploadsPanelCreateFolderError")};f.y6=function(a){var b=a.u()===this.cW;this.Wh();b||(this.cW=a.u(),b=(new PX({Va:a,i:this.i,na:this.na,Kf:this.W.G.get(ig)})).render(),b.on("trash",this.aaa.bind(this,a)),QY(this,{Fr:!0,content:b.$el,Va:a}),this.Uh(this.mg.getContent(),!0))};
f.A6=function(a){var b;b=this.wc(a.u());b=LY(this,b);b.model=a;b.render()};f.D6=function(a){var b=a.Np();b.length&&RY(this,b);this.wc(ck.u())||OY(this,ck);this.wc(ek.u())||OY(this,ek);this.hl&&this.Aq&&this.ja.push(this.Aq.$el);this.Y=a.Nb();this.bi=!1;this.eO=!!this.Y;this.Dx();this.view.Tg(!1);this.trigger("fetch")};f.E6=function(){this.bi=!1;this.uA=!0;this.view.Tg(!1);this.view.Lt(!0)};f.zX=function(a,b){b?this.EE.push(a.u()):this.EE=_.without(this.EE,a.u())};f.TG=function(a){this.Pt.push(a)};
f.DX=function(a,b,c,d){this.iY=a;this.hY=b;this.$O=c;this.view.Vr=d};f.R6=function(){this.Wh();this.Dx()};f.f7=function(){var a=this,b;b=function(){var b;b=Wj({name:Sd(lc(a.i)),user:a.na});b=a.eU(b);b.$el.addClass("uploadsFolderTransparent");a.hj.push(b);a.ja.push(b.$el);b.Fk(!0);zY(b,!0);return b}();this.Uh(b.$el).then(function(){b.cT()});U&&U.track("new_upload_folder")};f.$G=function(){this.ja.ab()};f.KX=function(){var a,b;b=(a=this.hl?this.qe("UNFOLDERED"):dk)&&a.u()===this.Fq;a&&!b&&this.wO(a)};
function OY(a,b){b=new vY({Ri:!1,uy:!1,yb:a.yb,model:b,J:lc(a.i),Di:!1,H:a.H});a.listenTo(b,"click",a.wO);b.render().show();a.hj.push(b);a.ja.push(b.$el)}function RY(a,b){b=b.map(a.eU,a);a.hj=a.hj.concat(b);b=$(b.map(function(a){return a.el}));a.ja.push(b)}f.remove=function(){$(window).off("resize",this.$G);this.stopListening();this.view.remove()};
f.s9=function(a,b){var c,d;c=a.Ly({name:b});d=LY(this,a);d.model=c;d.render();zY(d,!1);a.u()?(b=(new hk).Hk(Sg(a)).Ut(b),this.gc.GR(b).catch(this.A6.bind(this,a))):this.rK(c)};f.render=function(){this.Aq&&this.Aq.render();this.view.render();this.view.$el.prepend(this.ja.$el);var a=this.view;a.Io&&a.$el.prepend(a.raa({folderUpgradePrompt:a.J.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.J.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function IY(a,b,c){a.hj.forEach(function(a){GY(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",yY(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.$G)};function QY(a,b){var c=b.Va===ck,d=LY(a,b.Va).$el;a.mg=(new iY({Ri:!c,Fr:b.Fr,content:b.content,J:lc(a.i),Rl:a.u4,target:d})).render();a.mg.on({close:a.Wh,drop:a.NR.bind(a,b.Va)},a);rW(a.ja,d,a.mg.$el);a.mg.show()}
f.Dx=function(){function a(){var a=e.qe("LOGOS");if(a=a&&LY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=LY(e,ck);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=LY(e,ek);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=e.qe("UNFOLDERED");if(a=a&&LY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var e=this;if(this.hl&&!this.mg){var g=this.ja.Cf().detach().toArray();b();c();d();a();g.splice(g.indexOf(e.Aq.el),1);g.unshift(e.Aq.el);this.ja.push($(g))}};
f.aaa=function(a){function b(){var b=a.itemCount,d=lc(c.i);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.Wh(),d=jk((new hk).Hk(Sg(a))),P.settle([this.gc.GR(d),LY(c,a).Rx(!0).bind(c).then(c.Dx)]).then(function(b){b[0].isFulfilled()?(b=LY(this,a),b.remove(),this.stopListening(b),this.hj.splice(this.hj.indexOf(b),1)):(LY(this,a).Rx(!1),this.Dx())}.bind(this)))};
f.NR=function(a,b,c){this.W.G.get(ig)&&(NY(this,a)?this.Pa.HI(a,b,c||"drop"):GY(this,a)||0<b.length&&this.Pa.Xy(a,c||"drop").upload(b))};function DY(){}DY=Backbone.View.extend({className:"uploadsFolders"});DY.prototype.initialize=function(a){this.Vi=new gW;this.Vr=$();this.J=a.J;this.root=a.root||$(window);this.Io=a.Io};DY.prototype.events=function(){return{mousedown:this.Ts,"click .folderUpgradeCta .buttonLearnMore":this.R5}};DY.prototype.R5=function(){this.trigger("folderUpgradeCta")};DY.D0=50;DY.S0=100;DY.T0=5;f=DY.prototype;
f.Ts=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<DY.D0?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>DY.T0?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=DY.S0;
b=new V(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var e=Wg(a);a=b.w()-(e.w()+c);c=b.xa()-(e.xa()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==O.Nh||!(c||b)}()||b()};f.render=function(){this.Vi.render();this.$el.append(this.Vi.$el);return this};
function JY(a,b){var c;c=a.Vr.clone();c.removeClass().addClass(b);b=a.Vr.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Vr.remove();a.Vr=$();setTimeout(function(){c.remove()},500)}f.Tg=function(a){a?this.Vi.show():this.Vi.hide()};f.Lt=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.bF({message:this.J.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function MY(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.bF=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.raa=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function iY(){}iY=Backbone.View.extend({className:"inlineContent"});iY.M0=14.14;f=iY.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Tn}};f.initialize=function(a){this.Ri=a.Ri;this.dT=!1;this.Fr=!!a.Fr;this.content=a.content;this.J=a.J;this.Rl=a.Rl;this.target=a.target};f.getContent=function(){return this.content};
f.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Ri&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function SY(a){function b(){var a=iY.M0/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Rl=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Rl?c(a.Rl):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},O.Gc)}
f.render=function(){this.$el.html(this.template(this.xi()));this.$el.toggleClass("inlineContentAppearing",!this.dT);this.$(".inlineContentContent").append(this.content);return this};f.xi=function(){return{closeButton:this.Fr,closeTitle:this.J.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.dT=!0;SY(this);TY(this)};
function TY(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(O.Gc).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(O.Gc).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function JX(){oW.call(this,{ah:function(a){return Math.floor(a/90)},Fm:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.j1,beforeMerge:this.q1,beforeSplit:this.s1})}JX.prototype=Object.create(oW.prototype);JX.prototype.j1=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",UY(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},O.Gc)};
JX.prototype.s1=function(a){VY(a.children())};function UY(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function VY(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
JX.prototype.q1=function(a,b){var c;c=b.children();c.addClass("doNotTransition");VY(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-UY(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},O.Gc)};function EY(){}EY=Backbone.View.extend({className:"newUploadsFolder"});f=EY.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.i=a.i};f.cT=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=lc(this.i);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function VM(a){this.Pa=a.Pa;this.Pu=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Wc=a.Wc;this.Yc=new CY({yb:a.yb,Pa:a.Pa,wz:a.wz,hl:a.hl,il:a.il,W:a.W,gc:a.gc,Mi:a.Mi,ac:a.ac,i:a.i,Z:a.Z,Xf:a.Xf,na:a.na,H:a.H,Uh:this.Uh.bind(this),Wc:this.Wc,sK:a.sK});this.Yc.on({fetch:this.VJ,open:this.z6,dragScroll:this.C6},this);this.Yc.once("fetch",this.Yc.KX,this.Yc);this.EW=-1;a.W.G.get(ig)&&this.listenTo(a.h3,{dragenter:this.o6,dragleave:this.p6,drop:this.q6})}f=VM.prototype;
f.listenTo=Backbone.Events.listenTo;f.C6=function(a){a!==this.Pu?(this.Pu=a,this.OH&&clearInterval(this.OH),0!==this.Pu&&(this.OH=setInterval(this.B8.bind(this),10))):0===a&&this.OH&&clearInterval(this.OH)};
f.Uh=function(a,b){var c=this.element.height(),d=uW(this.rt,a,{YM:!0}),e=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(uW(this.rt,$(b),{YM:!0})<d&&0<a)return e-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>a||0>e)g=this.element.scrollTop()+e-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.VJ=function(){var a=this.Yc.cv,b=a&&a.tl();a&&a.zs()&&b&&800>uW(this.rt,b)&&0===this.Pu?this.Yc.cv.Hz(800):(a=this.Yc.tl())&&800>uW(this.rt,a)&&this.Yc.Hz(800)};f.getElement=function(){return this.element};f.o6=function(){var a=PY(this.Yc);a&&a!==ck&&a!==ek||this.Yc.KX();this.element.addClass("uploadsPanelDropTarget")};f.p6=function(){WY(this)};function WY(a){a.element.removeClass("uploadsPanelDropTarget")}f.z6=function(){this.Yc.cv.on("fetch",this.VJ,this)};
f.t7=function(){var a=this.rt.Hp.scrollTop();a>this.EW&&this.VJ();this.EW=a};f.B8=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.Pu})()||this.element.scrollTop(a+this.Pu)};f.render=function(){this.Yc.getElement().appendTo(this.element);this.Yc.render();return this};
f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new tW(a),c.tG(),a.data("CANVA_SCROLL_TARGET",c));this.rt=c;this.rt.on("scroll",this.t7,this);this.rt.tG();this.Yc.show();this.Yc.Hz(b)};f.q6=function(a){WY(this);var b=this.Yc,c=PY(b);c&&b.NR(c,a,"drop")};function YX(){}YX=Backbone.View.extend({className:"uploadProgressBar"});YX.prototype.initialize=function(){this.xh=0};YX.prototype.render=function(){this.$el.html(this.template());$X(this,this.xh);return this};function $X(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.xh=b}YX.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function XM(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.dP=this.fo=0;this.Jx=Date.now();this.l_=0;this.Xf=a.Xf;this.tf=a.tf}f=XM.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.Jx=Date.now()-100;this.stopListening(this.Xf);this.listenTo(this.Xf,{create:this.nI,fail:function(a){XY(this,a,this.tf)}})};f.nI=function(){this.dP=setTimeout(this.wW.bind(this),50)};
f.wW=function(){function a(){var a=Math.random();.025>a&&(c.$el.addClass("showRubberDucky"),.005>a&&c.$el.addClass("showNautilus"),setTimeout(function(){c.$el.removeClass("showRubberDucky showNautilus")},9E3))}var b=WL(this.Xf,this.Jx),c=this;clearTimeout(this.l_);clearTimeout(this.dP);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.fo=Math.round(.7*b+.05),YY(this),a(),this.dP=setTimeout(this.wW.bind(this),1E3))};
f.finish=function(){var a=this;this.l_=setTimeout(function(){a.Jx=Date.now()-2E3-100;a.fo=100;YY(a);setTimeout(a.reset.bind(a),1100)},2E3)};function XY(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&QL.show(b,c)}
function YY(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.fo)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.fo=0;this.Jx=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");YY(this)};f.remove=function(){this.reset();this.stopListening(this.Xf);this.$el.remove()};function ZY(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__toggle",function(){return b.trigger($Y)})}r(ZY,hc);function aZ(){var a=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"searchMenu"\x3e\x3cdiv class\x3d"select searchMenu__toggle"\x3e\x3c/div\x3e\x3c/div\x3e').toString());return new ZY(a)}var $Y="SHOW_OVERLAY";
function bZ(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__item",function(a){return b.vO(a)});a.on("click",".searchMenu__freeFilterCta",function(){return b.trigger(cZ)})}r(bZ,hc);bZ.prototype.vO=function(a){a=$(a.target).closest(".searchMenu__item").data("filterType");this.trigger(dZ,a)};var dZ="FILTER_CHANGE",cZ="FREE_FILTER_CTA";function eZ(a){Cz.call(this,{className:"searchMenuPopOver",content:a.content,vx:!1,position:zp})}r(eZ,Cz);eZ.prototype.Rp=function(){return DX};var fZ=new Ff("gd",!1);function gZ(a,b,c){var d=this;this.Zl=a.Zl;this.view=b;this.I8=c;this.Jq=this.Iq=null;this.TL=a.TL;this.cC="NONE";this.XD=a.XD;this.anchor=a.anchor;this.j=a.j;this.view.on($Y,function(){hZ(d);d.Iq.Ci(d.anchor)})}
function QM(a){var b=aZ();return{Db:iZ(a,b,function(b){var d=[],e;d.push({type:"NONE",label:a.Zl.format("searchMenuMostRelevant"),yf:!1});a.G.get(fZ)?d.push({type:"FREE",label:a.Zl.di(),yf:!0}):(e=a.Zl.Ia("searchMenuFreeFilterCtaHtml",4E5),d.push({type:"FREE_CTA",label:a.Zl.di(),yf:!0,disabled:!0}));var g=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"selectedFilterType",b,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertArray(d,"expected parameter 'filters' of type list\x3c[crownTag: bool|null, label: string, selected: bool|null, type: string]\x3e.");
soy.asserts.assertType(null==e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"footerCta",e,"?soydata.SanitizedHtml|string|undefined");for(var h='\x3cdiv class\x3d"searchMenu__overlay"\x3e\x3cdiv class\x3d"selectMenu"\x3e',k=d.length,l=0;l<k;l++){var m=d[l],n,p=m.type==b,q=m.yf;n=m.label;m=m.type;soy.asserts.assertType(null==p||goog.isBoolean(p)||1===p||0===p,"selected",p,"boolean|null|undefined");soy.asserts.assertType(null==q||goog.isBoolean(q)||1===
q||0===q,"crownTag",q,"boolean|null|undefined");soy.asserts.assertType(goog.isString(n)||n instanceof goog.soy.data.SanitizedContent,"label",n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"type",m,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item searchMenu__item'+(p?" searchMenu__item--selected":"")+'" data-filter-type\x3d"'+soy.$$escapeHtmlAttribute(m)+
'"\x3e'+soy.$$escapeHtml(n)+(q?tp({za:"searchMenu__crown",color:"#3f4652"}):"")+"\x3c/div\x3e");h+=n}h+=(e?'\x3cdiv class\x3d"searchMenu__footerCta"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e";b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h);g=g(b.toString());g=new bZ(g);b=new eZ({content:g.$el});return{Jq:g,Iq:b}}),view:b}}function iZ(a,b,c){return new gZ(a,b,c)}
function jZ(a){return X(X(X(X(new am("filter_changed"),"section","editor"),"subsection","object_panel"),"location","search_menu"),"type",a)}gZ.prototype.vO=function(a){if("FREE_CTA"===a)this.Iq.cancel(),this.XD();else{this.cC=a;var b=this.Jq,c=this.cC;b.$el.find(".searchMenu__item--selected").removeClass("searchMenu__item--selected");b.$el.find('.searchMenu__item[data-filter-type\x3d"'+c+'"]').addClass("searchMenu__item--selected");this.Iq.cancel();this.TL();this.j.wa(jZ(a.toString()))}};
function hZ(a){var b=a.I8(a.cC),c=b.Iq,d=b.Jq;a.Jq=d;a.Iq=c;a.Jq.on(dZ,function(b){return a.vO(b)});a.Jq.on(cZ,function(){a.Iq.cancel();a.XD()});a.Iq.once("remove",function(){d.remove();a.Jq===d&&(a.Jq=null)})};function SM(){}SM=Backbone.View.extend({});SM.prototype.events=function(){return{"click .searchFilterMediaTypeOption__link":this.b4}};SM.prototype.initialize=function(a){var b=this,c=new PP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new MM(new XP);c.Kk(d);this.nG=new jX({model:c,el:this.$(".layer"),i:a.i});c=new cX({model:d,el:this.$(".browseCategories"),i:a.i});this.nG.ee.push(c);!a.el&&this.render()};SM.prototype.ps=function(){return this.$el.find(".searchFilterMediaTypeOption--selected").data("mediaTypes")};
SM.prototype.b4=function(a){this.$el.find(".searchFilterMediaTypeOption").removeClass("searchFilterMediaTypeOption--selected");$(a.target).closest(".searchFilterMediaTypeOption").addClass("searchFilterMediaTypeOption--selected");this.trigger("searchFilterMediaType")};function UM(){}UM=Backbone.View.extend({});
UM.prototype.initialize=function(a){var b=this,c=new PP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new MM(new XP);c.Kk(d);this.nG=new jX({model:c,el:this.$(".layer"),i:a.i});c=new cX({model:d,el:this.$(".browseCategories"),i:a.i});this.nG.ee.push(c);this.nG.on("folder:expand",function(a){b.trigger("folder:expand",a)});!a.el&&this.render();a.n$&&(c=$('\x3cspan class\x3d"badgeContainer"\x3e'),d=$("\x3cspan\x3e").addClass("newFeatureLabel").text(sd(a.i).Sn()),c.append(d),
this.$("a[data-query\x3dcharts]").append(c));a=kZ({label:$d(lc(a.i))});a=$('\x3cspan class\x3d"badgeContainer"\x3e').append($(a.toString()));this.$("a[data-crowntag\x3dtrue]").append(a)};function lZ(a){var b=this;this.af=a.af||$(document);this.Te=a.Te||$("body");this.XF=function(){return b.hide()};this.element=null;this.zx=!1}f=lZ.prototype;f.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.XF);this.Te.append(this.element);this.af.on("keydown",this.XF);this.zx=!0};
f.hide=function(){this.zx&&(this.zx=!1,this.element.off("click",this.XF),this.element.remove(),this.trigger("close"),this.af.off("keydown",this.XF));return!1};f.remove=function(){this.hide();this.element&&this.element.remove()};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var pN="contextTipRoyaltyFreeFolder";function mZ(a){var b=this;this.af=a.af;this.Te=a.Te;this.Sy=a.Sy;this.fd=a.fd;this.UY=function(){return b.remove()};this.width=a.width;this.style=a.style;this.Mn=new lZ({af:this.af,Te:this.Te});this.Mn.on("close",this.UY);this.element=null}
function nZ(a){switch(a.key){case pN:return new mZ({af:a.af,Te:a.Te,Sy:a.i.format("unlimitedUseFolderContextTipContentText"),fd:a.i.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new mZ({af:a.af,Te:a.Te,Sy:a.i.format("royaltyFreePaymentOptionContextTipContentText"),fd:a.i.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}f=mZ.prototype;
f.sx=function(a,b,c){c=void 0===c?!0:c;var d=this,e=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.Sy),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.fd),h=this.createElement();g.on("click",function(){return d.remove()});this.Mn.show();h.empty().append(e).append(g).appendTo(this.Te).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
f.remove=function(){var a=this;this.Mn.remove();this.Mn.off("close",this.UY);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};f.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function oZ(a){this.Z=a.Z;this.i=a.i;this.Rk=a.Rk;this.gE=a.gE;this.root=a.root;this.bE=null;this.Qt={};this.kP=new Map}oZ.prototype.start=function(){Pw(this.Z).bind(this).tap(this.b_).then(this.NZ);return this};function oN(a,b,c){-1!==a.Rk.indexOf(b)&&a.kP.set(b,c)}function pZ(a,b){return-1!==a.Rk.indexOf(b)&&!1===a.Qt[b]?qZ(a,b):P.resolve()}function rZ(a){var b=pN;sZ(a,b).then(function(){return pZ(a,b)})}
function sZ(a,b){function c(){return!0!==this.Qt[b]?(this.Qt[b]=!1,Qw(this.Z,b,!1)):P.resolve()}return a.Qt.hasOwnProperty(b)?c.call(a):Pw(a.Z).bind(a).tap(a.b_).then(c)}oZ.prototype.NZ=function(){var a=this,b=tZ(this);this.bE&&this.bE.remove();b&&qZ(this,b).then(function(){return a.NZ()})};function tZ(a){for(var b=0;b!==a.Rk.length;b++)if(!1===a.Qt[a.Rk[b]])return a.Rk[b];return null}oZ.prototype.b_=function(a){this.Qt=a};
function qZ(a,b){var c=a.Rk.indexOf(b);if(0<=c){a.bE=a.gE(b);var d=uZ(a,b);if(d)return vZ(a,b).then(function(){return a.bE.sx(d.x,d.y)});a.Rk.splice(c,1)}return P.resolve()}function vZ(a,b){a.Qt[b]=!0;return Qw(a.Z,b,!0)}function uZ(a,b){return a.kP.has(b)&&(a=a.kP.get(b))?a():null};function qY(a){this.af=a.af||$(document);this.items=[];this.Te=a.Te||$("body");this.title=a.title;this.view=this.yK();this.Mn=new lZ({af:this.af,Te:this.Te});this.Mn.on("close",this.remove.bind(this))}f=qY.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.yK=function(){var a=new wZ;a.on("toggle",this.Uf.bind(this));return a};f.remove=function(){var a=this.view;this.Mn.hide();a.hide();setTimeout(function(){a.remove()},300)};
function rY(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.sx=function(a,b){this.Mn.hide();this.Te.append(this.view.getElement());this.Mn.show();this.view.sx(a,b)};f.Uf=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.sR)};function wZ(){}wZ=Backbone.View.extend({className:"contextMenu"});f=wZ.prototype;f.events=function(){return{"click .contextMenuItem":this.J6}};f.getElement=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.J6=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.sR&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.sx=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function xZ(){}xZ=Backbone.View.extend({className:"dropdownPane"});xZ.prototype.initialize=function(){this.once("show",this.render)};xZ.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function yZ(){}yZ=Cz.extend({className:"dropdownMenuPopoverContainer"});f=yZ.prototype;f.initialize=function(a){Cz.prototype.initialize.call(this,_.defaults(a,{Of:{top:-4}}));this.$n=[];this.$o=null;this.on("show",this.l$);this.on("remove",this.n9)};f.render=function(){Cz.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.$n.forEach(function(b){b.$el.appendTo(a)});return this};
f.eu=function(a){this.listenTo(a,"show",this.a$);this.listenTo(a,"show",this.Rq);this.listenTo(a,"resize",this.Rq.bind(this,a));this.$n.push(a)};f.Rq=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.nm=function(){Cz.prototype.nm.call(this);this.$o&&this.Rq(this.$o);return this};f.a$=function(a){this.$o=a};f.l$=function(){0<this.$n.length&&this.$n[0].show()};
f.n9=function(){this.$o=null;this.$n.forEach(function(a){a.remove()});this.$n.length=0};function $U(){}$U=yZ.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});f=$U.prototype;
f.initialize=function(a){yZ.prototype.initialize.call(this,a);this.Bm=a.Bm;this.document=a.document;this.W=a.W;this.pa=a.pa;this.vc=this.document.lb();this.BB=null;this.cN=this.jN=!1;this.fj=a.fj;this.WK=a.WK;this.Uk=a.Uk;this.i=a.i;this.yU=this.VK=this.Nu=null;var b=y(this.vc.u()),c=y(this.vc.getName()),d=y(this.vc.tb),e=zZ,g=this.W.G.get(Of),h=this.W.MN(),k=this.W.G.get(Xf);a=a.Hs;var l=this.i;l.hh||(l.hh=new de(l.config));this.gV=new e({Rm:c,xp:b,YK:d,wL:g,yL:h,BL:k,Hs:a,hh:l.hh});c=AZ;e=this.i;
e.bl||(e.bl=new ee(e.config));this.al=new c({Vk:b,bl:e.bl});this.tZ=d.Wj();this.rE=new BZ({IK:d.l(),FK:d.o(),HK:d.Wj(),Nm:vc(this.i)});d=CZ;c=this.i;c.th||(c.th=new fe(c.config));this.Ig=new d({Vk:b,th:c.th});this.eu(this.gV);this.eu(this.al);this.eu(this.rE);this.eu(this.Ig);this.listenTo(this.gV,"show",this.kaa);this.mY()};
f.events=function(){var a=yZ.prototype.events.call(this);a["click .documentSaveButton"]=this.a6;a["click .documentCopyButton"]=this.F5;a["click .documentResizePaneButton"]=this.M5;a["click .documentResizeButton"]=this.K5;a["click .customDimensionsPaneButton"]=this.I5;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.M6;a["change .customDimensionsUnits"]=this.u5;a["click .customDimensionsResizeButton"]=this.J5;a["click .magicResizePaneButton"]=this.V5;a["change .magicResizePane input"]=
this.x5;a["click .magicResizeButton:enabled"]=this.U5;a["click .button.retry"]=this.mY;a["click .resizeUpgradeCta .buttonLearnMore"]=this.L5;return a};f.Vl=function(a,b){this.trigger("documentResizeRequested",a,b)};function DZ(a){switch(a){case "PIXELS":return"PIXELS";case "MILLIMETERS":return"MILLIMETERS";case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw Error("Unknown units "+a);}}
function EZ(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),e=a.vc.tb,g=e.l(),h=e.o(),k=e.Wj(),e=!1;if(d===g&&c===h&&b==k)a.cancel();else{var g=a.$(".customDimensionsUnits").prop("value"),h=a.$(".customDimensionsWidth").val(),k=a.$(".customDimensionsHeight").val(),l=Math.floor(1E3*FZ(O.F0,g))/1E3,m=Math.ceil(1E3*FZ(O.H0,g))/1E3;null!=(g=h<m||k<m?vc(a.i).format("customDimensionsPaneDimensionUnder",
m,g):h>l||k>l?vc(a.i).format("customDimensionsPaneDimensionOver",l,g):null)?a.rE.lf(g):(a.rE.lg(),e=!0,g=new jt({width:d,height:c,units:DZ(b)}),h=pv(d,c,b),a.Vl(h,g),a.ok())}null!=U&&Ol(U,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,new_width:d.toString(),new_height:c.toString(),success:e})}function GZ(a){a.BB||(a.BB=sA(O.ny),a.BB.finally(function(){a.BB=null}));return a.BB}
f.mY=function(){this.H_({});uj(this.WK.N,"/documentcreationoption/expanded").get(0).then(La).then(Hu).bind(this).tap(function(a){this.VK=a.ys;this.yU=_.flatten(a.ys.map(function(a){return a.options}))}).then(this.M4).catch(this.HV)};f.M4=function(){var a=[];this.VK.forEach(function(b){b.options.forEach(function(b){a.push(b.Rm)})});Mu(this.fj,new Nv({wl:a})).bind(this).tap(function(a){this.Nu=a.Nu}).then(this.N8).then(this.H_).catch(this.HV)};f.L5=function(){var a=this.Uk;a.j.wa(mm());Ho(a,Lo)};
f.H_=function(a){this.al.BQ(a);this.$o===this.al&&(this.al.render(),this.Rq(this.al));this.Ig.BQ(a);this.$o===this.Ig&&(this.Ig.render(),this.Rq(this.Ig),HZ(this))};f.HV=function(){this.al.CQ();this.$o===this.al&&(this.al.render(),this.Rq(this.al));this.Ig.CQ();this.$o===this.Ig&&(this.Ig.render(),this.Rq(this.Ig))};
f.kaa=function(){if(!this.cN){var a=this;this.cN=!0;GZ(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.cN=!1})}};function HZ(a){a.jN||(a.jN=!0,GZ(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.jN=!1}))}
f.a6=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.F5=function(){this.trigger("documentCopyRequested");this.ok()};f.M5=function(){this.al.show()};
f.K5=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.lb().u())b.cancel();else{var a=_.find(b.Nu,function(a){return a.u()===c}),e=_.find(b.yU,function(a){return a.Rm===c});y(e.xp);y(a);b.Vl(a,new it({id:e.xp,version:1}));b.ok()}});null!=U&&Ol(U,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};f.I5=function(){this.rE.show()};f.M6=function(a){13===a.keyCode&&EZ(this)};
f.u5=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{c=new qv({units:this.tZ,width:b,height:c});b=Rg(c);switch(a){case "PIXELS":break a;case "CENTIMETERS":c=b.l()/96*2.54;b=b.o()/96*2.54;break;case "INCHES":c=b.l()/96;b=b.o()/96;break;case "MILLIMETERS":c=b.l()/96*25.4;b=b.o()/96*25.4;break;default:throw Error("Unknown units: "+c.Wj());}b=new qv({width:c,height:b,units:a})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.l().toFixed(c));this.$(".customDimensionsHeight").val(+b.o().toFixed(c));this.tZ=a};f.J5=function(){EZ(this)};f.V5=function(){this.Ig.show();HZ(this)};f.x5=function(){HZ(this)};
f.U5=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled"),d=$(a.currentTarget);d.blur();d.prop("disabled",!0);var e=c.toArray().map(function(a){return $V(this.pa.hc(),"remix",su(this.pa))+"?resizeTo\x3d"+encodeURIComponent(a.value)},this);this.Ig.$(".errorMessage").remove();var g=function(){var a=window.open(e.shift());a&&b.push(a);null==a?(b.forEach(function(a){a.close()}),b=[],d.prop("disabled",!1),this.SQ(),U&&$l(U,"magic_resize")):0===e.length?(this.ok(),U&&$l(U,"magic_resize")):
0<navigator.userAgent.indexOf("Safari")&&0<navigator.userAgent.indexOf("Version/11")?setTimeout(g,1100):g()}.bind(this);g()};f.SQ=function(){IZ.J$(this.Bm)?(new IZ({Bm:this.Bm,i:Kd(this.i)})).show():(this.Ig.SQ(),this.Rq(this.Ig))};f.N8=function(){var a={};this.VK.forEach(function(b){a[b.QF]=b.options.map(function(a){return{id:a.Rm,displayName:a.displayName,displayDimensions:a.LK,category:b.QF}})});return a};function zZ(){}
zZ=xZ.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
zZ.prototype.initialize=function(a){xZ.prototype.initialize.call(this);this.Rm=a.Rm;this.xp=a.xp;this.YK=a.YK;this.wL=a.wL;this.yL=a.yL;this.BL=a.BL;this.Hs=a.Hs;this.hh=a.hh};
zZ.prototype.render=function(){var a=moment(this.Hs).fromNow();this.$el.html(this.template({documentDimensions:this.YK.print(),enableDocumentResize:this.wL,enableMagicResize:this.yL,doctypeName:this.Rm,doctypeId:this.xp,magicResizeLabel:this.hh.VW(),changeDimensionsLabel:this.hh.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.hh.save(),makeACopyLabel:this.hh.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.hh.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.BL,
resizeUpgradePrompt:this.hh.B9(),learnMoreButtonLabel:this.hh.DN(),lastSavedLabel:this.hh.E4(a)}));return this};function AZ(){}
AZ=xZ.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
AZ.prototype.initialize=function(a){xZ.prototype.initialize.call(this);this.mz={};this.Vk=a.Vk;this.es=!1;this.bl=a.bl};AZ.prototype.render=function(){this.$el.html(this.template({documentTypes:this.mz,fetchFailed:this.es,useCustomDimensions:this.bl.taa(),couldNotBeLoaded:this.bl.nK(),tryLoadingAgain:this.bl.xR(),fetchingDesignTypes:this.bl.QL()}));if("custom"!==this.Vk)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Vk){a.eq(b).addClass("selected");break}return this};
AZ.prototype.BQ=function(a){this.es=!1;this.mz=a};AZ.prototype.CQ=function(){this.es=!0};function BZ(){}BZ=xZ.extend({className:"dropdownPane customDimensionsPane"});f=BZ.prototype;f.initialize=function(a){xZ.prototype.initialize.call(this);this.IK=a.IK;this.FK=a.FK;this.Nm=a.Nm;this.HK=a.HK;this.on("show",this.P3)};
f.render=function(){var a=this;this.$el.html(this.template({defaultWidth:this.IK,defaultHeight:this.FK,actionResize:this.Nm.a1(),times:this.Nm.times(),pixelsUnit:this.Nm.F8(),dimOptions:["PIXELS","INCHES","CENTIMETERS","MILLIMETERS"].map(function(b){return{value:b,selected:b===a.HK,name:Jv(b)}})}));return this};f.P3=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
f.lf=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};f.lg=function(){this.$(".customDimensions__error").removeClass("customDimensions__error--visible")};f.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function JZ(a,b,c){this.dn=a;this.Oo=b;this.Gm=c}var KZ=[];function LZ(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new JZ("INCHES",a,b);a=new JZ(a,"INCHES",1/b);b=[c,a];MZ(c,b,1);MZ(a,b,0);Array.prototype.push.apply(KZ,b)}
function FZ(a,b){if("PIXELS"==b)return a;for(var c=0;c<KZ.length;c++){var d=KZ[c];if("PIXELS"==d.dn&&d.Oo==b)return d.Gm*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function MZ(a,b,c){var d,e,g;for(e=0;e<KZ.length;e++){var h=KZ[e];if(h.dn==a.Oo){if(d=new JZ(a.dn,h.Oo,a.Gm*h.Gm),b.push(d),0!=c)for(g=0;g<KZ.length;g++)h=KZ[g],d.dn==h.Oo&&b.push(new JZ(d.Oo,h.dn,1/(h.Gm*d.Gm)))}else if(h.Oo==a.dn&&(d=new JZ(h.dn,a.Oo,h.Gm*a.Gm),b.push(d),0!=c))for(g=0;g<KZ.length;g++)h=KZ[g],d.Oo==h.dn&&b.push(new JZ(d.dn,h.Oo,d.Gm*h.Gm))}}LZ("MILLIMETERS",25.4);LZ("PIXELS",96);LZ("CENTIMETERS",2.54);function CZ(){}
CZ=xZ.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
K8:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});f=CZ.prototype;f.initialize=function(a){xZ.prototype.initialize.call(this);this.Vk=a.Vk;this.mz={};this.es=!1;this.th=a.th};
f.render=function(){this.$el.html(this.template({documentTypes:this.mz,currentDocumentTypeId:this.Vk,fetchFailed:this.es,copyAndResize:this.th.z2(),couldNotBeLoaded:this.th.nK(),tryLoadingAgain:this.th.xR(),fetchingDesignTypes:this.th.QL(),currentDesignSize:this.th.J2(),abracadabraResize:this.th.X0()}));this.$('input:not([value\x3d"'+this.Vk+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Vk+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};
f.BQ=function(a){this.es=!1;this.mz=a};f.CQ=function(){this.es=!0};f.SQ=function(){this.$("footer").prepend(this.K8({ohSnap:this.th.l5(),multipleTabs:this.th.g5()}))};function NZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.bp)||a.bp instanceof goog.soy.data.SanitizedContent,"alertClass",a.bp,"string|goog.soy.data.SanitizedContent");var c=a.bp;soy.asserts.assertType(a.Bn instanceof soydata.SanitizedHtml||a.Bn instanceof soydata.UnsanitizedText||goog.isString(a.Bn),"iconHtml",
a.Bn,"soydata.SanitizedHtml");var d=a.Bn;soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");var e=a.Tc;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var g=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",
a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");var l=a.xb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(e?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(l?soy.$$escapeHtml(d):"")+"\x3c/div\x3e"+(g?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(g)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(b)+
"\x3c/div\x3e\x3c/div\x3e"+(e?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function OZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(NZ(soy.$$assignDefaults({bp:"feedbackAlert--success",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+PZ())},a)))}
function QZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(NZ(soy.$$assignDefaults({bp:"feedbackAlert--info",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+RZ())},a)))}
function SZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(NZ(soy.$$assignDefaults({bp:"feedbackAlert--warning",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+TZ())},a)))}
function UZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(NZ(soy.$$assignDefaults({bp:"feedbackAlert--danger",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+TZ())},a)))}
function RZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(RZ.RZ="FeedbackTemplates.infoIcon");
function PZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(PZ.RZ="FeedbackTemplates.successIcon");
function TZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(TZ.RZ="FeedbackTemplates.warningIcon");function VZ(a,b){this.$el=a;this.Mh=b}r(VZ,gc);function WZ(a){w(!(a.global^0),"$globalContainer is required for global alerts");var b=a.type.VM();a=NZ({bp:a.type.za,v:a.v,global:a.global,Bn:b,message:a.message,Tc:a.Tc,small:a.small,title:a.title,xb:a.xb});return XZ($(a.toString()),void 0)}
function XZ(a,b){w(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');w(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new VZ(a,b)}
VZ.prototype.Me=function(){this.Mh&&(Fa(!this.Mh.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.Mh.data("gcpt",this.Mh.get(0).style["padding-top"]),this.Mh.css("padding-top",parseFloat(this.Mh.css("padding-top"))+this.$el.outerHeight()),this.Mh.addClass("globalFeedbackAlertContainer"))};
VZ.prototype.remove=function(){if(this.Mh){this.Mh.removeClass("globalFeedbackAlertContainer");this.Mh.css("padding-top","");var a=parseFloat(this.Mh.data("gcpt"));a&&this.Mh.css("padding-top",a);this.Mh.removeData("gcpt")}gc.prototype.remove.call(this)};var YZ={za:"feedbackAlert--info",VM:RZ},ZZ={za:"feedbackAlert--warning",VM:TZ},$Z={za:"feedbackAlert--danger",VM:TZ};function a_(a,b,c){var d=this;this.Qh=a.Qh;this.j=a.j;this.m4=b;c.on(b_,function(a){return d.onMessage(a)});c.on(c_,function(){return c.hide()})}
function d_(a){var b=e_(a.pb,a.a3),c=$,d;soy.asserts.assertType(goog.isString(a.Qh)||a.Qh instanceof goog.soy.data.SanitizedContent,"animatorUrl",a.Qh,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(f_({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3ciframe src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Qh))+'" class\x3d"animatorFrame" scrolling\x3d"no" frameborder\x3d"0" marginheight\x3d"0" marginwidth\x3d"0" /\x3e')}));c=
c(d.toString());d=new g_(c,$(document));c=new h_(c,d);return{Db:new a_(a,b,c),view:c}}function e_(a,b){return P.resolve($.get($V(a,"render",b))).then(function(a){return a.toString()})}
a_.prototype.onMessage=function(a){if(a.origin===this.Qh&&"string"===typeof a.data.type)switch(a.data.type){case i_:j_(this,a);break;case k_:a=La(a.data.event);a=new l_({location:C("location",a),type:C("type",a)});"error"===a.location?this.j.track("animator_error",{section:"editor",subsection:"animator",type:a.type}):Ol(this.j,a.type,"editor","animator",a.location);break;default:throw Error("unknown message type: "+a.data.type);}};
function j_(a,b){a.m4.then(function(a){return new m_(a)}).catch(n_).then(function(a){return b.source.postMessage({type:"ANIMATE_DESIGN",html:I("html",a.html)},b.origin)})}var i_="ANIMATOR_LOADED",k_="TRACKING";function m_(a){this.html=a}function n_(){return new m_(null)}function l_(a){this.location=a.location;this.type=a.type};function h_(a,b){var c=this;hc.call(this,a);this.Sr=b;this.onMessage=this.onMessage.bind(this);b.on(o_,function(){return c.trigger(c_)});window.addEventListener("message",this.onMessage)}r(h_,hc);h_.prototype.show=function(){this.Sr.show()};h_.prototype.hide=function(){var a=this;this.Sr.hide().then(function(){a.remove()})};h_.prototype.onMessage=function(a){this.trigger(b_,a)};h_.prototype.remove=function(){hc.prototype.remove.call(this);window.removeEventListener("message",this.onMessage)};
var c_="CLOSE",b_="MESSAGE";function p_(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+VX(a)+"\x3c/div\x3e")};function q_(a){mp.call(this,{H:a.H,title:a.bv.title(),content:r_(a.bv)})}r(q_,mp);
function r_(a){var b=$,c;c=a.DB();var d=a.G8(),e=a.IA(),g=a.C4(),h=a.z8(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.A8()),l=a.x8(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.y8());a=a.IM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||
e instanceof goog.soy.data.SanitizedContent,"jpg",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
p_({Ze:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+p_({Ze:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(e)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+p_({Ze:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+p_({Ze:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}q_.prototype.render=function(){mp.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function s_(a){mp.call(this,{H:a.H,content:t_(a.Zy),jf:!1})}r(s_,mp);
function t_(a){var b=$,c;c=a.title();var d=a.sg(),e=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.I2()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.w1());a=a.IM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof
soydata.UnsanitizedText||goog.isString(e),"cropMarksDescription",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}s_.prototype.render=function(){mp.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function u_(a){this.j=a.j}function v_(a,b){a.track("download_page_range_change",{pageRange:b})}function w_(a,b){a.track("download_button_click",{filetype:b})}u_.prototype.QC=function(a){this.track("close",{type:a})};u_.prototype.track=function(a,b){this.j.track(a,_.extend(this.kM(),b))};u_.prototype.kM=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function x_(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isString(a.av)||a.av instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.av,"string|goog.soy.data.SanitizedContent");var d=a.av;soy.asserts.assertType(goog.isString(a.hu)||a.hu instanceof goog.soy.data.SanitizedContent,"allPages",a.hu,"string|goog.soy.data.SanitizedContent");
var e=a.hu;soy.asserts.assertType(goog.isString(a.kH)||a.kH instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.kH,"string|goog.soy.data.SanitizedContent");var g=a.kH;soy.asserts.assertType(goog.isString(a.Gu)||a.Gu instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.Gu,"string|goog.soy.data.SanitizedContent");var h=a.Gu;soy.asserts.assertType(goog.isString(a.Sx)||a.Sx instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Sx,"string|goog.soy.data.SanitizedContent");
var k=a.Sx;soy.asserts.assertType(goog.isString(a.pG)||a.pG instanceof goog.soy.data.SanitizedContent,"learnMore",a.pG,"string|goog.soy.data.SanitizedContent");var l=a.pG;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var m=a.download;soy.asserts.assertType(goog.isNumber(a.od),"pageCount",a.od,"number");var n=a.od;soy.asserts.assertType(goog.isBoolean(a.kz)||1===a.kz||0===a.kz,"displayRemoveCanvasOption",
a.kz,"boolean");var p=!!a.kz;soy.asserts.assertType(goog.isBoolean(a.Io)||1===a.Io||0===a.Io,"showUpgradeCta",a.Io,"boolean");var q=!!a.Io;soy.asserts.assertType(goog.isString(a.hG)||a.hG instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.hG,"string|goog.soy.data.SanitizedContent");var u=a.hG,v=goog.asserts.assertArray(a.ne,"expected parameter 'exportOptions' of type list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.Fu)||
a.Fu instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.Fu,"string|goog.soy.data.SanitizedContent");var z=a.Fu;soy.asserts.assertType(goog.isString(a.wp)||a.wp instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.wp,"string|goog.soy.data.SanitizedContent");var t=a.wp;soy.asserts.assertType(null==a.zr||a.zr instanceof goog.soy.data.SanitizedContent||goog.isString(a.zr),"animatorCtaText",a.zr,"null|string|undefined");a=a.zr;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+
soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+UX()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+y_({options:v,block:!0,v:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+
soy.$$escapeHtmlAttribute(t)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(n)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+soy.$$escapeHtml(e)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+soy.$$escapeHtml(h)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(p||q?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(q?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(q?"disabled":"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/label\x3e"+(q?z_({tagName:"a",v:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:l}):"")+"\x3c/section\x3e":"")+(a?'\x3csection class\x3d"exportPopOver__section exportPopOver__animatorCta"\x3e\x3cspan class\x3d"exportPopOver__animatorCtaText"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+z_({tagName:"a",v:"exportPopOver__animatorCtaLearnMoreButton",small:!0,href:"#",text:l})+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(u)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable exportPopOver__downloadButton"\x3e'+
soy.$$escapeHtml(m)+"\x3c/button\x3e\x3c/footer\x3e")};function A_(){}A_=Cz.extend();
A_.prototype.events=function(){var a=Cz.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.G6;a["change input[name\x3dpageRangeOption]"]=this.z5;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.v6;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.o5;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.y5;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.v5;a["click .exportPopOver__downloadButton"]=
this.N5;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.d6;a["click .exportPopOver__animatorCtaLearnMoreButton"]=this.C5;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.A5;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.G5;a["change .exportPopOver__cropMarksAndBleedInput"]=this.t5;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.Q5;return a};A_.sS=new Ff("gf",!1);A_.tS=new Ff("gg",!1);A_.A0=new Ff("nr",!1);f=A_.prototype;
f.initialize=function(a){this.W=a.W;this.model=a.model;this.he=a.he;this.Nl=a.Nl;this.Wc=a.Wc;this.ua=a.ua;this.dc=a.dc;this.fb=a.fb;this.aa=a.aa;this.Z=a.Z;this.yd=a.yd;this.ub=a.ub;this.cc=a.cc;this.pd=a.pd;this.Ka=a.Ka;this.j=a.j;this.Ib=a.Ib;this.H=a.H;var b=this.i=a.i;b.Tb||(b.Tb=new Ge(b.config));this.Tb=b.Tb;this.Xb=a.Xb;this.Oj=a.Oj;this.Fd=a.Fd;this.Qh=a.Qh;this.G=a.G;this.yc=a.yc;this.wd=a.wd;this.LX=!0;this.tj=a.tj;this.Na=a.Na;this.ne=[{value:B_,text:this.Tb.IA()},{value:C_,text:this.Tb.DB()},
{value:D_,text:this.Tb.format("exportPopOverStandardPdf")},{value:E_,text:this.Tb.format("exportPopOverPrintPdf")}];this.G.get(A_.tS)&&this.G.get(A_.sS)&&a.Qh&&this.ne.push({value:F_,text:this.Tb.format("exportPopOverAnimation")});var c,b=this.model.lb().uE;c=C_;"IMAGE"===b?(b=this.model.lb().aq,c="JPG"===b.Ze?B_:C_):"PDF"===b&&(b=this.model.lb().Zs,c=96>=b.Vc?D_:E_);this.vY=this.wp=c;a=_.defaults(a,{We:"",Of:{top:-4},content:$(x_({title:this.Tb.Ze(),av:this.Tb.av(),hu:this.Tb.hu(),kH:this.Tb.format("exportPopOverInRangePagesPlaceholder"),
Gu:this.Tb.Gu(),Sx:this.Tb.Sx(),pG:this.Tb.format("exportPopOverLearnMoreButton"),download:this.Tb.download(),od:this.model.jc(),kz:this.W.G.get(Vf),Io:!this.W.G.get(Vf)&&this.W.G.get(Xf),hG:this.Tb.format("exportPopOverInvalidPageRangeInput"),ne:aaa(this),Fu:this.Tb.Fu(),wp:this.wp,zr:!this.G.get(A_.tS)&&this.G.get(A_.A0)?this.Tb.zr():void 0}).toString())});Cz.prototype.initialize.call(this,a)};
f.render=function(){function a(){dq(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}Cz.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");kl(function(){G_(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Tb.format("exportPopOverEmptyDesignError"):dq(this.model)?(b=this.Tb.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(H_(this),I_(this),J_(this));b&&(WZ({type:ZZ,v:"exportPopOver__message",message:b,xb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};
function H_(a){a.$(".exportPopOver__warning").remove();a.$(".exportPopOver__downloadButton").prop("disabled",!1)}f.cancel=_.debounce(function(){Cz.prototype.cancel.call(this);this.Oj.QC("pressed_esc")},10,!0);f.blur=function(a){Cz.prototype.blur.call(this,a);this.Oj.QC("clicked_mask")};
function baa(a){y(a.Qh);var b=a.$(".exportPopOver__downloadButton"),c=d_({pb:a.Ib.hc(),a3:su(a.Ib),j:a.j,Qh:a.Qh}).view;b.addClass("submitting");K_(a.Fd).finally(function(){c.$el.appendTo("body");c.show();this.ok();b.removeClass("submitting")}.bind(a))}
function L_(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||A_.LS.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
f.N5=function(a){a.preventDefault();if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||L_(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);var b=M_(this);a={tW:b===E_};if(b===F_)baa(this),w_(this.Oj,b);else{var c;var d=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val();c=Tp(this.model).length;if(A_.LS.test(d)){for(var e=
[],d=d.split(","),g=0;g<d.length;g++){var h=d[g].split("-"),k=parseInt(h[0],10);if(!isNaN(k)){var l=k=Math.max(1,Math.min(k,c));1<h.length&&(l=parseInt(h[1],10),l=isNaN(l)?c:Math.max(1,Math.min(l,c)));var h=k,m=l;m<h&&(h=l,m=k);for(k=0;e[k]<h;)k++;for(;h<=m;)e[k]!==h&&e.splice(k,0,h),k++,h++}}c=e}else c=_.range(1,c+1);e=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");d=b!=B_?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.lb();
g=k.aq;l=k.Zs;k=null;switch(b){case B_:b="JPG";l=g&&g.Vc||96;k=g&&g.nq||k;break;case C_:b="PNG";l=g&&g.Vc||96;break;case D_:b="PDF";l=Math.min(l&&l.Vc||96,96);break;case E_:b="PDF";l=l&&l.Vc||96;96>=l&&(l=300);break;default:throw Error("Unknown export option",b);}b={format:b,O:c,Or:e,su:e,kt:d,Nx:k,Ks:l};N_({he:this.he,Nl:this.Nl,i:this.i,ua:this.ua,dc:this.dc,fb:this.fb,aa:this.aa,Z:this.Z,yd:this.yd,cc:this.cc,ub:this.ub,pd:this.pd,Ka:this.Ka,j:this.j,document:this.model,Ib:this.Ib,H:this.H,Xb:this.Xb,
ne:b,Fd:this.Fd,G:this.G,W:this.W,iu:a,yc:this.yc,wd:this.wd,Na:this.Na}).start();this.ok();w_(this.Oj,b.format)}}};function O_(a,b){b.val().trim().length&&v_(a.Oj,b.val().toString())}
f.v5=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);H_(this);I_(this);J_(this);if(M_(this)===F_){var c;this.tj.mt?10<this.model.jc()&&(c=this.Tb.Ia("exportPopOverAnimationPageLimitWarningHtml")):c=this.Tb.Ia("exportPopOverAnimationRendererErrorHtml");c?(WZ({message:c,type:$Z,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")),this.$(".exportPopOver__downloadButton").prop("disabled",
!0)):this.tj.QI?WZ({message:this.Tb.Ia("exportPopOverAnimationFilterWarningHtml"),type:ZZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")):WZ({message:this.Tb.Ia("exportPopOverAnimationBetaWarningHtml"),type:ZZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer"))}c=M_(this)===F_?this.Tb.format("exportPopOverPreviewAnimation"):this.Tb.download();this.$(".exportPopOver__downloadButton").text(c);G_(this,a);this.Oj.track("download_file_type_change",
{from_filetype:this.vY,to_filetype:b});this.vY=b};
function G_(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.LX?(a.LX=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
f.G6=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);L_(this)};f.v6=function(){L_(this)};f.o5=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};f.y5=function(a){O_(this,$(a.currentTarget))};
f.z5=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),L_(this),O_(this,b)):(b.removeClass("exportPopOver__input--withError"),v_(this.Oj,"all"))};f.d6=function(){var a=this.Wc;a.j.wa(nm("export_pop_over","png_export_options","transparent_background"));Ho(a,P_)};f.C5=function(){var a=this.Wc;a.j.wa(nm("export_pop_over","bottom","animator"));Ho(a,Q_)};f.A5=function(){this.Oj.track("transparent_bg_click")};
f.G5=function(){(new s_({H:this.H,Zy:Nc(this.i)})).render().show()};f.t5=function(){this.Oj.track("crop_marks_click")};f.Q5=function(){(new q_({H:this.H,bv:Lc(this.i)})).render().show()};function aaa(a){var b;return a.ne.map(function(a){b=a.value===this.wp;return{value:a.value,text:b?this.Tb.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}function M_(a){return a.$(".exportPopOver__fileTypeSelect \x3e select").val()}
function I_(a){function b(){return this.model.ia().some(function(a){return a.mn()})}(function(){var a=M_(this);return a===B_||a==C_}).call(a)&&b.call(a)&&WZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(caa(a)),type:ZZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function J_(a){function b(){switch(d){case B_:return this.Tb.IA();case C_:return this.Tb.DB();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.jc()}var d=M_(a);(function(){return d===B_||d==C_}).call(a)&&c.call(a)&&WZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(He(a.Tb,b.call(a))),type:ZZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function caa(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.lb().category;return c&&0<=b.indexOf(c)?a.Tb.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Tb.format("exportPopOverLinksExportWarning")}A_.LS=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var B_="jpg",C_="png",D_="standardPdf",E_="printPdf",F_="animation";function R_(){}R_=Cz.extend();R_.prototype.events=function(){var a=Cz.prototype.events.call(this);a["click .resubmitLayout"]=this.Z5;return a};R_.prototype.initialize=function(a){this.F9=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(R_.dJ({status:b})),We:""};Cz.prototype.initialize.call(this,_.extend({},b,a))};
R_.prototype.render=function(){Cz.prototype.render.call(this);this.$(".buttonContainer").remove();return this};R_.prototype.Z5=function(){this.F9();this.remove()};R_.dJ=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function S_(){}S_=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});S_.prototype.events=function(){return{"click button":this.send,submit:this.send}};S_.prototype.initialize=function(a){this.mode=a.mode;this.Ye=a.Ye;this.Sf=a.Sf};S_.prototype.render=function(){this.$el.html(S_.template({sendLabel:this.Sf.send(),placeholder:this.Sf.Lj()}));return this};
S_.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(FI).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{q3:a,mode:this.mode,Ye:this.Ye}))};S_.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function T_(){}T_=Cz.extend({className:"descriptionPopOver"});T_.Xo=254;f=T_.prototype;
f.initialize=function(a){this.i=a.i;var b;b=Dc(this.i).format("editorControlsTitleTooLongError",T_.Xo+1);this.n0=WZ({type:$Z,message:b,xb:!1,v:"descriptionPopOver__error"}).$el;b={title:Dc(a.i).format("editorControlsPopoverHeadingDesignTitle"),We:Dc(a.i).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput").attr("maxlength",T_.Xo).after($("\x3cdiv\x3e").addClass("descriptionPopOver__errorContainer"))};a=_.extend({},b,a);Cz.prototype.initialize.call(this,a);
this.on("hide",this.i6)};f.events=function(){var a=Cz.prototype.events.apply(this,arguments);a["keydown textarea"]=this.N6;a["keypress textarea"]=this.O6;a["paste textarea"]=this.i7;return a};f.render=function(){Cz.prototype.render.call(this);var a=this.model.qb();gU(a)?this.$("textarea").val(""):this.$("textarea").val(a.ul());return this};f.Ci=function(a){Cz.prototype.Ci.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};
function U_(a){a.$(".descriptionPopOver__errorContainer").append(a.n0)}function V_(a){a.$(".descriptionPopOver__errorContainer").empty()}f.i6=function(a){var b=this.$("textarea"),c=this.model.qb(),b=b.val().trim();2!==a&&0!==a||b===c.ul()||(U&&(a=U,a.track("design_title_changed",{title:b,source:"typed",template:a.ej})),hU(c,b));V_(this)};f.N6=function(a){V_(this);var b=a.altKey||a.shiftKey;13!==a.which||b||(a.preventDefault(),this.ok())};
f.i7=function(){V_(this);this.$("textarea").val().length>=T_.Xo&&U_(this)};f.O6=function(){this.$("textarea").val().length>=T_.Xo&&this.$(".descriptionPopOver__errorContainer").is(":empty")&&U_(this)};function W_(){}W_=Backbone.View.extend({className:"shareView"});f=W_.prototype;f.events=function(){return{"click .shareButtonSocial":this.b6,"click .shareButtonEmail":this.P5}};f.initialize=function(a){this.location=a.location;this.Ib=a.Ib;this.sL=new S_({mode:"default",Ye:su(this.Ib),Sf:a.Sf});this.Sf=a.Sf;this.TC=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=W_.dJ;this.$el.append(a({shareOnFacebookTitle:this.Sf.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.Sf.format("shareViewShareOnTwitter"),postLabel:this.Sf.post(),tweetLabel:this.Sf.format("shareViewTweet"),emailLabel:this.Sf.email()}));this.$(".shareEmail").append(this.sL.render().el);this.listenTo(this.sL,"sendClicked",this.O5);this.listenTo(this,"emailSendingError",this.W2);return this};f.KQ=function(){this.trigger("shareClicked")};
f.b6=function(a){a.preventDefault();this.KQ()};f.P5=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.O5=function(a){this.trigger("emailSend",a)};f.W2=function(a){var b=this.sL.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};W_.dJ=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3cbutton class\x3d"button buttonFacebook shareButtonSocial" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonTwitter shareButtonSocial" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
W_.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function aV(){}var aV=Backbone.View.extend({el:"#canvaDocument"}),bV="fit",Mz={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",Kaa:"fill",Laa:bV};aV.T2=function(){$("#addNewPage").remove();aV.f1=!0};f=aV.prototype;
f.events=function(){return{"click #addNewPage .addPage":this.J1,"click #addNewPage .makeNewDesign":this.Z1,"click #addNewPage .copyDesign":this.N1,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.fO,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.M9}};f.remove=function(){this.undelegateEvents();this.stopListening();this.Ma.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.b8,"page:move":this.e8,"page:remove":this.f8,resize:this.TA});this.listenTo(T,{"pageView:copyButton:click":this.UX,"pageView:deleteButton:click":this.UX,"pageView:toolbar:mouseout":this.i8});this.Ma=[];var b=this;this.model.Gb().forEach(function(c){b.Ma.push(new X_({model:c,Ws:Fc(a.i),sP:Hc(a.i)}))});this.i=a.i;this.H=a.H;this.wf=_.object(_.values(Mz),_.map(Mz,function(a){return parseInt(a,10)/100}));this.$I=bV;this.eg=!1;this.Pr=
this.fh=0;this.ib=null;this.dk=this.qA=this.Hf=this.qP=0;this.xJ=!1;this.W4=Zg(this);this.Ap=function(){var a=b.model.O[0],a=Math.max(a.l(),a.o());return Math.max(1,Math.min(a/O.y0))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.Ma.forEach(function(c,d){c.render();a.append(c.$el);Y_(c,Z_(b,d));c.$el.addClass("on")});var c=this.Ma[this.Ma.length-1].$el,d=this.$("#addNewPage");aV.f1?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",Z_(this,this.Ma.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.lb().Ps&&(this.$el.addClass("multiPage"),1<this.model.Gb().length&&this.model.Gb().length>=O.my&&(this.$("#addNewPage").addClass("off"),
$_(this))));var c=Z_(this,0),d=a0(this),e=ET();a.css("height",c+d+($(window).height()-e.xa()));this.TA(!0);return this};f.J1=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Up(this.model);var b=GO(a.serialize());b.pageIndex=ep(this.model,a);M.register(new IO(1,b))}b0(this);return!1};
f.Z1=function(){var a={type:this.model.lb().u()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.gaa&&(b+="\x26units\x3d"+encodeURIComponent(String(a.gaa)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));null!=a.Ch&&(b+="\x26schema\x3d"+encodeURIComponent(String(a.Ch)));window.open(b,
"");return!1};f.N1=function(){T.trigger("documentView:copyDocument");return!1};
f.M9=function(){var a=this.$el.scrollTop()||0,b=Z_(this,0),c=ET(),d=Sp(this.model),e=this.Ma[d].$el.offset(),g=this.qP<a?"down":"up",h=-1;T.trigger("documentView:scroll",a);this.qP=1*a;c0(this);this.H.clearTimeout(this.qA);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.fh>d/2)for(c=0;c<this.Ma.length-1;c++){h=b+c*(this.fh+this.Pr);if(h<a){if(e=h+this.fh-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+this.fh)?c:c+1;break}else"up"==g&&e.top+this.fh>c.xa()?h=Math.floor((a+$(window).height()-
(b-this.Pr))/(this.fh+this.Pr))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(this.fh+this.Pr)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.Gb().length-1);0<=h&&(h=Math.min(this.model.Gb().length-1,h),h=Math.max(0,h),Kp(this.model,h))}};
f.mousemove=function(a){this.W4.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Ma.forEach(function(a){var d=a.qa();Zg().write(function(){b>d.w()&&b<d.xa()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Ma.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.fO=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>O.Hc||Math.abs(a)>O.Hc){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),Kp(p,ep(p,q)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);Xp(p,q,b);b=a=h+a;a<x?(b=(x-a)/(x-z),b=2>=b?x-(x-a)*(1-b/4):z):a>H&&(b=(a-H)/(t-H),b=2>=b?H+(a-H)*(1-b/4):t);Y_(d,b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=q.K(),e=Z_(v,a);d.$el.animate({top:e},O.Da.TX,"easeOutBack",function(){Y_(d,e);d.$el.removeClass("dragging")});M.register(new IO(5,{pageIndex:a,oldPageIndex:u}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Ma.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=XC(d),k=!1,l=new hp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Ma.length;n++)m.push(Z_(this,n)-this.fh/2);var p=this.model,q=d.model,u=ep(p,q),v=this,z=Z_(this,-1),t=Z_(this,this.Ma.length),x=Z_(this,0),H=Z_(this,this.Ma.length-1);return!1}};
f.f8=function(a,b,c){hh();var d=this,e=this.Ma[c];this.H.clearTimeout(this.qA);this.Hf&&Kp(a,Math.min(a.Gb().length-1,c));b={height:0,top:Z_(this,c)+this.dk*(this.fh+this.Pr)};this.Hf&&c==a.Gb().length&&(b.top+=this.fh);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:O.Da.mk,fl:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.Hf?eO&&(d.qA=d.H.setTimeout(function(){c0(d)},O.ES)):$_(d)}});this.Ma.splice(c,1);d0(this,c);this.$el.hasClass("holding")||
e0(this,c)};
f.b8=function(a,b,c,d){hh();this.model.Gb().length>=O.my&&(this.$("#addNewPage").addClass("off"),$_(this));var e=!0;!1===d&&(e=!1);var g=ep(this.model,b);a=this.Ma[0];this.Ma.splice(g,0,new X_({model:b,Ws:Fc(this.i),sP:Hc(this.i)}));var h=this.Ma[g];b=a.oM();var k=this;null!=this.ib&&h.dI(this.ib);h.Ai(this.Ew());c=Z_(this,g,this.model.Gb().length-1);f0(h,b,c+this.dk*(this.fh+this.Pr));this.H.clearTimeout(this.qA);this.Hf?Kp(this.model,g-1):e&&Kp(this.model,g);0==g?h.$el.insertBefore(a.$el):h.$el.insertAfter(this.Ma[g-
1].$el);k.$el.addClass("modifying");var l=Z_(this,g);h.$el.addClass("newPage");h.$el.addClass("on");this.H.requestAnimationFrame(function(){var a=h.$el.height();h.$el.css("height",0);h.$el.animate({height:a,top:l},{duration:O.Da.mk,fl:"easeOutSine",queue:!1,complete:function(){h.$el.css("height","");h.$el.removeClass("newPage");Y_(h,l);k.$el.removeClass("modifying");k.Hf&&eO&&(k.qA=k.H.setTimeout(function(){c0(k)},O.ES))}}).css("overflow","");d0(this,g);e&&!this.$el.hasClass("holding")&&e0(this,g)}.bind(this))};
f.e8=function(a,b,c,d){function e(a,b){return function(){Y_(a,b)}}hh();a=this.Ma[c];b=this.Ma[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Ma.splice(d,0,this.Ma.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Ma[c],a.$el.hasClass("dragging")||(b=Z_(this,c),a.$el.animate({top:b},O.Da.TX,e(a,b)));e0(this,d)};
f.UX=function(){hh();this.Hf=this.Hf||this.model.Gb().length;this.$el.addClass("holding");this.model.Gb().length<=O.my&&(this.$("#addNewPage").removeClass("off"),$_(this))};f.i8=function(){c0(this)};function c0(a){a.Hf&&!a.$el.hasClass("modifying")&&(a.Hf=0,a.dk=0,d0(a,0,!0),a.$el.removeClass("holding"))}
function $_(a){if(!nA){var b=ET(),c=a.Ma[0],d=g0(c),e=h0(c),g;d.l()<=b.l()?(g=b.F()+Math.round((b.l()-d.l())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+e.l()+g));var h=Math.abs(uv(a.model.lb()))*W;a.Ma.forEach(function(b,c){c=Z_(a,c);f0(b,g+h,c)});var e=h0(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(e.l(),k),e=e.F()-h;k>d.l()&&(e=(b.l()+2*b.F()-k)/2);c.css("top",Z_(a,a.Ma.length)).css("left",e).css("width",k)}}
function Z_(a,b,c){var d=X_.PJ(a.model.lb(),a.Ew(),a.ib)*W;void 0===c&&(c=a.model.Gb().length);a.Hf&&(c=a.Hf);var e=ET(),g=Math.round(O.Zt*W);c=a0(a,c);var h=e.w();nA||a.eg?h=0:c<=e.o()&&(h+=(e.o()-c)/2);return h+(d+g)*b}function a0(a,b){var c=X_.PJ(a.model.lb(),a.Ew(),a.ib)*W;void 0===b&&(b=a.model.Gb().length);a.Hf&&(b=Math.max(a.Hf,b));var d=W,e=a.$("#addNewPage");b=b*c+(b-1)*O.Zt*d;a.model.vc.Ps&&!$("body").hasClass("blockDocument")&&(b+=O.Zt*d+e.outerHeight());return Math.round(b)}
function i0(a,b){var c=ET(),d=a0(a);if(d>c.o()){var e=a.$el.prop("clientHeight"),d=Z_(a,0)+d+(e-c.xa());a.fh>c.o()&&(d+=c.l()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:O.Da.mk,fl:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function d0(a,b,c){var d=X_.PJ(a.model.lb(),a.Ew(),a.ib);void 0===b&&(b=0);void 0===c&&(c=0<a.Hf);i0(a,c);var e=0;a.Hf&&b==a.model.Gb().length?(c=(a.dk||a.Hf)-b,a.dk!=c-1&&(c=a.dk+1,a.dk=b),e+=(d+O.Zt*W)*c,a.dk=c):a.dk&&(c=a.dk,e+=(d+O.Zt*W)*c);a.$("#addNewPage").animate({top:Z_(a,a.Ma.length)+e},{duration:O.Da.mk,fl:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Ma.forEach(function(a,b){var c=Z_(this,b)+e;b=c+d;!this.Hf&&!this.dk||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:O.Da.mk,fl:"easeOutSine",queue:!1,complete:function(){Y_(a,c)}}):Y_(a,c)},a);a.H.setTimeout(function(){for(var b=0;b<a.Ma.length;b++)a.Ma[b].$el.removeClass("transitioning")},O.Da.mk)}
function e0(a,b){b=Math.max(0,Math.min(a.Ma.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Ma.length-1)c=ET(),c=Z_(a,a.model.Gb().length)+a.$("#addNewPage").height()-c.xa();else{b=Z_(a,b);var d=b+a.fh,e=a.$el.prop("clientHeight"),e=c+e,g=O.pD;e<d?c+=d-e+g:c>d&&(c-=c-b+g)}a.xJ||c==a.$el.scrollTop()||(a.xJ=!0,a.$el.animate({scrollTop:c},O.Da.mk,"easeOutSine",function(){a.xJ=!1}))}
f.TA=function(a){var b;b=b||this.model.Ea();var c=ET(),d=h0(this.Ma[b.K()]).scale(1/W);b=d.l();d=d.o();this.wf.fill=Math.max(c.l()/b,this.wf["10%"]);this.wf[bV]=d*this.wf.fill>c.o()?Math.max(c.o()/d,this.wf["10%"]):this.wf.fill;c=this.eg?bV:this.$I;b=this.model.Ea();var e=h0(this.Ma[b.K()]).scale(1/W),d=e.l(),e=e.o();a=a&&"PIXELS"!==this.model.Wj();if(nA||0===d||0===e)c=Mz["100%"];bA(this,c,b,a)};function Vz(a,b){a.eg=b;a.TA()}
function KE(a,b){for(var c=0;c<a.Ma.length;c++)if(a.Ma[c].model==b)return a.Ma[c].qa();return null}
function bA(a,b,c,d){c=c||a.model.Ea();a.$el.addClass("zooming");c=a.Ma[c.K()];a.$I=a.eg?a.$I:b;var e=W=a.wf[b];a.Pr=Math.round(O.Zt*e);a.fh=Math.round(g0(c).o());rQ();T.trigger("documentView:zoom",b,e);$_(a);i0(a,!1);b=ET();e=a.$el.children(".inner").width();c=Xg(c);e>b.l()&&(e=Math.round(c.F()+c.l()/2),e=Math.round(e-b.F()-b.l()/2),c.l()<b.l()&&(e+=(b.l()-c.l())/2),a.$el.scrollLeft(e));!d&&a0(a)>b.o()&&(d=Math.round(c.w()+c.o()/2),a.qP=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.xa()/
2)));a.model.ia().forEach(function(a){a.ab()});QK(zc(a.i),Bc(a.i));a.$el.removeClass("zooming")}function $z(a){return j0(a,function(a){return a[1]},function(a){return a[1]>W})}function aA(a){return j0(a,function(a){return-1*a[1]},function(a){return a[1]<W})}function j0(a,b,c){if(b=_.chain(a.wf).pairs().sortBy(b).find(c).value())return bA(a,b[0]),b[0]}function b0(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function Wz(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);Kp(a.model,b)}f.Ea=function(){var a=Sp(this.model);if(a>=this.Ma.length)throw Error("No page view exists for selected page index "+a+".");return 0<=a?this.Ma[a]:null};function gh(a){return a.Ea()||a.Ma[0]}f.Ai=function(a){this.$el.toggleClass("document--printMarkingsEnabled",a);this.Ma.forEach(function(b){b.Ai(a)})};f.Ew=function(){return this.$el.hasClass("document--printMarkingsEnabled")};
function Vg(a,b){var c=a.$el.offset(),d=c.left-a.$el.scrollLeft();a=c.top-a.$el.scrollTop();return b.clone().translate(-d,-a)}function FD(a,b){b=b.K();if(0>b||b>=a.Ma.length)throw Error("No page view exists for selected page index "+b+".");return a.Ma[b]}f.dI=function(a){this.ib=a;this.Ma.forEach(function(b){b.dI(a)})};function Ap(){}Ap=Cz.extend();Ap.prototype.initialize=function(a){this.j=a.j;this.yg=a.yg;this.Oe=a.Oe;this.anchor=a.anchor;this.yD=a.yD;this.GC=a.GC;this.i_=0;a=_.extend({},{Ho:!0,position:"topLeft",Of:{left:10,top:-14}},a);Cz.prototype.initialize.call(this,a);0<this.GC?this.listenTo(this.Oe,"session:sync",this.JV):k0(this)};Ap.prototype.JV=function(a){2==a&&(a=0===$(".modalContent").length,this.i_++,a&&this.i_>=this.GC&&(k0(this),this.stopListening(this.Oe,"session:sync",this.JV)))};
function k0(a){a.Ci(a.anchor);daa(a);a.j&&a.j.track("dialog_show",{type:a.yg,section:"editor",subsection:"header",location:"publish_pop_over"})}function daa(a){a.anchor.one("click",function(){a.j&&Tl(a.j,a.yD,"header",a.yg+"_dialog")})}Ap.prototype.Rp=function(){return l0};Ap.prototype.remove=function(){this.j&&Ul(this.j,this.yg,"header","publish_pop_over");mp.prototype.remove.call(this)};function m0(a,b,c){this.context=a;this.active=!!c;this.sc=b}m0.prototype.getContext=function(){return this.context};
function n0(a){switch(a.context){case "PUBLIC_STREAM":return a.sc.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.sc.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.sc.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":case "MARKETPLACE_TEXT":return a.sc.format("editorControlsPublicationMarketplace");case "PUBLICLY_REMIXABLE":return a.sc.format("editorControlsPublicationPubliclyRemixable");default:throw Error("Unknown PublicationContext "+
a.context);}}
function o0(a){switch(a.context){case "PUBLIC_STREAM":return a.sc.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.sc.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.sc.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.sc.format("editorControlsPublicationMakeActivePublishAsLayout");case "MARKETPLACE_TEXT":return a.sc.format("editorControlsPublicationMakeActivePublishAsGroup");case "PUBLICLY_REMIXABLE":return a.sc.format("editorControlsPublicationMakePubliclyRemixable");
default:throw Error("Unknown PublicationContext "+a.context);}}m0.prototype.toggle=function(a){return new m0(this.context,this.sc,void 0!==a?a:!this.active)};var p0={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},eaa={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout",MARKETPLACE_TEXT:"switchPublishText",PUBLICLY_REMIXABLE:"switchMakePubliclyRemixable"};function q0(){}q0=Cz.extend({className:"docPublisherPopOver"});q0.prototype.initialize=function(a){Cz.prototype.initialize.call(this,_.defaults(a,{Of:{top:-4}}));this.sc=a.sc};
function faa(a,b){function c(a,c){return new m0(b[c].getContext(),d.sc,eW(a))}var d=a,e=b.map(function(a){return new dW({on:a.active})}),g=e.map(function(a,c){var e=$(d.L$({label:o0(b[c])}));e.addClass(eaa[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new r0)})})}q0.prototype.bF=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
q0.prototype.L$=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function s0(a){var b=this;this.j=a.j;this.document=a.document;this.Ra=a.Ra;this.pa=a.getSession();this.mc=a.mc;this.yd=a.yd;this.sc=a.sc;this.CL=nh(a.gj);this.EY=this.CL.map(function(c){var d=a.gj.xg.get("activePublicationContexts",[]);return new m0(c,b.sc,0<=d.indexOf(c))});this.b9=gaa(this);this.iaa=haa(this);this.sJ=null;this.Ti=a.gj.iM();this.pu=a.pu;this.wg=a.wg}f=s0.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;
f.stopListening=Backbone.Events.stopListening;f.RJ=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.sc.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function t0(a){return[].concat(a.EY).map(Object.freeze)}
f.KR=function(a){var b=this,c=t0(this).slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)}),d=a.slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)});this.trigger("processingStateChange",!0);return sA(1E3).then(function(){return iaa(b,d,c)}).tap(function(a){return jaa(b,a)}).then(function(a){return a.map(function(a,b){return a?a:c[b]}).sort(function(a,c){a=b.CL.indexOf(a.getContext());c=b.CL.indexOf(c.getContext());return a-c})}).then(function(a){return b.EY=
a.slice()}).finally(function(){return b.trigger("processingStateChange",!1)})};function kaa(a){var b=(new HD).ey(!0);return a.Ti?eF(Db,a.Ti,b).then(function(a){return a.Ja().ph()}):null!==a.Ti?P.resolve("PENDING_REVIEW"):P.resolve(null)}function gaa(a){var b={};b.PUBLIC_STREAM=a.ft.bind(a);b.TEAM_STREAM=a.LJ.bind(a);b.TEAM_TEMPLATE=a.KC.bind(a);b.MARKETPLACE_LAYOUT=a.c9.bind(a);b.MARKETPLACE_TEXT=function(){return laa(a).then(a.d9.bind(a))};b.PUBLICLY_REMIXABLE=a.a9.bind(a);return b}
function haa(a){var b={};b.PUBLIC_STREAM=a.Wx.bind(a);b.TEAM_STREAM=a.MJ.bind(a);b.TEAM_TEMPLATE=a.UC.bind(a);b.MARKETPLACE_TEXT=function(){return P.resolve()};b.MARKETPLACE_LAYOUT=function(){return P.resolve()};b.PUBLICLY_REMIXABLE=a.haa.bind(a);return b}f.LJ=function(){return this.pa.ft("BRAND")};f.ft=function(){return this.pa.ft("GLOBAL").tap(function(){var a=this.j;a.track("design_public",{design:this.pa.hc(),template:a.ej})}.bind(this))};
f.a9=function(){return yq(this.Ra,new au({document:this.pa.hc(),wE:new mr({qB:nr,Pc:fr})}))};f.KC=function(){return this.pa.KC().tap(function(){var a=this.j;a.track("design_templatify",{design:this.pa.hc(),template:a.ej})}.bind(this))};f.MJ=function(){return this.pa.Wx("BRAND")};f.Wx=function(){return this.pa.Wx("GLOBAL").tap(function(){var a=this.j;a.track("design_private",{design:this.pa.hc(),template:a.ej})}.bind(this))};
f.haa=function(){return yq(this.Ra,new au({document:this.pa.hc(),wE:new mr({qB:nr,Pc:$q})}))};f.UC=function(){return this.pa.UC().tap(function(){var a=this.j;a.track("design_untemplatify",{design:this.pa.hc(),template:a.ej})}.bind(this))};
function u0(a,b,c,d,e,g){if(gU(a.document.qb()))return P.reject(new v0("You cannot publish an untitled design as a layout - please title your design."));var h=new w0({workflow:b,typeDescription:d,document:a.document,availableLocales:a.pu,userLocale:a.wg,showProgress:e,keywords:g});return new P(function(d,e){function g(b,e){"submitted"==e&&d(new m0(c,a.sc,!0))}b.on("change:state",g);h.on("remove",function(){b.off("change:state",g);e(Error("No action specified"))});h.show()})}
f.d9=function(){var a=new x0({pa:this.pa,document:this.document,mc:this.mc}),a=new y0(a.submit.bind(a),["text"]),b=this.document.fonts.slice();return u0(this,a,"MARKETPLACE_TEXT","text group",!1,b)};
function laa(a){var b=[];1<a.document.jc()&&b.push("Text groups cannot be more than one page.");var c=a.document.ia().filter(function(a){return a.nb()}).filter(function(a){return!WC(a)}),d=a.document.ia().filter(function(a){return!a.nb()}).filter(function(a){return!WC(a)});1===c.length&&0===d.length||b.push("All elements must be in the same group.");(c[0].o()>Qp(a.document)||c[0].l()>Rp(a.document))&&b.push("Text groups cannot be taller or wider than the page. This includes the boundaries of each element, and not just the visible parts.");
0<a.document.fonts.slice().filter(function(a){return void 0!==dB(a)}).length&&b.push("Text groups do cannot include uploaded custom fonts.");var e=mh("#000000");a.document.ia().filter(function(a){if(a.Md())return a.bb().filter(function(a){return a===NB||a instanceof hn&&!a.equals(e)}).length}).length&&b.push("Only black color is allowed.");0<a.document.ia().filter(function(a){return!a.nb()}).filter(function(a){return!(a instanceof Mp)&&!(a instanceof AC)&&!(a instanceof cp)&&!(a instanceof CC)&&!(a instanceof
DC)}).length&&b.push("Only text elements are currently supported.");0<a.document.ia().filter(function(a){return a.nb()}).filter(function(a){return 0!==a.Ta()}).length&&b.push("Rotated groups are not currently supported.");return 0<b.length?(a="Sorry, your text group could not be published. "+b.join(" "),P.reject(new v0(a))):P.resolve()}f.c9=function(){var a=new z0({pa:this.pa,document:this.document,mc:this.mc}),a=new y0(a.submit.bind(a));return u0(this,a,"MARKETPLACE_LAYOUT","layout",!0)};
function maa(a){var b=new eu({ag:a.pa.hc(),version:a.pa.fe(),et:"MEDIUM"});return Dq(a.Ra,b)}function iaa(a,b,c){var d=b.filter(function(a){return a.active}).map(function(a){return a.getContext()});return 0<d.indexOf("MARKETPLACE_LAYOUT")&&0<d.indexOf("MARKETPLACE_TEXT")?P.reject(new v0("Design cannot be both a layout and a text group.")):P.reduce(b,function(b,d,h){return naa(a,d,c[h]).then(function(a){return b.concat(a?d:null)})},[])}
function jaa(a,b){!a.sJ&&0<b.filter(function(a){return a&&a.active}).length&&(a.sJ=maa(a).finally(function(){a.sJ=null}))}function naa(a,b,c){return b.active===c.active?P.resolve(!1):(a=b.active?a.b9[b.getContext()]:a.iaa[b.getContext()])?a().then(function(){return!0}):P.resolve(!1)}function v0(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}v0.prototype=Object.create(Error.prototype);v0.prototype.constructor=v0;
function r0(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}r0.prototype=Object.create(Error.prototype);r0.prototype.constructor=r0;function z0(a){this.pa=a.pa;this.mc=a.mc;this.document=a.document}
z0.prototype.submit=function(a){var b=this.document.Df();if(!b)throw Error("no locale");var c=IK().TI(b);a.forEach(function(a){var e="PAID"===a.price?FK:EK,g="PAID"===a.price?"STANDARD":"FREE",h=(a.keywords||[]).map(function(a){return new zF(b||"",a)});HK(c,LK(KK(a.media).Ik(a.version),a.title).b0(a.description).SI(h).hS(e).iS(g))});wK(this.mc,this.pa.hc(),this.pa.fe(),c,function(a){if(200!=a)throw Error("success not indicated");oO()},this.document.lb().u())};function x0(a){this.pa=a.pa;this.mc=a.mc;this.document=a.document}x0.prototype.submit=function(a){w(0===a.length,"Cannot publish text groups containing new media (not yet implemented).");y(this.document.Df(),"The document requires a locale.");Fa(this.document.Tj().some(function(a){return"text"===a.toLowerCase()}),'The document requires the "text" keyword.');a=new rK({id:this.pa.hc(),version:this.pa.fe()});xK(this.mc,new sK({document:a,locale:this.document.Df()}))};function y0(a,b){GT.call(this,[{name:"start",from:"none",to:"pricing"},{name:"price",from:"pricing",to:"pricingChildren"},{name:"price",from:"pricingChildren",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricing",to:"failed"},{name:"error",from:"pricingChildren",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",
to:"failed"},{name:"error",from:"failed",to:"failed"}]);this.document=K;this.G$=a;this.e1=b||[];this.XJ=[]}y0.prototype=new GT;y0.prototype.start=function(){this.qg.start()};function oaa(a,b){b.title&&hU(a.document.qb(),b.title);b.keywords&&Pp(a.document,_.union(b.keywords,a.e1));b.locale&&a.document.setLocale(b.locale);sA(O.ny).then(function(){a.qg.transition("price")},function(b){a.qg.transition("error");throw b;})}y0.prototype.fQ=function(){this.qg.transition("review")};
function paa(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=bq(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=FF((new EF).Vt(!0).Tt(!1),[Eg,Gg]).d0().gS(a),aF(Db,a,c))};function A0(a,b){return a.xg.get("editorActions",[]).map(function(a){return(a=B0[a]||null)?a(b):null})}
function C0(a,b){function c(){function b(a){return new D0({ZE:h,ij:k,rf:d,iI:!1,lj:t},a)}var c=Pc(a.i),d=Gd(a.i),e=py(my(a.Ka))+oy(my(a.Ka))+l;if(!(0>=a.W.G.get(Wf)-e)){var g=new E0({aa:a.aa,D:my(a.Ka).ka(),vE:vm,dO:F0(a.pd),Z:a.Z,cc:a.cc,rg:my(a.Ka).getSubscription(),qr:ny(a.Ka).Jb(),jp:Zc(a.i)}),h=new G0({Zd:ad(a.i)}),k=new H0,t={JK:3,CK:e,Cl:a.W.G.get(Wf),xG:5},c=qaa({X:c,rf:d,wK:b,j:a.j,lj:t,It:g});$("body").append(c.view.$el);c.Db.Me();c.Db.show()}}a.getSession().save();var d=I0(a.W.Pe(),a.document,
a.ef.getKeys()),e=raa({i:Pc(a.i)}),g=saa({G:a.G,Zd:ad(a.i),X:Pc(a.i),nF:pc(a.i),va:my(a.Ka).ka().u(),Z:a.Z,Dq:function(){a.j.wa(X(new am("share_button_user_input_focus"),"location","editor"))}}),h=a.G.get(new Ff("nc",!1)),k=a.G.get(new Ff("nk",!1));b=taa({Jl:aW(a.getSession().hc()),H:a.H,W:a.W,mt:d.mt,uz:g.view,zu:e.view,i:a.i,vy:h,IC:k,nc:b});var l=0;b.once("remove",function(){0<l&&c()});return uaa({Hw:uh(a.config).XQ,SA:vaa,pb:a.getSession().hc(),Zb:a.getSession().fe(),vz:a.document.isEmpty(),Ka:a.Ka,
tj:d,v4:a.W.G.get(kg),Cl:a.W.G.get(Wf),j:a.j,Ra:a.Ra,Pe:a.W.Pe(),Z:a.Z,yd:a.yd,cc:a.cc,aa:a.aa,fb:a.fb,dc:a.dc,ub:a.ub,uu:function(b,c){var d=a.getSession().hc(),e=a.document.Gb()[0].l(),g=a.document.Gb()[0].o(),h=soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.config.xg.get("embedScriptUrl",""));b=soydata.VERY_UNSAFE.ordainSanitizedHtml(mf(qd(a.i),a.document.qb()?_.escape(pP(a.document.qb())):_.escape(qd(a.i).format("newLightboxUntitled")),bW(a.getSession().hc(),null,"link","embeds"),location.protocol+
"//"+location.host+("/"+encodeURIComponent(c))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)));var k;k=k||{};soy.asserts.assertType(h instanceof soydata.SanitizedTrustedResourceUri||h instanceof soydata.UnsanitizedText||goog.isString(h),"embedScriptUrl",h,"soydata.SanitizedTrustedResourceUri");soy.asserts.assertType(goog.isNumber(g),"thumbnailHeight",g,"number");soy.asserts.assertType(goog.isNumber(e),
"thumbnailWidth",e,"number");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"designId",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"byLineHtml",b,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(g/e*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" style\x3d"'+(k.Yb?"/*"+k.Yb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(g/e*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(h))+'"'+(k.Yb?' nonce\x3d"'+k.Yb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(b)).toString()},Co:a.Co,Ro:su(a.getSession()),Z_:a.getSession().context.kv().vl(),Wr:a.getSession().context.kv().vV(),i:a.i,H:a.H,yu:e.Db,
ua:a.ua,Fd:J0({document:a.document,Ib:a.getSession()}),view:b,G:a.G,Xn:function(){l++},Cp:g.Db})}function I0(a,b,c){if(!a)return{mt:!1,QI:!1};var d,e;try{e=b.serialize();d=Gr(e);var g=K0(d,c),h=g.some(function(a){return a.level===L0}),k=g.some(function(a){return a.level===M0});return{mt:!h,QI:k}}catch(l){return{mt:!1,QI:!1}}}
var B0={UPGRADE:function(a){var b=new N0({sc:Dc(a.i)});b.on("click",function(){var b=O0(a.pd),d=my(a.Ka).ka(),e=P0({aa:Bb,Z:Eb,j:a.j,D:d,$s:b,cq:Q0,fb:a.fb,Bx:!1,Hr:!1,Wi:!!a.Wi,sp:!!a.sp,i:a.i,G:a.G,Ka:a.Ka,W:a.W});e.on("signup",function(){window.location=e.sH});e.show()});return b},SHARE:function(a){var b=Dc(a.i),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){a.j.wa(X(new am("share_button_click"),"location","editor"));C0(a).show()}}});c.$el.text(b.fm());
return c},EXPORT:function(a){var b,c;b=Dc(a.i);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,W:a.W,he:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(a.config.wh()),Nl:function(){var b=C0(a,R0);S0(b);b.show()},j:a.j,Wc:a.Uk,ua:a.ua,Ib:a.getSession(),aa:a.aa,yd:a.yd,dc:a.dc,fb:a.fb,Z:a.Z,ub:a.ub,cc:a.cc,Ka:a.Ka,pd:a.pd,i:a.i,H:a.H,Xb:a.Xb,Oj:new u_({j:a.j}),Fd:J0({document:a.document,Ib:a.getSession()}),tj:I0(a.G.get(A_.sS),
a.document,a.ef.getKeys()),Qh:a.config.xg.get("animatorUrl",null),G:a.G,yc:a.yc,wd:a.wd,Na:a.Na};(new A_(c)).Ci($(b.target));a.j.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c},PRINT:function(a){var b=waa({xr:function(a){return(new Xn(a)).render()},j:a.j,aa:a.aa,va:my(a.Ka).ka().id,Ra:a.Ra,me:a.document.lb(),fj:a.fj,kh:function(){return sA(O.ny)},mh:function(){return a.document.jc()},jn:function(){return new T0(vb.$el)},Ac:function(){return new U0({id:a.getSession().hc(),
version:a.getSession().fe()})},uV:function(){return pP(a.document.qb())},nv:function(){var a=function(){var a=[];K.ia().forEach(function(b){var c=b.R()?b.R().K():-1;switch(b.constructor){case EC:case cp:b.Xa.forEach(function(b){b instanceof zC&&!b.isEmpty()&&b.Pb()&&a.push({Ys:c,JJ:b})});break;case AC:b.Pb()&&a.push({Ys:c,JJ:b})}});return a}();return function(a){return new P(function(b){LL(yb,a,!1,b)})}(function(a){a=a.map(function(a){return a.Pb()});return _.uniq(a,!1,function(a){return a.u()+":"+
a.getVersion()})}(a.map(function(a){return a.JJ}).filter(function(a){a=a.Pb();a=yb.Kc(a.u(),a.getVersion());return!a||!a[AD]||!a[yD]}))).then(function(){return a.map(function(a){var b=a.JJ,c;c=b.Pb();c=yb.Kc(c.u(),c.getVersion());return{zG:{CS:c[AD],oy:c[yD]},Ba:b.fg?b.fg():b.ln(),Ys:a.Ys}})})},Vp:function(){return V0()},oA:function(){vb.$el.removeClass("document--canPrintOnePage").removeClass("document--canPrintTwoPages")},BA:function(b,c){return xaa(a.document,b,c)},cf:my(a.Ka).ka().ii(),i:a.i,
lB:function(){vb.TA()},Na:a.Na,Vl:function(b){var c=new Map([["realEstateFlyer","TACQ-ujqN6g"],["posterUS","TACQ-oYd_9A"],["businessCard","TACQ-vRWTmU"],["a4","TACQ-j4WGew"],["poster","TACQ-jGq9fY"],["invitation","TACQ-t5Mojc"]]),g=b.id;if(null==g)throw Error("The doctype to resize must have an id");c=c.get(g);if("T"!==g[0]&&null==c)throw Error("Unexpected doctype with deprecated id format: "+g);ZV({doctype:b,$k:new it({id:c||g,version:1}),Fb:a.document,nd:M})},X9:function(){switch(a.G.get(new Ff("nj",
0))){case 1:return Dc(a.i).format("editorControlsBuyPrint");case 2:return Dc(a.i).format("editorControlsPurchasePrint");case 3:return Dc(a.i).format("editorControlsProfessionalPrint");default:return Dc(a.i).print()}}(),wk:function(a){vb.dI(a)},Ai:function(a){vb.Ai(a)},ux:function(a){var b=vb;Fa(1===a||2===a,'pageCount can be either 1 or 2 but found "{}"',a);1===a?b.$el.removeClass("document--canPrintTwoPages").addClass("document--canPrintOnePage"):2===a&&b.$el.removeClass("document--canPrintOnePage").addClass("document--canPrintTwoPages")},
fb:a.fb,om:!!a.W.G.get(og),uf:ny(a.Ka),G:a.G}),c=new Backbone.View;c.setElement(b.view.$el);a.document.on("change",function(){b.Db.EO();b.Db.xO();b.Db.rO()});a.document.on("resize",function(){var c=a.document.lb();yaa(b.Db,c)});return c}};B0.PUBLISH_TO_STREAM=function(a){function b(){return t0(l).filter(function(a){return a.active}).sort(function(a,b){a=p0[a.getContext()]||0;b=p0[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===lF?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),oO()))}function d(b){var c=Dc(a.i);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new Az({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Dc(a.i),e=t0(l).map(function(a,d){return new m0(a.getContext(),c,b&&0===d?b:a.active)}),h=new q0({We:c.format("editorControlsPublicationSaveChanges"),sc:c}),k=h.remove.bind(h);return faa(h.Ci(m.$el),e).then(l.RJ.bind(l)).then(l.KR.bind(l)).finally(g).tap(k).catch(r0,k).catch(d)}function g(){var a=b()||t0(l)[0];if(a){n=!0;try{var c=m,d=n0(a);c.ik=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=t0(l).map(function(b){return b.toggle(a)});return l.RJ(b).then(l.KR.bind(l)).finally(g).catch(d)}var k=nh(a.config),l=new s0({j:a.j,getSession:a.getSession,document:a.document,Ra:a.Ra,mc:a.mc,yd:a.yd,sc:Dc(a.i),pu:a.pu,gj:a.config,wg:ny(a.Ka).Df()}),m=function(){var a=t0(l),c=a[0],d=b()||c;(a=d?new dW({on:d.active,ik:n0(d),Kl:o0(c),ou:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
kaa(l).then(c);m.on("toggle",function(a){var b=t0(l),c=1<b.length?e:h;m.ou=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){wb&&wb.save();m.ou||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.Co.on(W0,function(){var a=t0(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.RJ(a).then(l.KR.bind(l)).finally(g).catch(d)});return m};function N0(){}N0=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});N0.prototype.initialize=function(a){this.sc=a.sc};N0.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};N0.prototype.render=function(){this.$el.html(this.template({upgrade:this.sc.VC()}));return this};N0.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function mP(){}mP=Backbone.View.extend({el:"#editorControls"});
mP.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.tR);this.listenTo(this.model,"resize",this.tR);this.listenTo(this.model,"change",this.Z2);this.listenTo(T,"documentView:scroll",this.c3);this.listenTo(T,"documentView:copyDocument",this.cU);this.listenTo(T,"session:sync",this.vQ);this.listenTo(T,"documentSaveRequested",this.bX);this.W=a.W;this.Eg=a.Eg;this.gj=a.gj;this.pa=a.pa;this.Ou=2;this.bL=!1;this.Hs=Date.now();this.EI=a.EI;this.qJ=a.qJ;this.qK=a.qK;this.i=a.i;this.Uk=
a.Uk;this.j=a.j;this.kN=this.ID=!1;this.render();zaa(this)};mP.prototype.events=function(){return{"click #documentFileMenuButton":this.O1,"click #documentTitle .content":this.U1,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.T1,"click #documentFileMenuRedoButton":this.R1,"click #documentFileMenuResizeButton":this.S1,"click #editorHelpMenuButton":this.P1,"click #editorLogo":this.Q1}};
function Aaa(){var a=Tb;a.kN=!0;XV(a,a.Ou)}function wO(){var a=Tb;a.$el.addClass("blockEditorControls");a.ID=!0}mP.tU=function(){$(".helpMenuButton").remove();mP.i4=!0};mP.V2=function(){$("#yourDesigns").remove();mP.zaa=!0};mP.f$=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);mP.YZ=a};mP.RM=function(){return void 0!==mP.YZ};f=mP.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.tR();mP.i4&&this.$(".helpMenuButton").remove();mP.RM()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(mP.YZ));mP.zaa&&this.$("#yourDesigns").remove();this.qJ.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};f.O1=function(a){this.j.track("editor_menu_file_clicked");X0(this,$(a.target))};
function X0(a,b){var c=a.qK();c.Ci(b);a.listenTo(c,"documentSaveRequested",a.bX);a.listenTo(c,"documentResizeRequested",a.Vl);a.listenTo(c,"documentCopyRequested",a.cU);return c}f.U1=function(a){mP.RM()||(new T_({model:this.model,i:this.i})).Ci($(a.currentTarget))};f.T1=function(){$("#documentBlocker").hasClass("on")||hL()};f.R1=function(){$("#documentBlocker").hasClass("on")||gL()};
f.S1=function(){this.j.track("editor_menu_magic_resize_click",{magicResizeIsEnabled:this.W.MN()});if(this.W.MN())X0(this,this.$("#documentFileMenuResizeButton")).Ig.show();else{var a=this.Uk;a.j.wa(mm());Ho(a,Lo)}};f.P1=function(){this.j.track("editor_menu_help_clicked")};f.Q1=function(){-1!=lh.indexOf(this.gj.wh())&&U&&$l(U,"minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function zV(a){a.$("#primaryNavigation").removeClass("undoDisabled")}
function AV(a){a.$("#primaryNavigation").removeClass("redoDisabled")}function DV(a){0<M.nd.length?zV(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<M.Iw.length?AV(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}f.Z2=function(){DV(this)};f.c3=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.tR=function(){var a=this.model.qb();mP.RM()||(this.$("#documentTitle .content").text(pP(a)),this.EI&&this.EI(pP(a,{p4:!0})))};f.vQ=function(a){var b=this;2===a&&(this.Hs=Date.now());this.Ou=a;this.bL||(XV(this,a),window.setTimeout(function(){b.Ou!==a&&XV(b,b.Ou);b.bL=!1},600),this.bL=!0)};
function XV(a,b){var c=Dc(a.i),d=$("#documentSyncStatus");a.kN?(d.addClass("offline"),d.text(c.format("editorControlsOffline"))):(d.removeClass("offline"),a.ID?0===b&&null!=a.pa.vm&&d.text(ce(c)):0===b&&null!=a.pa.vm?d.text(ce(c)):1===b?d.text(c.format("editorControlsSaving")):2===b?d.text(c.format("editorControlsAllChangesSaved")):d.text(""))}f.bX=function(){this.pa.save();this.ID||null==this.pa.vm||this.pa.jj()||(this.vQ(1),this.vQ(2))};f.Vl=function(a,b){ZV({doctype:a,$k:b,Fb:this.model,nd:M})};
f.cU=function(){var a=this.pa.hc(),b=su(this.pa),c=pP(this.model.qb()),c=nc(this.i).format("documentCopyDesignTitle",c);c.length>O.Xo&&(c=c.substring(0,O.Xo));window.open($V(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};function zaa(a){function b(){X0(this,this.$("#documentFileMenuButton")).Ig.show();this.Eg.ua.removeItem(Fo)}Do(a.Eg)&&jl.setTimeout(b.bind(a),1500)};function cV(){}cV=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=cV.prototype;f.initialize=function(a){this.Zk=a.Zk;this.i=a.i;this.listenTo(this.model,{"page:change:selected":this.render});this.ZA=this.ZA.bind(this);this.DE=this.DE.bind(this);this.aF=this.aF.bind(this);this.Zk.$el.on("mousedown",this.ZA);this.Zk.$el.on("touchstart",this.DE);this.Zk.$el.on("touchend",this.aF);this.$el.html(this.template());this.render();this.$el.prependTo(this.Zk.$el.children(".inner"))};f.KM=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&lE(a)};
f.events=function(){this.KM=_.debounce(this.KM,100);return{'keydown [contenteditable\x3d"true"]':this.KM}};f.remove=function(){Backbone.View.prototype.remove.call(this);this.Zk.$el.off("mousedown",this.ZA);this.Zk.$el.off("touchstart",this.DE);this.Zk.$el.off("touchend",this.aF)};f.render=function(){this.model.ia().forEach(function(a){a.te&&a.$a()});return this};f.DE=function(){this.sW=!0};f.aF=function(){this.sW=!1};
f.ZA=function(a,b){function c(a){n||a.shiftKey||hh();n=!0;var b=e(a)-q;a=g(a)-u;0>b&&x.css("left",v+b);0>a&&x.css("top",z+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(E).each(function(a,b){MV.call(b)});return!1}function d(a){H.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&t.forEach(IV);n&&(a=K.Wa(),0===a.length?hh():1==a.length?(hh(),Bg(a[0])):QK(zc(h.i),Bc(h.i)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=p.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=p.top}var h=this;if(h.sW||a.which==O.Nh||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img"),m=$(a.target).closest(".elements .element").data("canvaElement"),m=m&&m.Hg();if(!(k||l||m||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return T.trigger("hideContextualControlsRequested"),
!0;var n=!1,p=$("#canvaDocument").offset(),q=e(a),u=g(a);b=document.getElementById("canvaDocument");var v=q+b.scrollLeft,z=u+b.scrollTop,t=K.Wa();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||hh();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",z).appendTo(this.$el);var H=new hp($(document));H.on("mousemove|touchmove",c).on("mouseup|touchend",d);var E=$("#content .element");b0(h.Zk);a.preventDefault()};function Baa(a){soy.asserts.assertType(goog.isString(a.qm)||a.qm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.qm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.rm)||a.rm instanceof goog.soy.data.SanitizedContent,"actionDelete",a.rm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.sm)||a.sm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.sm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.tm)||
a.tm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.tm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Gn)||1===a.Gn||0===a.Gn,"isFirst",a.Gn,"boolean");soy.asserts.assertType(goog.isBoolean(a.Hn)||1===a.Hn||0===a.Hn,"isLast",a.Hn,"boolean");soy.asserts.assertType(goog.isBoolean(a.Jn)||1===a.Jn||0===a.Jn,"isPageNumMax",a.Jn,"boolean");soy.asserts.assertType(goog.isNumber(a.vB),"pageNumber",a.vB,"number");soy.asserts.assertType(goog.isBoolean(a.Po)||1===
a.Po||0===a.Po,"toolbarDisabled",a.Po,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e')+Y0({v:"page__bleedAreaLine"})+'\x3cdiv class\x3d"page__clipRegion"\x3e\x3cdiv class\x3d"page__content"\x3e\x3cdiv class\x3d"page__elements elements"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"page__overlays"\x3e\x3cdiv class\x3d"page__furniture"\x3e\x3c/div\x3e'+
Y0({v:"page__safeAreaLine"})+'\x3c/div\x3e\x3cdiv class\x3d"page__editBlocker"\x3e\x3c/div\x3e'+Caa(a))}
function Caa(a){soy.asserts.assertType(goog.isString(a.qm)||a.qm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.qm,"string|goog.soy.data.SanitizedContent");var b=a.qm;soy.asserts.assertType(goog.isString(a.rm)||a.rm instanceof goog.soy.data.SanitizedContent,"actionDelete",a.rm,"string|goog.soy.data.SanitizedContent");var c=a.rm;soy.asserts.assertType(goog.isString(a.sm)||a.sm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.sm,"string|goog.soy.data.SanitizedContent");var d=a.sm;
soy.asserts.assertType(goog.isString(a.tm)||a.tm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.tm,"string|goog.soy.data.SanitizedContent");var e=a.tm;soy.asserts.assertType(goog.isBoolean(a.Gn)||1===a.Gn||0===a.Gn,"isFirst",a.Gn,"boolean");var g=!!a.Gn;soy.asserts.assertType(goog.isBoolean(a.Hn)||1===a.Hn||0===a.Hn,"isLast",a.Hn,"boolean");var h=!!a.Hn;soy.asserts.assertType(goog.isBoolean(a.Jn)||1===a.Jn||0===a.Jn,"isPageNumMax",a.Jn,"boolean");var k=!!a.Jn;soy.asserts.assertType(goog.isNumber(a.vB),
"pageNumber",a.vB,"number");var l=a.vB;soy.asserts.assertType(goog.isBoolean(a.Po)||1===a.Po||0===a.Po,"toolbarDisabled",a.Po,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"pageToolbar '+soy.$$escapeHtmlAttribute(a.Po?"disabled":"")+'"\x3e\x3cli class\x3d"pageToolbarUp '+soy.$$escapeHtmlAttribute(g?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+soy.$$escapeHtml(e)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown '+
soy.$$escapeHtmlAttribute(h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy '+soy.$$escapeHtmlAttribute(k?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete '+soy.$$escapeHtmlAttribute(g&&h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'"\x3e'+soy.$$escapeHtml(c)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e'+soy.$$escapeHtml(l)+"\x3c/li\x3e\x3c/menu\x3e")}
function Y0(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.highlighted||goog.isBoolean(a.highlighted)||1===a.highlighted||0===a.highlighted,"highlighted",a.highlighted,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__printLine'+(a.highlighted?" page__printLine--highlight":"")+" "+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cdiv class\x3d"page__printLineInner"\x3e\x3c/div\x3e\x3c/div\x3e')}
;function X_(){}X_=Backbone.View.extend({tagName:"section",className:"page"});X_.U2=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");X_.h8=!0};f=X_.prototype;f.events=function(){return{"mousedown .page__elements":this.fO,"mouseout .pageToolbar":this.X4,"click .pageToolbarCopy.enabled":this.j2,"click .pageToolbarDelete.enabled":this.l2,"click .pageToolbarDown.enabled":this.m2,"click .pageToolbarUp.enabled":this.n2,click:this.b2}};
f.initialize=function(a){this.tP=null;this.Kq="";this.Ws=a.Ws;this.sP=a.sP;this.listenTo(T,"documentView:zoom",this.cL);this.listenTo(this.model,{change:this.v2,"change:background":this.mT,"change:selected":this.rZ,"change:preview":this.R8,"element:add":this.m3,"element:move":this.o3,"element:remove":this.p3,resize:this.C9,willchange:this.w2});this.listenTo(this.model.Fb,{"page:add":this.aL,"page:move":this.aL,"page:remove":this.aL});this.render()};
f.render=function(){var a=this.model.Fb,b=this.model.K();this.$el.html(Baa({qm:this.Ws.qm(),rm:this.Ws.rm(),sm:this.Ws.sm(),tm:this.Ws.tm(),vB:b+1,Gn:!!a&&0==b,Hn:!!a&&b==a.Gb().length-1,Jn:!!a&&a.Gb().length>=O.my,Po:!!X_.h8}).toString());this.cL();this.rZ(0,Sp(a)===b);this.mT();return this};function TC(a){var b=parseFloat(a.$el.css("left"));a=a.$el.find(".page__content").position().left;return b+a}
function XC(a){var b=parseFloat(a.$el.css("top"));a=a.$el.find(".page__content").position().top;return b+a}f.oM=function(){return parseFloat(this.$el.css("left"))};function Y_(a,b){a.$el.css("top",b)}function f0(a,b,c){a.$el.css("left",b);Y_(a,c)}
f.fO=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-g;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-h;!k&&(Math.abs(b)>O.Hc||Math.abs(a)>O.Hc)&&(k=!0)}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!(k||0<e.Wa().length)){var a=Vp(e),d=AP(e);0!==d.length?Bg(d.pop()):0<a.length&&mL(a)}}function d(){var b=$(a.target).closest(".element.grid").data("canvaElement");return b&&b.Hg()}if(a.target===a.currentTarget||
0!==$(a.target).closest(".element.background.image").length||d()){var e=this.model;if(!(0<e.Wa().length)){var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,k=!1,l=new hp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.b2=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Fb;var b=ep(a,this.model);Kp(a,b)}};
f.n2=function(){var a=this.model.Fb;if(a){var b=this.model.K();1>b||(Xp(a,this.model,b-1),M.register(new IO(5,{pageIndex:b-1,oldPageIndex:b})),b0(vb))}};f.m2=function(){var a=this.model.Fb;if(a){var b=this.model.K();b>=a.Gb().length-1||(Xp(a,this.model,b+1),M.register(new IO(5,{pageIndex:b+1,oldPageIndex:b})),b0(vb))}};
f.j2=function(){T.trigger("pageView:copyButton:click");var a=this.model.K(),b=this.model.clone();Xp(this.model.Fb,b,a+1);b=GO(this.model.serialize());b.pageIndex=a+1;M.register(new IO(1,b));b0(vb)};f.l2=function(){T.trigger("pageView:deleteButton:click");var a=this.model.K(),b=GO(this.model.serialize());b.pageIndex=a;this.model.remove();M.register(new IO(2,b));b0(vb)};f.X4=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&T.trigger("pageView:toolbar:mouseout")};
f.w2=function(){this.bt&&this.bt.remove();this.bt=this.$el.clone();this.bt.addClass("doNotAnimate").insertAfter(this.$el)};f.v2=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.bt.remove()},800);this.bt&&0<this.bt.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.bt)};f.mT=function(){this.model.If()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.rZ=function(a,b){this.$el.toggleClass("selected",b)};
f.m3=function(a,b,c,d){function e(){hh();g.removeClass("dropping");Bg(b);g.hasClass("text")&&XK(g,!0)}var g=b.C(),h=Z0(this,b),h=h&&h.C();c&&(g.one("animationend",e),b.setPosition((a.l()-b.l())/2,(a.o()-b.o())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof FC?g.appendTo(this.$el.find(".page__furniture")):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.find(".page__elements"));b.te=this.$el;b.ab()};
function Z0(a,b){b=a.model.elements.indexOf(b);return a.model.ia().slice(b+1).filter(function(a){return!(a instanceof FC)&&!WC(a)})[0]}f.p3=function(a,b,c,d){var e=b.C();b.Bh();d?(e.addClass("disappearing"),P.delay(O.Da.rL).then(function(){e.remove()})):e.remove()};f.o3=function(a,b){WC(b)||(a=b.C(),(b=Z0(this,b))?a.insertBefore(b.C()):a.appendTo(this.$el.find(".page__elements")))};
f.aL=function(){this.$(".pageNumber").text((this.model.K()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Fb,b=this.model.K(),c=a&&0==b,a=a&&b==a.Gb().length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");vb.model.Gb().length>=O.my&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.cL=function(){$0(this);var a=this.model.o()*W,b=this.$(".pageToolbar");this.$el.find(".page__content").css("width",this.model.l()*W).css("height",a);if(a>O.V0){b.addClass("vertical");var c=a/2+Qb+O.U0;c>a?b.css("margin-top",+Qb-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.lb(),a=uv(a)+xv(a)-this.model.l(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*W)};
f.qa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Em(Xg(this),a,0)};function g0(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Em(h0(a),b,0)}function Xg(a){return new V(TC(a),XC(a),parseInt(a.$el.find(".page__content").css("width"),10),parseInt(a.$el.find(".page__content").css("height"),10))}
function h0(a){if(!a.model||!a.model.lb())return new V(0,0,0,0);var b=a.model.lb(),c=Rg(b.tb),d=xv(b)-c.l(),b=wv(b)-c.o(),d=parseInt(a.$el.find(".page__content").css("width"),10)+Math.round(d*W),b=parseInt(a.$el.find(".page__content").css("height"),10)+Math.round(b*W);if(isNaN(d)||!isFinite(d)||0>=d)d=c.l();if(isNaN(b)||!isFinite(b)||0>=b)b=c.o();return new V(TC(a),XC(a),d,b)}
X_.PJ=function(a,b,c){return b?(b=Rg(a.tb).o(),c=y(c,"Cannot draw print markings without a PaperSize"),c=X_.yT(b,c),a=wv(a)-b,b+Math.max(a,2*c.Br)):wv(a)};X_.prototype.C9=function(){this.cL();this.model.ia().forEach(function(a){a.ab()})};
X_.prototype.R8=function(){var a=this,b=this.Kq;(this.Kq=this.model.Kq)?this.$el.find(".page__content").css("background-image","url("+this.Kq+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.find(".page__content").css("background-image","none").css("background-size","")},300):this.$el.find(".page__content").css("background-image","none").css("background-size","")};
X_.prototype.Ai=function(a){this.$el.toggleClass("page--printMarkingsEnabled",a);a&&y(this.tP,"Cannot enable print markings without print markings sizes");$0(this)};X_.prototype.Ew=function(){return this.$el.hasClass("page--printMarkingsEnabled")};X_.yT=function(a,b){a/=b.Zj;return{Br:a*X_.fJ,K9:a*X_.fJ}};
function $0(a){if(a.Ew()){var b=y(a.tP,"Cannot draw print markings without print markings sizes"),c=b.K9*W,b=b.Br*W;a.$el.find(".page__safeAreaLine").css("top",c+"px").css("right",c+"px").css("bottom",c+"px").css("left",c+"px");a.$el.find(".page__clipRegion").css("padding",b+"px");a.$el.find(".page__overlays").css("top",b+"px").css("right",b+"px").css("bottom",b+"px").css("left",b+"px")}else a.$el.find(".page__safeAreaLine").css("padding",""),a.$el.find(".page__clipRegion").css("padding",""),a.$el.find(".page__furniture").css("padding",
"")}function HN(a,b){a.$el.find(".page__elements").append(b)}function EV(a,b){a.$el.find(".page__elements").prepend(b)}function SV(a,b){a.$el.find(".page__content").append(b)}X_.prototype.dI=function(a){this.tP=X_.yT(this.model.o(),a);$0(this)};X_.fJ=3175;function Daa(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.sg)||a.sg instanceof goog.soy.data.SanitizedContent,"subtitle",a.sg,"string|goog.soy.data.SanitizedContent");var c=a.sg;soy.asserts.assertType(goog.isString(a.Kx)||a.Kx instanceof goog.soy.data.SanitizedContent,"step1Label",a.Kx,"string|goog.soy.data.SanitizedContent");var d=a.Kx;
soy.asserts.assertType(a.yC instanceof soydata.SanitizedHtml||a.yC instanceof soydata.UnsanitizedText||goog.isString(a.yC),"step1Html",a.yC,"soydata.SanitizedHtml");var e=a.yC;soy.asserts.assertType(goog.isString(a.Lx)||a.Lx instanceof goog.soy.data.SanitizedContent,"step2Label",a.Lx,"string|goog.soy.data.SanitizedContent");var g=a.Lx;soy.asserts.assertType(a.Ft instanceof soydata.SanitizedHtml||a.Ft instanceof soydata.UnsanitizedText||goog.isString(a.Ft),"step2Html",a.Ft,"soydata.SanitizedHtml");
a=a.Ft;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+
soy.$$escapeHtml(g)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e")};function IZ(){}IZ=mp.extend({className:"popupBlocked"});IZ.P0={Chrome:!0,IE:!0};IZ.J$=function(a){return a in IZ.P0};IZ.prototype.initialize=function(a){mp.prototype.initialize.call(this,{H:jl,jf:!1,Ho:!1});this.Bm=a.Bm;this.i=a.i};IZ.prototype.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
IZ.prototype.render=function(){mp.prototype.render.call(this);var a,b;switch(this.Bm){case "Chrome":a=this.i.Ia("popupBlockedDialogChromeStep1Html");b="popupBlockedChrome";break;case "IE":a=this.i.Ia("popupBlockedDialogIeStep1Html");b="popupBlockedIE";break;default:throw Error('Unsupported browser "'+this.Bm+'"');}this.$(".content").html(Daa({title:this.i.title(),sg:this.i.sg(),Kx:this.i.Kx(),yC:a,Lx:this.i.Lx(),Ft:this.i.Ft()}).toString());this.$el.addClass(b);return this};
IZ.prototype.show=function(){mp.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};function w0(){}
w0=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3ch2 class\x3d"dialogTitle"\x3eSubmit your \x3c%\x3d typeDescription %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),S4:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your \x3c%\x3d typeDescription %\x3e\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your \x3c%\x3d typeDescription %\x3e to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),F1:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
f=w0.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.fQ,"click .button.submitChildrenMetadata":this.E$,"click .button.submitMetadata":this.F$,"click .close":this.cancel}};f.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Qd.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.Lh.cancel();c.off("hide",b)}var c=this;this.Qd=new qz({style:rz,H:jl});this.listenTo(this.Qd,"maskClick",this.cancel);this.document=a.document;this.Lh=a.workflow;this.Ux=a.typeDescription;this.OZ=a.showProgress;this.zd=a.keywords;this.on("hide",b);this.OW=new a1({B$:Object.freeze([{v:["pricing"],label:this.Ux},{v:["pricingChildren"],label:"Media"},{v:["complete"],label:"Complete"}])});this.listenTo(this.Lh,"change:state",this.E7);var d=a.availableLocales||{};
this.locales=Object.keys(d).sort().map(function(a){return{key:a,description:d[a]}});this.wg=a.userLocale};f.render=function(){this.$el.html(this.template({typeDescription:this.Ux}));return this};function b1(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);c1(a);Eaa(a,c)}
function Faa(a){var b=a.document.qb(),c=a.zd&&0<a.zd.length?a.zd:a.document.Tj(),d=a.document.Df();0===c.length&&(c=fU(b));d||(d=a.wg?a.wg:a.locales[0].key);b=a.S4({title:b.ul(),typeDescription:a.Ux,keywords:c.join(", "),locales:a.locales,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);b1(a,b,"submitMetadata")}
function Gaa(a){function b(a,b){var c=a.Ja(),l=c.ic()[yD],m=new V(0,0,l.l(),l.o());fh(m,e);m="width:"+m.l()+"px;height:"+m.o()+"px;margin-top:"+m.w()+"px;margin-left:"+m.F()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.oa());return d.F1({media:a.u(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new V(0,0,118,118);paa(a.Lh,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),b1(d,a.map(b).join(""),"submitChildrenMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.Lh,a.XJ=[],a.qg.transition("price"))})}function c1(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function Haa(a){a.$(".dialog").css("width","30em");a.$(".dialogTitle").text(a.Ux+" submitted!");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+a.Ux+" has been submitted!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);c1(a)},300)}
function Eaa(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);c1(a)},300)}
f.E7=function(a,b){switch(b){case "pricing":Faa(this);break;case "pricingChildren":Gaa(this);break;case "reviewingSubmission":a=this.Lh;a.qg.transition("submit");try{a.G$(a.XJ),a.qg.transition("success")}catch(c){throw a.qg.transition("error"),c;}break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+this.Ux+" is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");break;
case "completed":Haa(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your design.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),a.find(".reviewNotice").css("text-align","center")}this.OW.render(b)};f.show=function(){this.render();this.Qd.show(this.el);this.OZ&&this.OW.show(this.$el.find(".flowProgress"));this.Lh.start()};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};f.F$=function(){var a=this;Iaa(this.$(".layoutMetadata"),function(b){oaa(a.Lh,b)})};f.fQ=function(){this.Lh.fQ()};f.E$=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.Lh;c.XJ=a;c.qg.transition("price")});c.each(function(){var b=$(this);Jaa(b,function(b){a.push(b);d()})})};
function Jaa(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=d1(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:e,description:g,keywords:h,price:a})}
function Iaa(a,b){var c=a.find(".layoutMetadataTitle").val(),d=d1(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function d1(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function e1(a,b){b=b||{};soy.asserts.assertType(goog.isNumber(a.progress),"progress",a.progress,"number");var c=a.progress;soy.asserts.assertType(null==a.HB||a.HB instanceof goog.soy.data.SanitizedContent||goog.isString(a.HB),"progressSpeed",a.HB,"null|string|undefined");var d=a.HB;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"loadingBar'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"loadingBar__value" data-progress\x3d"'+soy.$$escapeHtmlAttribute(c)+'"'+(d?' data-progress-speed\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+' style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"transform: translateX("+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*c))+'%)"\x3e\x3c/span\x3e\x3c/div\x3e')};function f1(a){this.$el=a;this.value=a.find(".loadingBar__value")}r(f1,gc);function g1(a){var b=new f1(a);kl(function(){b.Fw()});return b}f1.prototype.remove=function(){h1(this);gc.prototype.remove.call(this)};f1.prototype.AZ=function(a){a=Math.max(Math.min(a,1),0);h1(this);this.value.css("transition","none");this.lr(a);this.Fw()};f1.prototype.lr=function(a){this.value.attr("data-progress",a).css("transform","translateX("+100*a+"%)")};
f1.prototype.Fw=function(){var a=this;kl(function(){a.value.css("transition","");var b=parseFloat(a.value.attr("data-progress")),c=.33*(.99-Math.min(.99,parseFloat(a.value.attr("data-progress"))));a.lr(b+c);Kaa(a)})};function Laa(a){a=a.value.attr("data-progress-speed")||i1;switch(a){case j1:return 5E3;case i1:return 3E3;case Maa:return 1E3;default:throw Error("Expected LoadingBarView.ProgressSpeed, found "+a);}}
function Kaa(a){var b=window.setTimeout(function(){return a.Fw()},1.1*Laa(a));a.value.attr("data-timeout-id",b)}function h1(a){a=parseInt(a.value.attr("data-timeout-id"),10);window.clearTimeout(a)}var j1="SLOW",i1="NORMAL",Maa="FAST";function k1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var d=a.heading;soy.asserts.assertType(null==a.caption||a.caption instanceof goog.soy.data.SanitizedContent||goog.isString(a.caption),
"caption",a.caption,"null|string|undefined");var e=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingsGroup '+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e\x3ch2 class\x3d"settingsGroup__heading"\x3e'+soy.$$escapeHtml(d)+"\x3c/h2\x3e"+(e?'\x3cdiv class\x3d"settingsGroup__caption"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":
"")+'\x3cdiv class\x3d"settingsGroup__content"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/section\x3e")}
function l1(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==
a.caption||a.caption instanceof goog.soy.data.SanitizedContent||a.caption instanceof soydata.SanitizedHtml||a.caption instanceof soydata.UnsanitizedText||goog.isString(a.caption),"caption",a.caption,"?soydata.SanitizedHtml|string|undefined");var d=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");
var g=a.Ua;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var h=a.error;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var k=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingContainer'+
(g?" settingContainer--column":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+(h?" settingContainer--error":"")+'"'+(c?" "+soy.$$filterHtmlAttributes(c):"")+'\x3e\x3cdiv class\x3d"settingContainer__settingInfo"\x3e'+(k?'\x3ch3 class\x3d"settingContainer__settingLabel"\x3e'+soy.$$escapeHtml(k)+"\x3c/h3\x3e":"")+(d?'\x3cdiv class\x3d"settingContainer__settingCaption"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"settingContainer__errorContainer"\x3e'+(h?Naa(a):"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"settingContainer__settings"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/section\x3e")}function Naa(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function m1(a){soy.asserts.assertType(a.input instanceof soydata.SanitizedHtml||a.input instanceof soydata.UnsanitizedText||goog.isString(a.input),"input",a.input,"soydata.SanitizedHtml");var b=a.input;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var c=a.error;soy.asserts.assertType(null==
a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.nA||a.nA instanceof soydata.SanitizedHtml||a.nA instanceof soydata.UnsanitizedText||goog.isString(a.nA),"help",a.nA,"?soydata.SanitizedHtml|string|undefined");var e=a.nA;soy.asserts.assertType(null==a.info||a.info instanceof goog.soy.data.SanitizedContent||a.info instanceof soydata.SanitizedHtml||a.info instanceof soydata.UnsanitizedText||goog.isString(a.info),
"info",a.info,"?soydata.SanitizedHtml|string|undefined");var g=a.info;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var h=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__input '+soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+(h||e?'\x3cdiv class\x3d"settingContainer__inputAbove"\x3e'+(h?'\x3clabel class\x3d"settingContainer__inputLabel"\x3e'+soy.$$escapeHtml(h)+
"\x3c/label\x3e":"")+(e?'\x3cspan class\x3d"settingContainer__inputHelp"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e":"")+"\x3c/div\x3e":"")+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"settingContainer__inputBelow"\x3e\x3cdiv class\x3d"settingContainer__inputErrorContainer"\x3e'+(c?n1(a):"")+"\x3c/div\x3e"+(g?'\x3cspan class\x3d"settingContainer__inputInfo"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function n1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__inputError"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function o1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__hiddenInputs'+(d?" settingContainer__hiddenInputs--visible":"")+" "+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e")}
function p1(a){soy.asserts.assertType(a.buttons instanceof soydata.SanitizedHtml||a.buttons instanceof soydata.UnsanitizedText||goog.isString(a.buttons),"buttons",a.buttons,"soydata.SanitizedHtml");var b=a.buttons;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");var d=a.Ua;soy.asserts.assertType(null==
a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var e=a.error;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingsFormActions '+(d?" settingsFormActions--column":"")+" "+soy.$$escapeHtmlAttribute(null==c?"":c)+'"\x3e\x3cdiv class\x3d"settingsFormActions__errorContainer"\x3e'+(e?q1(a):"")+'\x3c/div\x3e\x3cdiv class\x3d"settingsFormActions__buttons"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/div\x3e")}function q1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingsFormActions__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")};function r1(a){gc.apply(this,arguments)}r(r1,gc);function s1(a){w(a.hasClass("settingContainer__input"),"the given element {} is not an input container",a.get(0));return new r1(a)}r1.prototype.xk=function(a){this.$el.addClass("settingContainer__input--error");var b=this.$el.find(".settingContainer__inputError");0<b.length?(b.removeClass("settingContainer__inputError--hidden"),b.html(a.toString())):(b=this.$el.find(".settingContainer__inputErrorContainer"),a=n1({error:a}).toString(),b.html(a))};
r1.prototype.lg=function(){this.$el.removeClass("settingContainer__input--error");var a=this.$el.find(".settingContainer__inputErrorContainer").find(".settingContainer__inputError");0<a.length&&(a.addClass("settingContainer__inputError--hidden"),Cf(a[0]).then(function(){a.hasClass("settingContainer__inputError--hidden")&&a.remove()}))};function t1(a){gc.apply(this,arguments)}r(t1,gc);t1.prototype.xk=function(a){a=q1({error:a}).toString();return this.$el.find(".settingsFormActions__errorContainer").html(a)};
t1.prototype.lg=function(){this.$el.find(".settingsFormActions__errorContainer").find(".settingsFormActions__error").addClass("settingsFormActions__error--hidden")};function u1(a,b){a=a.$el.find(".settingsFormActions__buttons");a.empty();a.append(b)};function v1(){return new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","Åland Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthélemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Côte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaçao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Réunion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]])};function w1(a){switch(a){case "US":return new Map(Oaa);case "AU":return new Map(Paa);case "MX":return new Map(Qaa);case "CA":return new Map(Raa);case "BR":return new Map(Saa);case "IN":return new Map(Taa);default:return new Map}}
var Oaa=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),Paa=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Qaa=new Map([["MX-CMX","Ciudad de México"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de México"],["MX-MIC","Michoacán"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo León"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Querétaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potosí"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatán"],["MX-ZAC","Zacatecas"]]),Raa=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Saa=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amapá"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Ceará"],["BR-DF","Distrito Federal"],["BR-ES","Espírito Santo"],["BR-GO","Goiás"],["BR-MA","Maranhão"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paraná"],["BR-PB","Paraíba"],["BR-PA","Pará"],["BR-PE","Pernambuco"],
["BR-PI","Piauí"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondônia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","São Paulo"],["BR-TO","Tocantins"]]),Taa=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function x1(a,b){a=[].concat(ma(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.tQ,text:a[1],value:a[0]}});return null!=b.Ng?[].concat([{selected:!b.tQ,text:b.Ng,value:b.bP}],ma(a)):a}function y1(a){var b=v1();a.Xh&&(b=Array.from(b.entries()).filter(function(b){b=la(b).next().value;return a.Xh.has(b)}),b=new Map(b));return x1(b,{Ng:a.Ng,bP:"ZZ",tQ:a.W9})}
function z1(a){var b=w1(a.sb);w(!a.WH||b.has(a.WH),'"{}" is not a valid subdivision code of the country "{}".',a.WH,a.sb);return x1(b,{Ng:a.Ng,bP:a.bP,tQ:a.WH})};var A1=new Ff("jv",!1),B1=["BR","CA","US"];function C1(a){this.Ej=a.Ej;this.D=a.D;this.Ed=a.Ed||void 0;this.Xe=a.Xe;this.nf=a.nf;this.view=a.view;this.listenTo(this.view,"input",this.Vn);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.G=a.G?a.G:Hf();this.Ya=a.Ya}function jV(a){var b=new D1({By:!1!==a.By,Ya:a.Ya,G:a.G,j:a.j});return{Db:new C1({Ej:a.Ej,D:a.D,Ed:a.Ed,Xe:a.Xe,nf:a.nf,G:a.G,Ya:a.Ya,view:b}),view:b}}f=C1.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.refresh=function(){this.view.render();this.view.bx(this.Xe);this.Ed&&this.view.vk(this.Ed);return this};f.remove=function(){this.stopListening();this.view.remove()};f.vk=function(a){this.Ed=a;this.view.vk(a);return this};f.bx=function(a){this.Xe=a;this.view.bx(a);return this};
f.xM=P.method(function(a){function b(a){return a.Yh}return!this.Ed||this.view.Qu||a?(a=this.view.AF(),E1(a),this.maa(a).then(b).tap(this.vk.bind(this))):this.Ed});f.zV=P.method(function(a){if(this.Ed&&!this.view.Qu&&!a&&!this.view.Ru)return this.Ed;a=this.view.AF();if(this.view.Ru&&!this.view.Qu)return F1(this,a),this.laa(a);E1(a);F1(this,a);return this.ER(a).tap(this.vk.bind(this))});f.Vn=function(){this.Ed&&!this.view.AF()&&this.vk(this.Ed);this.trigger("input",this.view.Qu)};
f.maa=P.method(function(a){var b=this;return this.nf.createToken({Om:a.Om,JL:a.Xu,KL:a.Yu,vh:a.vh}).then(function(a){var d=b.Ej,e=b.D;return sj(d.N,"/billing/brands/"+encodeURIComponent(e)+"/account",{brand:e,stripeToken:a}).catch(tj).get(0).get("account").then(vh).catch(d.Es,d.Yj)})});
f.ER=P.method(function(a){var b=this;return this.nf.createToken({Om:a.Om,JL:a.Xu,KL:a.Yu,vh:a.vh,pba:a.fc,qba:a.gf,rba:a.vf}).then(function(c){var d=b.Ej;return sj(d.N,"/billing/creditcards",Lh(new Kh({D:b.D,iR:c,Zg:a.fc?new Gh({Gh:a.gf,sb:a.fc,xw:a.vf}):void 0,bQ:!0}))).catch(tj).get(0).then(d.GV).get("creditCard").then(Ch).catch(d.Es,d.Yj)})});f.laa=P.method(function(a){return this.Ej.ER(new Mh({bj:a.id,Zg:new Gh({Gh:a.gf,sb:a.fc,xw:a.vf})}))});
function E1(a){if(!a)throw new aU;if(!(a.Om&&3<=a.Om.length&&4>=a.Om.length))throw new QT;if(!function(){var b=a.Xu&&parseInt(a.Xu,10);return b&&1<=b&&12>=b}())throw new RT;if(!a.Yu||!parseInt(a.Yu,10))throw new ST;if(!function(){var b=a.vh&&a.vh.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new TT;}
function F1(a,b){if(a.G.get(A1)&&(!b.fc||"ZZ"==b.fc))throw new XT;var c;if(c=a.G.get(A1))c=ae(a.Ya),c=!(-1<B1.indexOf(b.fc)?b.gf&&b.gf!=c:1);if(c)throw new ZT;if(a.G.get(A1)&&-1<B1.indexOf(b.fc)&&!b.vf)throw new $T;};function Uaa(a){soy.asserts.assertType(goog.isString(a.Pk)||a.Pk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Pk,"string|goog.soy.data.SanitizedContent");var b=a.Pk;soy.asserts.assertType(goog.isString(a.Xk)||a.Xk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Xk,"string|goog.soy.data.SanitizedContent");var c=a.Xk;soy.asserts.assertType(goog.isString(a.Hl)||a.Hl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.Hl,"string|goog.soy.data.SanitizedContent");
var d=a.Hl;soy.asserts.assertType(goog.isString(a.pm)||a.pm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pm,"string|goog.soy.data.SanitizedContent");a=a.pm;return soydata.VERY_UNSAFE.ordainSanitizedHtml(G1({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
G1({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+G1({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+G1({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Vaa(a){soy.asserts.assertType(goog.isString(a.Vo)||a.Vo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Vo,"string|goog.soy.data.SanitizedContent");var b=a.Vo,c=goog.asserts.assertArray(a.cE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Gt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+y_({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?y_({id:"region",options:a}):"")+G1({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};var Waa=new Ff("jv",!1);function D1(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Ru=this.Qu=!1;this.Ya=a.Ya;this.By=a.By;this.G=a.G?a.G:Hf();this.j=a.j}r(D1,Backbone.View);f=D1.prototype;f.events=function(){return{"input #ccNumber":this.p5,"keydown #expMonth":this.V6,"input #expMonth":this.U6,input:this.Vn,"keydown input":this.zO,"focus input:not([readonly])":this.Dq,"blur input":this.cB,"change #country":this.f6,"change #region":this.n7,"change #zipcode":this.Q7}};
f.AF=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",Om:this.$("#cvc").val().trim(),Xu:this.$("#expMonth").val().trim(),Yu:this.$("#expYear").val().trim(),vh:this.$("#ccNumber").val().trim(),fc:this.$("#country").val()?this.$("#country").val().trim():void 0,gf:this.$("#region").val()?this.$("#region").val().trim():void 0,vf:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.Om.length||a.Xu.length||a.Yu.length||a.vh.length||a.fc.length||
a.gf.length||a.vf.length?a:null};f.vk=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.Qv);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");a.Zg&&(this.$("#country").val(a.Zg.sb).change(),this.$("#region").val(a.Zg.Gh),this.$("#zipcode").val(a.Zg.xw));this.Ru=this.Qu=!1;this.$("#ccNumber").removeAttr("autofocus")};
f.bx=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
f.render=function(){var a;a={Hj:this.Ya.Hj(),qu:this.Ya.qu(),Pk:this.Ya.Pk(),Hl:this.Ya.Hl(),pm:this.Ya.pm(),Xk:this.Ya.Xk(),Vo:this.Ya.Vo(),cE:y1({Ng:this.Ya.format("creditCardCountryPlaceholder")}),Gt:z1({Ng:ae(this.Ya),sb:"ZZ"}),qC:this.G.get(Waa)};soy.asserts.assertType(goog.isString(a.Hj)||a.Hj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Hj,"string|goog.soy.data.SanitizedContent");var b=a.Hj;soy.asserts.assertType(goog.isString(a.qu)||a.qu instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.qu,"string|goog.soy.data.SanitizedContent");var c=a.qu;soy.asserts.assertType(goog.isString(a.Pk)||a.Pk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Pk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Xk)||a.Xk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Xk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Hl)||a.Hl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.Hl,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.pm)||a.pm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Vo)||a.Vo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Vo,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.cE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.Gt,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.qC)||1===a.qC||0===a.qC,"showBillingAddressFields",a.qC,"boolean");var d=!!a.qC;soy.asserts.assertType(null==a.pE||a.pE instanceof goog.soy.data.SanitizedContent||goog.isString(a.pE),"creditCardId",a.pE,"null|string|undefined");var e=a.pE;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"/\x3e'+Uaa(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Vaa(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());Xaa(this);return this};
function Xaa(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.By&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}f.Vn=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Qu=!0,this.trigger("input"))};f.zO=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
f.Dq=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.Ya.Pk()),this.$("#expMonth").attr("placeholder",this.Ya.Hl()),this.$("#expYear").attr("placeholder",this.Ya.pm()),this.$("#cvc").attr("placeholder",this.Ya.Xk()))};f.cB=function(){this.$el.removeClass("focused")};
f.p5=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
f.f6=function(a){a=z1({Ng:ae(this.Ya),sb:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(y_({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Ru=!0;this.j.wa(X(new am("credit_card_country_changed"),"location","billing_admin_card_dialog"))};f.n7=function(){this.Ru=!0};f.Q7=function(){this.Ru=!0};
f.V6=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.U6=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function y_(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var e=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(e?' id\x3d"'+soy.$$escapeHtmlAttribute(e)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");e=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;e=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(e?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function H1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function Yaa(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Zo)||a.Zo instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.Zo,"string|goog.soy.data.SanitizedContent");var c=a.Zo;soy.asserts.assertType(goog.isString(a.Wg)||a.Wg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Wg,"string|goog.soy.data.SanitizedContent");a=a.Wg;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+'display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function I1(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Qd=a.Qd;this.H=a.H;this.AK=this.Ag=null;this.HY=0;this.Qd.on("maskClick",function(){b.trigger("cancel")})}r(I1,Backbone.View);f=I1.prototype;f.X5=function(){this.trigger("ok")};f.pO=function(){this.trigger("retry")};
function Zaa(a,b){var c=b.vl?b.vl():b;if(c===a.Ag)return P.resolve(!1);a.Ag&&a.stopListening(a.Ag);a.Ag=c;a.AK=b;a.listenTo(a.Ag,"contentResize",a.Au);a.listenTo(a.Ag,"done",a.X5);a.listenTo(a.Ag,"retry",a.pO);return a.AK.refresh().return(!0)}f.render=function(a){this.$el.html(Yaa(a).toString());return this};
function J1(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Qd.show(a.el),a.H.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(e){Zaa(a,b).then(function(b){$aa(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.Ag.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.Ag.$el));a.Au(k).then(c);a.H.setTimeout(function(){a.HY--;e()},1E3)})});1==++a.HY&&a.$el.dequeue("pageQueue")})}
function $aa(a){var b=a.Ag.rp(a.AK.vn());a.$(".dialog \x3e h2").html(b)}function K1(a,b){a.$(".dialog__footer__content").html(b)}f.pA=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.Au()};f.wx=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.Au()};
f.Au=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=aba(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function aba(a,b){return new P(function(c){var d=a.$(".dialog");if(!(0<d.find(".content.replacing").length)||b){var e=d.outerHeight();d.css({transition:"none",height:"auto"});var g;g=b?bba(a,b):d.outerHeight();var h=Cf(d[0]);d.css({height:e});Bf(d);d.css({transition:"",height:g});c(h)}})}
function bba(a,b){var c=a.$(".dialog"),d=c.find(".content");a=d.outerHeight();var e=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(d);d.addClass("onTop beingReplaced");var c=c.outerHeight(),g=b.outerHeight(!0);b.addClass("onTop");e.insertAfter(d).css("height",a);Bf(e);Cf(e[0]).then(function(){d.remove();e.remove();b.removeClass("onTop")});e.css("height",g);kl(function(){b.removeClass("new");e.removeClass("new")});return c}
f.remove=function(){var a=this;return new P(function(b){a.Qd.hide();a.$el.children(".dialog").addClass("disappearing");a.H.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},mp.vS)})};function L1(a){Backbone.View.apply(this,arguments)}r(L1,Backbone.View);L1.prototype.rp=function(){return""};Object.defineProperties(L1,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(L1)}}});function M1(a){this.j=a.j;this.$m=a.$m}M1.prototype.QC=function(a){this.track("close",{action:a})};M1.prototype.track=function(a,b){this.j.track("publish_flow_"+a,_.extend(this.kM(),b))};M1.prototype.kM=function(){return{fileFormat:this.$m}};function N1(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var b=!!a.ie;soy.asserts.assertType(null==a.md||a.md instanceof goog.soy.data.SanitizedContent||goog.isString(a.md),"oneTimeUse",a.md,"null|string|undefined");var c=a.md;soy.asserts.assertType(null==a.Nc||a.Nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Nc),"oneTimeUseDescription",a.Nc,"null|string|undefined");var d=a.Nc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||
0===a.je,"showRoyaltyFree",a.je,"boolean");var e=!!a.je;soy.asserts.assertType(null==a.Fc||a.Fc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Fc),"royaltyFree",a.Fc,"null|string|undefined");var g=a.Fc;soy.asserts.assertType(null==a.Qc||a.Qc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Qc),"royaltyFreeDescription",a.Qc,"null|string|undefined");var h=a.Qc;soy.asserts.assertType(goog.isBoolean(a.Rg)||1===a.Rg||0===a.Rg,"showExtended",a.Rg,"boolean");var k=!!a.Rg;soy.asserts.assertType(null==
a.Id||a.Id instanceof goog.soy.data.SanitizedContent||goog.isString(a.Id),"extended",a.Id,"null|string|undefined");var l=a.Id;soy.asserts.assertType(null==a.Yd||a.Yd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Yd),"extendedDescription",a.Yd,"null|string|undefined");var m=a.Yd;soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");a=a.be;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||e||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(e?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function O1(a){this.$el=a}r(O1,gc);O1.prototype.show=function(){if(this.sh())return P.resolve();var a=Cf(this.$el[0]);this.$el.addClass("paymentRestrictedOverlay--visible");return a};O1.prototype.hide=function(){if(this.sh()){var a=Cf(this.$el[0]);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};O1.prototype.sh=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function kV(a){var b=this;L1.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){return b.oO()},"click .creditPackOptions select":function(a){return P1(b,a)},"change .creditPackOptions select":function(a){return P1(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.xd=a.xd;this.cj=a.cj;this.jR=this.eo=null}r(kV,L1);f=kV.prototype;f.xM=function(){return this.xd.zV()};
f.render=function(a){var b=this.el,c;c=c||{};soy.asserts.assertType(goog.isString(a.Im)||a.Im instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.Im,"string|goog.soy.data.SanitizedContent");var d=a.Im;soy.asserts.assertType(a.PC instanceof soydata.SanitizedHtml||a.PC instanceof soydata.UnsanitizedText||goog.isString(a.PC),"totalCost",a.PC,"soydata.SanitizedHtml");var e=a.PC;soy.asserts.assertType(a.Gq instanceof soydata.SanitizedHtml||a.Gq instanceof soydata.UnsanitizedText||goog.isString(a.Gq),
"payOption",a.Gq,"soydata.SanitizedHtml");var g=a.Gq;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");var h=a.Kd;soy.asserts.assertType(goog.isString(a.ht)||a.ht instanceof goog.soy.data.SanitizedContent,"purchased",a.ht,"string|goog.soy.data.SanitizedContent");var k=a.ht;soy.asserts.assertType(goog.isString(a.Rv)||a.Rv instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.Rv,"string|goog.soy.data.SanitizedContent");
var l=a.Rv;soy.asserts.assertType(goog.isString(a.lI)||a.lI instanceof goog.soy.data.SanitizedContent,"specialOffer",a.lI,"string|goog.soy.data.SanitizedContent");var m=a.lI;soy.asserts.assertType(a.zA instanceof soydata.SanitizedHtml||a.zA instanceof soydata.UnsanitizedText||goog.isString(a.zA),"introHtml",a.zA,"soydata.SanitizedHtml");var n=a.zA;soy.asserts.assertType(goog.isString(a.Qf)||a.Qf instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Qf,"string|goog.soy.data.SanitizedContent");
var p=a.Qf;soy.asserts.assertType(goog.isString(a.so)||a.so instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.so,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Og)||a.Og instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Og,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ro)||a.ro instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.ro,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.qo)||a.qo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.qo,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.kf)||1===a.kf||0===a.kf,"showDraft",a.kf,"boolean");var q=goog.asserts.assertArray(a.si,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: string, expirationLabel: null|string, hasPaidLicense: bool, isFree: bool, isLayout: bool, paidLicenseTypeLabel: string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e, thumbnailClass: string, thumbnailUrl: string, title: string]\x3e."),
u=goog.asserts.assertArray(a.Yy,"expected parameter 'creditPacks' of type list\x3c[disabled: null, selected: null, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.so)||a.so instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.so,"string|goog.soy.data.SanitizedContent");var v=a.so;soy.asserts.assertType(goog.isString(a.Og)||a.Og instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Og,"string|goog.soy.data.SanitizedContent");var z=a.Og;
soy.asserts.assertType(goog.isString(a.ro)||a.ro instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.ro,"string|goog.soy.data.SanitizedContent");var t=a.ro;soy.asserts.assertType(goog.isString(a.qo)||a.qo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.qo,"string|goog.soy.data.SanitizedContent");var x=a.qo;soy.asserts.assertType(goog.isBoolean(a.kf)||1===a.kf||0===a.kf,"showDraft",a.kf,"boolean");a=!!a.kf;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
UX()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(v)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(z)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+(a?z_({v:"paymentRestrictedOverlay__downloadDraftButton",text:t}):"")+z_({v:soydata.$$markUnsanitizedTextForInternalBlocks((a?"buttonSecondary ":"")+"paymentRestrictedOverlay__cancelButton"),text:x})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(n)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
v=q.length;for(z=0;z<v;z++)t=q[z],n+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(t.R$)+'" style\x3d"'+(c.Yb?"/*"+c.Yb+"*//*"+c.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(t.ug))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(t.jG?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(t.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(t.Kr)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(t.Hv?soy.$$escapeHtml(h):t.yn?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(k)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(t.lH)+(t.zz?" - "+soy.$$escapeHtml(t.zz):"")+"\x3c/div\x3e":1==t.gt.length?soy.$$escapeHtml(t.gt[0].text):1<t.gt.length?'\x3cdiv class\x3d"select"\x3e'+y_({options:t.gt})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";n+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(d)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(m)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+y_({options:u})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(g)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3csection class\x3d"simpleTotal"\x3e\x3cdiv class\x3d"simpleTotalPayOption"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+z_({v:"paymentPageSubmitButton buttonSubmittable",type:"submit",text:p})+"\x3c/div\x3e\x3c/div\x3e";
c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n);b.innerHTML=c;this.xd.refresh();this.$(".creditCardContainer").html(this.cj.$el);this.eo=this.$(".publishPagePaymentForm");this.jR=this.eo.find("button[type\x3dsubmit]");return this};f.remove=function(){this.xd.remove()};function P1(a,b){a.trigger("creditPackSelect",$(b.target).val())}f.oO=function(){this.trigger("licensesMore")};function Q1(a){a.$(".creditPacks").hide();a.trigger("contentResize")}
function cba(a){a.$(".creditPacks").show();a.trigger("contentResize")}function R1(a){a.$(".simpleTotal").hide();a.trigger("contentResize")}function dba(a){a.$(".simpleTotal").show();a.trigger("contentResize")}function S1(a){a.$(".creditCardContainer").hide();a.$(".publishPagePaymentForm").attr("novalidate","");a.trigger("contentResize")}function eba(a){a.$(".creditCardContainer").show();a.$(".publishPagePaymentForm").removeAttr("novalidate");a.trigger("contentResize")}
function fba(a){a=a.$(".paymentRestrictedOverlay");return(new O1(a)).show()}f.QQ=function(a){var b=this.$(".licensesMore");a.Ci(b)};function gba(a,b){a.$(".totalCost").html(b)}function hba(a,b){a.$(".payOption").text(b);a.$(".simpleTotalPayOption").text(b)}function iba(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function jba(a,b){a.$(".creditPackOptions select").val(b)}
function T1(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function U1(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.eo);a.trigger("contentResize")}function V1(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function W1(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function kba(a){a.eo.prev(".errorMessage").remove();a.trigger("contentResize")}f.rp=function(a){return H1(a).toString()};
function X1(a){var b=a.Y_;soy.asserts.assertType(goog.isBoolean(b.ie)||1===b.ie||0===b.ie,"showOneTimeUse",b.ie,"boolean");soy.asserts.assertType(goog.isString(b.md)||b.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.md,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Nc)||b.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.je)||1===b.je||0===b.je,"showRoyaltyFree",
b.je,"boolean");soy.asserts.assertType(goog.isString(b.Fc)||b.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Qc)||b.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.Qc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Rg)||1===b.Rg||0===b.Rg,"showExtended",b.Rg,"boolean");soy.asserts.assertType(goog.isString(b.Id)||b.Id instanceof goog.soy.data.SanitizedContent,
"extended",b.Id,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Yd)||b.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.Yd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.be)||b.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.be,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Qj instanceof soydata.SanitizedHtml||b.Qj instanceof soydata.UnsanitizedText||goog.isString(b.Qj),
"fullInformationHtml",b.Qj,"soydata.SanitizedHtml");var c=b.Qj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(N1(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());Cz.call(this,{className:"licensesPopOver",content:b,We:a.Y_.confirm,position:zp})}r(X1,Cz);var lba=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function lV(a){this.view=a.view;this.j=a.j;this.na=a.na;this.va=a.va;this.tT=null;this.aa=a.aa;this.Z=a.Z;this.ub=a.ub;this.Xb=a.Xb;this.Yy=[];this.Aa=Tc(a.i);this.Ya=cd(a.i);this.Oa=Vc(a.i);this.kf=a.kf;this.Qf=a.Qf;this.Og=a.Og;this.Sb=a.Sb;this.pb=a.pb||null;this.cf=a.cf;this.bC=null;this.fa=a.fa||null;this.kq=!1}f=lV.prototype;
f.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.bC=b?c:null});this.view.on("creditPackSelect",function(b){a.bC=b;T1(a.view)});this.view.on("priceChange",function(b,c){a.Sb.si[b].dC=c;Y1(a)});this.view.on("licensesMore",function(){var b={confirm:We(a.Aa),ie:a.Sb.In("ONE_USE"),md:a.Oa.md(),Nc:a.Oa.Nc(),je:a.Sb.In("ROYALTY_FREE"),Fc:a.Oa.Fc(),Qc:a.Oa.Qc(),Rg:a.Sb.In("EXTENDED"),Id:a.Oa.Id(),Yd:a.Oa.Yd(),be:a.Oa.be(),Qj:Xe(a.Oa,lba)};a.view.QQ(new X1({Y_:b}))});this.view.on("submitPayment",
function(){return mba(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.j.wa(X(X(X(new am("publish_restricted_download_draft"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});null!=this.Xb&&oN(this.Xb,"contextTipRoyaltyFreePaymentOption",function(){var b;a.Sb.In("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),
b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};f.vl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){var a=this,b=Nw(this.Z,this.na),c=P.resolve([{ba:10,Mr:11,name:"PACK_10"},{ba:20,Mr:22,name:"PACK_20"},{ba:50,Mr:55,name:"PACK_50"},{ba:100,Mr:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;a.tT=c.sV()[a.va]||null;a.Yy=b;a.view.render(a.wn());Y1(a)})};
f.wn=function(){var a=this,b=null!=this.fa&&this.fa.Zv||0,c=vU(this.Sb),d=Math.max(c-b,0),e=this.kf?Ue(this.Aa)+this.Aa.Ia("paymentPageLicensingIntroDraft"):Ue(this.Aa);return{Im:this.Aa.Im(b),PC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.total(c)),Gq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.Gq(d)),Kd:this.Aa.Kd(),ht:this.Aa.ht(),Rv:this.Aa.Rv(),lI:this.Aa.format("paymentPageSpecialOfferLabel"),zA:soydata.VERY_UNSAFE.ordainSanitizedHtml(e),Qf:this.Qf||this.Aa.Qf(),si:this.Sb.FF().map(function(b){return nba(a,
b)}),Yy:this.Yy.map(function(b){return{text:a.Aa.format("paymentPageCreditPackOffer",b.ba,b.Mr,parseInt(100*(b.Mr/b.ba-1),10)),value:b.name}}),so:this.Aa.so(),Og:this.Og||this.Aa.Og(),ro:this.Aa.ro(),qo:this.Aa.qo(),kf:this.kf}};function nba(a,b){return{yn:b.yn(),jG:b.jG(),Hv:b.Hv(),ug:b.tn(),R$:b.qN()?"cover":"contain",title:b.qb(),Kr:a.Aa.Kr(b.bh),lH:Z1(a,lU(b)),zz:oba(a,nU(b)),gt:kU(b).map(function(b){var d=a.Aa.Al(b.ba),e=Z1(a,b.ek);return{selected:b.Jf,text:e+" - "+d,value:b.ek}})}}
function oba(a,b){if(Infinity===b)return null;var c=moment.duration(b);b=Math.floor(c.asHours());c=c.minutes();return b?a.Aa.format("paymentPageLicenseRemainingHours",b):Ve(a.Aa,c)}function Z1(a,b){switch(b){case "ONE_USE":return a.Oa.md();case "ROYALTY_FREE":return a.Oa.Fc();case "EXTENDED":return a.Oa.Id();default:return null}}
function $1(a){var b=null!=a.fa&&a.fa.FP;return b&&0<b.length&&!b.some(function(b){return b===a.tT})?(a.j.wa(X(X(X(new am("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),fba(a.view).then(function(){return!0})):P.resolve(!1)}
function Y1(a){var b=null!=a.fa&&a.fa.Zv||0,c=vU(a.Sb),b=Math.max(c-b,0),d=pba(a,b);gba(a.view,a.Aa.total(c));hba(a.view,a.Aa.Gq(b));iba(a.view,d.map(function(a){return a.name}));a2(a)?(cba(a.view),R1(a.view),eba(a.view),0<d.length?(d.some(function(b){return b.name===a.bC})||jba(a.view,d[0].name),null!=a.bC?T1(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):(Q1(a.view),dba(a.view)),b2(a)?(a.view.xd.bx(!0),a.cf?W1(a.view):V1(a.view,a.Aa.jQ())):(c=a.fa.Yh,null!=
c&&a.view.xd.vk(c),a.cf?(a.view.xd.bx(!1),W1(a.view)):(S1(a.view),c=a.Aa.format("paymentPageSavedTeamCard",c.Qv),V1(a.view,c)))):(Q1(a.view),R1(a.view),S1(a.view),W1(a.view))}function pba(a,b){return a.Yy.filter(function(a){return a.Mr>=b})}function c2(a){return a.kq||0<vU(a.Sb)?P.reject():d2(a,!0)}
function mba(a){a.kq||(kba(a.view),a.view.jR.addClass("submitting"),a.PN().then(function(){return d2(a,!1)}).catch(WT,function(){return a.hA()}).catch(qj,function(b){return a.Yj(b)}).catch(function(){return a.hA()}).finally(function(){a.view.jR.removeClass("submitting")}))}function d2(a,b){a.kq=!0;return qba(a).then(function(){return b?e2(a):a.mF()}).then(function(b){a.trigger("paymentComplete",b);return b}).finally(function(){a.kq=!1})}
f.PN=function(){this.j.wa(X(X(X(new am("credit_card_submitted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));return a2(this)&&b2(this)?this.view.xM():P.resolve()};function qba(a){return xU(a.Sb,a.va,a.pb,a.bC).reduce(function(b,c){return b.then(function(){return a.aa.iE(c)}).then(function(b){return a.qH(b.Je)})},P.resolve())}f.qH=function(a){return zj(this.aa,new ii({Je:a,action:"PAY_SYNCHRONOUS",no:!1}))};
f.mF=function(){var a=this,b=new WE({types:["ONE_USE"],status:["ACTIVATED"],D:this.va,document:this.pb,media:uU(this.Sb).map(function(a){return a.Qp()}),limit:100});return this.ub.mF(b).then(function(b){return e2(a,b.Bc.map(function(a){return a.Az}),b.Wl)}).catch(function(){return e2(a)})};
function e2(a,b,c){b=void 0===b?[]:b;c=void 0===c?0:c;var d=[].concat(ma(new Set(uU(a.Sb).map(function(a){return a.dC}))));return{Et:Math.min.apply(Math,[].concat(ma([].concat([wU(a.Sb)],ma(b.map(function(a){return(a||Infinity)-c})))))),df:d}}function b2(a){if(!a.fa)return!0;a=a.fa.Yh;if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Wu<b||a.Wu==b&&a.eF<c}function a2(a){return!a.fa||vU(a.Sb)>(a.fa.Zv||0)}f.hA=function(){U1(this.view,Te(this.Aa).toString())};
f.Yj=function(a){U1(this.view,bU(this.Ya,a))};f.vn=function(){return{title:this.Aa.format("paymentPagePurchaseTitle")}};f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function f2(a){this.view=a.view;this.Ga=a.Ga;this.iF="EXPORTING";this.H=a.H;this.wC=0;this.dR=-1}f=f2.prototype;f.vl=function(){return this.view};f.remove=function(){this.view.remove();this.H.clearTimeout(this.dR)};f.refresh=function(){this.view.render();this.H.clearTimeout(this.dR);this.wC=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.lr(0);b.width();b.css("transition","");this.Fw();return P.resolve()};
f.vn=function(){switch(this.iF){case "EXPORTING":return{title:this.Ga.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Ga.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.iF);}};f.Fw=function(){var a=this;this.wC+=33*(99-this.wC)/99;this.view.AZ(this.wC);this.dR=this.H.setTimeout(function(){return a.Fw()},1.1*3E3)};function g2(){L1.call(this,{className:"exporting"})}r(g2,L1);
g2.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};g2.prototype.AZ=function(a){var b=this;this.$(".progressValue").delay().queue(function(c){b.lr(a);c()})};g2.prototype.lr=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};g2.prototype.rp=function(a){return H1(a).toString()};function h2(a){this.quotes=[a.format("quoteAlbertEinstein"),a.format("quoteRobertGreene"),a.format("quoteHenriMatisse"),a.format("quoteSteveJobs"),a.format("quoteAndyWarhol"),a.format("quoteEleanorRoosevelt"),a.format("quoteAbrahamLincoln"),a.format("quoteThomasWatsonJr"),a.format("quotePaulRand"),a.format("quoteNelsonMandela"),a.format("quotePabloPicasso"),a.format("quoteMiltonGlaser"),a.format("quoteMaryLouCook"),a.format("quoteDrEdwinLand"),a.format("quoteAlexanderIsley"),a.format("quoteJoeMansueto"),
a.format("quoteCharlesEames"),a.format("quoteMihnDTran"),a.format("quoteAntoineDeSaintExupery")]}h2.prototype.next=function(){var a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quotes[Math.floor(Math.random()*this.quotes.length)]);soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e").toString()};function z_(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var e=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=e)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function G1(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+i2(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+i2(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function i2(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var e=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(e?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n');_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n');_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function j2(a){var b=this;hc.call(this,a);this.$el.on("click",".tagListInput__tagRemoveButton",function(a){a=new k2($(a.target).closest(".tagListInput__tag"));b.trigger(l2,a)});this.$el.on("keydown",".tagListInput__input",function(a){return b.Ll(a)});this.$el.on("keyup",".tagListInput__input",function(){return b.trigger(m2)});this.$el.on("click",function(){return b.trigger(n2)});this.$el.on("blur",".tagListInput__input",function(){return b.trigger(o2)});this.Qn=null}r(j2,hc);f=j2.prototype;
f.Ll=function(a){rba.has(a.which)?(this.trigger(p2),a.preventDefault()):sba.has(a.which)?null==this.Qn&&(this.trigger(p2),a.preventDefault()):8===a.which&&this.trigger(q2)};function r2(a,b){a.$el.find(".tagListInput__input").attr("placeholder",b)}f.ul=function(){return String(this.$el.find(".tagListInput__input").val())};
f.uD=function(a){s2(this);var b=this.$el.find(".tagListInput__input"),c=$,d;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");d=a.text;soy.asserts.assertType(goog.isBoolean(a.valid)||1===a.valid||0===a.valid,"valid",a.valid,"boolean");var e=!!a.valid;soy.asserts.assertType(null==a.ki||goog.isNumber(a.ki),"modelId",a.ki,"null|number|undefined");a=a.ki;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput__tag'+
(e?"":" tagListInput__tag--invalid")+'"'+(null!=a?' data-model-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"tagListInput__tagText"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"tagListInput__tagRemoveButton"\x3e\x3cdiv class\x3d"tagListInput__tagRemoveIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');c=c(d.toString());(new k2(c)).$el.insertBefore(b)};f.Xp=function(){return this.$el.find(".tagListInput__tag").toArray().map(function(a){return new k2($(a))})};
f.focus=function(){this.$el.find(".tagListInput__input").focus()};function s2(a){a.Qn&&(a.Qn.view.remove(),a.Qn=null)}function tba(a,b){s2(a);a.Qn=XQ({elements:b,Ku:0});a.$el.append(a.Qn.view.$el);a.Qn.on({select:function(c){a.trigger(t2,b[c].element.data("model-id"))},cancel:function(){s2(a)}})}function k2(a){gc.apply(this,arguments)}r(k2,gc);k2.prototype.isValid=function(){return!this.$el.hasClass("tagListInput__tag--invalid")};k2.prototype.tc=function(){return String(this.$el.find(".tagListInput__tagText").text())};
k2.prototype.rv=function(){var a=parseInt(this.$el.data("model-id"),10);return isNaN(a)?void 0:a};var l2="REMOVE_TAG",p2="SUBMIT",q2="BACKSPACE",n2="FOCUS",o2="BLUR",m2="KEY_UP",t2="SELECT_MENULIST_ELEMENT",sba=new Set([13]),rba=new Set([32,188,59,186]);function u2(a,b){var c=this;this.view=b;this.KI=a.KI;this.UR=a.UR;this.JO=null;this.TN=a.TN;this.vq=null;this.gX=!1;this.UN=a.UN;this.SN=a.SN;this.vL=a.vL;this.jO=a.jO;this.GE=a.GE;this.FW="";this.view.on(p2,function(){return v2(c)});this.view.on(q2,function(){if(0===c.view.ul().length){var a=c.view.Xp();0<a.length&&w2(c,a[a.length-1])}});this.view.on(l2,function(a){return w2(c,a)});this.view.on(n2,function(){c.view.focus();a.Dq&&a.Dq()});this.view.on(o2,function(){var a=c.view;null!=a.Qn&&a.Qn.view.$("li").hasClass("hovering")||
s2(c.view)});this.view.on(m2,function(){var a=c.view.ul();c.FW!==a&&(c.FW=a,c.JO&&c.JO(),x2(c))});this.view.on(t2,function(a){return uba(c,a)})}function v2(a){var b=a.view.ul();return 0===b.length?P.resolve():a.KI.validate(b,null).then(function(c){c=c.valid;var d=void 0;if(c){var e=y2(a,b);1===e.length&&(b=a.GE(e[0].data),d=e[0].ki)}a.uD({text:b,valid:c,ki:d})})}u2.prototype.uD=function(a){this.view.uD(a);r2(this.view,this.jO);this.view.$el.find(".tagListInput__input").val("")};
function w2(a,b){b.remove();a.view.focus();0===a.view.Xp().length&&r2(a.view,a.vL)}function vba(a,b){a.JO=b}function wba(a){return a.view.Xp().filter(function(a){return a.isValid()}).map(function(b){var c=b.rv();return null!=c&&0<=c&&c<a.vq.length?a.vq[c]:b.tc()})}function xba(a){return a.view.Xp().filter(function(a){return!a.isValid()}).map(function(a){return a.tc()})}function yba(a){a.TN.then(function(b){a.vq=b;a.gX=!1;x2(a)})}
function y2(a,b){return a.vq.map(function(a,b){return{data:a,ki:b}}).filter(function(c){return a.UN(b,c.data)}).slice(0,4)}function x2(a){if(a.vq||a.gX){var b=a.view.ul();0!==b.length&&a.vq?(b=y2(a,b).map(function(b){return a.SN(b.data,b.ki)}),b.length?tba(a.view,b):s2(a.view)):s2(a.view)}else yba(a)}function uba(a,b){Fa(b<a.vq.length,"Invalid tag list model ID");var c=a.vq[b],d=a.UR(c);a.KI.validate(d,null).then(function(d){d=d.valid;var g=a.GE(c);a.uD({text:g,valid:d,ki:b})})}
var zba=new Ff("mg",!0);function z2(a){this.view=a.view;this.Ga=Rc(a.i);this.Oa=Vc(a.i);this.kR=a.kR}f=z2.prototype;f.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};f.In=function(a){return 0<=this.kR.indexOf(a)};
f.show=function(){var a=this.wn(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var e=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.WF)||a.WF instanceof goog.soy.data.SanitizedContent,"headline",a.WF,"string|goog.soy.data.SanitizedContent");var h=a.WF;soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var k=!!a.ie;soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.md,"string|goog.soy.data.SanitizedContent");var l=a.md;soy.asserts.assertType(goog.isString(a.Nc)||
a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");var m=a.Nc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",a.je,"boolean");var n=!!a.je;soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Fc,"string|goog.soy.data.SanitizedContent");var p=a.Fc;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.Qc,"string|goog.soy.data.SanitizedContent");var q=a.Qc;soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");var u=a.be;soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",a.fd,"string|goog.soy.data.SanitizedContent");a=a.fd;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+N1({ie:k,md:l,Nc:m,je:n,Fc:p,Qc:q,Rg:!1,Id:null,Yd:null,be:u})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+z_({v:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};f.remove=function(){this.view.remove()};f.wn=function(){return{before:this.Ga.format("publishViewOnboardingBefore"),after:this.Ga.format("publishViewOnboardingAfter"),title:this.Ga.format("publishViewOnboardingTitle"),WF:this.Ga.format("publishViewOnboardingHeadline"),ie:this.In("ONE_USE"),md:this.Oa.md(),Nc:this.Oa.Nc(),je:this.In("ROYALTY_FREE"),Fc:this.Oa.Fc(),Qc:this.Oa.Qc(),be:this.Oa.be(),fd:this.Ga.format("publishViewOnboardingConfirm")}};f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function A2(a){mp.call(this,{className:"paymentOnboarding",H:a.H,jf:!1,Gr:!0,Re:!0})}r(A2,mp);A2.prototype.events=function(){var a=this;return _.extend(mp.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};A2.prototype.Rp=function(){return DX};
A2.prototype.render=function(){mp.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function B2(a){this.view=a.view;this.Gp=null;this.Ga=a.Ga;this.Gw=null}f=B2.prototype;f.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};f.vl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){y(this.Gw);this.view.render(this.wn());this.view.delegateEvents();null!=this.Gp&&this.view.zZ(this.Gp);return P.resolve()};
f.wn=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Gw.message),au:this.Ga.au(),bu:this.Ga.bu(),Li:this.Gw.Li||!1,St:this.Gw.St||!1}};f.vn=function(){return{title:this.Gw.title}};f.zZ=function(a){this.Gp=a};
function Aba(a,b){switch(b){case "EMPTY_DOC":return{message:a.Ga.format("publishViewErrorEmptyDesign"),title:a.Ga.format("publishViewErrorEmptyDesignTitle"),Li:!0};case "SAVING":return{message:a.Ga.format("publishViewErrorSavingDesign"),title:a.Ga.format("publishViewErrorSavingDesignTitle"),St:!0};case "VERSION_CONFLICT":return{message:a.Ga.format("publishViewErrorVersionConflict"),title:a.Ga.format("publishViewErrorVersionConflictTitle"),Li:!0};case "UPLOADING":return{message:a.Ga.format("publishViewErrorUploading"),
title:a.Ga.format("publishViewErrorUploadingTitle"),Li:!0};case "EXPORTING":case "BACKGROUND_PAYMENT":return{message:a.Ga.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Ga.format("publishViewTitleErrorPage"),Li:!0};case "BACKGROUND":return{message:a.Ga.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Ga.format("publishViewErrorBackgroundTaskTitle"),Li:!0};case "LICENSE_NO_OPTIONS":return{message:a.Ga.format("publishViewErrorLicenseNoOptionsHtml",
"http://status.canva.com"),title:a.Ga.format("publishViewErrorLicenseNoOptionsTitle"),Li:!0};case "URL_MINTING":return{message:a.Ga.format("publishViewErrorUrlMinting","http://status.canva.com"),title:a.Ga.format("publishViewErrorUrlMintingTitle"),Li:!0};default:throw Error("unexpected publish error type: "+b);}}f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function C2(){var a=this;L1.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.pO()}}})}r(C2,L1);C2.prototype.pO=function(){this.trigger("retry")};C2.prototype.zZ=function(a){$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"))};
C2.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.Li)||1===a.Li||0===a.Li,"useOK",a.Li,"boolean");var d=!!a.Li;soy.asserts.assertType(goog.isBoolean(a.St)||1===a.St||0===a.St,"useRetry",a.St,"boolean");var e=!!a.St;soy.asserts.assertType(goog.isString(a.au)||a.au instanceof
goog.soy.data.SanitizedContent,"actionOK",a.au,"string|goog.soy.data.SanitizedContent");var g=a.au;soy.asserts.assertType(goog.isString(a.bu)||a.bu instanceof goog.soy.data.SanitizedContent,"actionRetry",a.bu,"string|goog.soy.data.SanitizedContent");a=a.bu;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(e?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};C2.prototype.rp=function(a){return H1(a).toString()};function Bba(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Wg)||a.Wg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Wg,"string|goog.soy.data.SanitizedContent");a=a.Wg;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function D2(a){this.j=a}D2.prototype.Sj=function(){return this.j.Sj()};D2.prototype.wa=function(a){return this.j.wa(a)};function E2(a,b){a.j.track("post_publish_dialog_shown",{type:b})}function F2(a,b,c,d){b={type:b};location&&(b.section=c);d&&Object.assign(b,d);a.j.track("post_publish_dialog_clicked",b)}function G2(a,b,c,d){a.j.track("mobile_dialogue_submit",{type:b,location:"publish_flow_complete",value:c,status:d?"success":"fail"})};function H2(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.kk)||a.kk instanceof goog.soy.data.SanitizedContent,"overviewSubheading",a.kk,"string|goog.soy.data.SanitizedContent");var c=a.kk;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");
var d=a.Mc;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");a=a.Ic;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__content"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__options"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsIphone"\x3e'+
soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsAndroid"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e")}
function Cba(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.Gv)||a.Gv instanceof goog.soy.data.SanitizedContent,"iphoneSubheading",a.Gv,"string|goog.soy.data.SanitizedContent");var c=a.Gv;soy.asserts.assertType(goog.isString(a.Yw)||a.Yw instanceof goog.soy.data.SanitizedContent,"sendButtonLabel",a.Yw,"string|goog.soy.data.SanitizedContent");
var d=a.Yw;soy.asserts.assertType(goog.isString(a.rj)||a.rj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.rj,"string|goog.soy.data.SanitizedContent");a=a.rj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverIphone"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--iphone" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--iphone"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--iphone"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Dba(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.ju)||a.ju instanceof goog.soy.data.SanitizedContent,"androidSubheading",a.ju,"string|goog.soy.data.SanitizedContent");var c=a.ju;soy.asserts.assertType(goog.isString(a.Jw)||a.Jw instanceof goog.soy.data.SanitizedContent,"registerButtonLabel",a.Jw,"string|goog.soy.data.SanitizedContent");
var d=a.Jw;soy.asserts.assertType(goog.isString(a.rj)||a.rj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.rj,"string|goog.soy.data.SanitizedContent");a=a.rj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverAndroid"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--android" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--android"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--android"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function I2(a){var b=this;hc.call(this,a);a.on("click",".experimentsPhoneDialog__back",function(){return b.trigger(J2)});a.on("click",".experimentsPhoneDialog__optionsIphone",function(){return b.trigger(K2)});a.on("click",".experimentsPhoneDialog__optionsAndroid",function(){return b.trigger(L2)});a.on("click",".experimentsPhoneDialog__inputButton--android",function(){return b.trigger(M2)});a.on("click",".experimentsPhoneDialog__inputButton--iphone",function(){return b.trigger(N2)})}r(I2,hc);f=I2.prototype;
f.zo=function(a){return this.$el.find(".experimentsPhoneDialog__container").html(a)};function O2(a){a=a.$el.find(".experimentsPhoneDialog__inputField");if(0===a.size())throw Error("Input field could not be found");return a}function P2(a){a=a.$el.find(".experimentsPhoneDialog__inputButton");if(0===a.size())throw Error("Input button could not be found");return a}f.xt=function(a){this.$el.find(".experimentsPhoneDialog__inputError").text(a)};f.BF=function(){return O2(this).val().toString()};
f.EQ=function(){this.Qq();O2(this).addClass("experimentsPhoneDialog__inputField--loading");P2(this).addClass("experimentsPhoneDialog__inputButton--loading")};f.gx=function(a){this.Qq();O2(this).addClass("experimentsPhoneDialog__inputField--error");P2(this).addClass("experimentsPhoneDialog__inputButton--error");this.xt(a)};f.bI=function(){this.Qq();O2(this).addClass("experimentsPhoneDialog__inputField--success");P2(this).addClass("experimentsPhoneDialog__inputButton--success");this.xt("Success!")};
f.Qq=function(){this.xt("");O2(this).removeClass("experimentsPhoneDialog__inputField--error").removeClass("experimentsPhoneDialog__inputField--loading").removeClass("experimentsPhoneDialog__inputField--success");P2(this).removeClass("experimentsPhoneDialog__inputButton--error").removeClass("experimentsPhoneDialog__inputButton--loading").removeClass("experimentsPhoneDialog__inputButton--success")};var J2="BACK",M2="SEND_ANDROID",N2="SEND_IPHONE",L2="GOTO_ANDROID",K2="GOTO_IPHONE";function Q2(a,b){var c=this;this.view=b;this.j=a.j;this.yc=a.yc;this.i=a.i;this.view.on(J2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),kk:c.i.kk(),Mc:c.i.Mc(),Ic:c.i.Ic()};c.view.zo(H2(a).toString())});this.view.on(N2,function(){return Eba(c)});this.view.on(M2,function(){var a;a=c.view.BF();/^(?=.*[0-9])[- +()0-9]+$/g.test(a)?(c.j.wa(R2(a,!0)),c.view.bI(),a=void 0):(c.j.wa(R2(a,!1)),a=c.view.gx(c.i.gG()));return a});this.view.on(K2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),
Gv:c.i.Gv(),Yw:c.i.Yw(),rj:c.i.rj()};c.view.zo(Cba(a).toString());F2(c.j,"app_download","os_select",{os:"ios"})});this.view.on(L2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),ju:c.i.ju(),Jw:c.i.Jw(),rj:c.i.rj()};c.view.zo(Dba(a).toString());F2(c.j,"app_download","os_select",{os:"android"})})}Q2.prototype.Me=function(){this.j.wa(X(new am("mobile_dialogue_loaded"),"location","publish_flow_complete"))};Q2.prototype.destroy=function(){this.view.remove()};
function Eba(a){var b=a.view.BF();if(!/^(?=.*[0-9])[- +()0-9]+$/g.test(b))return a.view.gx(a.i.gG());a.view.EQ();a.yc.send(b,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:"control"}).then(function(){a.view.bI();a.j.wa(S2(b,!0))}).catch(function(){a.view.gx(a.i.aR());a.j.wa(S2(b,!1))})}function R2(a,b){b=b?"success":"fail";return X(X(X(X(new am("mobile_dialogue_submit"),"type","android"),"location","publish_flow_complete"),"value",a),"status",b)}
function S2(a,b){b=b?"success":"fail";return X(X(X(X(new am("mobile_dialogue_submit"),"type","ios"),"location","publish_flow_complete"),"value",a),"status",b)};function T2(a){soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");var b=a.Mc;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");var c=a.Ic;soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.ud,"string|goog.soy.data.SanitizedContent");var d=
a.ud;soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");var e=a.Pg;soy.asserts.assertType(goog.isString(a.oi)||a.oi instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.oi,"string|goog.soy.data.SanitizedContent");a=a.oi;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__step"\x3e'+soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__choiceForm" action\x3d""\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--iphone" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"iphone" checked\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--iphone"\x3e'+
soy.$$escapeHtml(b)+'\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--android" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"android"\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--android"\x3e'+soy.$$escapeHtml(c)+'\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__step experimentsMobileAppsDialog__step--phoneInputCTA"\x3e'+
soy.$$escapeHtml(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputContainer"\x3e\x3cinput type\x3d"text" class\x3d"experimentsMobileAppsDialog__phoneNumberInputField"/\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputSubmit"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__result"\x3e\x3c/div\x3e')};function U2(a){var b=this;hc.call(this,a);this.Wo=a.find(".experimentsMobileAppsDialog__phoneNumberInputField");this.gD=a.find(".experimentsMobileAppsDialog__phoneNumberInputSubmit");a.find(".experimentsMobileAppsDialog__step--phoneInputCTA");this.Wo.intlTelInput({utilsScript:"https://static.canva.com/static/lib/intlTelInput/utils-12.1.0.min.js"});a.on("click",".experimentsMobileAppsDialog__phoneNumberInputSubmit",function(){return b.trigger(V2)});a.on("input",".experimentsMobileAppsDialog__phoneNumberInputField",function(){return b.trigger(W2)})}
r(U2,hc);f=U2.prototype;f.xt=function(a){this.$el.find(".experimentsMobileAppsDialog__result").text(a)};f.BF=function(){return String(this.Wo.intlTelInput("getNumber"))};f.yZ=function(a){this.Wo.intlTelInput("setCountry",a)};f.EQ=function(){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--loading");this.gD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading")};
f.gx=function(a){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--error");this.gD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error");this.xt(a)};f.bI=function(a){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.gD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success");this.xt(a)};
f.Qq=function(){this.xt("");this.Wo.removeClass("experimentsMobileAppsDialog__phoneNumberInputField--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.gD.removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success")};
var V2="SUBMIT",W2="PHONE_NUMBER_CHANGED";function X2(a,b){var c=this;this.view=b;this.j=a.j;this.yc=a.yc;this.Qm=a.Qm;this.i=a.i;this.view.on(V2,function(){return c.Ml()});this.view.on(W2,function(){return c.view.Qq()})}X2.prototype.Me=function(){E2(this.j,"app_download");var a=this.j.Sj();a&&this.view.yZ(a)};X2.prototype.destroy=function(){this.view.remove()};
X2.prototype.Ml=function(){if(this.view.Wo.intlTelInput("isValidNumber")){F2(this.j,"app_download","phone_number_submit");var a=this.view.$el.find(".experimentsMobileAppsDialog__choice:checked").val().toString();switch(a){case "iphone":Y2(this,"iphone");break;case "android":Y2(this,"android");break;default:throw Error("UNKNOWN_DEVICE_TYPE: "+a);}}else this.view.gx(this.i.gG())};
function Y2(a,b){var c=a.view.BF();a.view.EQ();a.yc.send(c,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:a.Qm}).then(function(){a.view.bI(a.i.success());G2(a.j,b,c,!0)}).catch(function(){a.view.gx(a.i.aR());G2(a.j,b,c,!1)})};function Z2(a){var b=this;hc.call(this,a);this.$el.on("click",".experimentsPrintPublishDialog__printButton",function(){return b.trigger($2)})}r(Z2,hc);var $2="PRINT_CLICK";function a3(a,b){var c=this;this.view=b;this.FO=a.FO;this.j=a.j;this.view.on($2,function(){F2(c.j,"print_upsell");c.FO()})}
function Fba(a){var b=a.Tl.format("publishDialogPrintDialogPrintButtonLabel"),c=a.Tl.format("publishDialogPrintDialogSubtitle"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Tl.format("publishDialogPrintDialogTitleHtml")),e=$;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"titleHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subtitle",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"printButtonLabel",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPrintPublishDialog"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__container"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printIcon"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__title"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__subTitle"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printButtonContainer"\x3e\x3cbutton class\x3d"experimentsPrintPublishDialog__printButton"\x3e'+soy.$$escapeHtml(b)+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());e=new Z2(e);return{Db:new a3(a,e),view:e}}a3.prototype.Me=function(){E2(this.j,"print_upsell")};a3.prototype.destroy=function(){this.view.remove()};function b3(a,b){hc.call(this,a);this.pR=b}r(b3,hc);function c3(a,b,c){var d=this;this.view=b;this.JC=c;this.j=a.j;this.It=a.It;d3(this.JC,function(b){return e3(d.It,b).then(function(){b.forEach(function(a){return d.j.wa(um(a,"export_dialog"))});F2(d.j,"team_member_invite","team_invite_submit");a.yO()})})}
function Gba(a){var b=a.Tl.format("publishDialogTeamInviteDialogTitle"),c=a.Tl.format("publishDialogTeamInviteDialogSubheading"),d={ud:a.rf.ud(),Lj:a.rf.Lj(),hW:f3(a.lj),mr:a.rf.mr(),ap:a.rf.ap()},e=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subheading",c,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertObject(d,
"expected parameter 'teamInviteFormModel' of type [addAnotherButtonClasses: null|string, addAnotherButtonLabel: string, classes: null|string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, listItemClasses: null|string, submitButtonClasses: null|string, submitButtonLabel: string, upgradeMessage: string].");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamInviteDialog"\x3e\x3cdiv class\x3d"teamInviteDialog__header"\x3e\x3cdiv class\x3d"teamInviteDialog__title"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__subheading"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__wrapper"\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__imageWrapper"\x3e\x3cimg class\x3d"teamInviteDialog__image" src\x3d"https://static.canva.com/static/images/experiments/publish_dialog_invite/team.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__inviteForm"\x3e'+g3(soy.$$assignDefaults({CC:"teamInviteDialog__submitButton"},
d))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());b=new h3(e.find(".teamInviteForm"));e=new b3(e,b);b=a.wK(e.pR);a=new c3(a,e,b);return{view:e,Db:a}}c3.prototype.Me=function(){this.JC.Me();E2(this.j,"team_member_invite")};c3.prototype.destroy=function(){this.view.remove()};function E0(a){this.dO=a.dO;this.aa=a.aa;this.qr=a.qr;this.vE=a.vE;this.Z=a.Z;this.cc=a.cc;this.jp=a.jp;this.rg=a.rg;this.D=a.D}function e3(a,b){return 0===b.length?P.resolve():a.JR().then(function(){return Hba(a,b)})}function Hba(a,b){b=b.map(function(b){return Object.freeze(Df(Ux,{email:b,role:a.vE}))});b=Wx(Xx((new Vx).Aj(a.D.u()),"brand_page_Invite_Accept_Invitation"),b);return a.Z.uZ(b)}
E0.prototype.JR=function(){var a=this;if(!this.D.ii())return P.resolve();var b=Qx(Px((new Ox).Uo(this.D.u()),Iba(this)));return Rw(this.Z,b).then(function(b){var d;try{d=b.Lp().hn().Gg}catch(e){d=null}b=Tw({brandColor:d,brandname:b.zF(),contributor:b.mW(),displayName:b.Jb(),id:b.u(),layoutContributor:b.rW(),personal:b.ii(),thirdParty:b.uW()});a.D=b;ry(a.cc);sy(a.cc)})};function Iba(a){var b=a.D.Jb();a.D.ii()&&(b=a.jp.format("brandTeamMembersDefaultTeamDisplayName",b||a.qr));return b||""};function D0(a,b){var c=this;this.view=b;this.ZE=a.ZE;this.ij=a.ij;this.rf=a.rf;this.iI=void 0===a.iI||a.iI;this.lj=a.lj;this.Ml=a.Ml;this.view.on(i3,function(a){return c.uO(a)});this.view.on(j3,function(a){var b=k3(c.view),g;for(g=0;g<b.length;g++){var h=b[g];if(a.rv()===h.rv())break}g+1<b.length&&b[g+1].focus()});this.view.on(l3,function(a){return c.tO(a)});this.view.on(m3,function(){return Jba(c)});this.view.on(n3,function(){k3(c.view).length<c.lj.xG&&(Kba(c.view,{yr:!0,yl:c.rf.Lj(),ki:o3++}),p3(c))})}
f=D0.prototype;f.destroy=function(){this.view.remove()};f.Me=function(){p3(this)};function d3(a,b){a.Ml=b}function p3(a){var b=k3(a.view).length,c=b+a.lj.CK>=a.lj.Cl;b>=a.lj.xG||c?(q3(a.view,!1),c&&a.iI&&r3(a.view,!0)):(r3(a.view,!1),q3(a.view,!0))}f.uO=function(a){s3(a).lg()};f.tO=function(a){var b=k3(this.view);b[b.length-1].rv()===a.rv()&&t3(this.view,!0)};f.Mt=function(a){this.view.Mt(a);u3(this.view,a);k3(this.view).forEach(function(b){return b.Mt(a)})};
function Jba(a){a.Mt(!0);var b=k3(a.view).filter(function(a){return 0<a.tc().length});v3(Lba(a,b)).then(function(c){c?(c=b.map(function(a){return a.tc()}),y(a.Ml)(c).catch(function(b){return a.view.lf(b)}).finally(function(){return a.Mt(!1)})):a.Mt(!1)})}function Lba(a,b){return b.map(function(b){return{Op:function(){return s3(b)},Pp:function(){return b.tc()},sr:[a.ZE]}})}
f.reset=function(){var a=this;q3(this.view,!0);u3(this.view,!1);t3(this.view,!1);r3(this.view,!1);k3(this.view).forEach(function(b,c){c<w3(a.lj)?b.Ak(""):b.remove()})};function f3(a){a=w3(a);return Mba(a)}function w3(a){Fa(a.JK<=a.xG);return Math.min(a.JK,Math.max(a.Cl-a.CK,0))}function Mba(a){return Array(Math.max(a,0)).fill(null).map(function(){return{ki:o3++}})}var o3=1;function h3(a){var b=this;hc.call(this,a);this.$el.on("click",".teamInviteForm__submitButton",function(){b.trigger(m3)});this.$el.on("input",".teamInviteForm__textInput",function(a){return b.uO(a)});this.$el.on("keyup",".teamInviteForm__textInput",function(a){13===a.keyCode&&(a=$(a.target).closest(".teamInviteForm__emailListItem"),b.trigger(j3,new x3(a)))});this.$el.on("focus",".teamInviteForm__textInput",function(a){return b.tO(a)});this.$el.on("click",".teamInviteForm__addAnother",function(){return b.trigger(n3)})}
r(h3,hc);function Kba(a,b){var c=Nba(b);a.$el.find(".teamInviteForm__emailList").append(c.$el);b.yr&&kl(function(){c.$el.addClass("teamInviteForm__emailListItem--visible");c.focus()})}function k3(a){return a.$el.find(".teamInviteForm__emailListItem").toArray().map(function(a){return new x3($(a))})}f=h3.prototype;f.lf=function(a){this.$el.find(".teamInviteForm__error").addClass("teamInviteForm__error--visible").text(a)};f.lg=function(){this.$el.find(".teamInviteForm__error").removeClass("teamInviteForm__error--visible")};
f.Mt=function(a){this.$el.find(".teamInviteForm__submitButton").toggleClass("teamInviteForm__submitButton--submitting",a)};function u3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--disabled",b)}function r3(a,b){a.$el.find(".teamInviteForm__upgradeMessage").toggleClass("teamInviteForm__upgradeMessage--visible",b)}function q3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--hidden",!b)}
function t3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--highlighted",b)}f.uO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(i3,new x3(a))};f.tO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(l3,new x3(a))};var i3="FIELD_INPUT",j3="FIELD_ENTER",l3="FIELD_FOCUS",m3="SUBMIT_CLICK",n3="ADD_ANOTHER";function x3(a){gc.apply(this,arguments)}r(x3,gc);
function Nba(a){a=$(y3(a).toString());return new x3(a)}f=x3.prototype;f.tc=function(){return String(this.$el.find(".teamInviteForm__textInput").val())};f.Ak=function(a){this.$el.find(".teamInviteForm__textInput").val(a)};function s3(a){return s1($(a.$el.find(".teamInviteForm__inputContainer")))}f.rv=function(){return Number(this.$el.data("model-id"))};f.Mt=function(a){this.$el.find(".teamInviteForm__textInput").toggleClass("teamInviteForm__textInput--submitting",a)};f.focus=function(){this.$el.find(".teamInviteForm__textInput").focus()};function g3(a){soy.asserts.assertType(goog.isString(a.Lj)||a.Lj instanceof goog.soy.data.SanitizedContent,"emailInputPlaceholder",a.Lj,"string|goog.soy.data.SanitizedContent");var b=a.Lj;soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.ud,"string|goog.soy.data.SanitizedContent");var c=a.ud;soy.asserts.assertType(goog.isString(a.ap)||a.ap instanceof goog.soy.data.SanitizedContent,"addAnotherButtonLabel",a.ap,"string|goog.soy.data.SanitizedContent");
var d=a.ap,e=goog.asserts.assertArray(a.hW,"expected parameter 'inputModel' of type list\x3c[modelId: float|int]\x3e.");soy.asserts.assertType(goog.isString(a.mr)||a.mr instanceof goog.soy.data.SanitizedContent,"upgradeMessage",a.mr,"string|goog.soy.data.SanitizedContent");var g=a.mr;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.sG||a.sG instanceof goog.soy.data.SanitizedContent||
goog.isString(a.sG),"listItemClasses",a.sG,"null|string|undefined");var k=a.sG;soy.asserts.assertType(null==a.CC||a.CC instanceof goog.soy.data.SanitizedContent||goog.isString(a.CC),"submitButtonClasses",a.CC,"null|string|undefined");var l=a.CC;soy.asserts.assertType(null==a.sD||a.sD instanceof goog.soy.data.SanitizedContent||goog.isString(a.sD),"addAnotherButtonClasses",a.sD,"null|string|undefined");a=a.sD;for(var h='\x3cdiv class\x3d"teamInviteForm'+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cul class\x3d"teamInviteForm__emailList"\x3e',
m=e.length,n=0;n<m;n++)h+=y3(soy.$$assignDefaults({v:k,yl:b},e[n]));h+='\x3c/ul\x3e\x3cdiv class\x3d"teamInviteForm__infoContainer"\x3e\x3cbutton class\x3d"teamInviteForm__addAnother'+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e+ '+soy.$$escapeHtml(d)+'\x3c/button\x3e\x3cdiv class\x3d"teamInviteForm__upgradeMessage"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteForm__error"\x3e\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"teamInviteForm__submitButton '+(l?soy.$$escapeHtmlAttribute(l)+
" ":"")+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(h)}
function y3(a){soy.asserts.assertType(goog.isString(a.yl)||a.yl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.yl,"string|goog.soy.data.SanitizedContent");var b=a.yl;soy.asserts.assertType(goog.isNumber(a.ki),"modelId",a.ki,"number");var c=a.ki;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.yr||goog.isBoolean(a.yr)||1===a.yr||0===a.yr,"animated",a.yr,
"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"teamInviteForm__emailListItem'+(a.yr?" teamInviteForm__emailListItem--animated":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+m1({v:"teamInviteForm__inputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({placeholder:b,v:"teamInviteForm__textInput"}))})+"\x3c/li\x3e")};function z3(a,b){this.view=b;this.WD=a.WD;this.WJ=a.WJ}f=z3.prototype;f.vl=function(){return this.view};f.remove=function(){this.WJ.destroy();this.view.remove()};f.vn=function(){return{title:""}};f.refresh=function(){this.view.render();return P.resolve()};f.DQ=function(){};f.GQ=function(){};function A3(a){L1.call(this,{className:"",events:{}});this.UD=a.UD}r(A3,L1);A3.prototype.render=function(){$(this.el).append(this.UD.$el);return this};A3.prototype.remove=function(){this.UD.remove();L1.prototype.remove.call(this)};function B3(a){this.G=a.G;this.wd=a.wd;this.i=a.i;this.j=a.j;this.yc=a.yc}B3.prototype.gN=function(){return this.yc&&"X"!==this.G.get(C3)?this.wd.getItem(D3).then(function(a){return!a}):P.resolve(!1)};
B3.prototype.render=function(){var a=this.G.get(C3),b;if("A"===a){b=new D2(this.j);var c=y(this.yc),a=this.i;a.dL||(a.dL=new yf(a.config));b={j:b,yc:c,i:a.dL};a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.i.mb()),kk:b.i.kk(),Mc:b.i.Mc(),Ic:b.i.Ic()};c=$;soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.kk)||a.kk instanceof goog.soy.data.SanitizedContent,
"overviewSubheading",a.kk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__closeButton"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__container"\x3e'+
H2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__iphonePage"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__androidPage"\x3e\x3c/div\x3e\x3c/div\x3e');c=c(a.toString());c=new I2(c);b={Db:new Q2(b,c),view:c}}else{b=new D2(this.j);var c=y(this.yc),d=this.i;d.fL||(d.fL=new Af(d.config));d=d.fL;a:switch(a){case "B":a="visual";break a;case "C":a="textual";break a;default:throw Error("UNKNOWN_VARIANT: "+a);}b={j:b,yc:c,i:d,Qm:a};c=b.i;a=b.Qm;a={heading:c.heading(),Ei:c.Ei(),Qm:a,Mc:c.Mc(),
Ic:c.Ic(),ud:c.ud(),Pg:c.Pg(),oi:c.format("downloadMobileAppDialogPhoneInputCTA"),wT:[c.format("downloadMobileAppDialogBullet1"),c.format("downloadMobileAppDialogBullet2"),c.format("downloadMobileAppDialogBullet3")]};c=$;soy.asserts.assertType(goog.isString(a.Qm)||a.Qm instanceof goog.soy.data.SanitizedContent,"dialogLayout",a.Qm,"string|goog.soy.data.SanitizedContent");d=a.Qm;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,
"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ei)||a.Ei instanceof goog.soy.data.SanitizedContent,"subheading",a.Ei,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.oi)||a.oi instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.oi,"string|goog.soy.data.SanitizedContent");
goog.asserts.assertArray(a.wT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",
a.ud,"string|goog.soy.data.SanitizedContent");var e='\x3cdiv class\x3d"experimentsMobileAppsDialog"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__container experimentsMobileAppsDialog__container--'+soy.$$escapeHtmlAttribute(d)+'"\x3e';switch(goog.isObject(d)?d.toString():d){case "visual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");e=a.heading;soy.asserts.assertType(goog.isString(a.Ei)||
a.Ei instanceof goog.soy.data.SanitizedContent,"subheading",a.Ei,"string|goog.soy.data.SanitizedContent");var g=a.Ei;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,
"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.oi)||a.oi instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.oi,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.ud,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--visual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column--withImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/mobile_app_download/iphone.png" class\x3d"experimentsMobileAppsDialog__heroImage" /\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--visual"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--viusual"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e"+T2(a)+"\x3c/div\x3e\x3c/div\x3e");e=d+a;break;case "textual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");g=a.heading;soy.asserts.assertType(goog.isString(a.Ei)||a.Ei instanceof goog.soy.data.SanitizedContent,
"subheading",a.Ei,"string|goog.soy.data.SanitizedContent");var h=a.Ei;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");e=goog.asserts.assertArray(a.wT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Pg)||
a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.oi)||a.oi instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.oi,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ud)||a.ud instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.ud,"string|goog.soy.data.SanitizedContent");a='\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--textual"\x3e'+
soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--textual"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--textual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column"\x3e'+T2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cul class\x3d"experimentsMobileAppsDialog__bulletPoints"\x3e';
g=e.length;for(h=0;h<g;h++)a+='\x3cli class\x3d"experimentsMobileAppsDialog__bulletPoint"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/success.svg" class\x3d"experimentsMobileAppsDialog__bulletPointImage" /\x3e\x3cspan\x3e'+soy.$$escapeHtml(e[h])+"\x3c/span\x3e\x3c/li\x3e";a=soydata.VERY_UNSAFE.ordainSanitizedHtml(a+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e");e=d+a}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e");c=c(a.toString());c=new U2(c);b={Db:new X2(b,c),view:c}}return b};
B3.prototype.HO=function(){this.wd.setItem(D3,!0)};B3.prototype.mM=function(){var a=this.G.get(C3);return"A"===a?"dialog--phone dialog--phoneA":"dialog--phone2 dialog--phoneVariant"+a};var C3=new Ff("jm","C");var D3="seenMobileExpDialog";function Oba(a){this.sU=a}function Pba(a){var b=[],c=a.wd;c&&(b=[new B3({j:a.j,G:a.G,i:a.i,yc:a.yc,wd:c}),new E3({i:a.i,j:a.j,document:a.document,G:a.G,Na:a.Na,wd:c}),new F3({aa:a.aa,G:a.G,i:a.i,pd:a.pd,Z:a.Z,Ka:a.Ka,cc:a.cc,j:a.j,W:a.W,wd:c})]);return new Oba(b)}function Qba(a,b){return Rba(a).then(function(a){a&&a.HO();var d;if(a){var e=a.render(b);d=e.Db;a={UD:e.view,WJ:d,WD:a.mM()};e=new A3(a);a=new z3(a,e);d.Me();d=a}else d=null;return d})}
function Rba(a){return P.all(a.sU.map(function(a){return a.gN()})).then(function(b){b=b.map(function(b,d){return{u3:b,Ab:a.sU[d]}}).filter(function(a){return a.u3}).map(function(a){return a.Ab});return 0===b.length?null:b[0]})};function E3(a){this.G=a.G;this.document=a.document;this.j=a.j;this.wd=a.wd;this.Na=a.Na;this.i=a.i}E3.prototype.gN=function(){var a=this;return this.G.get(Sba)&&0<$(".editorActionPrint").length?this.wd.getItem("spped").then(function(a){return a&&P.reject(new G3)}).then(function(){return Tba(a,a.document)}).then(function(a){return!a&&P.reject(new G3)}).then(function(){return!0}).catch(G3,function(){return!1}):P.resolve(!1)};
function Tba(a,b){var c=y(b.lb().u());return Uba(a).then(function(a){return a?null!=H3(a.id,c):!1})}function Uba(a){return I3(a.Na).then(function(a){return 0<a.LB.length?a.LB[0]:null}).catch(function(){return null})}E3.prototype.render=function(a){return Fba({Tl:Id(this.i),FO:function(){V0().sh()||$(".editorActionPrint").click();a.vU()},j:new D2(this.j)})};E3.prototype.HO=function(){this.wd.setItem("spped",!0)};E3.prototype.mM=function(){return"dialog--printPublish"};var Sba=new Ff("jl",!0);
function G3(){}r(G3,Error);function F3(a){this.wd=a.wd;this.G=a.G;this.i=a.i;this.pd=a.pd;this.Ka=a.Ka;this.aa=a.aa;this.cc=a.cc;this.Z=a.Z;this.j=a.j;this.W=a.W}F3.prototype.gN=function(){return!this.G.get(Vba)||J3(this)>=this.W.G.get(Wf)?P.resolve(!1):this.wd.getItem("seenInviteExpDialog").then(function(a){return!a})};
F3.prototype.render=function(a){var b=ad(this.i),c=new H0,d=new G0({Zd:b}),e=Gd(this.i),b=Id(this.i),g=new E0({dO:F0(this.pd),rg:my(this.Ka).getSubscription(),aa:this.aa,D:my(this.Ka).ka(),qr:ny(this.Ka).Jb(),vE:vm,Z:this.Z,cc:this.cc,jp:Zc(this.i)}),h={JK:3,xG:3,Cl:this.W.G.get(Wf),CK:J3(this)};return Gba({rf:e,Tl:b,j:new D2(this.j),lj:h,It:g,yO:function(){return a.vU()},wK:function(a){return new D0({ZE:d,ij:c,rf:e,lj:h},a)}})};function J3(a){a=my(a.Ka);return oy(a)+py(a)}
F3.prototype.HO=function(){this.wd.setItem("seenInviteExpDialog",!0)};F3.prototype.mM=function(){return"dialog--teamInvite"};var Vba=new Ff("jk",!0);function Wba(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function K3(a,b){hc.call(this,a);this.$C=null;this.XQ=b}r(K3,hc);K3.prototype.Me=function(){var a=this;this.$C=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(L3)},"expired-callback":function(){return a.trigger(M3)},sitekey:this.XQ})};K3.prototype.reset=function(){Fa(null!=this.$C,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.$C)};
function Xba(a){Fa(null!=a.$C,"reCAPTCHA widgetId has not been set, has #onAttach been called?");a=window.grecaptcha.getResponse(a.$C);Fa(a.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");return a}var L3="COMPLETE",M3="EXPIRED";
function vaa(a){return Wba().then(function(){y(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new K3(b,a)})};function N3(a,b){var c=this;hc.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Lf()})}r(N3,hc);function O3(a){w(a.options.some(function(a){return a.selected}),"options must have a selected element");var b=a.options.filter(function(a){return a.selected})[0],b=$(Yba({text:b.oC||b.text,disabled:a.disabled}).toString());return new N3(b,a)}
N3.prototype.Lf=function(){var a=this,b=new P3({className:this.className,options:this.options});b.on(Q3,function(b){return a.IO(b)});b.Ci(this.$el)};N3.prototype.IO=function(a){this.options.filter(function(a){return a.selected})[0].selected=!1;var b=this.options.filter(function(b){return b.value===a})[0];b.selected=!0;this.$el.text(b.oC||b.text);this.trigger(R3,a)};var R3="SELECT";function Yba(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function P3(a){Cz.call(this,a)}r(P3,Cz);f=P3.prototype;f.initialize=function(a){this.options=a.options;Cz.prototype.initialize.call(this,{content:this.UP(),vx:!1,qw:!0,Ho:!1})};f.events=function(){return{"click .selectView__option":this.IO}};f.Rp=function(){return DX};
f.UP=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=goog.asserts.assertArray(this.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool, text: string, value: string]\x3e."),d=c.length,e=0;e<d;e++){var g=c[e];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+(g.disabled?" selectView__option--disabled":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e");return a(b.toString())};f.IO=function(a){a=$(a.target);a.hasClass("selectView__option--disabled")||(this.trigger(Q3,a.data("value")),this.remove())};var Q3="SELECT";function S3(a){var b=this;this.pb=a.pb;this.Zb=a.Zb;this.vz=a.vz;this.uu=a.uu;this.uf=a.uf;this.D=a.D;this.j=a.j;this.Co=a.Co;this.i=a.i;this.Ra=a.Ra;this.Z=a.Z;this.dc=a.dc;this.yd=a.yd;this.cc=a.cc;this.UQ=a.UQ;this.Cl=a.Cl;this.Ro=a.Ro;this.Wr=a.Wr;this.mC=a.mC;this.uJ=a.uJ;this.wr=a.wr;this.Pe=a.Pe;this.aQ=a.aQ;this.tj=a.tj;this.PO=null;this.BK={};this.PW=a.wr?hr:dr;this.VB={};this.hp=new Map;this.TC=a.TC;this.view=a.view;this.Hw=a.Hw;this.SA=a.SA;this.mo=null;this.KN=a.KN;this.G=a.G;this.yu=
a.yu;this.ua=a.ua;this.QZ=!1;this.Dp=null;this.nx=a.nx;this.Xn=a.Xn;this.Cp=a.Cp;this.W=new If(this.G);this.nx.on(T3,function(){var a=b.view;a.Qd.show(a.$el);a.delegateEvents()});this.nx.on(U3,function(){return b.view.ok()});this.listenTo(this.view,{roleChange:this.s7,linkRoleChange:this.AO,linkCopy:this.S6,tabChanged:this.H7,embedCopy:this.Z$,submit:this.Ml,social:this.x7,makePublic:this.T6,nativeShare:this.e7,nativeSharePlatform:this.EX,oauthResp:this.h7,viewWebsite:this.P7});vba(this.Cp,function(){var a=
b.view;a.fX||a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSendInvites"))})}
function uaa(a){var b=bW(a.pb,a.Ro,"sharebutton","link"),c;a.Z_?(c=a.pb,c=$V(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(a.Z_)+"\x26"+cW(c,"sharebutton","link")):c=null;var d;a.Wr?(d=a.pb,d=$V(d,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(a.Wr)+"\x26"+cW(d,"sharebutton","link")):d=null;var e=aW(a.pb,a.Ro)+"?website",g=Pc(a.i),g=[g.format("shareDesignDialogTweet1"),g.format("shareDesignDialogTweet2"),g.format("shareDesignDialogTweet3"),g.format("shareDesignDialogTweet4")],
h=ny(a.Ka),k=my(a.Ka),l=oy(k)+py(k),l=a.v4&&null===k.getSubscription()&&l<a.Cl,m=new h2(Xc(a.i)),m=Zba({pb:a.pb,Zb:a.Zb,na:h.u(),D:k.ka(),j:a.j,aa:a.aa,Z:a.Z,fb:a.fb,dc:a.dc,ub:a.ub,i:a.i,H:a.H,Fd:a.Fd,it:m,cO:new V3,G:a.G});return new S3({pb:a.pb,Zb:a.Zb,vz:a.vz,uf:h,D:k.ka(),j:a.j,Ra:a.Ra,Z:a.Z,dc:a.dc,yd:a.yd,cc:a.cc,uu:a.uu,Co:a.Co,UQ:l,Cl:a.Cl,Ro:a.Ro,Wr:a.Wr,mC:b,uJ:c,wr:d,aQ:e,Pe:a.Pe,tj:a.tj,TC:g,i:a.i,H:a.H,yu:a.yu,ua:a.ua,nx:m,view:a.view,Hw:a.Hw,SA:a.SA,KN:$ba,G:a.G,Xn:a.Xn,Cp:a.Cp})}
f=S3.prototype;
f.show=function(){this.view.show();var a=this.view,b=this.uJ,c=!this.wr;a.$(".shareDialog__hiddenViewLink").val(b);a.$(".shareDialog__linkRole select").prop("disabled",c);W3(this.view,this.wr||this.mC);this.G.get(aca)&&!this.uf.oW()?(X3(this.view,!1),a=this.view,b=a.X.Ia("shareDesignDialogUnverifiedEmailWarning","/account"),a.lf(bca,ZZ,b)):this.vz&&(X3(this.view,!1),a=this.view,X3(a,!1),b=a.X.format("shareDesignDialogEmptyDesignWarning"),a.lf(cca,ZZ,b));if(this.Pe){var c=this.tj.mt?this.tj.QI?Pc(this.i).format("shareDesignDialogRenderWebsiteWarning"):
Pc(this.i).format("shareDesignDialogRenderWebsiteBeta"):Pc(this.i).format("shareDesignDialogRenderWebsiteWarningUnrenderable"),a=this.view,d=this.aQ,b=this.tj.mt,e=a.X.format("shareDesignDialogRenderWebsiteInstruction"),g=a.zq.Sn();soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"newLabel",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"instruction",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"url",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"warning",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"newFeatureLabel shareDialog__websiteAnnouncementNewLabel"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementInstruction"\x3e'+soy.$$escapeHtml(e)+
'\x3c/div\x3e\x3ca class\x3d"shareDialog__websiteAnnouncementLink" target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementWarning"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e").toString();WZ({type:b?YZ:ZZ,xb:!1,small:!0,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}).$el.appendTo(a.$(".shareDialog__websiteAnnouncement"))}dca(this);eca(this)};
function eca(a){wq(a.Ra,a.pb).then(function(b){var c=fca(b);a.PO=c.qd.La();a.uu&&gca(a,b);if(c.qd.ka()===a.D.u())return hca(a).then(function(c){if(1!=c)return ica(a,b).then(function(c){return jca(a,c,b.Rj().rules)})})}).catch(function(b){var c=a.view,d=c.X.format("shareDesignDialogLoadError");c.lf(kca,$Z,d);throw b;})}function dca(a){Dy(a.dc,new nz({Zw:a.uf.u()})).then(function(b){a.Dp=b.Dp})}
function lca(a,b){function c(a){return{displayName:a.Jb()||a.qh(),username:a.qh()}}return b===a.uf.u()?P.resolve(c(a.uf.OC())):a.Z.La(b).then(function(a){return c(a)})}function gca(a,b){var c=b.Ae.rules.some(function(a){if("DEFAULT"===a.type)return a.Pc!==$q});b=a.PO;y(b,"ownerId not found");lca(a,b).then(function(b){b=a.uu(b.displayName,b.username);Y3(a.view,c,b)})}
function fca(a){var b=null;a.Ae.rules.some(function(a){if(a.Pc===br)return b=a,!0});y(b,"document acl must specify an owner");return b}function hca(a){var b=ey((new by).Aj(a.D.u()));return a.Z.Kz(b).then(function(a){return a.getCount()})}
function ica(a,b){b=b.Ae.rules.reduce(function(b,d){"USER"!==d.type||d.qd.D!==a.D.u()||null!=d.origin&&"MANUAL"!==d.origin.type||b.push(d.qd.user);return b},[]);return 0<b.length?(b=dy(cy(fy((new by).Aj(a.D.u()),b.slice(0,100)).Vg(100))),a.Z.Kz(b).then(function(a){return a.GF()})):P.resolve([])}
function jca(a,b,c){var d,e={},g=[],h={};b.forEach(function(a){return e[a.La().u()]=a});c.forEach(function(b){b.origin&&"FOLDER"===b.origin.type?b.Pc!==$q&&(h[b.origin.id]=!0):"BRAND"===b.type&&b.qd.D===a.D.u()?(d={D:a.D,FD:b},a.BK[a.D.u()]=b.Pc):"USER"===b.type&&e.hasOwnProperty(b.qd.user)&&(g.push({VA:e[b.qd.user],FD:b,disabled:!(b.qd.user!==a.uf.u()&&b.Pc!==br)}),a.BK[b.qd.user]=b.Pc)});d||(d={D:a.D,FD:new bt({type:"BRAND",qd:new lr({D:a.D.u(),user:null}),Pc:$q})});mca(a.view,d,g,Object.keys(h).length)}
f.s7=function(a,b){this.VB[a]=b};f.AO=function(a){a===dr?W3(this.view,this.mC):a===hr&&this.wr&&W3(this.view,this.wr);this.PW=a};f.S6=function(){var a=X(X(X(new am("design_shared"),"location","sharebutton"),"medium","link"),"access_level",Z3(this.PW));Sl(this.j,a)};function Z3(a){return a===br||a===hr?"edit":a===fr||a===dr?"view":"none"}
f.x7=function(a){a===$3?(a=this.TC[Math.floor(Math.random()*this.TC.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(bW(this.pb,this.Ro,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a,420,550),this.view.ok(),Sl(this.j,a4("TWITTER"))):a===b4&&(a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(bW(this.pb,this.Ro,"sharebutton","facebook")),this.view.openWindow(a,420,550),this.view.ok(),Sl(this.j,a4("FACEBOOK")));c4(this)};
f.T6=function(){var a=this;this.Ra.ft(this.pb).then(function(){Y3(a.view,!0,null);a.Co.trigger(W0)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.X.format("shareDesignDialogEmbedError"))})};f.e7=function(a){var b=[];this.hp.forEach(function(a,d){return a.enabled&&b.push(d)});this.j.wa(nca(!!a,b));this.nx.show(a,b);this.view.hide()};
function S0(a){if(!a.QZ){a.QZ=!0;var b=["TWITTER"].map(function(b){return a.ua&&Eo(a.ua,"CANVA_SD_NS_"+b)?a.EX(b,!0).finally(function(){return P.resolve()}):P.resolve()});P.all([].concat([a.KN()],ma(b))).then(function(){a.view.$(".shareDialog__nativeSocialButton").prop("disabled",!1);a.view.D_=window.twttr.txt});oca(a.nx)}}
f.EX=function(a,b){var c=this;return this.hp.has(a)?(this.hp.get(a).enabled=!this.hp.get(a).enabled,d4(this,a),P.resolve()):ax(this.Z,new jx({user:this.uf.u(),platform:a})).then(function(d){d.summary.valid&&-1<d.summary.vv.indexOf("PUBLISH")?(c.hp.set(a,{enabled:!0,username:d.summary.username}),d4(c,a)):b||(d=-1<d.summary.Lu.indexOf("PUBLISH"),e4(c,a,d))}).catch(function(){return e4(c,a,!1)})};
function e4(a,b,c){var d=pca(a.view,b);qca(a.yu,function(){var d=Cw("platform",b),g=["GET_BASIC_PROFILE","PUBLISH"].map(Ew.bind(null,"permission")),d="/oauth/authorize/"+encodeURIComponent(d)+("?permissions\x3d"+encodeURIComponent(g.join(",")))+(c?"\x26reRequest\x3dtrue":"");a.view.openWindow(d,600,550);a.j.wa(rca(b))});sca(a.yu,d)}
f.h7=function(a){a.RR?(this.hp.delete(a.platform),this.j.wa(tca(a.platform))):(this.hp.set(a.platform,{enabled:!0,username:a.username}),this.j.wa(uca(a.platform)));d4(this,a.platform)};f.P7=function(){this.j.track("design_website_viewed")};
function vca(a){null!==a.mo?(a.mo.reset(),P.resolve()):a.Hw?a.SA(a.Hw).then(function(b){f4(a.view).toggleClass("shareDialog__captchaContainer--hidden",!1);wca(a.view);a.mo=b;a.mo.on(L3,function(){X3(a.view,!0);a.view.lg(g4)});a.mo.on(M3,function(){X3(a.view,!1)});a.mo.$el.appendTo(f4(a.view));a.mo.Me()}).catch(function(b){X3(a.view,!1);h4(a.view);throw b;}):(h4(a.view),P.reject(Error("reCAPTCHA requested but no siteKey provided")))}
function d4(a,b){var c=a.hp.get(b),d=!(!c||!c.enabled),c=c?c.username:null;if("TWITTER"===b){c&&(c="@"+c);var e=a.view;(e.IZ=d)?e.Vn():e.$(".shareDialog__characterCount").empty()}d?a.ua&&Mo(a.ua,"CANVA_SD_NS_"+b):a.ua&&a.ua.removeItem("CANVA_SD_NS_"+b);a=a.view;a.$(".shareDialog__"+b.toLowerCase()).toggleClass("shareDialog__nativeSocialButton--selected",d);e=0===a.$(".shareDialog__nativeSocialButton--selected").length;a.$(".shareDialog__shareButton").prop("disabled",e);b=a.$(".shareDialog__"+b.toLowerCase()+
" .shareDialog__tooltip");d?(y(c,"enabled platform must provide a tooltip"),b.text(c),a.Vn()):b.text(b.data("tooltip"))}f.Ml=function(a){var b=this;v2(this.Cp).then(function(){var c=xba(b.Cp);0<c.length?(i4(b.view),j4(b.view,c)):xca(b,wba(b.Cp),a)})};
function xca(a,b,c){var d=[],e=[],g=[];b.forEach(function(b){if(b instanceof $x){var k=b.La().u();k!==a.PO&&k!==a.uf.u()&&d.push(jr(k,a.D.u(),ir(c)));b.gi()&&e.push(b.gi())}else g.push.apply(g,[].concat(ma(b.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))))});yca(a,g)&&zca(a,g)?(Object.keys(a.VB).forEach(function(b){b===a.D.u()?d.push(jr(null,b,ir(a.VB[b]))):d.push(jr(b,a.D.u(),ir(a.VB[b])));b=X(X(X(X(new am("access_level_change"),"location","sharebutton"),"medium",
"share_dialog"),"from_access_level",Z3(a.BK[b])),"to_access_level",Z3(a.VB[b]));Sl(a.j,b)}),P.all([Aca(a,d),Bca(a,e,g,c)]).then(function(b){b=la(b);b.next();if(b.next().value.some(function(a){return!!a.JP}))X3(a.view,!1),i4(a.view),vca(a);else if(0<g.length&&a.UQ){b=Cca(a.view,g,a.Cl);var c=X(X(new am("team_invites_shown"),"location","sharebutton"),"medium","share_dialog");a.j.wa(c);Dca({D:a.D,j:a.j,Z:a.Z,cc:a.cc,qr:a.uf.Jb(),JG:g.length,X:Pc(a.i),Xn:function(){return a.Xn()}},b)}else a.view.ok()}).catch(function(b){i4(a.view);
X3(a.view,!1);throw b;})):i4(a.view)}function yca(a,b){a.view.lg(k4);b=b.filter(function(a){return!GI(a)});return b.length?(i4(a.view),j4(a.view,b),!1):!0}function zca(a,b){a.view.lg(l4);return null!=a.Dp&&b.length>a.Dp?(b=a.view,a=a.Dp,a=0===a?b.X.Ia("shareDesignDialogEmailQuotaReached",b.vI):b.X.Ia("shareDesignDialogEmailQuotaLimited",a,b.vI),b.lf(l4,$Z,a),!1):!0}function Aca(a,b){return 0===b.length?P.resolve():yq(a.Ra,new au({document:a.pb,rP:b})).catch(function(b){m4(a.view);throw b;})}
f.H7=function(a){Pl(this.j,a,"share_dialog");"socialTab"===a&&(Sl(this.j,new am("social_share_flow_start")),S0(this))};f.Z$=function(){Ol(this.j,"embed_copy",null,null,"share_dialog")};
function Bca(a,b,c,d){var e=[],g=a.mo&&Xba(a.mo);0<b.length&&e.push(Ay(a.dc,new lz({FH:g,pb:a.pb,va:a.D.u(),mode:d===dr?"viewer":"editor",Xr:b,YC:"sharebutton"})));0<c.length&&e.push(Ay(a.dc,new lz({FH:g,pb:a.pb,mode:d===dr?"default":"editor",Ye:d===dr?a.Ro:a.Wr,Xr:c,YC:"shareButton"})));var h=Z3(d);b.forEach(function(){return n4(a,h,!0)});c.forEach(function(){return n4(a,h,!1)});return P.all(e).then(function(b){b.length&&c4(a);return b}).catch(function(b){g?h4(a.view):m4(a.view);throw b;})}
function n4(a,b,c){b=X(X(X(X(new am("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);Sl(a.j,b)}function c4(a){Dq(a.Ra,new eu({ag:a.pb,version:-1,et:"MEDIUM"}))}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var aca=new Ff("fm",!1);function Eca(a){soy.asserts.assertType(goog.isString(a.rH)||a.rH instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.rH,"string|goog.soy.data.SanitizedContent");var b=a.rH;soy.asserts.assertType(goog.isString(a.jI)||a.jI instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.jI,"string|goog.soy.data.SanitizedContent");var c=a.jI;soy.asserts.assertType(goog.isString(a.qG)||a.qG instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.qG,"string|goog.soy.data.SanitizedContent");var d=
a.qG;soy.asserts.assertType(goog.isString(a.$E)||a.$E instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.$E,"string|goog.soy.data.SanitizedContent");var e=a.$E;soy.asserts.assertType(a.Mj instanceof soydata.SanitizedHtml||a.Mj instanceof soydata.UnsanitizedText||goog.isString(a.Mj),"embedDescription",a.Mj,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Um)||a.Um instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Um,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Vm)||
a.Vm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Vm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Tm)||1===a.Tm||0===a.Tm,"embedEnabled",a.Tm,"boolean");var g=!!a.Tm;soy.asserts.assertType(null==a.ih||a.ih instanceof goog.soy.data.SanitizedContent||goog.isString(a.ih),"embedCode",a.ih,"null|string|undefined");soy.asserts.assertType(goog.isString(a.Xm)||a.Xm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Xm,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Wm)||a.Wm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Wm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fn)||a.Fn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Fn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.En)||a.En instanceof goog.soy.data.SanitizedContent,"inviteButton",a.En,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.Cx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(goog.isBoolean(a.hm)||1===a.hm||0===a.hm,"socialTabEnabled",a.hm,"boolean");var h=!!a.hm;soy.asserts.assertType(goog.isString(a.Do)||a.Do instanceof goog.soy.data.SanitizedContent,"shareLabel",a.Do,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.hw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Rn)||a.Rn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Rn,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Bo)||a.Bo instanceof goog.soy.data.SanitizedContent,"shareButton",a.Bo,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ln)||a.Ln instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Ln,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Pe)||1===a.Pe||
0===a.Pe,"renderAccessModeEnabled",a.Pe,"boolean");var k=!!a.Pe;soy.asserts.assertType(goog.isString(a.Sn)||a.Sn instanceof goog.soy.data.SanitizedContent,"newLabel",a.Sn,"string|goog.soy.data.SanitizedContent");var l=a.Sn;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc,n=goog.asserts.assertObject(a.N$,"expected parameter 'tabs' of type [EMBED: string, LINK: string, PEOPLE: string, SOCIAL: string].");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab'+(m&&m!=n.lJ?"":" shareDialog__tab--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.lJ)+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.nJ?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.nJ)+'"\x3e'+soy.$$escapeHtml(c)+'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"shareDialog__tab'+(m==n.LINK?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.LINK)+'"\x3e'+soy.$$escapeHtml(d)+(k?'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e":"")+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.EMBED?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.EMBED)+'"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+
Fca(soy.$$assignDefaults({Se:n.lJ},a))+(h?Gca(soy.$$assignDefaults({Se:n.nJ},a)):"")+Hca(soy.$$assignDefaults({Se:n.LINK},a))+(g?Ica(soy.$$assignDefaults({Se:n.EMBED},a)):"")+"\x3c/div\x3e")}
function Fca(a){soy.asserts.assertType(goog.isString(a.Fn)||a.Fn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Fn,"string|goog.soy.data.SanitizedContent");var b=a.Fn;soy.asserts.assertType(goog.isString(a.En)||a.En instanceof goog.soy.data.SanitizedContent,"inviteButton",a.En,"string|goog.soy.data.SanitizedContent");var c=a.En;soy.asserts.assertType(goog.isBoolean(a.hm)||1===a.hm||0===a.hm,"socialTabEnabled",a.hm,"boolean");var d=!!a.hm,e=goog.asserts.assertObject(a.Cx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g&&g!=a?"":" shareDialog__tabContent--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__members"\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__captchaContainer shareDialog__captchaContainer--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+z_({v:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){b+='\x3cspan class\x3d"shareDialog__socialButtons"\x3e';
d=soy.$$getMapKeys(e);c=d.length;for(g=0;g<c;g++)a=d[g],b+=z_({v:a,text:e[a]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e\x3c/div\x3e")}
function o4(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+
soy.$$escapeHtml(null==(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Hca(a){soy.asserts.assertType(goog.isString(a.Ln)||a.Ln instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Ln,"string|goog.soy.data.SanitizedContent");var b=a.Ln;soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");var c=a.dh;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var d=a.nc;soy.asserts.assertType(goog.isString(a.Se)||
a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(d==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__linkInputContainer"\x3e'+G1({v:"shareDialog__link",id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+
G1({v:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+z_({v:"shareDialog__copyButton shareDialog__linkCopy",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncement"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Ica(a){soy.asserts.assertType(a.Mj instanceof soydata.SanitizedHtml||a.Mj instanceof soydata.UnsanitizedText||goog.isString(a.Mj),"embedDescription",a.Mj,"soydata.SanitizedHtml");var b=a.Mj;soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");var c=a.dh;soy.asserts.assertType(null==a.ih||a.ih instanceof goog.soy.data.SanitizedContent||goog.isString(a.ih),"embedCode",a.ih,"null|string|undefined");
var d=a.ih;soy.asserts.assertType(goog.isString(a.Jl)||a.Jl instanceof goog.soy.data.SanitizedContent,"oEmbedCode",a.Jl,"string|goog.soy.data.SanitizedContent");var e=a.Jl;soy.asserts.assertType(goog.isString(a.Xm)||a.Xm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Xm,"string|goog.soy.data.SanitizedContent");var g=a.Xm;soy.asserts.assertType(goog.isString(a.Wm)||a.Wm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Wm,"string|goog.soy.data.SanitizedContent");var h=a.Wm;soy.asserts.assertType(goog.isString(a.Um)||
a.Um instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Um,"string|goog.soy.data.SanitizedContent");var k=a.Um;soy.asserts.assertType(goog.isString(a.Vm)||a.Vm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Vm,"string|goog.soy.data.SanitizedContent");var l=a.Vm;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof
goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(m==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3cp\x3e'+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed" value\x3d"'+
soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+z_({v:"shareDialog__copyButton shareDialog__copyButton--embed",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+"\x3c/div\x3e\x3cp\x3e"+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareOEmbed" class\x3d"shareDialog__shareOEmbed" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+z_({v:"shareDialog__copyButton shareDialog__copyButton--embed",
text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareOEmbed"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e"+z_({v:"shareDialog__publicButton",text:h})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Gca(a){soy.asserts.assertType(goog.isString(a.Do)||a.Do instanceof goog.soy.data.SanitizedContent,"shareLabel",a.Do,"string|goog.soy.data.SanitizedContent");var b=a.Do,c=goog.asserts.assertObject(a.hw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Rn)||a.Rn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Rn,"string|goog.soy.data.SanitizedContent");var d=a.Rn;soy.asserts.assertType(goog.isString(a.Bo)||
a.Bo instanceof goog.soy.data.SanitizedContent,"shareButton",a.Bo,"string|goog.soy.data.SanitizedContent");var e=a.Bo;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g==a?" shareDialog__tabContent--on":
"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e";g=soy.$$getMapKeys(c);a=g.length;for(var h=0;h<a;h++)var k=g[h],b=b+('\x3cbutton class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'" disabled\x3e\x3cspan class\x3d"shareDialog__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c[k])+'"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/button\x3e");
b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+z_({v:"shareDialog__shareButton",text:e,disabled:!0})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function p4(a){mp.call(this,{className:"shareDialog",H:a.H,title:a.X.title()});this.vI="https://support.canva.com/troubleshooting/sharing-your-design/";this.uz=a.uz;this.Tm=a.Tm;this.ih=a.ih;this.Jl=a.Jl;this.$Q=a.$Q;this.Pe=a.Pe;this.X=a.X;this.zu=a.zu;this.zq=a.zq;this.fX=!1;this.kW=gr;this.IZ=!1;this.Cx={};this.Cx[$3]=this.X.format("shareDesignDialogTwitterLabel");this.Cx[b4]=this.X.format("shareDesignDialogFacebookLabel");this.hw={};this.hw.shareDialog__twitter=this.X.format("shareDesignDialogTwitterTooltip");
this.hw.shareDialog__facebook=this.X.format("shareDesignDialogFacebookTooltipWarning");this.D_=null;this.I9=[{value:gr,text:Oe(this.X),oC:Pe(this.X),selected:!0},{value:cr,text:Qe(this.X),oC:Re(this.X),selected:!1}];this.L4=[{value:gr,text:Oe(this.X),oC:Pe(this.X),selected:!0},{value:cr,text:Qe(this.X),oC:Re(this.X),selected:!1}];this.nc=a.nc;this.JX=this.f4.bind(this);this.vy=a.vy;this.IC=a.IC}r(p4,mp);
function taa(a){return new p4({H:a.H,uz:a.uz,zu:a.zu,Tm:a.W.G.get(dg),ih:a.ih,Jl:a.Jl,$Q:a.W.G.get(jg),Pe:a.W.Pe(),X:Pc(a.i),zq:sd(a.i),nc:a.nc,vy:a.vy,IC:a.IC})}f=p4.prototype;
f.events=function(){var a=this;return _.extend(mp.prototype.events.call(this),{"click .shareDialog__tab":this.I7,"click .shareDialog__inviteButton":this.I6,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .shareDialog__copyButton--embed":function(){return a.trigger("embedCopy")},"copy #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},"cut #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},
"click #shareDialog__shareEmbed":function(a){return $(a.target).select()},"click .shareDialog__shareButton":function(){return a.trigger("nativeShare",a.$(".shareDialog__shareMessage").val())},"click .buttonTwitter":function(){return a.trigger("social",$3)},"click .shareDialog__twitter":function(){return a.trigger("nativeSharePlatform","TWITTER")},"input .shareDialog__shareMessage":this.Vn,"click .shareDialog__websiteAnnouncementLink":function(){return a.trigger("viewWebsite")}})};
f.I7=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0);this.trigger("tabChanged",a)};function W3(a,b){a.$(".shareDialog__link").val(b)}function q4(a,b,c){a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSaveChanges"));a.fX=!0;a.trigger("roleChange",b,c)}f.AO=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.X.dh())};f.I6=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.kW)};
f.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};
function Jca(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),r4(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return r4(a,b)})})}
function r4(a,b){b=$(b.target);b.text(a.X.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}f.Vn=function(){if(this.IZ){var a=this.$(".shareDialog__shareMessage").val(),a=a?this.D_.getTweetLength(a):0;this.$(".shareDialog__characterCount").text(this.X.format("shareDesignDialogCharacterCount",a));a=140<a;this.$el.toggleClass("shareDialog--withTwitterWarning",a);this.$(".shareDialog__shareButton").prop("disabled",a)}};
f.render=function(){var a=this;mp.prototype.render.call(this);this.$(".content").html(Eca({rH:this.X.format("shareDesignDialogPeople"),jI:this.X.v$(),qG:this.X.link(),$E:this.X.format("shareDesignDialogEmbed"),Mj:this.X.Mj(),ih:this.ih,Jl:this.Jl,Tm:this.Tm,Xm:this.X.Xm(),Wm:this.X.Wm(),Um:this.X.Um(),Vm:this.X.Vm(),Fn:this.X.Fn(),En:this.X.En(),Cx:this.Cx,hm:this.$Q,Do:this.X.Do(),hw:this.hw,Rn:this.X.Rn(),Bo:this.X.Bo(),Ln:this.X.Ln(),dh:this.X.dh(),Pe:this.Pe,Sn:this.zq.Sn(),nc:this.nc,N$:Kca}).toString());
var b=O3({className:"shareDialog",options:this.I9});b.on(R3,function(b){a.kW=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus()});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);c.before(this.uz.$el);b=O3({className:"shareDialog",options:this.L4});b.on(R3,function(b){return a.AO(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",-1);Jca(this);return this};
f.show=function(){window.addEventListener("message",this.JX);this.zu.$el.appendTo($("body"));return mp.prototype.show.call(this)};f.remove=function(){window.removeEventListener("message",this.JX);this.zu.remove();mp.prototype.remove.call(this)};f.hide=function(){this.Qd.hide()};f.f4=function(a){var b=a.data&&void 0!==a.data.oauthResp;a.origin&&a.origin===window.location.origin&&b&&(a=Oa(Jw,"oauthResp",a.data),this.trigger("oauthResp",a))};
function X3(a,b){a.$(".shareDialog__inviteButton").prop("disabled",!b);a.$(".shareDialog__inviteRole \x3e button").prop("disabled",!b)}function f4(a){return a.$(".shareDialog__captchaContainer")}function wca(a){var b=a.X.format("shareDesignDialogCaptchaMessage");a.lf(g4,ZZ,b)}function h4(a){var b=a.X.Ia("shareDesignDialogCaptchaFailure",a.vI);a.lf(Lca,$Z,b)}
function mca(a,b,c,d){var e=a.$(".shareDialog__acl"),g=$(o4({email:a.X.format("shareDesignDialogAllMembers"),name:b.D.Jb()||a.X.format("shareDesignDialogDefaultBrandName")}).toString()),h=s4({D:b.D,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=O3({className:"shareDialog",options:t4(a,b.FD.us())});h.on(R3,function(c){return q4(a,b.D.u(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);e.append(g);c.forEach(function(b){var c=$(o4({email:b.VA.gi(),name:b.VA.La().Jb()||
b.VA.La().qh()}).toString()),d=u4({user:b.VA.La(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=O3({className:"shareDialog",options:t4(a,b.FD.us()),disabled:b.disabled});d.on(R3,function(c){return q4(a,b.VA.La().u(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);e.append(c)});0<d&&a.$(".shareDialog__folders").text(a.X.Yc(d))}
function Y3(a,b,c){null!=c&&a.$(".shareDialog__shareEmbed").val(c);b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}
function Cca(a,b,c){mp.prototype.g$.call(a,a.X.format("shareDesignDialogInviteMembersTitle"));var d=[a.X.format("shareDesignDialogInviteMemberBenefit1"),a.X.format("shareDesignDialogInviteMemberBenefit2"),a.X.format("shareDesignDialogInviteMemberBenefit3")];b=Mca({Ds:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.X.Ds(c,"/brand/members")),Ev:a.vy?a.X.format("shareDesignDialogInviteMemberButtonAlternate"):a.X.Ev(),Fv:a.X.Fv(),Dv:a.X.Dv(),w4:a.IC?d:[],zg:Tx.sizes.get("50").oa(),Xr:b});b.on(v4,function(){return a.ok()});
a.$(".content").html(b.$el);return b}function m4(a){var b=a.X.format("shareDesignDialogUpdateError");a.lf(Nca,$Z,b)}function pca(a,b){var c=".shareDialog__"+b.toLowerCase(),d=a.$el.find(c);y(d,"{}'s button isn't present",b);a=a.$el.find(c).offset();return{x:a.left,y:a.top}}function j4(a,b){var c=b.join(", ");b=a.X.format("shareDesignDialogValidateEmailError",b.length,c);a.lf(k4,$Z,b)}function i4(a){a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function t4(a,b){return b===br?[{value:br,text:a.X.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:hr,text:Oe(a.X),selected:b===hr},{value:dr,text:Qe(a.X),selected:sr[b]>=sr[dr]&&sr[b]<sr[hr]},{value:$q,text:a.X.format("shareDesignDialogNoneRole"),selected:b===$q}]}f.lf=function(a,b,c){this.lg(a);WZ({message:c,type:b,v:a.za,xb:!1}).$el.prependTo(this.$(".shareDialog__error"))};f.lg=function(a){a=this.$("."+a.za);a.length&&XZ(a).remove()};
var cca={za:"shareDialog__emptyDesignError"},g4={za:"shareDialog__captchaMessageWarning"},Lca={za:"shareDialog__captchaFailError"},bca={za:"shareDialog__emailInvalidError"},k4={za:"shareDialog__emailInvalidError"},l4={za:"shareDialog__emailQuotaError"},kca={za:"shareDialog__loadError"},Nca={za:"shareDialog__updateError"},$3="buttonTwitter",b4="buttonFacebook",R0="socialTab",Kca={lJ:"peopleTab",nJ:R0,LINK:"linkTab",EMBED:"embedTab"};function w4(){}f=w4.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var W0="UPDATE_PUBLIC_PERMISSIONS";function rca(a){return X(new am("social_share_flow_load_authorisation_dialog"),"medium",a.toString().toLowerCase())}function uca(a){return X(new am("social_share_flow_load_authorise_confirm"),"medium",a.toString().toLowerCase())}function tca(a){return X(new am("social_share_flow_load_authorise_cancel"),"medium",a.toString().toLowerCase())}function nca(a,b){return X(X(X(new am("social_share_flow_share_now"),"message",a),"facebook",-1<b.indexOf("FACEBOOK")),"twitter",-1<b.indexOf("TWITTER"))}
function Oca(a){return X(new am("social_share_flow_payment"),"amount",a)}function a4(a){return X(X(X(new am("design_shared"),"location","sharebutton"),"access_level","view"),"medium",a.toString().toLowerCase())}function x4(a){return X(new am("social_share_flow_view_social_media"),"medium",a.toString().toLowerCase())};function y4(a,b){this.na=a.na;this.D=a.D;this.i=a.i;this.aa=a.aa;this.Z=a.Z;this.fb=a.fb;this.dc=a.dc;this.ub=a.ub;this.j=a.j;this.H=a.H;this.it=a.it;this.Ga=Rc(a.i);this.Sb=new rU;this.Fd=a.Fd;this.rk=this.ox=null;this.yK=b;this.WL=this.O=null;this.cO=a.cO;this.bO=null;this.T_=a.G.get(Pca);this.W=new If(a.G);this.view=null;this.G=a.G}f=y4.prototype;f.OJ=function(){var a=this,b=this.yK();b.on("ok",function(){return a.mw()});b.on("cancel",function(){return a.mw()});return b};
function Qca(a){var b=jV({D:a.D.u(),Ej:a.aa,nf:a.fb,Xe:!1,Ya:cd(a.i),G:a.G,j:a.j}),c=Pc(a.i),b={Mg:(new lV({j:a.j,na:a.na,va:a.D.u(),aa:a.aa,Z:a.Z,ub:a.ub,i:a.i,kf:!1,Qf:c.Qf(),Og:c.Og(),view:new kV({xd:b.Db,cj:b.view}),Sb:a.Sb,pb:z4(a.Fd).pb,cf:a.D.ii()})).init(),i$:new A4({H:a.H,Ga:Rc(a.i),X:c,view:new g2}),complete:Rca({j:a.j,X:c}),error:Sca({j:a.j,X:c})};b.error.on("back",function(){a.trigger(T3);a.remove()});b.Mg.on("paymentComplete",function(){return B4(a)});b.Mg.on("paymentError",function(){return C4(a,
D4)});return b}function Zba(a){return Tca(a,function(){return new I1({Qd:new qz({style:rz,H:a.H}),H:a.H,id:"exportDialog"})})}function Tca(a,b){return new y4(a,b)}f.show=function(a,b){this.ox=a;this.rk=b;this.O=Qca(this);this.view=this.OJ();Uca(this);this.view.render({Zo:this.Ga.Zo(),Wg:this.Ga.Wg()})};
function Uca(a){var b=["ONE_USE","ROYALTY_FREE","EXTENDED"];Vca(a,b).then(function(){var c=a.aa.Rz(a.D.u()).catch(Pk,function(){return null}).catch(function(){throw E4;}),d=z4(a.Fd),d=wj(a.aa,new Gj({document:d.pb,Zb:d.Zb,O:[1],bG:!0,cG:!0})).catch(function(a){if(a instanceof Qk)throw F4;throw E4;});P.all([c,d]).spread(function(c,d){a.O.Mg.fa=c;d.TB&&sU(a.Sb,{items:d.items,df:b,Uv:d.Wl,om:!!a.W.G.get(og)});Wca(a,d.TB)}).catch(function(b){C4(a,b)})}).catch(function(){return C4(a,G4)})}
function oca(a){if(a.T_){var b=new iz({user:a.na,D:a.D.u(),limit:Object.keys(Bw).length});a.WL=yy(a.dc,b).then(function(a){return a.Ht});a.bO=a.cO.load()}}function Xca(a,b){y(a.bO,"MomentTimezone must've been loaded");return a.bO.then(function(){var c=moment.tz.guess();y(c,"failed to guess timezone");return vy(a.dc,new gz({user:a.na,D:a.D.u(),platform:b,qf:"DEFAULT",timeZone:c})).then(function(a){return a.Ox})})}
function Yca(a,b){y(a.WL,"target queues must've been fetched on init");return a.WL.then(function(c){var d=c.map(function(a){return a.platform}),e=b.filter(function(a){return!d.some(function(b){return b===a})}).map(function(b){return Xca(a,b)});return P.all(e).then(function(a){return a.concat(c)})})}function Vca(a,b){return H4(a.Fd,b).then(function(){return K_(a.Fd)})}function Wca(a,b){Zca(a,b).then(function(){return B4(a)})}
function Zca(a,b){return b?(0<vU(a.Sb)?(J1(a.view,a.O.Mg).then(function(){return $1(a.O.Mg)}),a.j.wa(Oca(vU(a.Sb)))):c2(a.O.Mg),P.reject()):P.resolve()}
function B4(a){y(a.ox,"shareMessage must be defined when sharing");y(a.rk,"platforms must be defined when sharing");J1(a.view,a.O.i$);K1(a.view,a.it.next());a.view.wx();var b=z4(a.Fd);(a.T_?Yca(a,a.rk).then(function(c){return new Yy({user:a.na,D:a.D.u(),document:b.pb,Zb:b.Zb,message:""===a.ox?null:a.ox,action:"UPLOAD_NOW",Ht:c.map(function(a){return a.id}),uI:!1})}):P.resolve(new Yy({user:a.na,D:a.D.u(),document:b.pb,Zb:b.Zb,message:""===a.ox?null:a.ox,action:"UPLOAD_NOW",KK:a.rk.map(function(a){return new Oy({platform:a,
qf:"DEFAULT"})}),uI:!1}))).then(function(b){var d=a.dc;return sj(d.N,d.url,Zy(b)).get(0).then(La).then(bz)}).then(function(b){return I4(a,b.id,1E3)}).then(function(b){if(b.length===a.rk.length)a.onComplete(b);else if(b.length){var d=a.rk.filter(function(a){return!b.some(function(b){return b.platform===a})});C4(a,J4,d,b)}else C4(a,G4)}).catch(function(){return C4(a,G4)})}
function I4(a,b,c){var d=new ez({id:b,cca:!1});return P.delay(c).then(function(){return a.dc.DM(d)}).then(function(d){var g=!0,h=[];d.fm.Xx.forEach(function(a){"NEW"===a.status||"IN_PROGRESS"===a.status?g=!1:"SUCCESS"===a.status&&h.push({platform:a.platform,url:a.url})});return g?P.resolve(h):I4(a,b,Math.min(1.6*c,3E4))})}f.onComplete=function(a){var b=this;this.O.complete.rk=a;J1(this.view,this.O.complete);this.j.wa(new am("social_share_flow_complete"));a.forEach(function(a){return Sl(b.j,a4(a.platform))})};
function C4(a,b,c,d){y(a.rk);$ca(a.O.error,b,c||a.rk,d);J1(a.view,a.O.error);a.view.pA();a.j.wa(new am("social_share_flow_error"))}f.mw=function(){this.trigger(U3);this.remove();this.j.wa(new am("social_share_flow_close"))};f.remove=function(){var a=this;this.view.remove().then(function(){_.values(a.O).forEach(function(a){return a.remove()})})};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var T3="BACK",U3="CLOSE",Pca=new Ff("gl",!1);function V3(){}V3.prototype.load=function(){return window.hasOwnProperty("moment")&&window.moment.tz?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/moment-timezone-with-data-0.5.13.min.js"})).return()};function K4(a,b){var c=this;this.rk=[];this.j=a.j;this.X=a.X;this.view=b;this.view.on("viewSocialMedia",function(a){return c.j.wa(x4(a))})}function Rca(a){var b=new L4;return new K4(a,b)}K4.prototype.vl=function(){return this.view};K4.prototype.remove=function(){this.view.remove()};
K4.prototype.refresh=function(){var a=this;this.view.render({buttons:this.rk.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})});return P.resolve()};K4.prototype.vn=function(){return{title:this.X.format("shareDesignDialogCompleteTitle")}};
function L4(){var a=this;L1.call(this,{className:"shareDialog",events:{"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(L4,L1);
L4.prototype.render=function(a){var b=this.el,c;c='\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e';a=goog.asserts.assertArray(a.buttons,"expected parameter 'buttons' of type list\x3c[classes: string, text: string, url: string]\x3e.");for(var d=a.length,e=0;e<d;e++){var g=a[e];c+=z_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url})}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=
c;return this};L4.prototype.rp=function(a){return H1(a).toString()};var D4="PAYMENT",G4="SHARING",J4="PLATFORM",F4="VERSION_CONFLICT",E4="UNKNOWN";function M4(a,b){var c=this;this.j=a.j;this.X=a.X;this.model=null;this.view=b;this.view.on("back",function(){return c.trigger("back")});this.view.on("viewSocialMedia",function(a){return c.j.wa(x4(a))})}function Sca(a){var b=new N4;return new M4(a,b)}f=M4.prototype;f.vl=function(){return this.view};f.remove=function(){this.view.remove()};
function $ca(a,b,c,d){c=O4(c);switch(b){case D4:a.model={title:a.X.format("shareDesignDialogPaymentErrorTitle"),message:a.X.format("shareDesignDialogPaymentError"),fd:a.X.Cq(),$g:"shareDialog__doneButton"};break;case G4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),fd:Ne(a.X),$g:"shareDialog__backButton"};break;case J4:y(d);b=O4(d.map(function(a){return a.platform}));a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),DC:a.X.format("shareDesignDialogPlatformSuccess",
b),fd:Ne(a.X),$g:"shareDialog__backButton buttonSecondary",sI:d.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})};break;case F4:a.model={title:Le(a.X),message:a.X.format("shareDesignDialogVersionConflictError"),fd:a.X.Cq(),$g:"shareDialog__doneButton"};break;case E4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),fd:a.X.Cq(),$g:"shareDialog__doneButton"};
break;default:throw new TypeError("unexpected SocialErrorType: "+b);}}function O4(a){return a.map(function(a){a:switch(a){case "FACEBOOK":a="Facebook";break a;case "TWITTER":a="Twitter";break a;default:throw new TypeError("unexpected Platform: "+a);}return a}).join(", ")}f.refresh=function(){y(this.model);this.view.render(this.model);return P.resolve()};f.vn=function(){return{title:this.model.title}};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function N4(){var a=this;L1.call(this,{className:"shareDialog error",events:{"click .shareDialog__doneButton":function(){return a.trigger("done")},"click .shareDialog__backButton":function(){return a.trigger("back")},"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(N4,L1);
N4.prototype.render=function(a){var b=this.el;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var c=a.message;soy.asserts.assertType(null==a.DC||a.DC instanceof goog.soy.data.SanitizedContent||goog.isString(a.DC),"successMessage",a.DC,"null|string|undefined");var d=a.DC;soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",
a.fd,"string|goog.soy.data.SanitizedContent");var e=a.fd;soy.asserts.assertType(goog.isString(a.$g)||a.$g instanceof goog.soy.data.SanitizedContent,"buttonClasses",a.$g,"string|goog.soy.data.SanitizedContent");var g=a.$g;soy.asserts.assertType(null==a.sI||goog.isArray(a.sI),"successButtons",a.sI,"?Array\x3c{classes: string, text: string, url: string}\x3e|undefined");a=a.sI;c="\x3cp"+(d?' class\x3d"shareDialog__socialError"':"")+"\x3e"+soy.$$escapeHtml(c)+"\x3c/p\x3e"+(d?"\x3cp\x3e"+soy.$$escapeHtml(d)+
"\x3c/p\x3e":"")+'\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e'+z_({v:g,text:e});if(a)for(d=a.length,e=0;e<d;e++)g=a[e],c+=z_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url});a=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=a;return this};N4.prototype.rp=function(a){return H1(a).toString()};function A4(a){f2.call(this,a);this.X=a.X}r(A4,f2);A4.prototype.vn=function(){return{title:this.X.format("shareDesignDialogSharingTitle")}};function P4(a){var b=this;hc.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new Q4(a)).gi();b.trigger(R4,a)})}r(P4,hc);
function Mca(a){var b=$,c;soy.asserts.assertType(a.Ds instanceof soydata.SanitizedHtml||a.Ds instanceof soydata.UnsanitizedText||goog.isString(a.Ds),"inviteMembersHtml",a.Ds,"soydata.SanitizedHtml");var d=a.Ds;soy.asserts.assertType(goog.isString(a.Ev)||a.Ev instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.Ev,"string|goog.soy.data.SanitizedContent");var e=a.Ev;soy.asserts.assertType(goog.isString(a.Fv)||a.Fv instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.Fv,"string|goog.soy.data.SanitizedContent");
var g=a.Fv;soy.asserts.assertType(goog.isString(a.Dv)||a.Dv instanceof goog.soy.data.SanitizedContent,"inviteMemberBenefitsTitle",a.Dv,"string|goog.soy.data.SanitizedContent");var h=a.Dv;c=goog.asserts.assertArray(a.w4,"expected parameter 'inviteMemberBenefits' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.zg)||a.zg instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.zg,"string|goog.soy.data.SanitizedContent");var k=a.zg;a=goog.asserts.assertArray(a.Xr,"expected parameter 'emails' of type list\x3cstring\x3e.");
for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',l=a.length,m=0;m<l;m++)var n=a[m],d=d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(n)+'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(k))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+
soy.$$escapeHtml(n)+"\x3c/span\x3e"+z_({v:"shareDialog__inviteMemberButton buttonSubmittable",text:e})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(g)+"\x3e\x3c/div\x3e\x3c/div\x3e");d+="\x3c/div\x3e";if(0<c.length){d+='\x3cdiv class\x3d"shareDialog__inviteBenefitsContainer"\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitsTitle"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitList"\x3e';e=c.length;
for(g=0;g<e;g++)d+='\x3cdiv class\x3d"shareDialog__inviteBenefit"\x3e'+soy.$$escapeHtml(c[g])+"\x3c/div\x3e";d+="\x3c/div\x3e\x3c/div\x3e"}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/div\x3e");b=b(c.toString());return new P4(b)}function ada(a,b,c){a=S4(a,b);a.bJ.empty();a.mx(!0,c);a.eD.prop("disabled",!0)}function bda(a,b,c,d){S4(a,b).mx(!1,c);d&&window.setTimeout(function(){return a.trigger(v4)},1E3)}
function S4(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new Q4(a)}var R4="INVITE_MEMBER",v4="OK";function Q4(a){this.$el=a;this.eD=a.find(".shareDialog__inviteMemberButton");this.bJ=a.find(".shareDialog__inviteMemberError")}r(Q4,gc);Q4.prototype.gi=function(){return this.$el.data("email")};Q4.prototype.mx=function(a,b){b&&this.eD.text(b);this.eD.toggleClass("submitting",a)};Q4.prototype.lf=function(){this.bJ.text(this.bJ.data("error").toString())};function T4(a,b){var c=this;this.D=a.D;this.j=a.j;this.Z=a.Z;this.cc=a.cc;this.qr=a.qr;this.X=a.X;this.JG=a.JG;this.Xn=a.Xn;this.view=b;this.view.on(R4,function(a){return cda(c,a)})}function Dca(a,b){new T4(a,b)}
function cda(a,b){ada(a.view,b,a.X.format("shareDesignDialogiInviteMemberInvitingButton"));a.JR().then(function(){var c=Wx(Xx((new Vx).Aj(a.D.u()),"Shared_Design_Invite_Accept_Invitation"),[Object.freeze(Df(Ux,{email:b,role:vm}))]);c.resend=!0;return a.Z.uZ(c)}).tap(function(){a.j.wa(um(b,"design_shared_dialog"))}).then(function(){a.JG--;bda(a.view,b,a.X.format("shareDesignDialogInviteMemberSentButton"),0===a.JG);a.Xn()}).catch(function(){var c=S4(a.view,b);c.lf();c.mx(!1);c.eD.prop("disabled",!1)})}
T4.prototype.JR=function(){var a=this;if(!this.D.ii())return P.resolve();var b=Qx((new Ox).Uo(this.D.u()));this.D.Jb()||Px(b,this.qr+"′s team");return Rw(this.Z,b).tap(function(){return ry(a.cc)}).tap(function(){return sy(a.cc)})};function $ba(){return window.twttr&&window.twttr.txt?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/twitter-text-1.9.4.min.js"}))};function U4(a){this.$el=a}r(U4,gc);function V4(a){w(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new U4(a)}U4.prototype.show=function(){this.zt(!0);this.$el.hasClass("mask2--blur")&&W4(this,!0)};U4.prototype.hide=function(){this.zt(!1);this.$el.hasClass("mask2--blur")&&W4(this,!1);return Cf(this.$el[0])};U4.prototype.zt=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};U4.prototype.sh=function(){return this.$el.hasClass("mask2--visible")};
function W4(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function g_(a,b){var c=this;hc.call(this,a);this.fD=b;this.yX=this.r6.bind(this);this.$el.on("click",function(a){return c.Lf(a)});this.fD.on("keyup",this.yX)}r(g_,hc);f=g_.prototype;f.remove=function(){hc.prototype.remove.call(this);this.fD.off("keyup",this.yX)};f.show=function(){var a=this;kl(function(){return V4(a.$el).show()})};f.hide=function(){return V4(this.$el).hide()};f.sh=function(){return V4(this.$el).sh()};f.Lf=function(a){!$(a.target).closest(".dialog2__content").length&&X4(this)&&this.trigger(o_)};
f.r6=function(a){27===a.keyCode&&X4(this)&&this.trigger(o_)};function X4(a){return!!a.$el.find(".dialog2__closeButton").length}var o_="CLOSE";function Y4(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var e=a.v;soy.asserts.assertType(null==a.Pm||goog.isBoolean(a.Pm)||1===a.Pm||0===a.Pm,"dark",a.Pm,"boolean|null|undefined");var g=a.Pm;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function f_(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.dD||goog.isBoolean(a.dD)||1===a.dD||0===a.dD,"withShadow",
a.dD,"boolean|null|undefined");var e=a.dD;soy.asserts.assertType(null==a.cD||goog.isBoolean(a.cD)||1===a.cD||0===a.cD,"withRoundedCorners",a.cD,"boolean|null|undefined");var g=a.cD;soy.asserts.assertType(null==a.bD||goog.isBoolean(a.bD)||1===a.bD||0===a.bD,"withCloseButton",a.bD,"boolean|null|undefined");var h=a.bD;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var k=a.v;soy.asserts.assertType(null==a.aE||
a.aE instanceof goog.soy.data.SanitizedContent||goog.isString(a.aE),"contentClasses",a.aE,"null|string|undefined");a=a.aE;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Y4({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Z4(a){var b=this;this.view=a;this.view.on(o_,function(){return b.mw()})}Z4.prototype.mw=function(){this.close()};Z4.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function $4(a){this.user=a.user;this.profiles=a.profiles;this.ua=a.ua;this.kp=this.user.PF()}$4.prototype.getItem=function(a){var b=this;return this.kp&&this.kp[a]?P.resolve(this.kp[a]):this.PF().then(function(c){var d=null;c[a]||(d=b.ua&&b.ua.getItem(b.user.u()+"_"+a));return c[a]||d&&JSON.parse(d)||null})};$4.prototype.setItem=function(a,b){this.ua&&this.ua.setItem(this.user.u()+"_"+a,b);this.kp&&(this.kp[a]=b);return Qw(this.profiles,a,b)};
$4.prototype.removeItem=function(a){this.ua&&this.ua.removeItem(this.user.u()+"_"+a);this.kp&&delete this.kp[a];return Qw(this.profiles,a,null)};$4.prototype.PF=function(){var a=this;return Pw(this.profiles).then(function(b){return a.kp=b})};function dda(a){this.view=a.view;this.Db=a.Db}
function saa(a){var b=new G0({Zd:a.Zd}),c=Ie(a.X),d=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"emptyPlaceholder",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("shareDialog__emailInput"),"classes","shareDialog__emailInput","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput '+soy.$$escapeHtmlAttribute("shareDialog__emailInput")+'"\x3e\x3cdiv class\x3d"tagListInput__inputContainerWrapper"\x3e\x3cinput type\x3d"text" class\x3d"tagListInput__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(c)+'" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" /\x3e\x3c/div\x3e\x3c/div\x3e');d=d(c.toString());d=new j2(d);c=a.G.get(zba)?a.X.format("shareDesignDialogInviteEmailPlaceholder"):"";a={KI:b,UR:eda,TN:fda(a.va,a.Z),UN:gda,SN:hda,GE:ida,vL:Ie(a.X),jO:c,Dq:a.Dq};a=new u2(a,d);return new dda({view:d,Db:a})}function eda(a){return a.gi()||""}
function gda(a,b){function c(a,b){return-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}return c(a,b.La().qh())||c(a,b.La().Jb())||c(a,b.gi())}function fda(a,b){var c=null,d=dy(cy((new by).Aj(a))).Vg(100);return b.Kz(d).then(function(a){c=a.GF();if(a.Nb())return b.Kz(d.Bj(a.Nb()))}).then(function(a){a&&(c=c.concat(a.GF()));return c})}
function hda(a,b){var c=$,d=a.La().Jb()||"",e=a.gi()||"";a=a.La().hv()&&a.La().hv().sizes.get("50").oa()||"";soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"avatarUrl",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"lead",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"desc",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isNumber(b),"modelId",b,"number");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"menuListElement" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+'" /\x3e\x3cdiv class\x3d"menuListElement__right"\x3e\x3cspan class\x3d"lead"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"desc"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");c=
c(b.toString());return new TQ(c,!0,!1)}function ida(a){return a&&a.La().Jb()||""};function jda(a){var b=this;this.view=a;this.hK=null;a.on(a5,function(){Fa(null!=b.hK,"A callback must be provided");b.hK();b.view.hide()});a.on(b5,function(){return a.hide()})}
function raa(a){var b=a.i.format("shareDesignDialogConnectYourAccount"),c=a.i.format("shareDesignDialogConnectYourAccountButton");a=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"connectAccountMessage",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"connectButtonLabel",c,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Y4({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"connectAccountPopup"\x3e'+
soy.$$escapeHtml(b)+z_({text:c,v:"connectAccountPopup__connectButton",block:!0})+"\x3c/div\x3e"),Pm:!1}));b=a(b.toString());b=new c5(b);return{Db:new jda(b),view:b}}function sca(a,b){a.view.setPosition(b);a.view.show()}function qca(a,b){a.hK=b};function c5(a){var b=this;hc.call(this,a);a.on("click",".connectAccountPopup__connectButton",function(){return b.trigger(a5)});a.on("click",function(a){return b.Lf(a)})}r(c5,hc);c5.prototype.setPosition=function(a){this.$el.find(".connectAccountPopup").css({left:a.x,top:a.y})};c5.prototype.show=function(){V4(this.$el).show()};c5.prototype.hide=function(){V4(this.$el).hide()};c5.prototype.Lf=function(a){!$(a.target).closest(".connectAccountPopup").length&&this.trigger(b5)};var a5="CONNECT",b5="CLOSE";function d5(a,b,c){hc.call(this,a);this.Sr=b;this.pR=c}r(d5,hc);function e5(a,b,c,d){var e=this;this.view=b;this.Ab=c;this.JC=d;this.j=a.j;this.It=a.It;d3(this.JC,function(a){return e3(e.It,a).then(function(){return e.yO(a)})})}
function qaa(a){var b=a.X.format("shareDesignDialogTeamInvitesTitle"),c={Lj:a.rf.Lj(),ud:a.rf.ud(),mr:a.rf.mr(),hW:f3(a.lj),ap:a.rf.ap()},d=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");c=goog.asserts.assertObject(c,"expected parameter 'teamInviteFormModel' of type [addAnotherButtonLabel: string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, submitButtonLabel: string, upgradeMessage: string].");b=
soydata.VERY_UNSAFE.ordainSanitizedHtml(f_({v:"shareTeamInvitesDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shareTeamInvitesDialog__content"\x3e\x3cdiv class\x3d"shareTeamInvitesDialog__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+g3(c)+"\x3c/div\x3e")}));d=d(b.toString());b=new g_(d,$(document));c=new h3(d.find(".teamInviteForm"));d=new d5(d,b,c);b=new Z4(d.Sr);c=a.wK(d.pR);a=new e5(a,d,b,c);return{view:d,Db:a}}
e5.prototype.show=function(){this.j.wa(new am("team_invites_dialog_freeform_shown"));this.view.Sr.show()};e5.prototype.Me=function(){this.JC.Me()};e5.prototype.yO=function(a){var b=this;a.forEach(function(a){return b.j.wa(um(a,"design_shared_dialog_freeform"))});this.view.Sr.hide().then(function(){return b.view.Sr.remove()})};function f5(a){this.km=a.km;this.fq=!1}f5.prototype.send=function(a,b){return this.init().then(function(c){return new P(function(d,e){c.sendSMS(a,b,{},function(a){if(a)return e(a instanceof Error?a:Error(a));d()})})})};f5.prototype.init=function(){var a=this;return this.fq?P.resolve(g5()):kda().then(function(b){return new P(function(c,d){b.init(a.km,{},function(e){if(e)return d(e instanceof Error?e:Error(e));a.fq=!0;c(b)})})})};
function kda(){return document.getElementById("branch_snippet")?P.resolve(g5()):new P(function(a,b){var c=document.createElement("script");c.id="branch_snippet";c.src="https://cdn.branch.io/branch-latest.min.js";c.async=!0;c.onload=function(){return a(g5())};c.onerror=function(){b(Error("Unable to load the branch API"))};document.body.appendChild(c)})}function g5(){Fa("undefined"!==typeof window.branch);return window.branch};function lda(a){this.document=a.document;this.Ib=a.Ib;this.eS=a.eS}function J0(a){return new lda({document:a.document,Ib:a.Ib,eS:sA})}function H4(a,b){var c;a.document.isEmpty()?c="EMPTY_DOC":a.Ib.Nv()?dq(a.document)?c="UPLOADING":0===b.length&&(c="LICENSE_NO_OPTIONS"):c="SAVING";return c?P.reject(c):P.resolve()}function K_(a){if(!a.Ib.jj())return P.resolve();a.Ib.save();return a.eS(O.ny).bind(a).catch(function(){throw this.Ib.Nv()?"SAVING":"VERSION_CONFLICT";})}
function z4(a){return{pb:a.Ib.hc(),Zb:a.Ib.fe()}};function h5(a){this.view=a.view;this.H=a.H;this.EN=a.EN;this.Ga=Rc(a.i);this.it=a.it;this.GG=P.resolve();this.Xb=a.Xb;this.oP=a.oP;this.he=a.he||!1;this.Ka=a.Ka;this.ua=a.ua;this.document=a.document;this.Ib=a.Ib;this.Sb=a.Sb;this.Et=Infinity;this.sq=this.tq=!1;this.ne=a.ne;this.yd=a.yd;this.j=a.j;this.CP=a.CP;this.Sl=null;this.Z=a.Z;this.aa=a.aa;this.df=a.df;this.iu=a.iu;this.Fd=a.Fd;this.O={error:a.O.error,Mg:a.O.Mg,Ip:a.O.Ip,B3:null};this.NL=a.NL;this.eK=this.Pj=this.Bz=null;this.W=a.W;this.G=a.G;
this.yc=a.yc;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.eW.bind(this))}
function N_(a){function b(){return new i5({dc:a.dc,G:a.G,j:a.j,Ib:a.Ib,i:a.i,he:!!a.he,Nl:a.Nl,H:a.H,W:a.W})}var c=Rc(a.i),d=cd(a.i),e=(new I1({Qd:new qz({style:rz,H:a.H}),H:a.H,id:"exportDialog"})).render({Zo:c.Zo(),Wg:c.Wg()}),g=["ONE_USE","ROYALTY_FREE","EXTENDED"],h=my(a.Ka).ka().u(),k=new rU,d=jV({D:h,Ej:a.aa,Xe:!1,nf:a.fb,Ya:d,j:a.j}),h={error:(new B2({Ga:c,view:new C2})).init(),Mg:(new lV({j:a.j,aa:a.aa,Z:a.Z,ub:a.ub,Xb:a.Xb,i:a.i,na:ny(a.Ka).u(),va:h,kf:!0,view:new kV({xd:d.Db,cj:d.view}),
Sb:k,pb:a.Ib.hc(),cf:my(a.Ka).ka().ii(),G:a.G,yc:a.yc})).init(),Ip:new f2({H:a.H,Ga:c,view:new g2})},l=Pba(a);return new h5({view:e,i:a.i,j:a.j,Ib:a.Ib,document:a.document,Ka:a.Ka,dc:a.dc,yd:a.yd,aa:a.aa,Z:a.Z,fb:a.fb,ub:a.ub,H:a.H,ua:a.ua,he:a.he,EN:function(){return new z2({i:a.i,view:new A2({H:a.H}),kR:g})},Xb:a.Xb,CP:function(b){return new M1({j:a.j,$m:b})},df:g,it:new h2(Xc(a.i)),ne:a.ne,Sb:k,Fd:a.Fd,O:h,NL:function(d){return a.pW?P.resolve(new j5({lN:"PDF"===a.ne.format,Ga:c})):d.tq||d.sq?P.resolve(b()):
Qba(l,{vU:function(){d.ok()}}).then(function(a){return a||b()})},s6:a.s6,oP:!!a.pW,iu:a.iu,W:a.W,G:a.G,yc:a.yc})}f=h5.prototype;f.remove=function(){this.Bz&&this.Bz.cancel();this.view.remove().bind(this).then(function(){_.values(this.O).forEach(function(a){a&&a.remove()})})};f.wR=function(a){this.oP||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.he&&Tl(this.j,"download","export_dialog","first_time_publish"))};
f.wx=function(){var a;if(Infinity>this.Et){var b=moment.duration(this.Et);a=Math.floor(b.asHours());b=b.minutes();a=0<a?this.Ga.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Ga.format("publishViewExportingMinutesRemainingLicenseHeader",b);b=this.Ga.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof
goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=this.it.next();K1(this.view,a);this.GG.then(this.view.wx.bind(this.view))};f.pA=function(){this.GG.then(this.view.pA.bind(this.view))};
f.start=function(){return new P(function(a){this.Pj=null;this.eK=a;this.Sl=this.CP(this.ne.format);this.GG=new P(function(a){this.H.setTimeout(a,650)}.bind(this));this.eW()}.bind(this))};f.eW=function(){H4(this.Fd,this.df).bind(this).then(this.d4).then(this.t4).then(this.E1).then(this.Y3).then(this.WZ.bind(this,"PRINT")).catch(this.PQ)};f.d4=function(){if(!this.Ib.jj())return P.resolve();this.O.Ip.iF="SAVING";J1(this.view,this.O.Ip);this.Sl.track("save");return K_(this.Fd)};
f.t4=function(){this.O.Ip.iF="EXPORTING";J1(this.view,this.O.Ip);this.Sl.track("prepare")};f.PQ=function(a){this.pA();var b=this.O.error;b.Gw=Aba(b,a);J1(this.view,this.O.error);this.Sl.track("error",{errorType:a})};f.V1=function(){this.Et=Infinity;this.wx();J1(this.view,this.O.Ip);this.WZ("SCREEN").bind(this).catch(this.PQ)};
f.E1=function(){var a=this.Ib.fe(),b=new Gj({document:this.Ib.hc(),Zb:a,O:this.ne.O,bG:!0,cG:!0}),c=my(this.Ka).ka().u(),b=wj(this.aa,b).catch(function(a){if(a instanceof Qk)throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=vj(this.aa,new si({Am:[c],Y:null,limit:1})).catch(function(){throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Zb!==a)throw"VERSION_CONFLICT";sU(this.Sb,{items:b.items,df:this.df,Uv:b.Wl,om:!!this.W.G.get(og)});this.Et=wU(this.Sb);this.O.Mg.fa=0<c.$t.length?
c.$t[0]:null;return b.TB})};f.Y3=function(a){return a?(0<vU(this.Sb)?mda(this):nda(this)).bind(this).then(function(a){this.tq=0<=a.df.indexOf("ROYALTY_FREE");this.sq=0<=a.df.indexOf("EXTENDED");this.Et=a.Et}).then(this.p$):(this.wx(),P.resolve())};function nda(a){Fa(0===vU(a.Sb),"cannot purchase premium elements in background");return c2(a.O.Mg).bind(a).catch(function(){this.PQ("BACKGROUND_PAYMENT")})}
function mda(a){return new P(function(a){sZ(this.Xb,"contextTipRoyaltyFreePaymentOption");this.pA();oda(this).bind(this).then(function(){J1(this.view,this.O.Mg).bind(this).then(function(){return $1(this.O.Mg)}).then(function(a){a||pZ(this.Xb,"contextTipRoyaltyFreePaymentOption")});this.Sl.track("payment");this.O.Mg.once("clickDraft",this.V1.bind(this));this.O.Mg.once("paymentComplete",a)})}.bind(a))}f.p$=function(){this.wx();J1(this.view,this.O.Ip)};
function oda(a){return pda(a).bind(a).then(function(a){if(a)return qda(this).bind(this).then(this.O4)})}function k5(a){return"hasSeenPublishPaymentLicensesOnboarding:"+ny(a.Ka).u()}function pda(a){var b=k5(a),c=!!ny(a.Ka).PF().hasSeenPublishPaymentLicensesOnboarding,b=a.ua&&!!Eo(a.ua,b);return P.resolve(!c&&!b&&0<vU(a.Sb))}f.O4=function(){var a=k5(this);this.ua&&Mo(this.ua,a);Qw(this.Z,"hasSeenPublishPaymentLicensesOnboarding",!0)};
function qda(a){return new P(function(a){this.Sl.track("onboard_licenses");this.GG.bind(this).then(function(){var c=this.EN().init();c.show();c.on("complete",a)})}.bind(a))}
f.WZ=function(a){var b=this.Ib.hc(),c=this.Ib.fe();this.Sl.track("export",{exportType:a});var d=this.ne.format,e=this.ne.Ks,g;a:switch(a){case "SCREEN":case "CUSTOM":g="SCREEN";break a;case "PRINT":g="PRINT";break a;default:throw Error("unknown export type: "+a);}var h=new iw({type:a,format:d,Ks:e,UA:g,su:!!this.ne.su,Or:!!this.ne.Or,kt:!!this.ne.kt,Nx:this.ne.Nx,O:this.ne.O}),k=h.UA===Lg;a=new Vv({Zh:b,UK:c,bR:h,Ch:"WEB_1"});Fa(null==this.Bz);return this.Bz=this.yd.fE(a).bind(this).tap(function(a){0<
a.tB.gF.length&&(this.Pj=a.tB.gF[0].url,this.NL(this).bind(this).then(function(a){a.DQ(this.Pj);a.GQ(this.tq,this.sq);this.view.$el.toggleClass("exportDialog--exportComplete",!0);J1(this.view,a);if(a.WD){var b=a.WD;this.view.$(".dialog").addClass(b)}this.Sl.track("complete");this.wR(this.Pj);var b=this.j,c=Il("Download Design",{format:h.format,watermark:k,destination:"download",design:b.Ee,template:b.ej,transparent_background:h.kt,crop_marks:h.Or,page_count:h.O.length,is_print_pdf:this.iu.tW});b.track("design_publish",
c);this.O.B3=a}))}).catch(P.CancellationError,function(){}).finally(function(){this.Bz=null}).catch(function(){return P.reject("EXPORTING")})};f.hI=function(){(this.tq||this.sq)&&rZ(this.Xb)};f.cancel=function(){this.Sl.QC("cancel");this.finally()};f.ok=function(){this.Sl.QC("ok");this.finally()};f.finally=function(){Fa(null!=this.eK);this.eK(this.Pj);this.hI();this.remove()};function i5(){}i5=L1.extend({className:"exporting complete"});f=i5.prototype;
f.events=function(){return{"click .openUploadsTab":this.Y5,"click .button--homepageHint":this.T5}};f.initialize=function(a){this.dc=a.dc;this.G=a.G;this.i=a.i;this.Ga=Rc(a.i);this.Oa=Vc(a.i);this.j=a.j;this.sq=this.tq=!1;this.Pj=null;this.he=a.he;this.Nl=a.Nl;this.H=a.H;this.W=a.W;var b=W_,c=a.Ib;a=a.i;a.Sf||(a.Sf=new Fe(a.config));this.LQ=new b({location:"publish",Ib:c,Sf:a.Sf});this.listenTo(this.LQ,{shareClicked:this.KQ,emailSend:this.r3,shareViewResize:this.Au})};
f.refresh=function(){this.render();return P.resolve()};
f.render=function(){var a=this.el,b,c=this.wn();soy.asserts.assertType(c.nz instanceof soydata.SanitizedHtml||c.nz instanceof soydata.UnsanitizedText||goog.isString(c.nz),"downloadStartedHtml",c.nz,"soydata.SanitizedHtml");b=c.nz;soy.asserts.assertType(goog.isBoolean(c.rC)||1===c.rC||0===c.rC,"showLicenseHint",c.rC,"boolean");var d=!!c.rC;soy.asserts.assertType(c.NA instanceof soydata.SanitizedHtml||c.NA instanceof soydata.UnsanitizedText||goog.isString(c.NA),"licenseHint",c.NA,"soydata.SanitizedHtml");
var e=c.NA;soy.asserts.assertType(goog.isBoolean(c.he)||1===c.he||0===c.he,"showHomepageHints",c.he,"boolean");var g=!!c.he;soy.asserts.assertType(goog.isString(c.zv)||c.zv instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.zv,"string|goog.soy.data.SanitizedContent");c=c.zv;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(g?z_({tagName:"a",href:"/",v:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.LQ.render().el);return this};f.DQ=function(a){this.Pj=a};f.GQ=function(a,b){this.tq=a;this.sq=b};f.Y5=function(){$M.call($("#objectPanel .uploads a"),this.i);this.close()};f.T5=function(){Tl(this.j,"see_your_designs","export_complete_dialog","first_time_publish")};f.Au=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("done");this.he&&Ul(this.j,"export_complete","export_dialog","first_time_publish")};f.KQ=function(){Fa(null!=this.Nl);this.close();this.H.setTimeout(this.Nl,300)};
f.r3=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");Rl(this.j);Ay(this.dc,new lz({pb:wb.hc(),mode:a.mode,Ye:a.Ye,Xr:a.q3,YC:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");this.H.setTimeout(this.trigger.bind(this,"done"),600)}).catch(function(){this.LQ.trigger("emailSendingError",b.Ga.format("publishViewEmailSendingError"))})};f.rp=function(a){return H1(a).toString()};
f.vn=function(){return{title:this.Ga.format("publishViewDesignReady")}};
f.wn=function(){if(null==this.Pj)throw Error("export url must be set");var a="";if(this.tq&&this.sq)var a=this.Oa.Id(),b=this.Oa.Fc(),a=this.Ga.format("publishViewUnlimitedUseCombinedHint",a,b);else this.tq?a=Se(this.Ga,this.Oa.Fc()):this.sq&&(a=Se(this.Ga,this.Oa.Id()));return{nz:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ga.format("publishViewDownloadStarted",this.Pj)),rC:!!a,NA:soydata.VERY_UNSAFE.ordainSanitizedHtml(a),he:this.he,zv:this.Ga.zv()}};function j5(){}j5=L1.extend({className:"exporting complete"});
f=j5.prototype;f.initialize=function(a){this.Ga=a.Ga;this.Pj=null;this.lN=a.lN};f.DQ=function(a){this.Pj=a};f.GQ=function(){};f.refresh=function(){this.render();return P.resolve()};f.render=function(){this.el.innerHTML=Bba(this.wn());window.setTimeout(function(){this.trigger("done")}.bind(this),1E3);return this};f.events=function(){return{"click .useExportButton":function(){this.trigger("done")}}};f.wn=function(){return{message:this.Ga.format("publishViewExportCompleteEmbedded"),Wg:this.Ga.Wg()}};
f.rp=function(a){return H1(a).toString()};f.vn=function(){return{title:this.lN?this.Ga.format("publishViewExportCompletePdf"):this.Ga.format("publishViewExportCompleteImage")}};function zX(a,b){this.RO=a.RO;this.Z=a.Z;this.i=a.i;this.view=b}
zX.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.RO)return b(!0);Pw(a.Z).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);pp(a.view).then(function(c){if(a.view.HG){Qw(a.Z,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new mZ({af:$(document),Te:$("body"),Sy:a.i.format("editorReplaceContentContextTipText"),fd:a.i.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).sx(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function yX(a){mp.call(this,{className:"replaceContentDialog",H:a.H,jf:!1,title:a.cS});this.HG=!1;var b=$,c;c=a.Y2;var d=a.h5,e=a.x9;a=a.bS;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,
"replaceButton",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+z_({v:"replaceContentDialog__cancelButton buttonSecondary",text:c})+z_({v:"replaceContentDialog__replaceButton",text:e})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}r(yX,mp);yX.prototype.events=function(){return _.extend(mp.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.V$})};yX.prototype.render=function(){mp.prototype.render.call(this);return this};yX.prototype.V$=function(a){this.HG=a.target.checked};function a1(){}a1=Backbone.View.extend({className:"linearProgress"});f=a1.prototype;
f.OJ=function(a){this.UZ=(100/a.length).toFixed(4)+"%";return $("\x3cul\x3e"+a.map(function(a){return'\x3cli class\x3d"stage '+a.v.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")};f.initialize=function(a){this.UZ="0%";this.$el.html(this.OJ(a.B$))};
f.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
f.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.UZ);window.setTimeout(function(){d.addClass("appear")},100*a)})};f.remove=function(){};function HS(){}HS=Backbone.View.extend({tagName:"div",className:"fxPanel"});f=HS.prototype;f.events=function(){var a={};a["click .preset"]=this.d2;a["click .presets .scrollLeft"]=this.N9;a["click .presets .scrollRight"]=this.O9;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.BX;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.BX;a["click .hex"]=this.X1;a["click .toggleAdvanced"]=this.U$;return a};
f.initialize=function(a){this.lP=a.lP;this.qD=this.model.filter.name;this.KH=null;this.fN=!1;this.uY={};this.fS=this.lo=0;this.Af=a.Af;this.listenTo(this.model,"change",this.refresh);this.listenTo(M,"beforeOperationStackPop",this.MB);this.listenTo(T,"hideContextualControlsRequested",this.remove);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:he(this.Af),filterCodeMsg:this.Af.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");wJ(this.model);window.setTimeout(function(){rda(a);sda(a);l5(a);a.refresh()},300);this.KH=this.model.ZQ;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");this.MB();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&CD(this.model);Backbone.View.prototype.remove.call(this)};function IS(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
f.refresh=function(){this.qD=this.model.filter.name;this.Iba||tda(this);uda(this);m5(this);var a="Normal"==this.model.filter.name,b=!this.model.mN();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);l5(this)};function n5(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function rda(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Kc();if(c){var c=c[yD].oa(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:ie(a.Af,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new V(0,0,a,b);Gm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});lD(mD,e,c);b.append(d);b.find("."+o5(a.qD)).addClass("active")}a.lP.sort(function(b,c){b=ie(a.Af,b.name);c=ie(a.Af,c.name);return b<c?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+vda(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){wda(a,e,c)},300*d)})}
function wda(a,b,c){a.model.jL(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new V(0,0,a,b);Gm(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.vaa+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(ie(a.Af,c.name)));c.name===a.qD&&b.addClass("active")})}
function m5(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+o5(a.qD)).addClass("active");0===a.lo?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.lo===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function sda(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();n5().forEach(function(d){var e=je(a.Af,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:p5(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function tda(a){var b=a.$el.find(".ranges");n5().forEach(function(c){b.find("."+p5(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function uda(a){var b=a.$el.find(".ranges");n5().forEach(function(c){var d=b.find("."+p5(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function l5(a){a.$el.find("input.hex").val(a.model.filter.ra())}function vda(a,b){var c=o5(b.name);a.uY[c]=b;return c}function o5(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function p5(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.d2=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)AJ(this.model);else{var d=this.uY[a];window.setTimeout(function(){zJ(b.model,d)},150)}window.clearTimeout(this.fS)}};
f.BX=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.YH(e[1],a),window.clearTimeout(this.fS),this.fS=
window.setTimeout(function(){c.model.update(!0)},400))};f.X1=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=kJ(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.sf*a.vignette*a.Zf)||(b.filter=a,b.Jj=!0,b.update(!0));c.fN=!1}function b(b){13==b.which&&a()}if(!this.fN){this.fN=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.ra()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.N9=function(){0!==this.lo&&(this.lo-=3,q5(this))};f.O9=function(){var a=parseInt($(".preset").length,10);this.lo<a-5&&(this.lo+=3,q5(this))};function q5(a){var b=-72*a.lo;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");m5(a)}
f.U$=function(){var a=this;this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(he(this.Af)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.Af.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced"),P.delay(300).then(function(){a.$el.addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.MB=function(){var a=K.Ea().Wa()[0],b=this.model.ZQ,c=!a,d=_.isEqual(b,this.KH);c||d||(a={placeholderIndex:a.Jc(),elementIndex:a.K(),pageIndex:ep(K,a.R()),"new":{filter:b},old:{filter:this.KH}},M.register(new Y(11,a)),this.KH=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"presets_container"\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function r5(a){return("YEARLY"===a.Fj?1:12)*a.ba}function xda(){this.pd=window.pricingPlans}function F0(a){return cj(a.pd.paidMonthly)}var Q0=0;function O0(a){var b=Map,c=Q0,d;d=[F0(a),cj(a.pd.paidYearly)];c=[c,d];a=[cj(a.pd.paidMonthlyImagesPro),cj(a.pd.paidYearlyImagesPro)];return new b([c,[1,a]])};function yda(a){this.plan=a.io;this.title=a.title;this.pricePerMonthText=a.S8;this.summaryText=a.H$;this.billingCycleText=a.v1}
function s5(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return r5(b)-r5(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.Fj)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.Fj)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.ba/("YEARLY"===a.Fj?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.Fj?b.format("canvaForWorkUpgradePlanPercentSaving",((r5(d)-r5(a))/r5(d)*100).toFixed(0)/100):c(r5(a),"YEARLY");return new yda({io:a,title:g,S8:h,H$:k,v1:"YEARLY"===a.Fj?b.format("canvaForWorkUpgradePlanBilledYearly",a.ba):""})})};function t5(){}t5=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=t5.prototype;f.initialize=function(a){this.wb=a.wb};f.events=function(){return{click:this.Y1}};f.render=function(){this.$el.html(this.wb.map(this.T8).join(""));return this};f.Y1=function(a){a=$(a.target).closest("li");u5(this,a.index())};
function u5(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.wb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.wb[b].plan))}f.VH=function(){function a(a){switch(a.Fj){case "MONTHLY":return a.ba;case "YEARLY":return r5(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.wb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.wb.indexOf(b[0]);u5(this,b)};
f.HQ=function(a){this.wb=a;this.render();this.VH()};f.T8=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function v5(a){this.O3=a.N3;this.G4=a.F4;this.fr=a.VZ.map(function(a){return new w5(a)});this.fr.forEach(function(a){this.listenTo(a,{willAdvance:this.SV,advance:this.z7,finish:this.B7,reset:this.C7,die:this.A7})},this);this.gP=a.gP.map(function(a){return _.defaults({},a,{position:"leftTop",pi:0})});this.GY=!1;this.mI=new x5({kO:a.VZ.length,xe:a.xe})}f=v5.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function Dp(a){var b=[],c=[],d=a.xe;b.push([{le:"#documentFileMenuButton",Xg:10},{le:".dropdownMenuPopoverContainer .documentResizePaneButton",uU:!0,pi:500,ym:305,Xg:18}]);c.push({le:".documentResizeButton",wD:-170,pi:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),We:jf(d)});b.push([{le:"#objectPanel menu .uploads a",Ar:"#objectPanel.stage6",ym:15,Xg:15},{le:"#resultsUpload .newUploadsFolder",Bs:"#objectPanel:not(.stage6)",mP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},
pi:500}]);c.push({le:"#resultsUpload .newUploadsFolderThumbnail",pi:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),We:jf(d)});a.gz&&(b.push([{le:"#objectPanel menu .layout a",Ar:"#objectPanel.stage2",ym:15,Xg:15},{le:"#resultsLayout .layoutsControls .tabDropdown",Xg:10,Bs:"#objectPanel:not(.stage2)",pi:500},{le:".layoutsTabMenu__item--teamTemplates",Bs:"#objectPanel:not(.stage2)",ym:22,Xg:16,pi:100}]),c.push({le:".layoutsTabMenu__item--teamTemplates",
uca:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),We:jf(d)}));b.push([{le:"#objectPanel menu .backgrounds a",Ar:"#objectPanel.stage5",ym:15,Xg:15},{le:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",dM:!0,Bs:"#objectPanel:not(.stage5)",JN:!0,pi:500}]);c.push({le:"#resultsBackground .pinnedPalette .colorPaletteEntry",text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),We:jf(d)});
b.push([{le:"#objectPanel menu .uploads a",Ar:"#objectPanel.stage6",ym:15,Xg:15},{le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",Bs:"#objectPanel:not(.stage6)",mP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},pi:500}]);c.push({le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",pi:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),We:jf(d)});a.e9&&(b.push([{le:".publishToStreamSwitch",ym:5,Xg:5,dM:!0},{le:".switchPublishTemplate",pi:500}]),c.push({le:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),We:jf(d)}));var e="C4W_UPGRADED_USER"===a.wh;a=e?[d.format("starOnboardingActionSetupTeam"),hf(d)]:[d.format("starOnboardingActionGotoTeamSpace"),hf(d)];b=new v5({N3:{xT:[d.format("starOnboardingActionFindTheStars")],
sg:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),kQ:"",xe:d},F4:{xT:a,sg:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),kQ:e?"starFinderSplashScreenNewUser":void 0,xe:d},VZ:b,gP:c,xe:d});b.once("finish",function(a){"solo"===a?(null!=U&&U.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?(null!=U&&U.track("upgrade_onboarding_finish_team"),window.location="/brand/members"):
"stream"===a?(null!=U&&U.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=U&&U.track("upgrade_onboarding_finish_invited")});return b}f.start=function(){var a=this;zda(this).then(function(){a.mI.render().$el.appendTo(document.body);Ada(a)})};f.remove=function(){this.stopListening();this.mI.remove();this.fr.forEach(function(a){a.remove()})};f.SV=function(a){this.fr.forEach(function(b){b!==a&&b.toggle(!1)})};
f.z7=function(a){this.SV(a);this.GY||(this.GY=!0,y5(a.gh))};f.B7=function(a){function b(){a.toggle(!1);z5(d.mI)}function c(){A5(d)}var d=this,e=this.fr.indexOf(a),g=this.gP[e];P.delay(g.pi).then(function(){var a=new B5(g);a.Ci($(g.le));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});C5(this)};function A5(a){a.fr.every(function(a){return D5(a)})?Bda(a).then(a.remove.bind(a)):E5(a)}f.C7=function(){E5(this)};f.A7=function(){z5(this.mI);A5(this)};
function E5(a){a.fr.forEach(function(a){D5(a)||a.toggle(!0)})}function C5(a){a.fr.filter(function(a){return!D5(a)}).forEach(function(a,c){a.jC(2*c+1)})}function Ada(a){C5(a);a.fr.forEach(function(a){a.start()})}function zda(a){var b=new F5(a.O3);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=U&&U.track("upgrade_onboarding_start_stars");c()})})}
function Bda(a){var b,c=new F5(a.G4);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function B5(){}B5=Cz.extend({className:"starFinderPopOver"});B5.prototype.initialize=function(a){a=_.defaults({},a,{wD:0,ym:0,We:a.We});Cz.prototype.initialize.call(this,a);this.options=a};B5.prototype.Rp=function(){return DX};B5.prototype.render=function(){Cz.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
B5.prototype.nm=function(){Cz.prototype.nm.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.wD).css("top",parseInt(a.css("top"),10)+this.options.Xg);return this};function x5(){}x5=Backbone.View.extend({className:"starFinderProgress"});x5.prototype.initialize=function(a){this.kO=a.kO;this.xe=a.xe};x5.prototype.render=function(){this.$el.html(this.template({progressTitle:this.xe.Y8()}));for(var a=0;a<this.kO;a++)this.$(".starFinderProgressList").append(this.B4());return this};function z5(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}x5.prototype.B4=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
x5.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function F5(){}F5=Backbone.View.extend({className:"starFinderSplashScreen"});f=F5.prototype;f.events=function(){return{"click .buttonNext":this.W5}};f.initialize=function(a){this.H=jl;this.options=a;this.Qd=new qz({H:this.H,style:rz});this.sg=a.sg;this.title=a.title;this.xe=a.xe};
f.render=function(){var a=$(this.n1());this.$el.html(this.template(this.xi()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.xT.forEach(function(a,c){a=$(this.z1({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.kQ&&this.$el.addClass(this.options.kQ);return this};
f.show=function(){var a=this,b=BD(mD,this.$(".starFinderStarImage img").prop("src")),c=BD(mD,this.$(".starFinderAstronaut img").prop("src"));this.Qd.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Qd.hide();this.H.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.xi=function(){return{subtitle:this.options.sg,title:this.options.title,specialInstructionsTitle:this.xe.y$(),specialInstructionsHtml:this.xe.w$(),specialInstructionsQuestionText:this.xe.x$(),responseSolo:this.xe.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.xe.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:"/brand/members"}};
f.W5=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.n1=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.z1=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function w5(a){this.active=!1;this.Km=0;this.gh=new G5(a[0]);H5(this);this.EP=0;this.xC=a;this.cl=new FP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.j6.bind(this),100,{trailing:!1});this.cl.on("attrModified",a);this.cl.on("subtreeModified",a)}f=w5.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.gh.show();this.active=!0};f.remove=function(){this.stopListening();HP(this.cl);this.gh.remove();this.active=!1};function D5(a){return a.Km===a.xC.length}f.jC=function(a){this.EP=a;0===this.Km&&this.gh.jC(a)};function H5(a){a.listenTo(a.gh,"advance",a.y7);a.listenTo(a.gh,"die",a.D7)}f.toggle=function(a){D5(this)||(this.active=a,this.gh.toggle(a))};
f.y7=function(){function a(){c.cl.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;HP(this.cl);this.Km++;this.gh.remove();D5(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),I5(this).then(b).then(a).catch(function(){}))}};f.D7=function(){this.active&&(HP(this.cl),this.gh.remove(),this.toggle(!1),this.Km=this.xC.length,this.trigger("die",this))};
f.j6=function(){var a;if(a=this.active&&0<this.Km){var b=J5(this.gh);if(D5(this)||!b.is(":visible"))a=!1;else if(a=this.xC[this.Km].Bs)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.gh.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){HP(this.cl);this.Km=0;this.gh.remove();I5(this);a||this.trigger("reset",this)};
function I5(a){var b=_.extend({},a.xC[a.Km],{filled:a.Km===a.xC.length-1});a.gh=new G5(b);H5(a);a.EP&&a.jC(a.EP);return a.gh.show()};function G5(){}G5=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});G5.prototype.events=function(){return{"click .starFinderStar":this.Lf}};G5.prototype.initialize=function(a){a=_.defaults({},a,{wD:0,ym:0,Xg:0,uU:!1,filled:!1,dM:!1,JN:!1,position:3,pi:0});this.nN=!1;this.options=a;this.AH=0;this.Rs=this.Rs.bind(this);this.bB=this.bB.bind(this);this.ow=_.throttle(this.ow.bind(this),100);$(document).on("click",this.ow);$(window).on("resize",this.ow)};
G5.DS=1600;G5.oJ=500;f=G5.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.uU);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.bZ=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.wD);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.ym)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Xg);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Xg)}var c=this,d=J5(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.ow);$(window).off("resize",this.ow);J5(this).off("click",this.Rs).off("mousedown",this.bB);window.clearInterval(this.AH);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.Bs&&0<$(this.options.Bs).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.pi).then(function(){this.options.mP&&this.options.mP();if(0===J5(this).length)return this.trigger("die",this),P.reject();K5(this,!0);this.bZ();if(this.options.JN)J5(this).off("mousedown",this.bB).on("mousedown",this.bB);else J5(this).off("click",this.Rs).on("click",this.Rs);this.options.Ar&&0<$(this.options.Ar).length&&
this.trigger("advance",this)}.bind(this))};f.jC=function(a,b){function c(){y5(e)}function d(){y5(e);e.jC(a,e.nN)}var e=this,g=0!==this.AH,h=1E3*a;this.nN=!!b;window.clearInterval(this.AH);this.AH=g?window.setInterval(c,h+(G5.DS+(b?2*G5.oJ:0))):window.setTimeout(d,h)};
function y5(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(G5.DS).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){K5(d,!1);return P.delay(G5.oJ)}var d=a;a.nN?(K5(d,!0),P.delay(G5.oJ).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);K5(this,a);this.options.Ar&&0<$(this.options.Ar).length&&this.trigger("advance",this)};function J5(a){return $(a.options.le)}
function K5(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.Rs=function(){this.trigger("advance",this)};f.bB=function(){var a=this;J5(this).one("mouseup",function(){a.Rs()})};f.Lf=function(){function a(a){var d=J5(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.dM?(J5(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.JN||b.Rs()):J5(this).click()};f.ow=function(){P.delay(300).bind(this).then(this.bZ)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function Cda(){}function PM(a){return Object.freeze(Df(Cda,a))}function WN(a){if(a.magic)return Object.freeze(Df(L5,a.magic))}function L5(){}L5.prototype.Mb=function(){return this.color};L5.prototype.re=function(){return this.thumbnail};function HW(a,b,c){function d(){return b.map(function(b){return HW(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=HW(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function TV(a,b){(b=b.serialize())&&M5(a,b)}function M5(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&M5(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function N5(){}N5=mp.extend({className:"createTeamDialog"});N5.prototype.events=function(){return _.extend(mp.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};N5.prototype.initialize=function(a){this.pd=a.pd;this.lS=cj(this.pd.pd.paidYearly);this.Ek=a.Ek;mp.prototype.initialize.call(this,{H:jl,jf:!0,Gr:!0,Re:!0})};
N5.prototype.render=function(){mp.prototype.render.call(this);var a=moment().add(this.lS.Vf,"days").format("LL"),b=(r5(this.lS)/12).toFixed(2),c=this.lS.Vf;this.$(".dialog").html(this.jK({createTeamWelcomeDescription:this.Ek.E2(b),createTeamWelcomeTitleHtml:this.Ek.F2(c),createTrialPeriodPoint1Html:ef(this.Ek),createTrialPeriodPoint2Html:ff(this.Ek,a),createTrialPeriodPoint3Html:gf(this.Ek),createYourTeam:this.Ek.G2()}));return this};N5.prototype.jK=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function O5(a){w(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.zg=a.zg||null;this.Is=a.Is||null;this.yb=a.yb||null;this.size=a.size;this.$p=!!a.$p;this.Hq=!!a.Hq;this.So=!!a.So;this.vp=!!a.vp}r(O5,Backbone.View);
O5.prototype.render=function(){var a=this.zg&&this.Is,b=!!this.Is;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.zg&&this.$el.css("backgroundImage","url("+this.zg+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.Is&&this.$el.attr("data-letter",this.Is);this.yb&&(this.$el.css("backgroundColor",this.yb.ra()),208<this.yb.iv()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.So);this.$el.toggleClass("avatar--darkBorder",this.vp);this.$el.toggleClass("avatar--glow",this.$p);this.$el.toggleClass("avatar--pointer",this.Hq);return this};function P5(a){return(a.Jb()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function Q5(a){a=a.hn();return An(a?"#"+a:"#b0b0b0")}
function R5(a,b){a=a.hv().sizes;Fa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(ma(a.values()))).sortBy(function(a){return Math.abs(a.Wp()-c)}).sortBy(function(a){return a.Wp()<c}).first().value().oa()}function u4(a){var b=R5(a.user,a.size);a=new O5({zg:b,size:a.size,$p:a.$p,Hq:a.Hq,So:a.So,vp:a.vp});a.render();return a}function s4(a){var b=P5(a.D),c=Q5(a.D);a=new O5({Is:b,yb:c,size:a.size,$p:a.$p,Hq:a.Hq,So:a.So,vp:a.vp});a.render();return a};function S5(a){this.ZF=a.ZF;this.Z=a.Z;this.AL=a.AL}S5.prototype.create=function(a){return sj(this.ZF,"/teams",{displayName:a}).spread(function(a){return Tw(a.brand)})};function T5(a){Backbone.View.call(this,{className:"active brand"});this.Td=a.Td;var b;b={D:a.D,user:a.user,size:60,So:!0};if(b.D.ii())b=u4(b);else{var c=R5(b.user,b.size),d=P5(b.D),e=Q5(b.D);b=new O5({zg:c,Is:d,yb:e,size:b.size,$p:b.$p,Hq:b.Hq,So:b.So,vp:b.vp});b.render()}this.CJ=b;this.D=a.D;this.user=a.user;this.aH=!!a.aH;this.jz=a.jz}r(T5,Backbone.View);
T5.prototype.render=function(){var a=this.el,b;b=this.D.Jb()||this.Td.CB();var c=this.user.Jb(),d=this.jz?void 0:"/"+this.user.qh(),e=this.Td.Lca(),g=this.Td.gda(),h=this.aH;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"settings",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(e)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.CJ.$el);return this};function U5(){}U5=Backbone.View.extend({tagName:"li",className:"brand"});U5.prototype.initialize=function(a){this.CJ=a.Cr.D.ii()?u4({user:a.user,size:36}):s4({D:a.Cr.D,size:36});this.Cr=a.Cr;this.Td=a.Td};U5.prototype.render=function(){this.$el.html(this.template({personal:this.Cr.D.ii(),personalLabel:this.Td.qca(),displayName:this.Cr.D.Jb(),url:this.Cr.url}));this.$(".left").append(this.CJ.$el);return this};U5.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function V5(){}V5=Backbone.View.extend({className:"brandListWrapper"});V5.prototype.initialize=function(a){this.Am=a.Am;this.user=a.user;this.Td=a.Td};V5.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.Am.forEach(function(b){(new U5({Cr:b,user:this.user,Td:this.Td})).render().$el.appendTo(a)}.bind(this));return this};function W5(){}W5=Backbone.View.extend({className:"actions",tagName:"ul"});W5.prototype.initialize=function(a){this.Td=a.Td;this.sC=!!a.sC};W5.prototype.render=function(){this.$el.toggleClass("singleAction",!this.sC);this.$el.html(this.template({showUpgradeButton:this.sC,upgrade:this.Td.VC(),signOut:this.Td.signOut()}));return this};W5.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};W5.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function X5(){}X5=Cz.extend({className:"userMenuContainer"});
X5.prototype.initialize=function(a){this.Vh=a.Vh;this.user=a.user;this.Td=a.Td;this.SS=a.SS;this.HZ=a.HZ;this.d1=new T5({Td:a.Td,D:this.SS.D,user:a.user,aH:a.aH,jz:a.jz});this.qT=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.d1.render().$el);var c=new W5({Td:a.Td,sC:a.sC});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.HZ&&(this.qT=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.qT));b.append(c.render().$el);Cz.prototype.initialize.call(this,
{content:b,position:["leftTop",zp],Of:a.Of})};X5.prototype.show=function(){this.Vh.now();return Cz.prototype.show.call(this)};function Y5(a,b){this.s8=(this.lT="PUBLIC"!==a)?a:"*";this.O$=b}Y5.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.lT})};Y5.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.O$.postMessage(a,this.s8)};function Dda(a,b,c,d,e,g,h){function k(a){a.preventDefault();hh();fa?(N.sendMessage({type:"PublishRequested",designId:wb.hc(),untouched:q()}),u()):p()}var l=window.CANVA_EMBED,m=Jb,n=Lb;function p(){var a=!1,b=new mp({H:jl,Gr:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),jf:!1,Re:!1,title:"Saving your design..."});!fa&&wb.jj()&&(b.show(),
a=!0);sA(2E4).then(function(){a&&b.remove();N.sendMessage({type:"Close",designId:wb.hc(),untouched:q()})},function(){var c=new mp({H:jl,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});
a&&b.remove();c.show()})}function q(){return 1===wb.fe()&&K.isEmpty()}function u(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function v(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function z(a){var c=a.layout;return c?b.lb(new Lv({id:c,bq:!1})).then(function(a){return a.vc},function(){return t(a)}):t(a)}function t(a){a=a.pages&&a.pages[0];return pv(a?a.width:0,a?a.height:0,"PIXELS")}function x(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(La).map($m),c=hM(Hb,c);LL(yb,c,!1,b)})}function H(){var k=new S5({ZF:Ib,Z:Eb,AL:Jb.G.get(Sf)});return A0(a,{config:a,Uk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},Ka:J,mc:ac,yd:Cb,aa:Bb,Z:Eb,Ra:Ab,fj:b,Na:c,cc:Gb,dc:d,ub:e,ef:yb,fb:Q,i:Lb,H:jl,pd:g,P$:k,ua:L,Xb:Za,pu:ta,Co:new w4,G:h,yc:null,wd:null})}function E(){var a={O:_.range(1,K.jc()+1),format:ha?"PDF":"PNG",Ks:96};N_({i:n,W:Jb,j:U,Ib:wb,document:K,Ka:J,dc:d,yd:Cb,aa:Bb,Z:Eb,cc:Gb,fb:Q,ub:e,pd:g,H:jl,
ua:L,Xb:Za,ne:a,pW:!0,Fd:J0({document:K,Ib:wb}),G:h,iu:{tW:!1},yc:null,wd:null,Na:c}).start().then(function(a){null!=a&&N.sendMessage({type:"Published",designId:wb.hc(),exportUrl:a,untouched:q()})}).finally(v)}var L=null;try{L=lm()}catch(qa){}var J=jy(),Q=cU(),S=a.Rz(),N=new Y5(l.embedDomain,window.parent),ha=!1,fa=!0,ta=window.availableLocales||{};N.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:u,close:p,focus:v,publish:function(){try{E()}catch(a){v()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var g="object"===typeof c&&c||{},k=Uo(),l=new Lw(Ib);P.all([z(g),x(g.media)]).spread(function(c){var d=ny(J).OC();(new up({Bp:k,Wc:Mb,Xb:Za,Z:l,W:m,G:h,i:n,j:U,Oe:T,ua:L,Wk:d,Eu:Kz,ub:e,fb:Q,Ka:J,fa:S})).go(g,c,a,null,H,null);!0===b.killInterface&&(oA=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){fa=!!a.enabled},
setMultipagePdf:function(a){a.enabled?ha=!0:(X_.U2(),aV.T2())},setStaticTitle:function(a){mP.f$(a.title)},upload:function(a){$M.call($("#objectPanel .uploads a"),n);aM(new XL({source:"third_party_editor",J:lc(n),ZG:function(a){var d=K.Ea().l(),e=K.Ea().o(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),isCutout:!1,width:g,height:h};yg(a).dl(K.Ea());N.sendMessage({type:"Upload",status:"done"})},progress:(new TL).Uo("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});wb?N.sendMessage({type:"Editor",designId:wb.hc()}):N.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();p()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});mP.tU();mP.V2();$("#documentMenuUpgrade").remove();var Za=function(){return new oZ({Z:Eb,i:n,Rk:["contextTipRoyaltyFreePaymentOption"],gE:function(a){return nZ({key:a,i:od(n),af:$(document),Te:$("body")})},
root:$("body")})}();B0.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:k}});a.$el.text("Publish");return a}};function Eda(a){soy.asserts.assertType(goog.isString(a.NI)||a.NI instanceof goog.soy.data.SanitizedContent,"videoId",a.NI,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.NI)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function Fda(a){soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"postUrl",a.jo,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.jo)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Gda(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"postUrl",a.jo,"string|goog.soy.data.SanitizedContent");var c=a.jo;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(c)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function Z5(a,b){b=void 0===b?$("body"):b;Backbone.View.call(this,{className:"presentationLightbox"});this.Ve=b;this.H=a}r(Z5,Backbone.View);f=Z5.prototype;f.events=function(){return{"click .presentationLightbox__close":this.aK}};
f.show=function(){var a=this;this.trigger("show");this.Ve.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.SF=this.SF.bind(this);this.Ve.on("keyup",this.SF);this.$el.appendTo(this.Ve);this.H.requestAnimationFrame(function(){$("\x3e .mask",a.Ve).addClass("on").on("click",function(){return a.aK()});a.$el.addClass("playing")})};f.SF=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Ve.off("keyup",this.SF),this.aK())};
f.aK=function(){var a=this;this.trigger("close");var b=$("\x3e .mask",this.Ve);this.$el.addClass("disappearing");this.H.setTimeout(function(){a.$el.remove()},500);this.Ve.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");b.addClass("off");this.H.setTimeout(function(){b.removeClass("on off white")},500);b.off("click")};f.jf=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
f.render=function(a,b){var c=this,d,e=500;switch(a){case "video":this.el.innerHTML=Eda({NI:b});this.H.setTimeout(function(){return c.jf()},e);break;case "facebookPost":this.el.innerHTML=Fda({jo:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");e=Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){a.addClass("presentationLightbox__social--loaded");c.jf()},e)});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),10);this.el.innerHTML=
Gda({jo:b,width:a});this.H.setTimeout(function(){return c.jf()},e);break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){e=
Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){g.addClass("presentationLightbox__social--loaded");c.jf()},e);a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var KC={Yt:/^#(video-)([a-z0-9-]+)$/,aba:/^(?:https?:\/\/)?support\.canva\.com\/.+/,NS:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,uS:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,B0:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,KS:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function $5(a){this.ZU=this.C_=!1;this.zL=!!a;this.xv=this.xv.bind(this)}f=$5.prototype;f.toggle=function(a,b){var c=this;b.filter(this.h4).forEach(function(b){a?(a6(c,b),b.C().on("mousedown",c.xv).on("touchstart",c.xv).on("mouseenter",c.LU).on("mouseleave",c.MU).attr("data-has-link","true")):a6(c,b)})};function a6(a,b){b.C().off("mousedown",a.xv).off("touchstart",a.xv).off("mouseenter",a.LU).off("mouseleave",a.MU).attr("data-has-link","")}f.h4=function(a){a=a.mn();return KC.Yt.test(a)||KC.URL.test(a)};
f.xv=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").mn();if(KC.KS.test(a)&&!this.C_){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.C_=!0}else KC.uS.test(a)&&!this.ZU&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.ZU=!0);switch(!0){case KC.NS.test(a):case KC.Yt.test(a):Hda(this,a);break;case KC.B0.test(a)&&this.zL:b6(this,"facebookVideo",a);break;case KC.uS.test(a)&&this.zL:b6(this,"facebookPost",a);break;case KC.KS.test(a)&&this.zL:b6(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
f.LU=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};f.MU=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function Hda(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(KC.NS)[1];b=new Z5(jl);b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function b6(a,b,c){var d=new Z5(jl);d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function c6(a){this.type=a}f=c6.prototype;f.CD=function(){throw Error("not implemented");};f.ED=function(){throw Error("not implemented");};f.mu=function(){throw Error("not implemented");};f.equals=function(){throw Error("not implemented");};f.matches=function(a){return null!=a&&this.mu().equals(a.mu())};function d6(a,b,c){w(0<=a&&255>=a&&0==a%1);w(0<=b&&255>=b&&0==b%1);w(0<=c&&255>=c&&0==c%1);this.type=1;this.r=a;this.ll=b;this.b=c}r(d6,c6);f=d6.prototype;
f.CD=function(){var a=this.r,b=this.ll,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=(d+e)/2;if(d==e)a=e=0;else{var h=d-e,e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:a=(b-c)/h+(b<c?6:0);break;case b:a=(c-a)/h+2;break;case c:a=(a-b)/h+4;break;default:throw Error();}a/=6}return new e6(360*a,100*e,100*g)};
f.ED=function(){var a=this.r,b=this.ll,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c);if(d==e)a=e=0;else{var g=d-e,e=g/d;switch(d){case a:a=(b-c)/g+(b<c?6:0);break;case b:a=(c-a)/g+2;break;case c:a=(a-b)/g+4;break;default:throw Error();}a/=6}return new f6(360*a,100*e,100*d)};f.mu=function(){return this};f.equals=function(a){if(1!=a.type)return!1;a=a.mu();return this.r==a.r&&this.ll==a.ll&&this.b==a.b};f.toString=function(){return"rgb("+this.r+", "+this.ll+", "+this.b+")"};
f.ra=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.ll).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};function e6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=2;this.h=a;this.s=b;this.zl=c}r(e6,c6);f=e6.prototype;f.CD=function(){return this};f.ED=function(){var a=this.s,b=this.zl,a=a/100,b=b/100,c=a*(.5>b?b:1-b),d=b+c;return new f6(this.h,100*(0<b?2*c/d:a),100*d)};
f.mu=function(){var a=this.h,b=this.s,c=this.zl,a=a/360,b=b/100,c=c/100;if(0==b)c=b=a=c;else var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d,c=g6(e,d,a+1/3),b=g6(e,d,a),a=g6(e,d,a-1/3);return new d6(Math.round(255*c),Math.round(255*b),Math.round(255*a))};f.equals=function(a){if(2!=a.type)return!1;a=a.CD();return this.h==a.h&&this.s==a.s&&this.zl==a.zl};f.toString=function(){return"hsl("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.zl.toFixed(3)+"%)"};
function f6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=3;this.h=a;this.s=b;this.rr=c}r(f6,c6);f=f6.prototype;f.CD=function(){var a=this.s,b=this.rr,a=a/100,b=b/100,c=(2-a)*b/2;return new e6(this.h,100*(c&&1>c?a*b/(.5>c?2*c:2-2*c):a),100*c)};f.ED=function(){return this};
f.mu=function(){var a=this.h,b=this.s,c=this.rr,a=a/60,b=b/100,c=c/100,d=Math.floor(a),e=a-d,a=c*(1-b),g=c*(1-e*b),b=c*(1-(1-e)*b),d=d%6;return new d6(Math.round(255*[c,g,a,a,b,c][d]),Math.round(255*[b,c,c,g,a,a][d]),Math.round(255*[a,a,b,c,c,g][d]))};f.equals=function(a){if(3!=a.type)return!1;a=a.ED();return this.h==a.h&&this.s==a.s&&this.rr==a.rr};f.toString=function(){return"hsv("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.rr.toFixed(3)+"%)"};new d6(0,0,0);new d6(255,255,255);
var Ida=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,Jda=/^hsv\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,Kda=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,Lda=/^#([a-f\d])([a-f\d])([a-f\d])$/i,Mda=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function g6(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var Nda=[{family:"Aileron Thin",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/aqua.ttf",woff:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},
{family:"Archivo Black",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",woff:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",woff:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",woff:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
otf:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf"}}},{family:"Cooper Hewitt Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf"}}},{family:"Fredoka One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Josefin Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/JosefinSans.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Black.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",woff:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},{family:"Pirou",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},
{family:"PT Sans",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
otf:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",testString:"देवनागरी",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",woff:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},
{family:"Nunito Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Norwester.ttf",woff:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},
{family:"Amaranth",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Anton.ttf",
woff:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Crushed.ttf",
woff:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},
{family:"Exo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},
{family:"Kollektif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Ubuntu.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf"}}},{family:"Unity Text",
styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf"}}},{family:"Six Caps",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",woff:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",woff:"https://static.canva.com/static/webfonts/TenorSans.woff"}}},{family:"Abril Fatface",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{family:"Alegreya SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},
{family:"Alfa Slab One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arvo.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
woff:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",woff:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{family:"IM Fell English SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",woff:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{family:"IM Fell Double Pica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},
regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",
styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lora.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{family:"Playfair Display",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{family:"Playfair Display Black",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{family:"Playfair Display SC",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},
{family:"Times Neue Roman",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ultra.ttf",woff:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},
{family:"Ribeye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}},{family:"Gochi Hand",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",woff:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},
{family:"Permanent Marker",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",woff:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",woff:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{family:"Shadows Into Light Two",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
woff:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{family:"Amatic SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",woff:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",woff:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",woff:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}},{family:"Allura",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",woff:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",woff:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},
{family:"Pinyon Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",woff:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Streamster.ttf",
woff:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}},{family:"Berkshire Swash",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Chewy.ttf",
woff:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{family:"Diplomata SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Megrim.ttf",
woff:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",woff:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
woff:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",woff:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lobster.ttf",woff:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",woff:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sunday.ttf",woff:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",woff:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",woff:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Selima.ttf",
woff:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Edo.ttf",woff:"https://static.canva.com/static/webfonts/Edo.woff"}}},{family:"M Plus Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.ttf"}}},
{family:"M Plus Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.ttf"}}},{family:"M Plus Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.ttf"}}},
{family:"M Plus Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.woff",ttf:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.ttf"}}},{family:"Noto Sans Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.otf"}}},{family:"Noto Sans Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.woff",
otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.woff",otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.otf"}}},{family:"Noto Sans Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.otf"}}},{family:"Noto Sans Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.woff",
otf:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.otf"}}},{family:"Kodomo Rounded Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.otf"},bold:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.otf"}}},{family:"Bokutachi Gothic Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Regular.woff",
otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Regular.otf"},bold:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Bold.woff",otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Bold.otf"}}},{family:"Yasashisa Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.woff",otf:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.otf"}}},{family:"Logo Type Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.woff",ttf:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.ttf"}}},
{family:"Genjyuu Gothic Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.ttf"}}},{family:"Genjyuu Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.woff",
ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.ttf"}}},{family:"Genjyuu Gothic Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.ttf"}}},{family:"Genjyuu Gothic Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.ttf"}}},
{family:"M Plus Rounded Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.ttf"}}},{family:"M Plus Rounded Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.ttf"},
bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.ttf"}}},{family:"M Plus Rounded Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.ttf"}}},{family:"M Plus Rounded Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.woff",
ttf:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.ttf"}}},{family:"Ipaex Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/IpaexMincho/ipaexm.woff",ttf:"https://static.canva.com/static/fonts/IpaexMincho/Ipaexm.ttf"}}},{family:"Aozora Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.ttf"}}},
{family:"Aozora Mincho Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.ttf"}}},{family:"Kokoro Minchoutai",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.woff",otf:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.otf"}}},{family:"Hannari Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HannariMincho/HannariMincho.woff",
otf:"https://static.canva.com/static/fonts/HannariMincho/Hannari.otf"}}},{family:"Yasashisa Antique",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.woff",otf:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.otf"}}},{family:"Dejima Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.woff",ttf:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.ttf"}}},{family:"Koku Maru Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.woff",otf:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.otf"}}},
{family:"Koku Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.woff",ttf:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.ttf"}}},{family:"Hanazono Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.woff",ttf:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.ttf"}}},{family:"Checkpoint",styles:{regular:{woff:"https://static.canva.com/static/fonts/Checkpoint/CPFont.woff",otf:"https://static.canva.com/static/fonts/Checkpoint/CPFont.otf"}}},{family:"Nicomoji Plus",styles:{regular:{woff:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.woff",
ttf:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.ttf"}}},{family:"Light Novel Pop",styles:{regular:{woff:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.woff",otf:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.otf"}}},{family:"Uzura",styles:{regular:{woff:"https://static.canva.com/static/fonts/Uzura/uzura.woff",ttf:"https://static.canva.com/static/fonts/Uzura/uzura.ttf"}}},{family:"Cinecaption",styles:{regular:{woff:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.woff",ttf:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.TTF"}}},{family:"Jiyucho",styles:{regular:{woff:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.woff",
otf:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.otf"}}},{family:"Tanuki",styles:{regular:{woff:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.woff",ttf:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.ttf"}}},{family:"Hanazome",styles:{regular:{woff:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.woff",ttf:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.ttf"}}},{family:"Fuiji",styles:{regular:{woff:"https://static.canva.com/static/fonts/Fuiji/HuiFontP.woff",ttf:"https://static.canva.com/static/fonts/Fuiji/HuiFontP29.ttf"}}},{family:"Nagayama Kai",styles:{regular:{woff:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.woff",
otf:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.otf"}}},{family:"Kouzan",styles:{regular:{woff:"https://static.canva.com/static/fonts/Kouzan/KouzanGyoushoOTF.woff",otf:"https://static.canva.com/static/fonts/Kouzan/KouzanBrushFontGyousyoOTF.otf"}}}];var M0="WARNING",L0="ERROR";function h6(a){this.page=a.page;this.element=a.element;this.content=a.content;this.Iz=a.Iz}h6.prototype.R=function(){return this.page};h6.prototype.getElement=function(){return this.element};h6.prototype.getContent=function(){return this.content};
function Oda(a){var b,c,d,e;a.forEach(function(a){null!=a.page&&(w(null==b),b=a.page);null!=a.element&&(w(null==c),c=a.element);null!=a.content&&(w(null==d),d=a.content);null!=a.Iz&&(w(null==e),e=a.Iz)});return new h6({page:b,element:c,content:d,Iz:e})}function i6(a){this.context=a.context;this.type=a.type;this.level=a.level}i6.prototype.getContext=function(){return this.context};i6.prototype.lc=function(){return this.type};function j6(a,b){this.context=[];this.Pw=[];this.media=b;this.I$=a}function K0(a,b){var c=new Set;Nda.forEach(function(a){return c.add(a.family)});b=new j6(c,b);Pda(b,a);return b.Pw}function Pda(a,b){b.O.forEach(function(b,d){k6(a,new h6({page:d}),function(){Qda(a,b)})})}
function Qda(a,b){b.elements.forEach(function(b,d){k6(a,new h6({element:d}),function(){switch(b.type){case "TEXT":Fa(b instanceof Qr);l6(a,b);break;case "IMAGE":Fa(b instanceof Mr);m6(a,b);a.check(0===d||!b.Hb,"IS_BACKGROUND_REQUIRES_FIRST_ELEMENT",L0);break;case "SVG":Fa(b instanceof Ur);Rda(a,b);break;case "GRID":Fa(b instanceof Zr);Sda(a,b);break;case "GRAPHIC":a.error("GRAPHIC_ELEMENT_NOT_HANDLED");break;case "SHAPE":break;case "GROUP":break;default:a.error("UNKNOWN_ELEMENT_TYPE")}})})}
function l6(a,b){a.check(0<b.Bl.length,"LINE_LENGTHS_REQUIRED",L0);if(b.color)try{var c=b.color;if("#"===c.slice(0,1)){var d;if(d=Lda.exec(c))new d6(17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16));else if(d=Mda.exec(c))new d6(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));else throw Error("not a hexadecimal color: "+c);}else switch(c.slice(0,4)){case "hsl(":var e=Ida.exec(c);w(!!e,"Invalid HSL color: {}",c);new e6(+e[1],+e[2],+e[3]);break;case "hsv(":var g=Jda.exec(c);w(!!g,
"Invalid HSV color: {}",c);new f6(+g[1],+g[2],+g[3]);break;case "rgb(":var h=Kda.exec(c);w(!!h,"Invalid RGB color: {}",c);new d6(+h[1],+h[2],+h[3]);break;default:throw Error("cannot parse color: "+c);}}catch(k){a.error("COLOR_NOT_CONVERTIBLE_TO_RGB")}null!=b.kl||null==b.fontFamily||a.I$.has(b.fontFamily)||a.error("FONT_NOT_SUPPORTED")}function m6(a,b){!1!==b.hb&&null!=b.ca&&null!=b.da&&n6(a,b.ca,b.da);a.check(!b.filter,"HAS_FILTER",M0)}
function Rda(a,b){n6(a,b.ca,b.da);a.check(b.Fi,"SVG_METADATA_REQUIRED",L0);b.Xc.forEach(function(b){k6(a,new h6({Iz:b.index}),function(){a.check("inherit"!==b.color,"FILL_COLOR_INHERIT",L0)})});b.contents.forEach(function(b,d){k6(a,new h6({content:d}),function(){switch(b.type){case "TEXT":a.check(null!=b.top,"TOP_REQUIRED",L0);a.check(null!=b.left,"LEFT_REQUIRED",L0);a.check(null!=b.lineHeight,"LINE_HEIGHT_REQUIRED",L0);l6(a,b);break;case "IMAGE":m6(a,b)}})})}
function Sda(a,b){b.contents.forEach(function(b,d){k6(a,new h6({content:d}),function(){null!=b.ca&&null!=b.da&&n6(a,b.ca,b.da);a.check(!b.filter,"HAS_FILTER",M0)})})}function n6(a,b,c){null!=b&&null!=c&&a.media.find(function(a){return a.id===b&&a.version===c})||a.error("MEDIA_NOT_RESOLVED")}function k6(a,b,c){a.context.push(b);c();a.context.pop()}j6.prototype.error=function(a){o6(this,a,L0)};function o6(a,b,c){a.Pw.push(new i6({context:Oda(a.context),level:c,type:b}))}
j6.prototype.check=function(a,b,c){if(a)return!0;o6(this,b,c);return!1};function p6(){}p6=Backbone.View.extend({className:"teamBillingSignup"});f=p6.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.cj=a.cj;this.Cw=a.Cw;this.listenTo(this.Cw,"selectPlan",this.trigger.bind(this,"selectPlan"));this.Z8=q6.B2(Jc(a.i));this.Vf=a.Vf;this.xz=a.xz;this.i=a.i;this.tg=ed(a.i)};
f.render=function(){var a=moment().add(this.Vf,"days").format("LL"),b;b=this.i;b.Ek||(b.Ek=new df(b.config));b=b.Ek;if(this.xz)return this.$el.html(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ciframe class\x3d"subscription2IFrame" src\x3d"/_subscription2" frameborder\x3d"0" scrolling\x3d"no" marginheight\x3d"0" marginwidth\x3d"0" \x3e\x3c/iframe\x3e').toString()),Tda(this),this;this.$el.html(Uda({compact:this.compact,claim:this.tg.VC(this.Vf),mE:ef(b),nE:ff(b,a),oE:gf(b),Uu:this.tg.Uu(),Pv:this.tg.Pv(),
Qw:this.tg.Qw(),Ix:this.tg.Ix()}).toString());this.compact||this.Z8.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.Cw.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.cj.render();this.$(".teamBillingCreditCardContainer").prepend(this.cj.$el);return this};f.VH=function(){this.Cw.VH()};f.lf=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};f.yx=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};
function r6(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}f.Eh=function(a){this.$el.toggleClass("enabled",a)};f.HQ=function(a){this.Cw.HQ(a)};f.xQ=function(a){this.$(".teamBillingClaim").text(a)};function Tda(a){a.$(".subscription2IFrame")[0].onload=function(){return s6(a)};a.YG=a.YG.bind(a);window.addEventListener("message",a.YG.bind(a),!1)}
function s6(a){var b=a.$(".subscription2IFrame")[0],c=b.contentWindow.document.getElementsByClassName("canvaSubscription2IFrameContent")[0];setTimeout(function(){return b.style.height=c.scrollHeight+"px"},0)}f.YG=function(a){a.origin===window.location.origin&&("canva_subscription2-onInteraction"===a.data||"canva_subscription2-onError"===a.data?s6(this):"canva_subscription2-onComplete"===a.data&&window.location.reload())};
f.remove=function(){Backbone.View.prototype.remove.call(this);this.xz&&window.removeEventListener("message",this.YG)};function t6(a){this.j=a.j;this.aa=a.aa;this.Z=a.Z;this.D=a.D;this.WA=null;this.eX=!1;this.Ed=null;this.xd=a.xd;this.listenTo(this.xd,{input:this.g6,requestSubmit:this.Ml});this.sp=a.sp;this.Xw=null;this.Bx=a.Bx;this.fa=a.fa||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.naa,retry:this.p7,revert:this.r7,submit:this.Ml})}f=t6.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function u6(a,b){return r5(b)-r5(a)}f.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.VH();r6(this.view,!1);this.xd.refresh()};f.remove=function(){this.stopListening();this.xd.remove();this.view.remove()};f.Eh=function(a){this.view.Eh(a)};f.xQ=function(a){this.view.xQ(a)};
function v6(a){var b=a.D.u();a.Eh(!1);(function(){return a.fa?P.resolve(a.fa):a.aa.Rz(b).catch(Pk,function(){return null})})().bind(a).then(function(a){a&&a.Yh&&(this.Ed=a.Yh,this.xd.bx(this.sp).vk(this.Ed))}).catch(function(){var a=this.view;a.$el.html(Vda({ru:a.tg.ru(),Tx:a.tg.Tx()}).toString())}).finally(function(){this.Eh(!0)})}function Wda(a){var b=ey(new by).Aj(a.D.u());a.Z.Kz(b).bind(a).then(function(a){this.WA=a.getCount();this.yx()}).catch(function(){this.eX=!0;this.yx()})}
f.yx=function(){Fa(null!=this.Xw,"A plan must be selected");var a=ed(this.i);if(this.eX)a=this.view,a.$(".teamBillingTotalText").text(a.tg.format("teamBillingSignupTotalPriceError"));else if(null!==this.WA)if(1===this.WA)this.view.yx();else{var b=this.Xw.ba*this.WA;if("YEARLY"===this.Xw.Fj)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Xw.Fj)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.lm(this.WA,b);this.view.yx(a)}};
f.g6=function(a){this.Ed&&r6(this.view,a)};f.p7=function(){v6(this)};f.r7=function(){this.Ed&&(this.xd.vk(this.Ed),r6(this.view,!1))};
f.Ml=function(){this.Eh(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.xd.zV().bind(this).then(function(){this.j.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.Bx){var a=this.aa,b=new ij({D:this.D.u(),io:this.Xw.id});y(b.D,"brand required");return sj(a.N,"/billing/brands/"+b.D+"/subscription",jj(b)).catch(tj).get(0).then(lj).catch(a.Es,a.Yj)}}).then(function(a){this.trigger("signup",a)}).catch(qj,function(a){this.j.track("upgrade_onboarding_card_error",
{message:a.message});a=bU(cd(this.i),a);this.view.lf(a)}).catch(function(){this.view.lf("An error occured while trying to subscribe")}).finally(function(){this.Eh(!0)});this.j.track("upgrade_onboarding_card_submit")};f.naa=function(a){this.Xw=a;this.yx()};function Vda(a){soy.asserts.assertType(goog.isString(a.ru)||a.ru instanceof goog.soy.data.SanitizedContent,"billingError",a.ru,"string|goog.soy.data.SanitizedContent");var b=a.ru;soy.asserts.assertType(goog.isString(a.Tx)||a.Tx instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Tx,"string|goog.soy.data.SanitizedContent");a=a.Tx;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function Uda(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.mE)||a.mE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.mE,"string|goog.soy.data.SanitizedContent");var c=a.mE;soy.asserts.assertType(goog.isString(a.nE)||a.nE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.nE,"string|goog.soy.data.SanitizedContent");
var d=a.nE;soy.asserts.assertType(goog.isString(a.oE)||a.oE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.oE,"string|goog.soy.data.SanitizedContent");var e=a.oE;soy.asserts.assertType(goog.isString(a.Ix)||a.Ix instanceof goog.soy.data.SanitizedContent,"startTrial",a.Ix,"string|goog.soy.data.SanitizedContent");var g=a.Ix;soy.asserts.assertType(goog.isString(a.Qw)||a.Qw instanceof goog.soy.data.SanitizedContent,"revertCard",a.Qw,"string|goog.soy.data.SanitizedContent");var h=
a.Qw;soy.asserts.assertType(goog.isString(a.Uu)||a.Uu instanceof goog.soy.data.SanitizedContent,"encryption",a.Uu,"string|goog.soy.data.SanitizedContent");var k=a.Uu;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.Pv)||a.Pv instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Pv,"string|goog.soy.data.SanitizedContent");a=a.Pv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(e)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function q6(){}q6=Backbone.View.extend({tagName:"ul",className:"textIconList"});q6.prototype.initialize=function(a){this.items=a.items};
q6.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.iq)||1===a.iq||0===a.iq,"isHtml",a.iq,"boolean");var d=!!a.iq;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
q6.B2=function(a){return new q6({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",iq:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",iq:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",iq:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",iq:!1}]})};function w6(){}w6=Backbone.View.extend({className:"promotion"});w6.prototype.initialize=function(a){this.model=a.model};w6.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.qk)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
w6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.ld)||a.ld instanceof goog.soy.data.SanitizedContent,"imageUrl",a.ld,"string|goog.soy.data.SanitizedContent");var c=a.ld;soy.asserts.assertType(goog.isString(a.Sh)||a.Sh instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.Sh,"string|goog.soy.data.SanitizedContent");
var d=a.Sh;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var e=a.body;soy.asserts.assertType(null==a.aG||a.aG instanceof goog.soy.data.SanitizedContent||goog.isString(a.aG),"imageAlt",a.aG,"null|string|undefined");var g=a.aG;soy.asserts.assertType(null==a.Yg||goog.isArray(a.Yg),"benefitList",a.Yg,"?Array\x3cstring\x3e|undefined");var h=a.Yg;soy.asserts.assertType(null==a.Oz||a.Oz instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Oz),"footerLink",a.Oz,"null|string|undefined");var k=a.Oz,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(e?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(h?Xda(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+z_({v:"upgradeDialogFeaturePromo__button",
text:d})+(k?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};var Yda=new Ff("ri",!1);function x6(a){this.we=a.we;this.Ax=void 0;this.Ab=null;this.Vf=a.Vf||0;this.Zi=void 0===a.Zi||a.Zi;this.Hr=void 0===a.Hr||a.Hr;this.Re=void 0===a.Re||a.Re;this.j=a.j;this.v3=_.once(function(){v6(a.we);Wda(a.we)});this.we.once("signup",this.w7.bind(this));this.ha=a.Iy;this.tg=a.tg;this.Wi=a.Wi;this.sH=a.sH;this.$s=a.$s;this.qk=a.cq}var ZR=0,HY=1,Lo=2,P_=3,CX=4,Io=8,RM=9,Jo=10,No=11,Q_=12;
function P0(a){var b=jV({Ej:a.aa,D:a.D.u(),nf:a.fb,Xe:!0,Ya:cd(a.i),j:a.j}),c=a.$s,d=c.has(a.cq)&&c.get(a.cq).length?c.get(a.cq)[0].Vf:30,e=a.G.get(Yda),g=a.j,h=a.aa,k=a.Z,l=a.D,m=b.Db,n=a.sp,p=a.Bx,q=a.i,b=b.view,u=a.i,c=c.get(a.cq),c=s5(c.sort(u6),Jc(u)),c=new t5({wb:c}),b=new p6({compact:!0,cj:b,Cw:c,i:u,Vf:d,xz:e}),e=new t6({j:g,aa:h,Z:k,D:l,xd:m,sp:n,Bx:p,i:q,xz:e,view:b});return new x6({sH:"/brand/onboarding/upgrader",j:a.j,Hr:a.Hr,Zi:a.Zi,Iy:Jc(a.i),tg:ed(a.i),Re:a.Re,Vf:d,we:e,Wi:a.Wi,$s:a.$s,
cq:a.cq})}f=x6.prototype;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.Ab&&this.Ab.remove()};
f.show=function(a){var b=this;if(this.Wi){var c=Zda(this,this.we,a||7);c.on("next",function(c){var e=/\/design\//.test(location.pathname)?tm("editor",a,c):tm("homepage",a,c),g=b.we,h=b.$s.get(c),h=s5(h.sort(u6),Jc(g.i));g.view.HQ(h);b.Ax&&1===c&&(b.Ax.$el.addClass("upgradeDialogSignup--imagesPro"),b.we.xQ(b.tg.format("teamBillingSignupUpgradeImagesPro",b.Vf)));b.j.wa(e)});c.on("footerLinkClicked",function(){return $da(b)});this.Ax=new Backbone.View({className:"upgradeDialogSignup"});this.Ab=new wz({jF:["upgradeDialog"],
Zi:this.Zi,Re:this.Re,O:[c,this.Ax]});this.Ab.on("hide",function(){b.Ab.remove();b.Ab=null;b.we.remove();b.trigger("hide")});this.v3();this.Ab.show();y6(this);this.we.appendTo(this.Ax.$el);this.Ax.$el.append(aea({CG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),BG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),ME:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),LE:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),CI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
BI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else bea(this)};function bea(a){var b=new z6({ha:a.ha});a.Ab=new wz({jF:["upgradeDialog"],Zi:a.Zi,Re:a.Re,O:[b]});a.Ab.on("hide",function(){a.Ab.remove();a.Ab=null;a.trigger("hide")});a.Ab.show();y6(a)}function $da(a){a.once("hide",function(){return a.show(7)});a.Ab.hide()}f.w7=function(){this.Hr&&this.Ab&&this.Ab.remove();this.trigger("signup")};
function y6(a){/\/design\//.test(location.pathname)?a.j&&a.j.wa(sm(a.Wi)):a.j&&a.j.wa(qm(a.Wi))}
function Zda(a,b,c){var d=a.ha.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case Lo:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Yg:[Ee(a.ha),De(a.ha),
Ae(a.ha),Ce(a.ha)],qk:Q0}});case CX:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case P_:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case 6:return new w6({we:b,
model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case Io:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case RM:return new w6({we:b,model:{Sh:d,mb:Ee(a.ha),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",
Yg:[De(a.ha),Ae(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});case Q_:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeAnimatorBody"),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",Yg:[a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],
qk:Q0}});case Jo:case No:c=w6;var e=a.ha.Ia("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",4E5),g=a.ha.format("canvaForWorkFeatureUpgradeImagesProBody"),h;h=a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new c({we:b,model:{Sh:d,mb:e,body:g,ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Yg:[h,a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],
qk:1,Oz:a.ha.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case ZR:case HY:case 7:return new w6({we:b,model:{Sh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],qk:Q0}});default:throw Error("Not a recognised feature: "+c);}};function z6(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.ha=a.ha}r(z6,Backbone.View);z6.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};z6.prototype.render=function(){this.$el.html(cea({NC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.ha.format("canvaForWorkUpgradeMemberTitleHtml")),bw:this.ha.bw(),Cq:this.ha.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function cea(a){soy.asserts.assertType(a.NC instanceof soydata.SanitizedHtml||a.NC instanceof soydata.UnsanitizedText||goog.isString(a.NC),"titleHtml",a.NC,"soydata.SanitizedHtml");var b=a.NC;soy.asserts.assertType(goog.isString(a.bw)||a.bw instanceof goog.soy.data.SanitizedContent,"memberLabel",a.bw,"string|goog.soy.data.SanitizedContent");var c=a.bw;soy.asserts.assertType(goog.isString(a.Cq)||a.Cq instanceof goog.soy.data.SanitizedContent,"okButton",a.Cq,"string|goog.soy.data.SanitizedContent");
a=a.Cq;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+z_({v:"upgradeDialogMember__button",text:a}))}
function Xda(a){a=goog.asserts.assertArray(a.Yg,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+TX({za:"upgradeDialogFeaturePromoBenefit__icon"})+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function aea(a){soy.asserts.assertType(goog.isString(a.CG)||a.CG instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.CG,"string|goog.soy.data.SanitizedContent");var b=a.CG;soy.asserts.assertType(goog.isString(a.BG)||a.BG instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.BG,"string|goog.soy.data.SanitizedContent");var c=a.BG;soy.asserts.assertType(goog.isString(a.ME)||a.ME instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.ME,"string|goog.soy.data.SanitizedContent");
var d=a.ME;soy.asserts.assertType(goog.isString(a.LE)||a.LE instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.LE,"string|goog.soy.data.SanitizedContent");var e=a.LE;soy.asserts.assertType(goog.isString(a.CI)||a.CI instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.CI,"string|goog.soy.data.SanitizedContent");var g=a.CI;soy.asserts.assertType(goog.isString(a.BI)||a.BI instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.BI,"string|goog.soy.data.SanitizedContent");
a=a.BI;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(e)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};$(function(a,b){function c(){K&&wb?(wb.aw(K.serialize()),setInterval(function(){K&&wb&&ru(wb,K.serialize())&&K.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){var a=new w4,b=l.xg.get("branchToken",null),c=null;b&&(c=new f5({km:b}));b=new $4({user:ny(m),profiles:Eb,ua:N});return A0(l,{config:l,Uk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},Ka:m,mc:ac,aa:Bb,yd:Cb,fb:ha,Z:Eb,Ra:Ab,fj:S,Pca:Fb,cc:Gb,dc:L,ub:J,Na:Q,ef:yb,i:Lb,H:jl,pd:ta,P$:Za,ua:N,Xb:fa,pu:k,Wi:t,sp:x,Co:a,G:u,yc:c,
wd:b})}function e(a){var b=a.font;return b&&(a=$A(Kb,b.family||""))?{fontFamily:a.family,fontSize:b.Wp(),bold:b.bold,italic:b.italic}:null}function g(a){return function(b){return b.getName()===a}}function h(){var a=K,b=xb.id,c,d;try{d=a.serialize()}catch(e){E.log("Failed DocumentContent serialization",{error:e});return}try{c=Gr(d)}catch(e){U&&Zl(b,!1,!1,"DESERIALIZATION_FAILED");E.log("Failed DocumentContentProto deserialization",{error:e});return}try{var g=[],h=window.mediaMap;Object.keys(h).forEach(function(a){Object.keys(h[a]).forEach(function(b){g.push({id:a,
version:Number(b)})})});var k=K0(c,g),l=k.some(function(a){return a.level===L0}),m=k.some(function(a){return a.level===M0});l?U&&Zl(b,!1,m,"DOCUMENT_CHECK_FAILED"):U&&Zl(b,!0,m)}catch(e){U&&Zl(b,!1,!1,"UNKNOWN_EXCEPTION_THROWN"),E.log("Failed document check",{error:e})}}var k=window.availableLocales||{},l=new jh(b||window.viewConfig),m=jy(),n=ny(m).OC(),p=my(m).Lp(),q=l.Rz();$("body").toggleClass("highDpi",O.wS);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Lb=new kc;var u=Hf();Jb=new If(u);
eO&&$("html").addClass("touch");dea();eea();b=window.csrfTokens;var v=new Ek(window.httpServiceConfig);Ib=v;var z=ql(new Xk(v));a=new ll("canva.editor.load",z.Vh,z,z.g8);a.wa("init-start");vg=new MI({config:new YI,N:Ib,UW:new HI});vg.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});U=km();var t=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),x=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),H=Bo({G:u,Wk:n});
Mb=new Go({j:U,W:Jb,ua:Qo(n),Eg:H,xK:function(){var a=O0(ta),b=my(m).ka();return P0({aa:Bb,Z:Eb,j:U,D:b,$s:a,cq:Q0,fb:ha,Bx:!1,Hr:!1,Wi:t,sp:x,i:Lb,G:u,Ka:m,W:Jb})}});var E=wE();Ab=mq(E);Cb=new yw(Ib);Bb=new oj(Ib);ac=new vK;Fb=new hy;Gb=new qy;Db=new $E(Ib);yb=new JL(window.mediaMap,Db);zb=new JL(window.fontMediaMap,Db);Hb=new gM(Ib,Db,ac,yb,new uM,new eM(2),z,hl);Eb=new Lw(Ib);var L=new ty(Ib),J=new RE(Ib),Q=new A6(Ib),S=new Iu(v),N=null;try{N=lm()}catch(Ig){}var ha=cU(),fa=new oZ({Z:Eb,i:Lb,Rk:[pN,
"contextTipRoyaltyFreePaymentOption"],gE:function(a){return nZ({key:a,i:od(Lb),af:$(document),Te:$("body")})},root:$("body")}),ta=new xda,Za=new S5({ZF:Ib,Z:Eb,AL:Jb.G.get(Sf)});cc=window.localStorage?new go(window.localStorage,ny(m).u()):new go;Kb=new UJ(SJ,{ac:Db,RI:window.WebFont,ef:zb,H:jl,locale:window.cmsg.localePrecedence[0]||window.cmsg.fallback});Kb.on("fontLoadFailed",function(a){a&&U.track("font_load_failed",{font_name:a})});Jb.G.get(Qf)&&$J();window.scrollTo(0,0);var qa=function(){var a=
my(m).Lp();return(a=a&&a.LC)&&a[0]?a[0].MC||[]:[]}(),da={};lK(Kb,qa,function(){var a=fea(qa);Jb.G.get(Qf)&&0<a.length&&(Kb.yP=a,da={title:qa.filter(g("title")).map(e)[0],subtitle:qa.filter(g("subtitle")).map(e)[0],body:qa.filter(g("body")).map(e)[0]},Object.keys(da).forEach(function(a){da[a]||delete da[a]}))});var Ba=window.csession,xb=window.cdoc,v=fv(window.cdocType);if(xb){(new up({Bp:Uo(),Wc:Mb,Eg:H,Xb:fa,Z:Eb,W:Jb,G:u,i:Lb,j:U,Oe:T,ua:N,Wk:n,Eu:Kz,ub:J,fb:ha,Ka:m,fa:q})).go(xb,v,l,p,d,a);window.history.replaceState("",
document.title,window.location.pathname+window.location.search);var qb=gP(Ba,xb,U);setTimeout(c,15E3);var wc=xb.id,ue=Date.now(),n=window.CANVA_EMBED,Md=b.session;b=!!navigator.sendBeacon;p=new tA({N:Ib,KO:ue,Ee:wc,pa:qb,tL:n,qR:Hb,GJ:b,mL:Md});$(window).resize(jA).on("beforeunload",p.hQ.bind(p)).on("offline",gea).on("online",hea);if(!n&&b)$(window).on("unload",function(){var a=Math.floor((Date.now()-ue)/1E3)+"",a=JSON.stringify({docId:wc,session:Ba,durationSecs:a,syncMetrics:qb.j_.serialize()});
navigator.sendBeacon("/session/editor/"+encodeURIComponent(wc)+"?close\x26csrfToken\x3d"+encodeURIComponent(Md),a)})}jA();window.CANVA_EMBED&&Dda(l,S,Q,L,J,ta,u);dc=new Xn($("#canvaDocument"));dc.render();U&&xb&&Ql(xb.id,xb.designType);if(U&&.1>Math.random())T.on("documentRendered",function(){h()});a.wa("init-end")});
function fea(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;a.font&&(c=a.font.family);return $A(Kb,c||"")}).filter(Boolean)}function eea(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function iA(a){Nb||(Nb=new $5(Jb.G.get(bg)),Nb.on("open",function(){T.trigger("pausePresentationOnExit",!0)}),Nb.on("close",function(){T.trigger("pausePresentationOnExit",!1)}));Nb.toggle(a,K.ia())}
function dea(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");pO();U&&$l(U,"touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}eO&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))}var B6=0;function gea(){Tb&&Aaa();clearTimeout(B6);B6=setTimeout(function(){vO()},12E4)}
function hea(){if(Tb){var a=Tb;a.kN=!1;XV(a,a.Ou)}clearTimeout(B6);wb.jj()||rO()};$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function qz(a){this.H=a.H;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(C6(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.vD=""}f=qz.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function C6(a){switch(a){case rz:return"modalContentBlurAndDarken";case Dz:return"modalContentDarken";case DX:return"modalContentClear";case l0:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(this.vD).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.H.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");kl(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",C6(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.vD+=c+" ")});$("body").addClass(this.vD)}.bind(this))};
var rz="BLUR_AND_DARKEN",Dz="DARKEN",DX="CLEAR",l0="NONE";function wE(){return"undefined"!==typeof Rollbar?new D6:new E6}function D6(){}D6.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function E6(){}E6.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function VW(a){soy.asserts.assertType(goog.isString(a.Bt)||a.Bt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.Bt,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var b=!!a.Wf;soy.asserts.assertType(null==a.yf||goog.isBoolean(a.yf)||1===a.yf||0===a.yf,"crownTag",a.yf,"boolean|null|undefined");var c=a.yf;soy.asserts.assertType(null==a.ba||a.ba instanceof goog.soy.data.SanitizedContent||goog.isString(a.ba),
"price",a.ba,"null|string|undefined");var d=a.ba;return soydata.VERY_UNSAFE.ordainSanitizedHtml((d?F6({xx:!0,Wf:b,yf:c,ba:d}):"")+iea(a))}
function iea(a){soy.asserts.assertType(goog.isString(a.Bt)||a.Bt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.Bt,"string|goog.soy.data.SanitizedContent");var b=a.Bt;soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var c=!!a.Wf;soy.asserts.assertType(null==a.ba||a.ba instanceof goog.soy.data.SanitizedContent||goog.isString(a.ba),"price",a.ba,"null|string|undefined");a=a.ba;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"searchResultItem__info info"\x3e'+
(a?F6({xx:!1,Wf:c,ba:a}):"")+'\x3cspan class\x3d"moreInfo" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3ei\x3c/span\x3e\x3c/span\x3e')}
function F6(a){soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var b=!!a.Wf;soy.asserts.assertType(goog.isBoolean(a.xx)||1===a.xx||0===a.xx,"showFreeClass",a.xx,"boolean");var c=!!a.xx;soy.asserts.assertType(null==a.yf||goog.isBoolean(a.yf)||1===a.yf||0===a.yf,"crownTag",a.yf,"boolean|null|undefined");var d=a.yf;soy.asserts.assertType(goog.isString(a.ba)||a.ba instanceof goog.soy.data.SanitizedContent,"price",a.ba,"string|goog.soy.data.SanitizedContent");
a=a.ba;c=c?"price free":"price";b=""+(b?'\x3cspan class\x3d"price poa"\x3e\x3cspan class\x3d"inner"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/span\x3e":d?kZ({label:a,za:c}):'\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function kZ(a){soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crownTag'+(b?" "+soy.$$escapeHtmlAttribute(b):"")+'"\x3e\x3cdiv class\x3d"crownTag__content"\x3e'+tp({za:"crownTag__icon",
color:"#F3B600"})+'\x3cspan class\x3d"crownTag__label"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")};function G6(a,b){this.$el=a;this.className=b}r(G6,gc);function Uz(){var a=$("body");return new G6(a,"enterFullscreen")}G6.prototype.Ep=function(){this.$el.addClass(this.className);var a=this.$el.get(0),b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;y(b,"browser doesn't implement Element::requestFullscreen");b.call(a)};
G6.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;y(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};function Qz(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};function H6(a,b){switch(b){case "PENDING":return"PENDING";case "FAILED":return"FAILED";case "EXPORTED":return"EXPORTED";default:throw new TypeError('expected PrintExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function I6(a){this.zj=a.zj;this.Zj=a.Zj}function jea(a){return new I6({zj:A("widthMicrons",a),Zj:A("heightMicrons",a)})}
function J6(a){this.cd=a.cd;this.type=a.type;this.ib=a.ib;this.UO=a.UO;this.finish=a.finish;this.$v=a.$v;this.hz=a.hz;this.$X=a.$X;this.qz=a.qz;this.jA=a.jA}J6.prototype.lc=function(){return this.type};J6.prototype.Vj=function(){return this.ib};J6.prototype.qn=function(){return this.UO};
function kea(a){return new J6({cd:C("sku",a),type:Pa(K6,"type",a),ib:Oa(jea,"paperSize",a),UO:Pa(L6,"paperType",a),finish:Pa(M6,"finish",a),$v:A("maxPages",a),hz:Ma("dimensionsFlippable",a),$X:A("paperWeight",a),qz:Ma("ecoFriendly",a),jA:Ma("hasEnvelope",a)})}
function M6(a,b){switch(b){case "GLOSS":return"GLOSS";case "SILK":return"SILK";case "MATTE":return"MATTE";case "SOFT_TOUCH":return"SOFT_TOUCH";case "UNCOATED":return"UNCOATED";default:throw new TypeError('expected PaperFinish for property "'+a+'", found: '+JSON.stringify(b));}}
function L6(a,b){switch(b){case "STANDARD":return"STANDARD";case "PREMIUM":return"PREMIUM";case "ECO_FRIENDLY":return"ECO_FRIENDLY";case "DELUXE":return"DELUXE";default:throw new TypeError('expected PaperType for property "'+a+'", found: '+JSON.stringify(b));}}
function K6(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "POSTCARD":return"POSTCARD";case "LETTERHEAD":return"LETTERHEAD";case "FLYER":return"FLYER";case "INVITATION":return"INVITATION";case "SQUARE_CARD":return"SQUARE_CARD";default:throw new TypeError('expected PrintProductType for property "'+a+'", found: '+JSON.stringify(b));}}function lea(a){this.E_=a.E_;this.YX=a.YX;this.ZX=a.ZX;this.iV=a.iV}
function mea(a){return new lea({E_:Oa(N6,"typeSpec",a),YX:Oa(O6,"paperSizeSpec",a),ZX:Oa(P6,"paperTypeSpec",a),iV:Oa(Q6,"finishSpec",a)})}function R6(a){this.Sa=a.Sa;this.yh=a.yh;this.currency=a.currency;this.FG=a.FG;this.yG=a.yG}R6.prototype.sl=function(){return this.Sa};function nea(a){return new R6({Sa:Pa(S6,"shippingMethod",a),yh:A("priceCents",a),currency:C("currency",a),FG:B("minTotalQuantity",a),yG:B("maxTotalQuantity",a)})}
function oea(a){this.wq=a.wq;this.uq=a.uq;this.Qo=a.Qo;this.currency=a.currency}function pea(a){return new oea({wq:A("minQuantity",a),uq:A("maxQuantity",a),Qo:A("unitPriceCents",a),currency:C("currency",a)})}function U0(a){this.id=a.id;this.version=a.version}U0.prototype.u=function(){return this.id};U0.prototype.getVersion=function(){return this.version};function qea(a){return{id:ib("id",a.id),version:db("version",a.version)}}function rea(a){return new U0({id:C("id",a),version:A("version",a)})}
function T6(a){this.RL=a.RL;this.XL=a.XL;this.yN=a.yN;this.url=a.url}T6.prototype.oa=function(){return this.url};function U6(a){return new T6({RL:Pa(sea,"fileRole",a),XL:A("firstSheet",a),yN:A("lastSheet",a),url:C("url",a)})}function V6(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function sea(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function W6(a){this.id=a.id;this.version=a.version;this.D=a.D;this.user=a.user;this.gf=a.gf;this.pg=a.pg;this.cg=a.cg;this.product=a.product;this.AY=a.AY;this.De=a.De;this.DZ=a.DZ;this.od=a.od;this.xf=a.xf;this.yh=a.yh;this.BY=a.BY;this.PU=a.PU;this.eI=a.eI;this.currency=a.currency;this.status=a.status;this.cV=a.cV;this.zB=a.zB;this.hF=a.hF;this.cY=a.cY;this.iz=a.iz;this.document=a.document;this.NQ=a.NQ;this.files=a.files||[];this.Je=a.Je;this.aY=a.aY;this.cZ=a.cZ;this.dZ=a.dZ;this.an=a.an;this.PS=
a.PS;this.nC=a.nC||[]}f=W6.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.ka=function(){return this.D};f.La=function(){return this.user};f.Tp=function(){return this.pg};f.jv=function(){return this.cg};f.sn=function(){return this.product};f.jc=function(){return this.od};f.BV=function(){return this.eI};f.ph=function(){return this.status};f.getDocument=function(){return this.document};f.ic=function(){return this.files};
function X6(a){return new W6({id:C("id",a),version:A("version",a),D:C("brand",a),user:C("user",a),gf:C("region",a),pg:C("productSku",a),cg:D("envelopeSku",a),product:F(kea,"product",a),AY:F(mea,"productDescription",a),De:A("copies",a),DZ:A("sheetCount",a),od:A("pageCount",a),xf:A("creationDate",a),yh:A("priceCents",a),BY:A("productPriceCents",a),PU:B("envelopePriceCents",a),eI:A("shippingPriceCents",a),currency:C("currency",a),status:Pa(tea,"status",a),cV:D("failureMessage",a),zB:Pa(uea,"paymentStatus",
a),hF:Pa(H6,"exportStatus",a),cY:Qa(vea,"partnerStatus",a),iz:Ma("dimensionsFlipped",a),document:Oa(rea,"document",a),NQ:F(wea,"shippingDetails",a),files:G(U6,"files",a),Je:D("invoice",a),aY:D("partner",a),cZ:D("reprintParent",a),dZ:Qa(xea,"reprintType",a),an:Ma("finalized",a),PS:Ma("accepted",a),nC:G(yea,"sheets",a)})}
function tea(a,b){switch(b){case "CREATED":return"CREATED";case "PROCESSING":return"PROCESSING";case "FAILED":return"FAILED";case "SHIPPED":return"SHIPPED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintOrderStatus for property "'+a+'", found: '+JSON.stringify(b));}}function xea(a,b){switch(b){case "UNCHARGED":return"UNCHARGED";case "CHARGED":return"CHARGED";default:throw new TypeError('expected ReprintType for property "'+a+'", found: '+JSON.stringify(b));}}
function zea(a,b){switch(b){case "PENDING":return"PENDING";case "SUSPENDED":return"SUSPENDED";case "APPROVED":return"APPROVED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintReviewStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Aea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function uea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function vea(a,b){switch(b){case "RECEIVED":return"RECEIVED";case "ERRORS":return"ERRORS";case "IN_PRINTING":return"IN_PRINTING";case "IN_BINDERY":return"IN_BINDERY";case "PACKAGING":return"PACKAGING";case "SHIPPING":return"SHIPPING";case "SHIPPED":return"SHIPPED";case "HOLD":return"HOLD";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PartnerStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Bea(a){this.eM=a.eM;this.back=a.back}
function Cea(a){return{front:db("front",a.eM),back:eb("back",a.back)}}function yea(a){return new Bea({eM:A("front",a),back:B("back",a)})}function Y6(a){this.Wd=a.Wd;this.Sa=a.Sa;this.RX=a.RX;this.bY=a.bY;this.FT=a.FT;this.v_=a.v_;this.w_=a.w_;this.$U=a.$U}Y6.prototype.sl=function(){return this.Sa};
function wea(a){return new Y6({Wd:F(Z6,"address",a),Sa:Pa(S6,"shippingMethod",a),RX:Qa(Dea,"packageType",a),bY:D("partnerShippingMethod",a),FT:D("carrier",a),v_:D("trackingNumber",a),w_:D("trackingUrl",a),$U:D("facility",a)})}function $6(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}
function S6(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}function Dea(a,b){switch(b){case "LIGHT":return"LIGHT";case "FULL":return"FULL";default:throw new TypeError('expected PackageType for property "'+a+'", found: '+JSON.stringify(b));}}
function a7(a){this.name=a.name;this.Ck=a.Ck;this.wj=a.wj;this.Xd=a.Xd;this.Gh=a.Gh;this.sb=a.sb;this.vf=a.vf;this.pk=a.pk}f=a7.prototype;f.getName=function(){return this.name};f.FM=function(){return this.Ck};f.GM=function(){return this.wj};f.gs=function(){return this.Xd};f.Sj=function(){return this.sb};f.HM=function(){return this.vf};f.AM=function(){return this.pk};
function b7(a){return{name:ib("name",a.name),street1:ib("street1",a.Ck),street2:I("street2",a.wj),city:ib("city",a.Xd),subdivision:I("subdivision",a.Gh),countryCode:ib("countryCode",a.sb),zipCode:ib("zipCode",a.vf),phone:ib("phone",a.pk)}}function Z6(a){return new a7({name:C("name",a),Ck:C("street1",a),wj:D("street2",a),Xd:C("city",a),Gh:D("subdivision",a),sb:C("countryCode",a),vf:C("zipCode",a),pk:C("phone",a)})}
function c7(a){this.document=a.document;this.pg=a.pg;this.cg=a.cg;this.De=a.De;this.od=a.od;this.Sa=a.Sa;this.ec=a.ec;this.gf=a.gf;this.currency=a.currency;this.nC=a.nC||[];this.Ad=a.Ad}f=c7.prototype;f.getDocument=function(){return this.document};f.Tp=function(){return this.pg};f.jv=function(){return this.cg};f.jc=function(){return this.od};f.sl=function(){return this.Sa};f.uv=function(){return this.ec};
function Eea(a){return{document:cb.required("document",qea(a.document)),productSku:ib("productSku",a.pg),envelopeSku:I("envelopeSku",a.cg),copies:db("copies",a.De),pageCount:eb("pageCount",a.od),shippingMethod:lb($6,"shippingMethod",a.Sa),shippingAddress:jb(b7,"shippingAddress",a.ec),region:ib("region",a.gf),currency:I("currency",a.currency),sheets:kb(Cea,"sheets",a.nC),priceToken:I("priceToken",a.Ad)}}function d7(a){this.order=a.order}d7.prototype.nn=function(){return this.order};
function Fea(a){return new d7({order:Oa(X6,"order",a)})}function Gea(a){return{fileRole:lb(V6,"fileRole",a.RL),firstSheet:db("firstSheet",a.XL),lastSheet:db("lastSheet",a.yN),bucket:ib("bucket",a.bucket),key:ib("key",a.key)}}function e7(a){this.id=a.id;this.version=a.version;this.zB=a.zB;this.Je=a.Je;this.currency=a.currency;this.Sa=a.Sa;this.ec=a.ec;this.pg=a.pg;this.cg=a.cg;this.OP=a.OP;this.De=a.De;this.an=a.an;this.jZ=a.jZ;this.sY=a.sY;this.action=a.action}f=e7.prototype;f.u=function(){return this.id};
f.getVersion=function(){return this.version};f.sl=function(){return this.Sa};f.uv=function(){return this.ec};f.Tp=function(){return this.pg};f.jv=function(){return this.cg};
function Hea(a){return{id:ib("id",a.id),version:eb("version",a.version),paymentStatus:mb(Aea,"paymentStatus",a.zB),invoice:I("invoice",a.Je),currency:I("currency",a.currency),shippingMethod:mb($6,"shippingMethod",a.Sa),shippingAddress:jb(b7,"shippingAddress",a.ec),productSku:I("productSku",a.pg),envelopeSku:I("envelopeSku",a.cg),removeEnvelopeSku:hb("removeEnvelopeSku",a.OP),copies:eb("copies",a.De),finalized:hb("finalized",a.an),reviewUpdate:jb(Iea,"reviewUpdate",a.jZ),prepressFile:jb(Gea,"prepressFile",
a.sY),action:mb(Jea,"action",a.action)}}function Jea(a,b){switch(b){case "CANCEL":return"CANCEL";case "SUBMIT_TO_PARTNER":return"SUBMIT_TO_PARTNER";default:throw new TypeError('expected UpdateOrderAction for property "'+a+'", found: '+JSON.stringify(b));}}function Iea(a){return{reviewStatus:lb(zea,"reviewStatus",a.Gca),suspendReasons:$a.rd("suspendReasons",a.Wca),suspendComment:I("suspendComment",a.Vca)}}function f7(a){this.order=a.order}f7.prototype.nn=function(){return this.order};
function Kea(a){return new f7({order:Oa(X6,"order",a)})}function g7(a){this.id=a.id;this.Mq=a.Mq||[];this.SL=a.SL||[]}g7.prototype.u=function(){return this.id};function h7(a){this.order=a.order}h7.prototype.nn=function(){return this.order};function Lea(a){return new h7({order:Oa(X6,"order",a)})}function i7(a){this.id=a.id;this.D=a.D;this.Wd=a.Wd}i7.prototype.u=function(){return this.id};i7.prototype.ka=function(){return this.D};
function j7(a){return new i7({id:C("id",a),D:C("brand",a),Wd:Oa(Z6,"address",a)})}function k7(a){this.D=a.D;this.user=a.user}k7.prototype.ka=function(){return this.D};k7.prototype.La=function(){return this.user};function Mea(a){this.vJ=a.vJ||[]}function Nea(a){return new Mea({vJ:G(j7,"addresses",a)})}function n7(a){this.id=a.id;this.D=a.D;this.user=a.user;this.Wd=a.Wd}n7.prototype.u=function(){return this.id};n7.prototype.ka=function(){return this.D};n7.prototype.La=function(){return this.user};
function Oea(a){this.lZ=a.lZ;this.Wd=a.Wd}function Pea(a){return new Oea({lZ:Oa(j7,"savedAddress",a),Wd:Oa(Z6,"address",a)})}function o7(a){this.order=a.order;this.Pc=a.Pc}o7.prototype.nn=function(){return this.order};o7.prototype.us=function(){return this.Pc};function Qea(a){return{order:ib("order",a.order),role:lb(V6,"role",a.Pc)}}function Rea(a){this.Gs=a.Gs}function Sea(a){return new Rea({Gs:A("jobId",a)})}function p7(a){this.order=a.order;this.Gs=a.Gs}p7.prototype.nn=function(){return this.order};
function q7(a){this.status=a.status;this.url=a.url;this.files=a.files||[]}q7.prototype.ph=function(){return this.status};q7.prototype.oa=function(){return this.url};q7.prototype.ic=function(){return this.files};function Tea(a){return new q7({status:Pa(H6,"status",a),url:D("url",a),files:G(U6,"files",a)})}function r7(a){this.id=a.id;this.Xh=a.Xh||[]}r7.prototype.u=function(){return this.id};function Uea(a){return new r7({id:C("id",a),Xh:Ha.rd("countries",a)})}function s7(a){this.fc=a.fc}
s7.prototype.Uz=function(){return this.fc};function Vea(a){this.LB=a.LB||[]}function Wea(a){return new Vea({LB:G(Uea,"regions",a)})}function Xea(a){this.VO=a.VO||new Map;this.tw=a.tw||new Map;this.TO=a.TO||new Map;this.yH=a.yH||new Map}function t7(a){return new Xea({VO:Sa(P6,"paperTypes",a),tw:Sa(O6,"paperSizes",a),TO:Sa(Q6,"paperFinishes",a),yH:Sa(N6,"productTypes",a)})}function u7(a){this.type=a.type;this.name=a.name}u7.prototype.lc=function(){return this.type};u7.prototype.getName=function(){return this.name};
function N6(a){return new u7({type:Pa(K6,"type",a),name:C("name",a)})}function v7(a){this.type=a.type;this.weight=a.weight;this.iX=a.iX;this.$W=a.$W;this.name=a.name;this.description=a.description}v7.prototype.lc=function(){return this.type};v7.prototype.getName=function(){return this.name};v7.prototype.He=function(){return this.description};
function P6(a){return new v7({type:Pa(L6,"type",a),weight:A("weight",a),iX:B("minWeight",a),$W:B("maxWeight",a),name:C("name",a),description:C("description",a)})}function w7(a){this.zj=a.zj;this.Zj=a.Zj;this.QK=a.QK;this.PK=a.PK;this.HE=a.HE;this.name=a.name}w7.prototype.getName=function(){return this.name};function O6(a){return new w7({zj:A("widthMicrons",a),Zj:A("heightMicrons",a),QK:A("displayWidth",a),PK:A("displayHeight",a),HE:Pa(Yea,"displayUnits",a),name:D("name",a)})}
function Yea(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw new TypeError('expected PaperSizeUnits for property "'+a+'", found: '+JSON.stringify(b));}}function x7(a){this.finish=a.finish;this.name=a.name;this.description=a.description}x7.prototype.getName=function(){return this.name};x7.prototype.He=function(){return this.description};function Q6(a){return new x7({finish:Pa(M6,"finish",a),name:C("name",a),description:C("description",a)})}
function y7(a){this.Kb=a.Kb;this.ib=a.ib;this.iz=a.iz;this.doctype=a.doctype}y7.prototype.ss=function(){return this.Kb};y7.prototype.Vj=function(){return this.ib};function Zea(a){return new y7({Kb:C("productType",a),ib:C("paperSize",a),iz:Ma("dimensionsFlipped",a),doctype:D("doctype",a)})}function z7(a){this.fc=a.fc}z7.prototype.Uz=function(){return this.fc};function $ea(a){this.AP=a.AP||[];this.xH=a.xH}function afa(a){return new $ea({AP:G(Zea,"productSizes",a),xH:Oa(t7,"productAttributes",a)})}
function A7(a){this.cd=a.cd;this.ce=a.ce;this.ib=a.ib;this.ff=a.ff;this.Kb=a.Kb;this.qz=a.qz;this.jA=a.jA;this.$v=a.$v;this.hz=a.hz}A7.prototype.Vj=function(){return this.ib};A7.prototype.pn=function(){return this.ff};A7.prototype.ss=function(){return this.Kb};function bfa(a){return new A7({cd:C("sku",a),ce:C("paper",a),ib:C("paperSize",a),ff:C("paperFinish",a),Kb:C("productType",a),qz:Ma("ecoFriendly",a),jA:Ma("hasEnvelope",a),$v:A("maxPages",a),hz:Ma("dimensionsFlippable",a)})}
function cfa(a){this.cd=a.cd;this.wb=a.wb||[]}function dfa(a){return new cfa({cd:C("sku",a),wb:G(pea,"prices",a)})}function efa(a){this.cd=a.cd;this.zP=a.zP;this.wq=a.wq;this.uq=a.uq;this.Qo=a.Qo;this.currency=a.currency}function ffa(a){return new efa({cd:C("sku",a),zP:C("productPaperSize",a),wq:A("minQuantity",a),uq:A("maxQuantity",a),Qo:A("unitPriceCents",a),currency:C("currency",a)})}function B7(a){this.bd=a.bd||[];this.EL=a.EL||[];this.MQ=a.MQ||[];this.Ad=a.Ad}B7.prototype.JF=function(){return this.bd};
function gfa(a){return new B7({bd:G(dfa,"products",a),EL:G(ffa,"envelopes",a),MQ:G(nea,"shipping",a),Ad:D("priceToken",a)})}function C7(a){this.fc=a.fc;this.currency=a.currency;this.Kb=a.Kb;this.Mq=a.Mq||[]}C7.prototype.Uz=function(){return this.fc};C7.prototype.ss=function(){return this.Kb};function D7(a){this.bd=a.bd||[];this.gf=a.gf;this.attributes=a.attributes;this.wb=a.wb}D7.prototype.JF=function(){return this.bd};
function hfa(a){return new D7({bd:G(bfa,"products",a),gf:C("region",a),attributes:Oa(t7,"attributes",a),wb:F(gfa,"prices",a)})}
function ci(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "FLYER":return"FLYER";case "LETTERHEAD":return"LETTERHEAD";case "POSTCARD":return"POSTCARD";case "INVITATION":return"INVITATION";case "SQUARE_CARD":return"SQUARE_CARD";default:throw new TypeError('expected OrderInvoiceProductItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function fi(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected OrderInvoiceShippingItemType for property "'+a+'", found: '+JSON.stringify(b));}};function E7(a,b){a=a.find(function(a){return a.wq<=b&&b<=a.uq});y(a,"No QuantityPrice available for the specified copies '{}'",b);return a.Qo}function F7(a,b){w(0<a.length,"Expected at least one ShippingPrice");a=a.filter(function(a){return a.FG<=b.Ah&&b.Ah<=a.yG}).filter(function(a){return a.Sa===b.Sa}).sort(function(a,b){return a.yh-b.yh})[0];if(null==a)throw Error("No shipping prices found for shipping method '"+b.Sa+"' and order quantity '"+b.Ah+"'");return a};function A6(a){this.N=a;this.path="/print"}A6.prototype.jE=function(a){return sj(this.N,this.path+"/orders",Eea(a)).catch(tj).get(0).then(La).then(Fea)};A6.prototype.GI=function(a){return sj(this.N,this.path+"/orders/"+a.id,Hea(a)).catch(tj).get(0).then(La).then(Kea)};
A6.prototype.nn=function(a){var b=this.path+"/orders/"+a.id,c=[];0<a.Mq.length&&c.push("projection\x3d"+encodeURIComponent(a.Mq.toString()));0<a.SL.length&&c.push("fileRoles\x3d"+encodeURIComponent(a.SL.toString()));a=0<c.length?b+"?"+c.join("\x26"):b;return uj(this.N,a).catch(tj).get(0).then(La).then(Lea)};
function ifa(a,b){var c=a.path+"/addresses";b=["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user)].join("\x26");return uj(a.N,c+"?"+b).catch(tj).get(0).then(La).then(Nea)}function jfa(a,b){return sj(a.N,a.path+"/orders/"+b.order+"/fileimports",Qea(b)).catch(tj).get(0).then(La).then(Sea)}function kfa(a,b){return uj(a.N,a.path+"/orders/"+b.order+"/fileimports/"+b.Gs).catch(tj).get(0).then(La).then(Tea)}
function I3(a){var b=new s7({fc:null}),b=[a.path+"/regions?",b.fc?"country\x3d"+encodeURIComponent(b.fc):""].join("");return uj(a.N,b).catch(tj).get(0).then(La).then(Wea)}function lfa(a){var b=new z7({fc:null}),b=a.path+"/products/sizes?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):""].filter(function(a){return!!a}).join("\x26");return uj(a.N,b).catch(tj).get(0).then(La).then(afa)}
function mfa(a,b){b=a.path+"/products?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):"",null!=b.currency?"currency\x3d"+encodeURIComponent(b.currency):"",null!=b.Kb?"productType\x3d"+encodeURIComponent(b.Kb):"",0<b.Mq.length?"projection\x3d"+encodeURIComponent(b.Mq.toString()):""].filter(function(a){return!!a}).join("\x26");return uj(a.N,b).catch(tj).get(0).then(La).then(hfa)};function H0(){}function v3(a){a=a.map(function(a){return nfa(a)});return P.all(a).then(function(a){return a.every(function(a){return a})})}function nfa(a){var b=a.Pp(),c=a.sr.map(function(a){return a.validate(b,void 0)});return P.all(c).then(function(b){var c=a.Op();b=la(b);for(var g=b.next();!g.done;g=b.next())if(g=g.value,!g.valid)return c.xk(g.message),!1;c.lg();return!0})};function G0(a){this.Zd=a.Zd;this.ZS=a.ZS||!1}
G0.prototype.validate=function(a){var b=null;if(0===a.length&&this.ZS)return new P(function(a){return a({valid:!0,message:b})});255<=a.length?b=this.Zd.format("formValidatorInvalidEmailTooLong"):1>a.length?b=this.Zd.format("formValidatorInvalidEmailTooShort"):/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(b=this.Zd.format("formValidatorInvalidEmailSyntax"));return new P(function(a){return a({valid:null==
b,message:b})})};function G7(a){this.bN=a.bN}G7.prototype.validate=function(a){var b=null!==a&&void 0!==a&&("number"!==typeof a||!isNaN(a))&&("string"!==typeof a||/\S+/.test(a)),c=b?null:this.bN;return new P(function(a){return a({valid:b,message:c})})};function H7(a){this.Zd=a.Zd;this.ZN=a.ZN||0;this.maxLength=a.maxLength||Number.MAX_VALUE}H7.prototype.validate=function(a){var b=null;a.length<this.ZN?b=this.Zd.format("formValidatorInvalidStringLengthTooShort",this.ZN):a.length>this.maxLength&&(b=this.Zd.format("formValidatorInvalidStringLengthTooLong",this.maxLength));return new P(function(a){return a({valid:null==b,message:b})})};function xaa(a,b,c){function d(a){var b=new Set;a.ia().forEach(function(a){if(100!==a.Ha&&!(a instanceof IC)){var c=a.qa();if(a.constructor===EC)for(var d=a.ig(),e=0;e<d;e++){var g=a.rn(e).clone().translate(c.F(),c.w());b.add(g)}else if(c){if(a=a.rM())if(c.translate(a.F(),a.w()),100===a.Ha)return;b.add(c)}}});return b}var e=a.lb();a=function(a,b){return b.map(function(b){b=y(a.O[b],"Cannot get bounding boxes for invalid page index {}.",b);return d(b)})}(a,b);var g={j8:Rg(e.tb).width,d8:Rg(e.tb).height,
Br:function(a,b){return Rg(a.tb).width*(X_.fJ/b.zj)}(e,c)};return a.every(function(a){return ofa(a,g)})}function ofa(a,b){function c(b,c){var d={origin:b,direction:[c[0]-b[0],c[1]-b[1]]};b=Array.from(a).map(function(a){return pfa(d,a)}).filter(function(a){return 2===a.length}).map(function(a){var b=a[0],c=a[1];a=(b+c)/2;b=1.04*(c-b)/2;return[a-b,a+b]});return qfa(new Set(b))}var d=-b.Br,e=b.j8+b.Br,g=b.d8+b.Br;b=-b.Br;return c([b,d],[e,d])&&c([e,d],[e,g])&&c([b,g],[e,g])&&c([b,d],[b,g])}
function pfa(a,b){var c=a.origin;a=a.direction;w(0===a[0]!==(0===a[1]),"axisAlignedRay must be an axis-aligned ray, but its direction vector is {}",a);if(0!==a[0]){if(c[1]<b.w()||c[1]>b.xa())return[];var d=(b.F()-c[0])/a[0];b=(b.Za()-c[0])/a[0];return d<b?[d,b]:[b,d]}if(c[0]<b.F()||c[0]>b.Za())return[];d=(b.w()-c[1])/a[1];b=(b.xa()-c[1])/a[1];return d<b?[d,b]:[b,d]}
function qfa(a){var b=[0,1];a=Array.from(a);a.sort(function(a,b){return a[0]-b[0]});for(var c=b[0],d=0;d<a.length;d++){var e=a[d];if(!(e[1]<c)){if(e[0]>c)break;c=e[1];if(c>=b[1])return!0}}return!1};function I7(a){this.Hy=a.Hy}I7.prototype.validate=function(a){var b=null;[/P\.?\s*O(\.|\s)\s*BOX/i,/POST\s+OFFICE\s+BOX/i].some(function(b){return b.test(a)})&&(b=this.Hy);return new P(function(a){return a({valid:null==b,message:b})})};function J7(a){qT.apply(this,arguments)}r(J7,qT);function K7(a){return new J7(a)}J7.prototype.oh=function(){return this.$el.find(".printableDoctypeOption__label").text().toString()};function rfa(a){soy.asserts.assertType(goog.isString(a.Nk)||a.Nk instanceof goog.soy.data.SanitizedContent,"cancelButtonText",a.Nk,"string|goog.soy.data.SanitizedContent");var b=a.Nk;soy.asserts.assertType(goog.isString(a.pp)||a.pp instanceof goog.soy.data.SanitizedContent,"confirmButtonText",a.pp,"string|goog.soy.data.SanitizedContent");var c=a.pp;soy.asserts.assertType(goog.isString(a.xq)||a.xq instanceof goog.soy.data.SanitizedContent,"moreInfoLinkText",a.xq,"string|goog.soy.data.SanitizedContent");
var d=a.xq;soy.asserts.assertType(goog.isString(a.cw)||a.cw instanceof goog.soy.data.SanitizedContent,"moreInfoLinkUrl",a.cw,"string|goog.soy.data.SanitizedContent");var e=a.cw;soy.asserts.assertType(a.qt instanceof soydata.SanitizedHtml||a.qt instanceof soydata.UnsanitizedText||goog.isString(a.qt),"saveACopyMessage",a.qt,"soydata.SanitizedHtml");var g=a.qt;soy.asserts.assertType(goog.isBoolean(a.Fo)||1===a.Fo||0===a.Fo,"showCancelButton",a.Fo,"boolean");var h=!!a.Fo;soy.asserts.assertType(goog.isBoolean(a.Go)||
1===a.Go||0===a.Go,"showResizeForPrintIllustration",a.Go,"boolean");var k=!!a.Go;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var l=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var m=a.v;soy.asserts.assertType(null==a.KE||goog.isArray(a.KE),"doctypeOptions",a.KE,"?Array\x3c!soydata.SanitizedHtml|string\x3e|undefined");
var n=a.KE;soy.asserts.assertType(null==a.yp||a.yp instanceof soydata.SanitizedHtml||a.yp instanceof soydata.UnsanitizedText||goog.isString(a.yp),"doctypeSelectContent",a.yp,"?soydata.SanitizedHtml|string|undefined");a=a.yp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"updateDoctype'+(m?" "+soy.$$escapeHtmlAttribute(m):"")+'"\x3e'+(k?'\x3cdiv class\x3d"updateDoctype__image"\x3e\x3c/div\x3e':"")+"\x3ch2 class\x3d'updateDoctype__title'\x3e"+soy.$$escapeHtml(l)+"\x3c/h2\x3e\x3cdiv\x3e"+
(n&&a?$S({v:"updateDoctype__printableDoctypeSelect",Vq:a,options:n}):"")+"\x3c/div\x3e\x3cp class\x3d'updateDoctype__error'\x3e\x3c/p\x3e\x3cdiv class\x3d\"updateDoctype__buttons\"\x3e"+(h?z_({v:"updateDoctype__buttonCancel buttonSecondary",text:b}):"")+z_({v:"updateDoctype__buttonConfirm buttonSubmittable",text:c})+'\x3c/div\x3e\x3cp class\x3d"updateDoctype__saveNote"\x3e'+soy.$$escapeHtml(g)+' \x3ca target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e))+'" class\x3d"updateDoctype__moreInfoLink"\x3e'+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e")};function L7(a,b){var c=this;hc.call(this,a);a.on("click",".updateDoctype__buttonConfirm",function(){c.trigger(M7)});a.on("click",".updateDoctype__buttonCancel",function(){c.trigger(N7)});this.V8=b}r(L7,hc);
function sfa(a){var b=a.W8.map(function(a){var b=$;soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var e=a.description;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var g=a.label;
soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option printableDoctypeOption '+(h?" listbox__option--selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(a.value)+
'"\x3e\x3cdiv class\x3d"printableDoctypeOption__content"\x3e\x3cdiv class\x3d"printableDoctypeOption__label"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"printableDoctypeOption__description"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(a.toString());return iT(K7(b))});a=$(rfa({KE:b,Nk:a.Nk,pp:a.pp,yp:a.yp,xq:a.xq,cw:a.cw,qt:a.qt,Fo:a.Fo,Go:a.Go,title:a.title}).toString());return tfa(a)}
function tfa(a){var b=fT(a.find(".updateDoctype__printableDoctypeSelect"),{Ph:K7});return new L7(a,b)}function O7(a,b){a.$el.find(".updateDoctype__buttonConfirm").toggleClass("submitting",b)}L7.prototype.xk=function(a){var b=this.$el.find(".updateDoctype__error");b.html(a.toString());kl(function(){b.addClass("updateDoctype__error--visible")})};L7.prototype.lg=function(){this.$el.find(".updateDoctype__error").removeClass("updateDoctype__error--visible")};var N7="CANCEL",M7="CONFIRM";function P7(a,b){var c=this;this.view=b;this.j=a.j;this.yg=a.yg;this.tp=a.tp;this.Ra=a.Ra;this.lz=a.lz;this.zp=a.zp;this.i=a.i;this.xc=a.xc;this.Lq=a.Lq;this.Us=a.Us;this.xP=a.xP;b.on(N7,function(){return c.KG()});b.on(M7,function(){return ufa(c)})}
function vfa(a){var b=a.Lq.map(function(b,c){return{label:b.Kb.name,description:Q7(a.xc,b.ib),value:""+c,selected:0===c}}),b=sfa({Nk:a.i.Nk(),pp:a.i.format("updateDoctypeUpdateFormatButtonText"),W8:b,xq:a.i.xq(),cw:"https://support.canva.com/canva-print/preparing-your-design-for-print/resizing-for-print/",qt:a.i.Ia("updateDoctypeSaveACopyMessageHtml"),Fo:a.Fo,Go:a.Go,title:a.i.format("updateDoctypeChoosePrintFormat"),yp:b&&b[0]?b[0].label:void 0}),c=new sT(b.V8);return{Db:wfa({j:a.j,yg:a.yg,tp:a.tp,
lz:a.lz,Ra:a.Ra,zp:a.zp,i:a.i,Us:a.Us,Lq:a.Lq,xP:c,xc:a.xc},b),view:b}}function wfa(a,b){return new P7(a,b)}P7.prototype.KG=function(){var a=this.tp,b=this.yg,a=X(X(X(new am("print_resize_cancelled"),"section","editor"),"location",b),"template",a);this.j.wa(a)};
function ufa(a){var b=parseInt(a.xP.tc(),10),c=a.Lq[b],d=c.me;a.view.lg();O7(a.view,!0);xfa(a,d);return yfa(a).then(function(){return a.Us(c)}).then(function(){var b=a.tp,c=a.yg,b=X(X(X(X(new am("print_resize_succeeded"),"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b)}).then(function(){}).catch(function(){a.view.xk(a.i.Ia("updateDoctypeBackupErrorHtml","https://support.canva.com/troubleshooting"))}).catch(function(){var b=a.tp,c=a.yg,b=X(X(X(X(new am("print_resize_failed"),
"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b);a.view.xk(a.i.Ia("updateDoctypeResizeErrorHtml","https://support.canva.com/troubleshooting"))}).finally(function(){return O7(a.view,!1)})}function yfa(a){var b=a.i.format("updateDoctypeOriginalSizeDesignName",a.zp).substr(0,255),b=new Et({id:a.lz.u(),title:b});return a.Ra.duplicate(b).catch(function(){throw new R7;})}
function xfa(a,b){var c=a.tp,d=a.yg;b=X(X(X(X(new am("print_resize_button_clicked"),"section","editor"),"location",d),"template",c),"target_template",b);a.j.wa(b)}function R7(){}r(R7,Error);function H3(a,b){switch(a){case "US":return zfa.get(b);case "CA":return Afa.get(b);case "AU":return Bfa.get(b);case "NZ":return Cfa.get(b);case "EU":return Dfa.get(b);case "MX":return Efa.get(b);case "IN":return Ffa.get(b);default:throw Error("Unknown print region '"+a+"'.");}}
var zfa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc",
"POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"],["TABQqnCvwOE","SQUARE_CARD"],["TABQqqpLLB4","SQUARE_CARD"],["TABQqrXJokU","SQUARE_CARD"],["TACkWJSx1hY","SQUARE_CARD"],["TACQ-t5Mojc","SQUARE_CARD"]]),Afa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s",
"INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"],["TABQqnCvwOE","SQUARE_CARD"],["TABQqqpLLB4","SQUARE_CARD"],["TABQqrXJokU","SQUARE_CARD"],["TACkWJSx1hY","SQUARE_CARD"],["TACQ-t5Mojc","SQUARE_CARD"]]),Bfa=new Map([["TACiRRRQ1rQ",
"FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Cfa=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s",
"INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Dfa=new Map([["poster","POSTER"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["TACiRn71mUI","INVITATION"],["TACixRR28vY","INVITATION"],["card",
"INVITATION"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),Efa=new Map([["posterUS","POSTER"],["TABQqupS2LE","FLYER"],["resume","FLYER"],["usLetter","FLYER"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],
["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),Ffa=new Map([["TACQ-jGq9fY","POSTER"]]);function Gfa(a){return X(new am("print_checkout_payment"),"order_id",a)};function S7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardType");case "EXPRESS":return a.format("printOrderShippingMethodExpressType");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function T7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardDescription");case "EXPRESS":return a.format("printOrderShippingMethodExpressDescription");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}
function Q7(a,b){var c=b.QK,d=b.PK,e=b.name;switch(b.HE){case "INCHES":return null==e?a.Ia("printOrderPaperDimensionsInchesHtml",c,d):a.format("printOrderNamedPaperDimensionsInches",e,c,d);case "CENTIMETERS":return null==e?a.Ia("printOrderPaperDimensionsCentimetresHtml",c,d):a.format("printOrderNamedPaperDimensionsCentimetres",e,c,d);default:throw Error("paper dimensions not translated for units: "+b.HE);}};function U7(a){soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.description||a.description instanceof
goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"?soydata.SanitizedHtml|string|undefined");var d=a.description;soy.asserts.assertType(a.label instanceof goog.soy.data.SanitizedContent||a.label instanceof soydata.SanitizedHtml||a.label instanceof soydata.UnsanitizedText||goog.isString(a.label),"label",a.label,"!soydata.SanitizedHtml|string");var e=a.label;soy.asserts.assertType(null==
a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option orderSummaryOption'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+(g?" listbox__option--selected":"")+'"'+(b?" "+soy.$$filterHtmlAttributes(b):
"")+' data-value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"orderSummaryOption__content"\x3e\x3cdiv class\x3d"orderSummaryOption__label"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e"+(d?'\x3cdiv class\x3d"orderSummaryOption__description"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function V7(a){soy.asserts.assertType(goog.isString(a.Bi)||a.Bi instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.Bi,"string|goog.soy.data.SanitizedContent");var b=a.Bi;soy.asserts.assertType(goog.isString(a.ba)||a.ba instanceof goog.soy.data.SanitizedContent,"price",a.ba,"string|goog.soy.data.SanitizedContent");a=a.ba;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function W7(a){qT.apply(this,arguments)}r(W7,qT);function X7(a){return new W7(a)}W7.prototype.oh=function(){return soydata.VERY_UNSAFE.ordainSanitizedHtml(this.$el.find(".paperSizeOption__label").prop("outerHTML"))};function Y7(a){qT.apply(this,arguments)}r(Y7,qT);
function Z7(a){var b=$;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(a.Xs instanceof goog.soy.data.SanitizedContent||a.Xs instanceof soydata.SanitizedHtml||a.Xs instanceof soydata.UnsanitizedText||goog.isString(a.Xs),"pageCountDescription",a.Xs,"!soydata.SanitizedHtml|string");var d=a.Xs;soy.asserts.assertType(goog.isString(a.uB)||a.uB instanceof goog.soy.data.SanitizedContent,
"pageCountLabel",a.uB,"string|goog.soy.data.SanitizedContent");var e=a.uB;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:e,value:a.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-page-count-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"'),v:c,description:d,selected:g}));b=b(a.toString());return $7(b)}function $7(a){return new Y7(a)}Y7.prototype.oh=function(){return this.$el.attr("data-page-count-label").toString()};function a8(a){qT.apply(this,arguments)}r(a8,qT);
function Hfa(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(null==a.Rt||a.Rt instanceof goog.soy.data.SanitizedContent||goog.isString(a.Rt),"unitPrice",a.Rt,"null|string|undefined");var d=a.Rt;soy.asserts.assertType(goog.isString(a.kw)||a.kw instanceof goog.soy.data.SanitizedContent,"numberOfCopies",a.kw,"string|goog.soy.data.SanitizedContent");var e=a.kw;soy.asserts.assertType(goog.isString(a.ba)||
a.ba instanceof goog.soy.data.SanitizedContent,"price",a.ba,"string|goog.soy.data.SanitizedContent");var g=a.ba;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"orderQuantityOption__label"\x3e\x3cspan class\x3d"orderQuantityOption__copies"\x3e'+
soy.$$escapeHtml(a)+'\x3c/span\x3e\x3cspan class\x3d"orderQuantityOption__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-copies\x3d"'+soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c+" orderQuantityOption",description:d,selected:h}));b=b(c.toString());return b8(b)}function b8(a){return new a8(a)}
a8.prototype.oh=function(){var a=this.$el.attr("data-copies").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"copies",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||goog.isString(b),"price",b,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"orderQuantitySelectionLabel"\x3e\x3cspan class\x3d"orderQuantitySelectionLabel__copies"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e"+(b?'\x3cspan class\x3d"orderQuantitySelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/div\x3e")};function c8(a){qT.apply(this,arguments)}r(c8,qT);function d8(a){return new c8(a)}c8.prototype.oh=function(){return this.$el.attr("data-label").toString()};function e8(a){qT.apply(this,arguments)}r(e8,qT);function f8(a){return new e8(a)}e8.prototype.oh=function(){return this.$el.attr("data-label").toString()};function g8(a){qT.apply(this,arguments)}r(g8,qT);
function h8(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(goog.isString(a.Bi)||a.Bi instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.Bi,"string|goog.soy.data.SanitizedContent");var d=a.Bi;soy.asserts.assertType(goog.isString(a.At)||a.At instanceof goog.soy.data.SanitizedContent,"shippingDescription",a.At,"string|goog.soy.data.SanitizedContent");var e=a.At;
soy.asserts.assertType(goog.isString(a.ba)||a.ba instanceof goog.soy.data.SanitizedContent,"price",a.ba,"string|goog.soy.data.SanitizedContent");var g=a.ba;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+
soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c,description:e,selected:h}));b=b(c.toString());return i8(b)}function i8(a){return new g8(a)}g8.prototype.oh=function(){return V7({Bi:this.$el.attr("data-label").toString(),ba:this.$el.attr("data-price").toString()})};function j8(a){var b=this;hc.call(this,a);a.on("click",".licensesMore",function(){return b.trigger(k8)});a.on("change",".mediaLicenses__licenseSelect",function(){return b.trigger(l8)})}r(j8,hc);j8.prototype.QQ=function(a){var b=$(".licensesMore");a.Ci(b)};var k8="CLICK_LICENSES_MORE",l8="LICENSE_SELECT";
function m8(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.md,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",
a.je,"boolean");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Qc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Rg)||1===a.Rg||0===a.Rg,"showExtended",a.Rg,"boolean");soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,
"extended",a.Id,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Yd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a.Qj instanceof soydata.SanitizedHtml||a.Qj instanceof soydata.UnsanitizedText||goog.isString(a.Qj),
"fullInformationHtml",a.Qj,"soydata.SanitizedHtml");var b=a.Qj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(N1(a)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"),b=$(b.toString());Cz.call(this,{className:"licensesPopOver",content:b,We:a.confirm,position:zp})}r(m8,Cz);function n8(a,b){var c=this;this.view=b;this.Cb=a.Cb;this.Aa=a.Aa;this.Oa=a.Oa;this.rb=new Map([].concat(ma(new Map([["a","a"],["b","b"]]))));this.view.on(k8,function(){return c.oO()});this.view.on(l8,function(){throw Error("License selection not yet implemented.");})}function Ifa(a){return{PA:Ue(a.Aa),si:a.Cb.map(function(b){return Jfa({media:b,Aa:a.Aa,Oa:a.Oa,rb:a.rb})})}}
n8.prototype.oO=function(){function a(a){return c.Cb.some(function(c){return b(c,a)})}function b(a,b){return a.Dw.some(function(a){return a.type==b})}var c=this,d={confirm:We(this.Aa),ie:a("ONE_USE"),md:this.Oa.md(),Nc:this.Oa.Nc(),je:a("ROYALTY_FREE"),Fc:this.Oa.Fc(),Qc:this.Oa.Qc(),Rg:a("EXTENDED"),Id:this.Oa.Id(),Yd:this.Oa.Yd(),be:this.Oa.be(),Qj:Xe(this.Oa,Kfa)};this.view.QQ(new m8(d))};
function Jfa(a){var b=0<a.media.Bc.length,c=b?a.media.Bc[0].type:null;return{f9:a.Aa.ht(),ug:a.media.ug,qN:!/\.png$/.test(a.media.ug),title:a.media.RN,Kr:a.Aa.Kr(a.media.bh),lH:c?o8(c,a.Oa):null,zz:b?Lfa(a.media.Bc[0].$N,a.Aa):null,gt:b?null:a.media.Dw.map(function(b){var c=a.Aa,g=a.Oa,h=a.rb.get(a.media.ca),c=c.Al(b.ba),g=b.type?o8(b.type,g):null;return{selected:b.type===h,text:g+" - "+c,value:b.type}})}}
function o8(a,b){switch(a){case "ONE_USE":return b.md();case "ROYALTY_FREE":return b.Fc();case "EXTENDED":return b.Id();default:throw Error("Unknown LicenseType '"+a+"'.");}}function Lfa(a,b){if(null==a||Infinity===a)return null;var c=moment.duration(a,"minutes");a=Math.floor(c.asHours());c=c.minutes();return a?b.format("paymentPageLicenseRemainingHours",a):Ve(b,c)}n8.prototype.destroy=function(){this.view.remove()};var Kfa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function Mfa(a,b){var c=this;this.Ab=a;this.dX=b;this.Ab.once("remove",function(){return c.dX.destroy()})}function Nfa(a){return pp(a.Ab).then(function(){return a.dX.rb})};function p8(a,b){var c=this;this.view=b;this.fa=a.fa||null;this.aa=a.aa;this.gb=a.gb;this.Ac=a.Ac;this.kh=a.kh;this.rb=a.rb;this.Cb=a.Cb;this.Fa=a.Fa;this.Bd=a.Bd;this.qQ=a.qQ;this.VX=[];this.LG=null;this.view.on(q8,function(){return Ofa(c)});this.view.on(r8,function(){c.no();null!=c.LG&&c.LG()})}function Pfa(a,b){return a.reduce(function(a,d){return a+(0<d.Bc.length?0:s8(d,b).ba)},0)}
function s8(a,b){var c=b.get(a.ca)||"ONE_USE";b=a.Dw.find(function(a){return a.type===c});return y(b||a.Dw[0],'No pricing options found for media "{}"',a.ca)}function Qfa(a,b){return new p8(a,b)}p8.prototype.destroy=function(){this.view.remove()};
function Rfa(a,b){a=a.Cb.filter(function(a){return 0===a.Bc.length}.bind(a)).map(function(a){var b=s8(a,this.rb);return new hi({qq:new Yh({media:a.ca,version:a.da,document:this.Ac().id,ek:b.type})})}.bind(a));return[].concat([new hi({uP:new ai({order:b})}),new hi({vP:new di({order:b})})],ma(a))}
function t8(a,b){function c(a,e){var g=this,h=this.Ac();return yj(this.aa,new Hi({mode:"DESIGN",Ee:new Gi({document:h.id,Zb:h.version,O:b,Kb:"MEDIA"}),Y:a,limit:50})).then(function(a){if(!a.Y)return a.bd;var b=Math.min(2*e,1E3);return P.delay(e).then(function(){return c.call(g,a.Y,b)}).then(function(b){return[].concat(ma(a.bd),ma(b))})})}return c.call(a,null,50).then(function(a){return a.map(function(a){return a.media})})}
function u8(a,b){a.Bd=b;v8(a,w8({fa:a.fa,gb:a.gb,rb:a.rb,Cb:a.Cb,Bd:a.Bd}))}p8.prototype.qv=function(){return this.Cb};function Sfa(a,b,c){a.VX=b;a.Bd=c;Tfa(a.view);return a.kh().then(function(){return t8(a,b)}).then(function(b){a.Cb=b;v8(a,w8({fa:a.fa,gb:a.gb,rb:a.rb,Cb:a.Cb,Bd:a.Bd}))})}p8.prototype.OD=function(a){return w8({fa:this.fa,rb:this.rb,Cb:this.Cb,Bd:a}).lm};
function w8(a){var b=a.Bd.yY+a.Bd.wP+a.Bd.Fp,c=a.fa&&a.fa.Zv||0,d=Pfa(a.Cb,a.rb),e=Math.min(d,c),g=a.gb?Ufa({gb:a.gb,Bd:a.Bd}):0;return{Im:c,Ij:e,AG:d,lm:Number((d-e+b-g).toFixed(2)),FE:a.gb?{l1:g,gb:a.gb}:null,gm:a.Bd.wP}}
function Ufa(a){var b=[].concat(ma(new Set(a.gb.zD))).reduce(function(b,c){switch(c){case "PRINT_PRODUCT":return b+a.Bd.yY+a.Bd.Fp;case "PRINT_SHIPPING":return b+a.Bd.wP;default:throw Error("Cannot process discount of type '"+c+"'");}},0);switch(a.gb.type){case "AMOUNT":var c=y(a.gb.ep,"AMOUNT discount must have an amount.");return Math.min(b,c.value);case "PERCENTAGE":return c=y(a.gb.xh,"PERCENTAGE discount must have a percentage.")/100,Number(Math.min(b,c*b).toFixed(2));default:throw Error("Unknown discount type '"+
a.gb.type+"'.");}}
function v8(a,b){var c=a.Fa.Ij(b.Ij);a.view.$el.find(".printOrderSummary__creditUsed").empty().append(c);c=pf(a.Fa,b.Im);a.view.$el.find(".printOrderSummary__creditUsedLabel").empty().append(c);var c=a.view,d=a.Fa.ba(b.AG);0!==b.AG?c.$el.find(".printOrderSummary__premiumImagesLink").show():c.$el.find(".printOrderSummary__premiumImagesLink").hide();c.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(d);c=a.Fa.ba(b.lm);a.view.$el.find(".printOrderSummary__orderTotalPrice").empty().append(c);c=
0<b.gm?a.Fa.ba(b.gm):a.Fa.format("printOrderSummaryPriceFree");a.view.$el.find(".printOrderSummary__shippingPrice").empty().append(c);c=!!b.FE;a.view.$el.find(".printOrderSummary__couponDiscountInfo").toggleClass("printOrderSummary__info--hidden",!c);if(b.FE){c=a.view;a:{var e=b.FE.gb,d=a.Fa,g=e.eh,h=new Set(e.zD),h=1===h.size&&h.has("PRINT_SHIPPING")?d.format("printOrderSummaryDiscountShipping"):1===h.size&&h.has("PRINT_PRODUCT")?d.format("printOrderSummaryDiscountPrints"):d.format("printOrderSummaryDiscountOrder");
switch(e.type){case "PERCENTAGE":e=y(e.xh,"PERCENTAGE discount must have a percentage.");d=d.format("printOrderSummaryPercentageCouponDiscountLabel",g,e,h);break a;case "AMOUNT":e=y(e.ep,"AMOUNT discount must have an amount.");d=d.format("printOrderSummaryAmountCouponDiscountLabel",g,e.value,h);break a;default:throw Error("Unknown discount type "+e.type+".");}}c.$el.find(".printOrderSummary__couponDiscountLabel").empty().append(d);c=a.Fa.ba(b.FE.l1);a.view.$el.find(".printOrderSummary__couponDiscountAmount").empty().append(c)}c=
a.view;0<b.AG?c.slideDown(c.$el.find(".printOrderSummary__premiumImagesInfo")):c.slideUp(c.$el.find(".printOrderSummary__premiumImagesInfo"));a=a.view;b.Ij?a.slideDown(a.$el.find(".printOrderSummary__creditInfo")):a.slideUp(a.$el.find(".printOrderSummary__creditInfo"))}function Ofa(a){x8(a.view,!0);t8(a,a.VX).then(function(b){a.qQ({Cb:b,rb:new Map})}).finally(function(){return x8(a.view,!1)})}p8.prototype.no=function(){this.gb=null;v8(this,w8({fa:this.fa,gb:this.gb,rb:this.rb,Cb:this.Cb,Bd:this.Bd}))};
function Vfa(a,b){w(!a.LG,"onDiscountRemoved: listener already registered");a.LG=b};function y8(a){var b=this;hc.call(this,a);this.$el.on("click",".printOrderSummary__premiumImagesLink",function(a){a.preventDefault();$(a.currentTarget).hasClass("printOrderSummary__premiumImagesLink--loading")||b.trigger(q8)});this.$el.on("click",".printOrderSummary__removeCouponLink",function(a){a.preventDefault();b.trigger(r8)})}r(y8,hc);function x8(a,b){a.$el.find(".printOrderSummary__premiumImagesLink").toggleClass("printOrderSummary__premiumImagesLink--loading",b)}
y8.prototype.slideDown=function(a){a.hasClass("printOrderSummary__info--hidden")&&(a.css("display","none"),a.removeClass("printOrderSummary__info--hidden"),a.slideDown())};y8.prototype.slideUp=function(a){a.slideUp(function(){a.addClass("printOrderSummary__info--hidden");a.css("display","")})};
function Tfa(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimage src\x3d"https://static.canva.com/static/images/loading_spinner_dark.png" /\x3e').toString());a.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(b)}var q8="CLICK_PREMIUM_IMAGES_LINK",r8="REMOVE_COUPON";function Wfa(a){soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",a.fd,"string|goog.soy.data.SanitizedContent");var b=a.fd;soy.asserts.assertType(goog.isString(a.yl)||a.yl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.yl,"string|goog.soy.data.SanitizedContent");var c=a.yl;soy.asserts.assertType(null==a.$g||a.$g instanceof goog.soy.data.SanitizedContent||goog.isString(a.$g),"buttonClasses",a.$g,"null|string|undefined");var d=a.$g;
soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var g=a.disabled;soy.asserts.assertType(null==a.xA||a.xA instanceof goog.soy.data.SanitizedContent||goog.isString(a.xA),"inputClasses",a.xA,"null|string|undefined");var h=a.xA;soy.asserts.assertType(null==
a.fG||a.fG instanceof goog.soy.data.SanitizedContent||goog.isString(a.fG),"inputValue",a.fG,"null|string|undefined");a=a.fG;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"inputWithButton'+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+G1({v:"inputWithButton__input "+h,disabled:g,placeholder:c,value:a})+z_({v:"inputWithButton__button buttonSecondary "+d,disabled:g,text:b})+"\x3c/div\x3e")};function z8(a,b){var c=this;hc.call(this,a);this.cj=b;a.on("click",".paymentForm__applyCouponButton",function(){c.trigger(A8)})}r(z8,hc);function B8(a,b){s1(a.$el.find(".paymentForm__cardInputContainer")).xk(b)}function C8(a,b){s1(a.$el.find(".paymentForm__couponInputContainer")).xk(b)}function D8(a){s1(a.$el.find(".paymentForm__couponInputContainer")).lg()}z8.prototype.Vz=function(){return this.$el.find(".paymentForm__couponCodeInput").val().toString().trim()};
function E8(a,b){a.$el.find(".paymentForm__applyCouponButton").toggleClass("submitting",b)}var A8="APPLY_COUPON";function F8(a,b,c){var d=this;this.view=b;this.xd=c;this.fa=a.fa;this.gb=null;this.aa=a.aa;this.va=a.va;this.na=a.na;this.Ya=a.Ya;this.kq=!1;this.Aa=a.Aa;this.Nf=a.Nf;Vfa(this.Nf,function(){return d.no()});this.view.on(A8,function(){return Xfa(d)})}f=F8.prototype;f.destroy=function(){this.xd.remove();this.view.remove()};f.vk=function(a){this.xd.vk(a)};
f.IB=function(a){var b=this;return P.resolve().then(function(){Fa(!b.kq,"Cannot pay invoice while processing a payment");b.kq=!0;var c=!1;s1(b.view.$el.find(".paymentForm__cardInputContainer")).lg();D8(b.view);return b.PN().then(function(){return b.iE(a)}).then(function(a){return Yfa(b,a.Je)}).then(function(a){return b.qH(a)}).then(function(){c=!0}).catch(G8,function(){var a=b.Aa.Ia("paymentPageDiscountErrorHtml","https://support.canva.com/troubleshooting");C8(b.view,a)}).catch(WT,function(){return b.hA()}).catch(qj,
function(a){return b.Yj(a)}).catch(function(){return b.hA()}).then(function(){return c}).finally(function(){b.kq=!1})})};f.iE=function(a){a=new Qh({D:this.va,items:Rfa(this.Nf,a),currency:"USD"});return this.aa.iE(a)};function Yfa(a,b){return a.gb?zj(a.aa,new ii({Je:b,gb:a.gb.id,no:!1})).catch(function(){throw new G8;}).then(function(){return b}):P.resolve(b)}f.qH=function(a){return zj(this.aa,new ii({Je:a,action:"PAY_SYNCHRONOUS",no:!1}))};
f.PN=function(){var a=this;return P.resolve().then(function(){if(H8(a.fa?a.fa.Yh:null))return a.xd.xM()})};function H8(a){if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Wu<b||a.Wu===b&&a.eF<c}f.hA=function(){var a=Te(this.Aa);B8(this.view,a)};f.Yj=function(a){a=bU(this.Ya,a);B8(this.view,a)};
function Xfa(a){function b(){var a=new Pi({D:this.va,user:this.na,eh:this.view.Vz()});return sj(this.aa.N,"/billing/discounts",{brand:ib("brand",a.D),user:ib("user",a.user),couponCode:ib("couponCode",a.eh)}).catch(tj).get(0).then(La).then(Ri).then(function(a){return a.gb})}D8(a.view);E8(a.view,!0);(function(){var a=new Si({D:this.va,user:this.na,eh:this.view.Vz(),limit:1});return Aj(this.aa,a).then(function(a){return a.NK[0]})}).call(a).then(function(c){return c||b.call(a)}).then(function(b){a.gb=
b;var d=a.Nf;d.gb=b;v8(d,w8({fa:d.fa,gb:d.gb,rb:d.rb,Cb:d.Cb,Bd:d.Bd}));a.view.$el.find(".paymentForm__couponCodeInput").val("")}).catch(function(){var b=a.Aa.format("paymentPageCouponError");C8(a.view,b)}).finally(function(){return E8(a.view,!1)})}f.no=function(){this.gb=null};function G8(){}r(G8,Error);function I8(a){switch(a){case "POSTER":return{CH:[1,2,3,4,5,10],dz:1};case "BUSINESS_CARD":return{CH:[50,100,150,200,250,500,1E3,1500,2E3],dz:50};case "LETTERHEAD":return{CH:[25,50,100,150,200,250,500,1E3],dz:50};case "FLYER":case "INVITATION":case "POSTCARD":case "SQUARE_CARD":return{CH:[1,5,10,25,50,100,150,200,250,500,1E3],dz:50};default:throw Error("Expected PrintProductType, found "+a);}}function J8(a){return I8(a).CH};function T0(a){gc.apply(this,arguments)}r(T0,gc);function K8(a){return a.$el.find(".page--printMarkingsEnabled").toArray().map(function(a){return new L8($(a))})}T0.prototype.vt=function(a){K8(this).forEach(function(b){return b.vt(a)})};T0.prototype.kC=function(a){K8(this).forEach(function(b){return b.kC(a)})};function L8(a){gc.apply(this,arguments)}r(L8,gc);L8.prototype.vt=function(a){this.$el.find(".page__bleedAreaLine").toggleClass("page__printLine--highlight",a)};
L8.prototype.kC=function(a){this.$el.find(".page__safeAreaLine").toggleClass("page__printLine--highlight",a)};function M8(a){gc.apply(this,arguments)}r(M8,gc);function N8(a,b,c){w(!O8(a,b),"Cannot add page with name {}. A page with that name already exists.",b);b=$(P8({name:b}).toString());b=new Q8(b);b.zo(c);a.$el.append(b.$el)}
function R8(a,b){return new P(function(c){var d=Zfa(a),e=a.R(b);y(e,"No page with name the name '{}' exists.",b);var g=d.o();a.ea(g);kl(function(){a.yt(!0);e.yt(!0);d.yt(!0);var b=e.o(),b=b===g?P.resolve():$fa(a,b);d.zt(!1);e.zt(!0);b=b.then(function(){d.yt(!1);e.yt(!1);a.yt(!1);a.$el.height("")});c(b)})})}function O8(a,b){return 0<a.$el.children('[data-page-name\x3d"'+b+'"]').length}
M8.prototype.R=function(a){var b=this.$el.children('[data-page-name\x3d"'+a+'"]');w(2>b.length,"Must contain at most one page with name '{}', but contains {}",a,b.length);return 1===b.length?new Q8(b):null};M8.prototype.Gb=function(){return this.$el.children(".pagesPanel__page").toArray().map(function(a){return new Q8($(a))})};function Zfa(a){a=a.$el.children(".pagesPanel__page--visible");w(1===a.length,"There must be exactly one current page, but there are {}",a.length);return new Q8(a)}
M8.prototype.ea=function(a){this.$el.height(a)};M8.prototype.yt=function(a){this.$el.toggleClass("pagesPanel--swapping",a)};function $fa(a,b){var c=Cf(a.$el[0]);a.ea(b);return c}function Q8(a){gc.apply(this,arguments)}r(Q8,gc);f=Q8.prototype;f.getName=function(){return this.$el.attr("data-page-name").toString()};f.zo=function(a){this.$el.empty();this.$el.append(a)};f.sh=function(){return this.$el.hasClass("pagesPanel__page--visible")};
f.zt=function(a){this.$el.toggleClass("pagesPanel__page--visible",a)};f.yt=function(a){this.$el.toggleClass("pagesPanel__page--swapping",a)};f.o=function(){return this.$el.outerHeight()};function S8(a){soy.asserts.assertType(a.O instanceof soydata.SanitizedHtml||a.O instanceof soydata.UnsanitizedText||goog.isString(a.O),"pages",a.O,"soydata.SanitizedHtml");var b=a.O;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Av||goog.isBoolean(a.Av)||1===a.Av||0===a.Av,"horizontal",a.Av,"boolean|null|undefined");a=a.Av;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel'+
(c?" "+soy.$$escapeHtmlAttribute(c):"")+(a?" pagesPanel--horizontal":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function P8(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,
"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel__page'+(a.visible?" pagesPanel__page--visible":"")+'" data-page-name\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(c?soy.$$escapeHtml(c):"")+"\x3c/div\x3e")};function T8(a){gc.apply(this,arguments)}r(T8,gc);function V0(){var a=$(".editorSideDrawer");return new T8(a)}T8.prototype.zt=function(a){if(a===this.sh())return P.resolve();this.$el.toggleClass("editorSideDrawer--hidden",!a);return Cf(this.$el[0])};T8.prototype.zo=function(a){this.$el.find(".editorSideDrawer__content").empty().append(a)};T8.prototype.sh=function(){return!this.$el.hasClass("editorSideDrawer--hidden")};T8.prototype.xr=function(a){return a(this.$el.find(".editorSideDrawer__content"))};
function U8(a,b){a.$el.find(".editorSideDrawer__loadingSpinnerContainer").toggleClass("editorSideDrawer__loadingSpinnerContainer--loading",b)};function aga(a){var b=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string].");soy.asserts.assertType(null==a.Wd||goog.isObject(a.Wd),"address",a.Wd,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");
var c=a.Wd,d=goog.asserts.assertArray(a.cE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(null==a.Gt||goog.isArray(a.Gt),"subdivisionOptions",a.Gt,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");a=a.Gt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails__address addressDetails__shippingAddress"\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+
m1({v:"addressDetailsAddress__nameInput",label:b.fM,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.name}))})+m1({v:"addressDetailsAddress__phoneInput",label:b.iK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.pk}))})+"\x3c/div\x3e"+m1({v:"addressDetailsAddress__street1Input",label:b.hR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.Ck}))})+o1({v:"addressDetailsAddress__hiddenAddressInput",
content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m1({v:"addressDetailsAddress__street2Input",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.wj}))}))})+o1({v:"addressDetailsAddress__street2ButtonContainer",visible:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cbutton class\x3d"button buttonLink addressDetailsAddress__expandAddressButton"\x3e'+
WX()+soy.$$escapeHtml(b.tJ)+"\x3c/button\x3e")}))})+'\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+m1({v:"addressDetailsAddress__cityInput",label:b.YJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.Xd}))})+m1({v:"addressDetailsAddress__country",label:b.oK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y_({options:d,disabled:1>=d.length}))})+'\x3c/div\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+(a?m1({v:"addressDetailsAddress__subdivision",
label:b.fR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+y_({v:"addressDetailsAddress__subdivisionSelect",options:a}))}):"")+m1({v:"addressDetailsAddress__zipCodeInput",label:b.mS,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+G1({value:null==c?null:c.vf}))})+"\x3c/div\x3e\x3c/div\x3e")}
function V8(a){var b=goog.asserts.assertObject(a.Wd,"expected parameter 'address' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressSummary'+(a?" "+soy.$$escapeHtmlAttribute(a):
"")+'"\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.name)+'\x3c/div\x3e\x3cdiv class\x3d"addressSummary__phone"\x3e'+soy.$$escapeHtml(b.pk)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.Ck)+"\x3c/div\x3e"+(b.wj?"\x3cdiv\x3e"+soy.$$escapeHtml(b.wj)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.Xd)+"\x3c/div\x3e"+(b.f_?"\x3cdiv\x3e"+soy.$$escapeHtml(b.f_)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.vf)+
"\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(b.A2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")};function W8(a){var b=this;hc.call(this,a);a.on("click",".addressDetailsAddress__expandAddressButton",function(a){a=new X8($(a.target).closest(".addressDetails__address"));b.trigger(Y8,a)});a.on("change",".addressDetailsAddress__country select",function(a){a=new X8($(a.target).closest(".addressDetails__address"));b.trigger(Z8,a.Sj())})}r(W8,hc);function $8(a){return new X8(a.$el.find(".addressDetails__shippingAddress"))}var Y8="CLICK_ADD_APARTMENT",Z8="CHANGE_COUNTRY";
function X8(a){gc.apply(this,arguments)}r(X8,gc);f=X8.prototype;f.gs=function(){return this.$el.find(".addressDetailsAddress__cityInput .textInput").val().toString().trim()};f.getName=function(){return this.$el.find(".addressDetailsAddress__nameInput .textInput").val().toString().trim()};f.AM=function(){return this.$el.find(".addressDetailsAddress__phoneInput .textInput").val().toString().trim()};f.FM=function(){return this.$el.find(".addressDetailsAddress__street1Input .textInput").val().toString().trim()};
f.GM=function(){return this.$el.find(".addressDetailsAddress__street2Input .textInput").val().toString().trim()};function a9(a){a=a.$el.find(".addressDetailsAddress__subdivision select");return a.find("option").filter(":selected").is("[value]")?a.val().toString():null}f.HM=function(){return this.$el.find(".addressDetailsAddress__zipCodeInput .textInput").val().toString().trim()};f.Sj=function(){return this.$el.find(".addressDetailsAddress__country select").val()};function b9(a,b){var c=this;this.view=b;this.va=a.va;this.bg=a.bg;this.ij=a.ij;this.As=a.As;this.Il=a.Il;this.gr=a.gr;this.Ww=a.Ww;this.na=a.na;this.Na=a.Na;this.uaa=bga(this,{bg:a.bg,As:a.As,Il:a.Il,gr:a.gr});this.view.on(Y8,function(a){a.$el.find(".addressDetailsAddress__hiddenAddressInput").addClass("settingContainer__hiddenInputs--visible");a.$el.find(".addressDetailsAddress__street2ButtonContainer").removeClass("settingContainer__hiddenInputs--visible")});this.view.on(Z8,function(a){if(!c.As){var b=
z1({sb:a,Ng:c.Ww});a=c.view;b=$(y_({options:b,v:"addressDetailsAddress__subdivisionSelect"}).toString());a.$el.find(".addressDetailsAddress__subdivisionSelect").replaceWith(b)}})}
function cga(a){var b=null!=a.ec?gx("countryCode",a.ec.sb):null,c=-1!==["NZ","EU"].indexOf(a.zY),d=b&&a.Xh.has(b)?{Xd:a.ec.Xd,sb:a.ec.sb,name:a.ec.name,pk:a.ec.pk,Ck:a.ec.Ck,wj:a.ec.wj,D$:a.ec.Gh,vf:a.ec.vf}:null,e=b&&a.Xh.has(b)?b:Array.from(a.Xh)[0],b=y1({Xh:a.Xh,W9:e}),g;c||(g=z1({sb:e,Ng:a.dd.Ww(),WH:d&&d.D$}));var c=a.v,h={h1:{tJ:a.dd.tJ(),YJ:a.dd.YJ(),iK:a.dd.iK(),oK:a.dd.oK(),fM:a.dd.fM(),fR:a.dd.fR(),hR:a.dd.hR(),mS:a.Xh.has("US")?a.dd.mS():a.dd.format("addressDetailsPostcodeLabel")},g1:a.dd.heading(),
iQ:a.dd.iQ(),qx:a.Ec.qx()},e=a.Ne.uc(4,5),k=g,l=a.Vba;g=$;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");h=goog.asserts.assertObject(h,"expected parameter 'messages' of type [addressDetailsHeading: string, addressMessages: [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string], saveAddressLabel: string, shippingAddressHeading: string].");
soy.asserts.assertType(null==d||goog.isObject(d),"shippingAddress",d,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",e,"string|goog.soy.data.SanitizedContent");b=goog.asserts.assertArray(b,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
soy.asserts.assertType(null==k||goog.isArray(k),"subdivisionOptions",k,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"hideSaveAddress",l,"boolean|null|undefined");d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(e)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(h.g1)+"\x3c/h1\x3e\x3c/div\x3e"+k1({heading:h.qx,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+l1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+aga({i:h.h1,Wd:d,cE:b,Gt:k})+(l?"":m1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3clabel\x3e\x3cinput type\x3d"checkbox" class\x3d"addressDetails__saveAddressCheckbox"/\x3e'+soy.$$escapeHtml(h.iQ)+
"\x3clabel\x3e")})))}))})+"\x3c/div\x3e");d=g(d.toString());d=new W8(d);b=a.va;c=a.bg;e=a.ij;g=a.zY;var k=a.Il,l=a.Na,h=a.dd.Ww(),m=a.gr;a=a.na;return{Db:new b9({va:b,bg:c,ij:e,As:-1!==["NZ","EU"].indexOf(g),Il:k,Na:l,Ww:h,gr:m,na:a},d),view:d}}
function bga(a,b){var c={Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__subdivision"))},Pp:function(){return a9($8(a.view))},sr:[b.bg]};return[].concat([{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__cityInput"))},Pp:function(){return $8(a.view).gs()},sr:[b.bg]},{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__nameInput"))},Pp:function(){return $8(a.view).getName()},sr:[b.bg]},{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__phoneInput"))},
Pp:function(){return $8(a.view).AM()},sr:[b.bg]},{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__street1Input"))},Pp:function(){return $8(a.view).FM()},sr:[b.bg,b.gr,b.Il]},{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__street2Input"))},Pp:function(){return $8(a.view).GM()},sr:[b.gr,b.Il]}],ma(b.As?[]:[c]),[{Op:function(){return s1($8(a.view).$el.find(".addressDetailsAddress__zipCodeInput"))},Pp:function(){return $8(a.view).HM()},sr:[b.bg]}])}
b9.prototype.uv=function(){var a=$8(this.view),b;this.As||(b=y(a9(a),"subdivision must be present"));return new a7({Xd:a.gs(),sb:a.Sj(),name:a.getName(),pk:a.AM(),Ck:a.FM(),wj:a.GM(),Gh:b,vf:a.HM()})};
function dga(a){if(!a.view.$el.find(".addressDetails__saveAddressCheckbox")[0].checked)return P.resolve();var b=new n7({D:a.va,user:a.na,Wd:a.uv()});a=a.Na;return sj(a.N,a.path+"/addresses/"+b.D,{id:I("id",b.id),brand:I("brand",b.D),user:I("user",b.user),address:cb.required("address",b7(b.Wd))}).catch(tj).get(0).then(La).then(Pea)}b9.prototype.destroy=function(){this.view.remove()};function c9(a){soy.asserts.assertType(a.Rr instanceof goog.soy.data.SanitizedContent||a.Rr instanceof soydata.SanitizedHtml||a.Rr instanceof soydata.UnsanitizedText||goog.isString(a.Rr),"desc",a.Rr,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"designProofReview__checkboxLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"designProofReview__checkbox" /\x3e\x3cspan class\x3d"designProofReview__checkboxDescription"\x3e'+soy.$$escapeHtml(a.Rr)+"\x3c/span\x3e\x3c/label\x3e")}
;function d9(a){var b=this;hc.call(this,a);this.$el.on("change",".designProofReview__checkbox",function(){b.trigger(e9)});this.$el.on("click",".designProofReview__checkoutButton",function(){b.trigger(f9)});this.$el.on("click",".designProofReview__supportLink",function(){b.trigger(g9)})}r(d9,hc);function ega(a){var b=$(e1({v:"designProofReview__progressbar",progress:0,HB:j1}).toString()),b=g1(b);a.$el.find(".designProofReview__progressbarContainer").prepend(b.$el)}
d9.prototype.wR=function(a){var b=this.$el.find(".designProofReview__autoDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{"class":"designProofReview__autoDownloadIframe"}),this.$el.append(b));b.attr("src",a)};function fga(a){return a.$el.find(".designProofReview__checkbox").toArray().map(function(a){return a.checked})}var e9="CHANGE_REVIEW_ITEM",g9="CLICK_SUPPORT_LINK",f9="CONTINUE_TO_CHECKOUT";function h9(a,b){var c=this;this.view=b;this.j=a.j;this.i=a.i;this.Na=a.Na;this.PL=a.PL;this.sB=a.sB;this.XO=null;this.qO=a.qO;b.on(e9,function(){return gga(c)});b.on(f9,function(){return c.qO()});b.on(g9,function(){var a=new am("print_review_support");c.j.wa(a)})}function hga(a){var b=a.dj;return{vu:b.vu(),Er:b.Er(iga),Bu:b.Bu(),description:b.description(),BE:"https://support.canva.com/troubleshooting/downloading/",gv:b.gv(),heading:b.heading(),uc:a.Ne.uc(3,5),Vw:b.Vw()}}
function jga(a,b){return new h9(a,b)}function kga(a,b){return a.PL.nI(function(a){var d=this;return kfa(this.Na,new p7({order:this.sB,Gs:b})).then(function(e){if("FAILED"===e.status)throw Error("export with jobId '"+b+"' failed for proof of order '"+d.sB+"'");"EXPORTED"===e.status&&a(e)})}.bind(a))}
function lga(a){var b=new o7({order:a.sB,Pc:"PROOF"});ega(a.view);a.XO=jfa(a.Na,b).cancellable().then(function(b){return kga(a,b.Gs)}).then(function(b){b=b.url;var d=a.i.Ia("designProofReviewManualDownloadInfoHtml",b,"designProofReview__manualDownloadLink"),e=a.view;(new f1(e.$el.find(".designProofReview__progressbar"))).remove();e.$el.find(".designProofReview__progressbarContainer").addClass("designProofReview__progressbarContainer--hidden");e=a.view;e.$el.find(".designProofReview__manualDownload").empty().append(d.getContent()).removeClass("designProofReview__manualDownload--hidden");
e.$el.find(".designProofReview__manualDownloadLink").attr("download","download").attr("target","_blank");e.$el.find(".designProofReview__actionButtons").removeClass("designProofReview__actionButtons--hidden");e.$el.find(".designProofReview__checklist").removeClass("designProofReview__checklist--hidden");a.view.wR(b)}).catch(P.CancellationError,$.noop)}
function gga(a){fga(a.view).every(function(a){return a})?a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!1):a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!0)}h9.prototype.destroy=function(){null!=this.XO&&this.XO.cancel();this.view.remove()};var iga="https://about.canva.com/terms-of-use/";var i9=new Ff("lz",!1),j9=new Ff("nu",!1),mga=new Ff("pu",!1);function k9(a){this.Dg=a.Dg;this.$l=a.$l;this.yR=a.yR;this.jk=a.jk;this.xc=a.xc;this.Fa=a.Fa;this.pc=a.pc;this.Kb=a.Kb;this.Ul=a.Ul;this.qc=a.qc;this.am=a.am;this.Dh=a.Dh;this.Cd=a.Cd;this.tX=function(){};this.sX=function(){};this.rX=function(){};this.uX=function(){};this.nO=function(){};this.Nw=a.Nw;this.G=a.G}
function l9(a){var b,c=Hf();if(null!=a.rQ)b=y(a.pc.wb.find(function(b){return b.cd===a.rQ}),"product price not found for sku {}",a.rQ);else if(null!=a.xo){var d=y(nga(a.pc,a.xo),"Selected paper size is missing from the product model");b=a.pc.wb.filter(function(b){return a.pc.sn(b.cd).ib===d});if(0===b.length)throw Error('No products have the selected paper size "{}".',a.xo);b=m9(b)}else b=m9(a.pc.wb);var e=oga(a.pc.JF()),g=n9(a.jk,b);null!=a.qc&&w(-1!==g.indexOf(a.qc),'orderQuantity: "{}" is not applicable for the product: "{}"',
a.qc,b.cd);var h=c.get(mga)?pga(a.Kb):I8(a.Kb).dz,g=-1!==g.indexOf(h)?h:g[0],g=a.qc||g,h=F7(a.Cd,{Ah:g,Sa:a.sQ}),k=a.pc.sn(b.cd),k=a.xl?o9({xo:k.ib,Dg:a.Dg,qc:g}):void 0;return new k9({Dg:a.Dg,G:c,jk:a.jk,xc:a.xc,Fa:a.Fa,pc:a.pc,Kb:a.Kb,Ul:a.Ul,Nw:a.Nw,$l:k,qc:g,am:b,Dh:h,Cd:a.Cd,yR:e})}function m9(a){function b(a){return Math.min.apply(Math,[].concat(ma(a.map(function(a){return a.Qo}))))}return _.sortBy(a,function(a){return b(a.wb)})[0]}
function n9(a,b){return a.filter(function(a){return-1<b.wb.findIndex(function(b){return b.wq<=a&&a<=b.uq})}).sort(function(a,b){return a-b})}function p9(a){return a.pc.sn(a.am.cd)}function q9(a,b){return a.pc.wb.filter(function(c){c=a.pc.sn(c.cd);return(!b.ib||c.ib===b.ib)&&(!b.ce||c.ce===b.ce)&&(!b.ff||c.ff===b.ff)})}
function qga(a,b,c){var d=new Map;b.forEach(function(b){var g=0,h=a.pc.sn(b.cd);null!=c.ce&&(g+=h.ce===c.ce?2:0);null!=c.ff&&(g+=h.ff===c.ff?1:0);d.has(g)||d.set(g,[]);d.get(g).push(b)});return d.get(Math.max.apply(Math,[].concat(ma(d.keys()))))||b}
function r9(a,b,c){var d=q9(a,b);Fa(0<d.length,"Could not find product prices for the specified options");var e=p9(a),d=qga(a,d,{ff:null==b.ff?e.ff:null,ce:null==b.ce?e.ce:null}),d=m9(d),e=n9(a.jk,d);a.am=d;null!=b.fH?(e=-1!==e.indexOf(b.fH),w(e,'Required order quantity "{0}" is not valid for product "{1}".',b.fH,d.cd),a.qc=b.fH):-1===e.indexOf(a.qc)&&(a.qc=e[0]);s9(a,c)}
function s9(a,b){switch(b){case "PAPER_SIZE":a.tX();s9(a,"PAPER_TYPE");break;case "PAPER_TYPE":a.sX();s9(a,"PAPER_FINISH");break;case "PAPER_FINISH":a.rX();s9(a,"ORDER_QUANTITY");break;case "ORDER_QUANTITY":a.uX();a.nO();break;default:throw Error("Expected OrderOptionName: found "+b);}}function rga(a,b){a.tX=b}function sga(a,b){a.sX=b}function tga(a,b){a.rX=b}function uga(a,b){a.uX=b}function vga(a,b){a.nO=b}function wga(a,b){a.Dh=F7(a.Cd,{Sa:b,Ah:a.qc})}k9.prototype.removeDuplicates=function(a){return Array.from(new Set(a))};
function xga(a){var b=a.pc.wb.map(function(b){return a.pc.sn(b.cd).ib});return a.removeDuplicates(b)}function yga(a){var b=p9(a).ib,c=q9(a,{ib:b}).map(function(b){return a.pc.sn(b.cd).ce});Fa(0<c.length,'Could not find applicable paper types for PaperSize:"{}"',b);return a.removeDuplicates(c)}
function zga(a){var b=p9(a),c=b.ib,b=b.ce,d=q9(a,{ib:c,ce:b}).map(function(b){return a.pc.sn(b.cd).ff});Fa(0<d.length,'Could not find applicable paper finishes for PaperSize: "{}" \x26 PaperType: "{}"',c,b);return a.removeDuplicates(d)}function t9(a){switch(a){case "STANDARD":return 1;case "PREMIUM":return 2;case "ECO_FRIENDLY":return 3;case "DELUXE":return 4;default:throw Error("Expected PaperType but found "+a);}}
function u9(a){switch(a){case "MATTE":return 1;case "GLOSS":return 2;case "UNCOATED":return 3;case "SOFT_TOUCH":return 4;case "SILK":return 5;default:throw Error("Expected PaperFinish but found "+a);}}
function v9(a){var b=yga(a).sort(function(b,c){b=a.pc.qn(b).type;c=a.pc.qn(c).type;return t9(b)-t9(c)}),c=p9(a).ce;Fa(-1!==b.indexOf(c),'paper type: "{}" is not applicable',c);return b.map(function(b){var e=a.pc.qn(b),g=$;b={oH:e.name,selected:b===c,nH:e.description,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(goog.isString(b.nH)||b.nH instanceof goog.soy.data.SanitizedContent,
"paperTypeDescription",b.nH,"string|goog.soy.data.SanitizedContent");var h=b.nH;soy.asserts.assertType(goog.isString(b.oH)||b.oH instanceof goog.soy.data.SanitizedContent,"paperTypeLabel",b.oH,"string|goog.soy.data.SanitizedContent");var k=b.oH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||b.value instanceof goog.soy.data.SanitizedContent,
"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return d8(g)})}
function w9(a){var b=zga(a).sort(function(b,c){b=a.pc.pn(b).finish;c=a.pc.pn(c).finish;return u9(b)-u9(c)}),c=p9(a).ff;Fa(-1!==b.indexOf(c),'paper finish: "{}" is not applicable',c);return b.map(function(b){var e=a.pc.pn(b),g=$;b={rw:e.description,mH:e.name,selected:b===c,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(b.rw instanceof goog.soy.data.SanitizedContent||b.rw instanceof
soydata.SanitizedHtml||b.rw instanceof soydata.UnsanitizedText||goog.isString(b.rw),"paperFinishDescription",b.rw,"!soydata.SanitizedHtml|string");var h=b.rw;soy.asserts.assertType(goog.isString(b.mH)||b.mH instanceof goog.soy.data.SanitizedContent,"paperFinishLabel",b.mH,"string|goog.soy.data.SanitizedContent");var k=b.mH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||
b.value instanceof goog.soy.data.SanitizedContent,"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return f8(g)})}
function x9(a,b){var c=n9(a.jk,a.am);Fa(-1!==c.indexOf(a.qc),'order quantity "{}" is not applicable',a.qc);var d=a.am.wb;null==b&&(b=Hfa);return c.map(function(c){var g=E7(d,c)/100,h=g*c;return b({kw:a.Fa.kw(c),ba:a.Fa.ba(h),Rt:a.Fa.Rt(g),selected:c===a.qc,value:c.toString()})})}
function Aga(a){var b=xga(a),c=p9(a).ib;Fa(-1!==b.indexOf(c),'Paper size: "{}" is not applicable',c);return _.sortBy(b,function(b){return a.pc.Vj(b).zj}).map(function(b){var e={sw:Q7(a.xc,a.pc.Vj(b)),selected:b===c,value:b};b=$;var g;soy.asserts.assertType(null==e.v||e.v instanceof goog.soy.data.SanitizedContent||goog.isString(e.v),"classes",e.v,"null|string|undefined");g=e.v;soy.asserts.assertType(e.sw instanceof goog.soy.data.SanitizedContent||e.sw instanceof soydata.SanitizedHtml||e.sw instanceof
soydata.UnsanitizedText||goog.isString(e.sw),"paperSizeLabel",e.sw,"!soydata.SanitizedHtml|string");var h=e.sw;soy.asserts.assertType(null==e.selected||goog.isBoolean(e.selected)||1===e.selected||0===e.selected,"selected",e.selected,"boolean|null|undefined");var k=e.selected;soy.asserts.assertType(goog.isString(e.value)||e.value instanceof goog.soy.data.SanitizedContent,"value",e.value,"string|goog.soy.data.SanitizedContent");e=e.value;g=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({v:g+" paperSizeOption",
label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cspan class\x3d"paperSizeOption__label"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e"),value:e,selected:k}));b=b(g.toString());return X7(b)})}
function y9(a){var b=a.qc,c=a.Cd.filter(function(a){return a.FG<=b&&b<=a.yG});if(0===c.length)throw Error("No shipping prices found for order quantity '"+b+"'.");return c.sort(function(a,b){return a.yh-b.yh}).map(function(b){a:{if("STANDARD"===b.Sa){if(a.G.get(i9)){b=z9({Bi:a.xc.format("printOrderFreeStandardShippingType"),At:T7(a.xc,b.Sa),ba:vf(a.xc),value:b.Sa,selected:b.Sa===a.Dh.Sa,disabled:!1,c_:!0});break a}if(a.G.get(j9)){b=z9({Bi:S7(a.xc,b.Sa),At:T7(a.xc,b.Sa),ba:wf(a.xc),value:b.Sa,selected:b.Sa===
a.Dh.Sa,disabled:!1,c_:!1});break a}}b=a.Nw({Bi:S7(a.xc,b.Sa),At:T7(a.xc,b.Sa),ba:a.Fa.ba(b.yh/100),value:b.Sa,selected:b.Sa===a.Dh.Sa,disabled:!1})}return b})}function oga(a){a=a.map(function(a){return a.$v});a=_.uniq(a);Fa(1===a.length,'All products must have same value for the property "maxPages", found "{}"',a);return 2===a[0]}
function Bga(a){var b=a.Dh.Sa;switch(b){case "STANDARD":return a.G.get(i9)?a.xc.format("printOrderFreeStandardShippingLabel"):a.xc.format("printOrderShippingMethodStandard");case "EXPRESS":return a.xc.format("printOrderShippingMethodExpress");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function Cga(a){if("STANDARD"===a.Dh.Sa){if(a.G.get(i9))return vf(a.xc);if(a.G.get(j9))return wf(a.xc)}return a.Fa.ba(a.Dh.yh/100)}k9.prototype.ss=function(){return this.Kb};
function o9(a){var b=(a.Dg||[]).filter(function(b){return a.xo===b.zP&&a.qc>=b.wq&&a.qc<=b.uq});return 1===b.length?b[0]:void 0}function A9(a){var b=o9({xo:p9(a).ib,Dg:a.Dg,qc:a.qc});if(null!=b)return a.Fa.bf(b.Qo*a.qc/100)}function B9(a){this.bd=a.bd;this.attributes=a.attributes;this.wb=a.wb}function Dga(a){w(0<a.bd.length,"Must have at least one product");var b=new Map(a.bd.map(function(a){return[a.cd,a]}));return new B9({attributes:a.attributes,wb:a.wb,bd:b})}f=B9.prototype;f.JF=function(){return Array.from(this.bd.values())};
f.sn=function(a){return y(this.bd.get(a),'Invalid product sku: "{}"',a)};f.Vj=function(a){return y(this.attributes.tw.get(a),'Invalid paper size id: "{}"',a)};f.pn=function(a){return y(this.attributes.TO.get(a),'Invalid paper finish id: "{}"',a)};f.qn=function(a){return y(this.attributes.VO.get(a),'Invalid paper type id: "{}"',a)};f.ss=function(a){return y(this.attributes.yH.get(a),'Invalid product type id: "{}"',a)};
function nga(a,b){for(var c=la(a.attributes.tw.keys()),d=c.next();!d.done;d=c.next()){var d=d.value,e=a.attributes.tw.get(d);if(e.zj===b.zj&&e.Zj===b.Zj)return d}return null};function Ega(a){soy.asserts.assertType(goog.isString(a.uk)||a.uk instanceof goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.uk,"string|goog.soy.data.SanitizedContent");var b=a.uk;soy.asserts.assertType(null==a.wi||a.wi instanceof goog.soy.data.SanitizedContent||goog.isString(a.wi),"selectYourShippingOption",a.wi,"null|string|undefined");var c=a.wi;soy.asserts.assertType(a.bo instanceof soydata.SanitizedHtml||a.bo instanceof soydata.UnsanitizedText||goog.isString(a.bo),"paperSizeListboxHtml",
a.bo,"soydata.SanitizedHtml");var d=a.bo;soy.asserts.assertType(null==a.nk||a.nk instanceof soydata.SanitizedHtml||a.nk instanceof soydata.UnsanitizedText||goog.isString(a.nk),"pageCountListboxHtml",a.nk,"?soydata.SanitizedHtml|string|undefined");var e=a.nk;soy.asserts.assertType(a.co instanceof soydata.SanitizedHtml||a.co instanceof soydata.UnsanitizedText||goog.isString(a.co),"paperTypeListboxHtml",a.co,"soydata.SanitizedHtml");var g=a.co;soy.asserts.assertType(a.ao instanceof soydata.SanitizedHtml||
a.ao instanceof soydata.UnsanitizedText||goog.isString(a.ao),"paperFinishListboxHtml",a.ao,"soydata.SanitizedHtml");var h=a.ao;soy.asserts.assertType(a.Yn instanceof soydata.SanitizedHtml||a.Yn instanceof soydata.UnsanitizedText||goog.isString(a.Yn),"orderQuantityListboxHtml",a.Yn,"soydata.SanitizedHtml");var k=a.Yn;soy.asserts.assertType(a.Eo instanceof soydata.SanitizedHtml||a.Eo instanceof soydata.UnsanitizedText||goog.isString(a.Eo),"shippingListboxHtml",a.Eo,"soydata.SanitizedHtml");var l=a.Eo;
soy.asserts.assertType(null==a.bf||a.bf instanceof goog.soy.data.SanitizedContent||goog.isString(a.bf),"includeEnvelopesLabel",a.bf,"null|string|undefined");var m=a.bf;soy.asserts.assertType(goog.isBoolean(a.xl)||1===a.xl||0===a.xl,"includeEnvelopesSelected",a.xl,"boolean");a=!!a.xl;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__selectPrintOptions"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+soy.$$escapeHtml(d)+(e?soy.$$escapeHtml(e):"")+soy.$$escapeHtml(g)+soy.$$escapeHtml(h)+
soy.$$escapeHtml(k)+(null!=m?Fga({bf:m,checked:a}):"")+(c?'\x3cdiv class\x3d"printOrderSummary__selectShippingOptions"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+soy.$$escapeHtml(l):""))}
function Gga(a){soy.asserts.assertType(goog.isString(a.Sa)||a.Sa instanceof goog.soy.data.SanitizedContent,"shippingMethod",a.Sa,"string|goog.soy.data.SanitizedContent");var b=a.Sa;soy.asserts.assertType(null==a.ba||a.ba instanceof soydata.SanitizedHtml||a.ba instanceof soydata.UnsanitizedText||goog.isString(a.ba),"price",a.ba,"?soydata.SanitizedHtml|string|undefined");a=a.ba;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__shippingLabel"\x3e\x3cspan class\x3d"printOrderSummary__shippingMethod"\x3e'+
soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")}
function Hga(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(goog.isString(a.ba)||a.ba instanceof goog.soy.data.SanitizedContent,"price",a.ba,"string|goog.soy.data.SanitizedContent");a=a.ba;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__envelopeContainer"\x3e\x3cspan class\x3d"printOrderSummary__envelopeLabel"\x3e'+soy.$$escapeHtml(b)+
'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")}
function Fga(a){soy.asserts.assertType(goog.isString(a.bf)||a.bf instanceof goog.soy.data.SanitizedContent,"includeEnvelopesLabel",a.bf,"string|goog.soy.data.SanitizedContent");var b=a.bf;soy.asserts.assertType(goog.isBoolean(a.checked)||1===a.checked||0===a.checked,"checked",a.checked,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"printOrderSummary__includeEnvelopesContainer"\x3e\x3cinput type\x3d"checkbox" class\x3d"printOrderSummary__includeEnvelopesCheckbox"'+(a.checked?
"checked":"")+'/\x3e\x3cspan class\x3d"printOrderSummary__includeEnvelopesLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e\x3c/label\x3e")};function C9(a,b,c){var d=this;hc.call(this,a);this.Nf=b;this.oj=c.oj;this.mi=c.mi;this.ni=c.ni;this.li=c.li;this.Mf=c.Mf;this.Bk=c.Bk;this.$el.on("change",".printOrderSummary__includeEnvelopesCheckbox",function(a){a.preventDefault();d.trigger(D9,a.target.checked)})}r(C9,hc);
function E9(a){var b=a.heading,c=F9(a.V7),d=a.SX&&F9(a.SX),e=F9(a.n8),g=F9(a.p8),h=F9(a.r8),k=F9(a.j$),l,m=a.w8,n;soy.asserts.assertType(null==m.dE||m.dE instanceof goog.soy.data.SanitizedContent||goog.isString(m.dE),"couponDiscountAmount",m.dE,"null|string|undefined");l=m.dE;soy.asserts.assertType(null==m.eE||m.eE instanceof goog.soy.data.SanitizedContent||goog.isString(m.eE),"couponDiscountLabel",m.eE,"null|string|undefined");var p=m.eE;soy.asserts.assertType(goog.isString(m.Ij)||m.Ij instanceof
goog.soy.data.SanitizedContent,"creditUsed",m.Ij,"string|goog.soy.data.SanitizedContent");var q=m.Ij;soy.asserts.assertType(goog.isString(m.qE)||m.qE instanceof goog.soy.data.SanitizedContent,"creditUsedLabel",m.qE,"string|goog.soy.data.SanitizedContent");var u=m.qE;soy.asserts.assertType(goog.isString(m.zw)||m.zw instanceof goog.soy.data.SanitizedContent,"premiumImagesPriceLabel",m.zw,"string|goog.soy.data.SanitizedContent");var v=m.zw;soy.asserts.assertType(goog.isString(m.tH)||m.tH instanceof goog.soy.data.SanitizedContent,
"premiumImagesTotalPrice",m.tH,"string|goog.soy.data.SanitizedContent");var z=m.tH;soy.asserts.assertType(goog.isString(m.Lw)||m.Lw instanceof goog.soy.data.SanitizedContent,"removeCouponText",m.Lw,"string|goog.soy.data.SanitizedContent");var t=m.Lw;soy.asserts.assertType(m.Ot instanceof soydata.SanitizedHtml||m.Ot instanceof soydata.UnsanitizedText||goog.isString(m.Ot),"totalLabelHtml",m.Ot,"soydata.SanitizedHtml");var x=m.Ot;soy.asserts.assertType(goog.isString(m.lm)||m.lm instanceof goog.soy.data.SanitizedContent,
"totalPrice",m.lm,"string|goog.soy.data.SanitizedContent");var H=m.lm;soy.asserts.assertType(null==m.fI||goog.isObject(m.fI),"shippingPriceDetails",m.fI,"null|undefined|{label: string, price: string}");m=m.fI;l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__paymentSummary"\x3e'+(m?'\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(m.label)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__shippingPrice"\x3e'+soy.$$escapeHtml(m.ba)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__premiumImagesInfo printOrderSummary__info--hidden"\x3e\x3cspan\x3e'+soy.$$escapeHtml(v)+'\x3c/span\x3e\x3ca class\x3d"printOrderSummary__premiumImagesLink" href\x3d"#"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/icon-info.svg" /\x3e\x3c/a\x3e\x3cspan class\x3d"printOrderSummary__premiumImagesTotalPrice"\x3e'+soy.$$escapeHtml(z)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__creditInfo printOrderSummary__info--hidden"\x3e\x3cspan class\x3d"printOrderSummary__creditUsedLabel"\x3e'+
soy.$$escapeHtml(u)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__creditUsed"\x3e'+soy.$$escapeHtml(q)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__couponDiscountInfo'+(p&&l?"":" printOrderSummary__info--hidden")+'"\x3e\x3cdiv\x3e\x3cspan class\x3d"printOrderSummary__couponDiscountLabel"\x3e'+soy.$$escapeHtml(null==(n=p)?"":n)+'\x3c/span\x3e\x3cdiv class\x3d"printOrderSummary__removeCouponLinkContainer"\x3e\x3ca href\x3d"#" class\x3d"printOrderSummary__removeCouponLink"\x3e'+
soy.$$escapeHtml(t)+'\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan\x3e-\x3cspan class\x3d"printOrderSummary__couponDiscountAmount"\x3e'+soy.$$escapeHtml(null==(n=l)?"":n)+'\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(x)+'\x3c/span\x3e\x3cstrong class\x3d"printOrderSummary__orderTotalPrice"\x3e'+soy.$$escapeHtml(H)+"\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e");a={heading:b,Yn:c,nk:d,ao:e,bo:g,co:h,Eo:k,AB:l,uk:a.uk,wi:a.wi,dH:G9,eH:H9,
bf:a.bf,xl:a.xl};soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");b=a.heading;soy.asserts.assertType(a.Yn instanceof soydata.SanitizedHtml||a.Yn instanceof soydata.UnsanitizedText||goog.isString(a.Yn),"orderQuantityListboxHtml",a.Yn,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.nk||a.nk instanceof soydata.SanitizedHtml||a.nk instanceof soydata.UnsanitizedText||goog.isString(a.nk),
"pageCountListboxHtml",a.nk,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(a.ao instanceof soydata.SanitizedHtml||a.ao instanceof soydata.UnsanitizedText||goog.isString(a.ao),"paperFinishListboxHtml",a.ao,"soydata.SanitizedHtml");soy.asserts.assertType(a.bo instanceof soydata.SanitizedHtml||a.bo instanceof soydata.UnsanitizedText||goog.isString(a.bo),"paperSizeListboxHtml",a.bo,"soydata.SanitizedHtml");soy.asserts.assertType(a.co instanceof soydata.SanitizedHtml||a.co instanceof
soydata.UnsanitizedText||goog.isString(a.co),"paperTypeListboxHtml",a.co,"soydata.SanitizedHtml");soy.asserts.assertType(a.Eo instanceof soydata.SanitizedHtml||a.Eo instanceof soydata.UnsanitizedText||goog.isString(a.Eo),"shippingListboxHtml",a.Eo,"soydata.SanitizedHtml");soy.asserts.assertType(a.AB instanceof soydata.SanitizedHtml||a.AB instanceof soydata.UnsanitizedText||goog.isString(a.AB),"paymentSummaryHtml",a.AB,"soydata.SanitizedHtml");c=a.AB;soy.asserts.assertType(goog.isString(a.uk)||a.uk instanceof
goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.uk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==a.wi||a.wi instanceof goog.soy.data.SanitizedContent||goog.isString(a.wi),"selectYourShippingOption",a.wi,"null|string|undefined");soy.asserts.assertType(goog.isString(a.dH)||a.dH instanceof goog.soy.data.SanitizedContent,"orderFormListboxesPanelPageName",a.dH,"string|goog.soy.data.SanitizedContent");d=a.dH;soy.asserts.assertType(goog.isString(a.eH)||a.eH instanceof goog.soy.data.SanitizedContent,
"orderFormReviewPanelPageName",a.eH,"string|goog.soy.data.SanitizedContent");e=a.eH;soy.asserts.assertType(null==a.bf||a.bf instanceof goog.soy.data.SanitizedContent||goog.isString(a.bf),"includeEnvelopesLabel",a.bf,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary"\x3e\x3cdiv class\x3d"printOrderSummary__header"\x3e\x3ch1 class\x3d"printOrderSummary__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__content"\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cdiv class\x3d"printOrderSummary__orderPreview"\x3e\x3c/div\x3e\x3c/div\x3e'+
S8({v:"printOrderSummary__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+P8({v:"printOrderSummary__listboxesPagesPanel",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Ega(a)),name:d,visible:!0})+P8({v:"printOrderSummary__orderFormReviewPanel",name:e,visible:!1}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__footer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e")}
function F9(a){return $S({v:a.v+" printOrderSummary__listbox",disabled:a.disabled,options:a.options.map(function(a){return iT(a)}),Vq:a.Vq})}
function I9(a){var b=new y8(a.find(".printOrderSummary__paymentSummary")),c=fT(a.find(".printOrderSummary__paperSizeListbox"),{Ph:X7}),d=fT(a.find(".printOrderSummary__paperFinishListbox"),{Ph:f8}),e=fT(a.find(".printOrderSummary__orderQuantityListbox"),{Ph:b8}),g=fT(a.find(".printOrderSummary__paperTypeListbox"),{Ph:d8}),h=0<a.find(".printOrderSummary__pageCountListbox").length?fT(a.find(".printOrderSummary__pageCountListbox"),{Ph:$7}):null,k;k=a.find(".printOrderSummary__shippingListbox .shippingSelectionLabel__freeShipping")?
K9:i8;k=fT(a.find(".printOrderSummary__shippingListbox"),{Ph:k});return new C9(a,b,{oj:c,mi:d,li:e,ni:g,Mf:h,Bk:k})}C9.prototype.hg=function(){var a=this.$el.find(".printOrderSummary__pagesPanel");return new M8(a)};
C9.prototype.NP=function(a){var b=$,c;c=a.c8;var d=a.m8,e=a.o8,g=a.q8,h=a.U7,k=a.Sa,l=a.gm,m=a.x3;a=a.w3;soy.asserts.assertType(null==g||g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"paperTypeHtml",g,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==d||d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"paperFinishHtml",d,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==
e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"paperSizeHtml",e,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==c||c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"pageCountHtml",c,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==h||h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"orderQuantityHtml",h,"?soydata.SanitizedHtml|string|undefined");
soy.asserts.assertType(null==k||k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"shippingMethod",k,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==l||l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),"shippingPrice",l,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==m||m instanceof goog.soy.data.SanitizedContent||goog.isString(m),"envelopesPrice",m,"null|string|undefined");
soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"envelopesLabel",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cdiv class\x3d'printOrderSummary__orderFormReview'\x3e"+(e?"\x3cdiv\x3e"+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+(g?"\x3cdiv\x3e"+soy.$$escapeHtml(g)+"\x3c/div\x3e":"")+(d?"\x3cdiv\x3e"+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+(c?"\x3cdiv\x3e"+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+(h?"\x3cdiv\x3e"+soy.$$escapeHtml(h)+
"\x3c/div\x3e":"")+(null!=m?Hga({label:a,ba:m}):"")+(k&&l?Gga({Sa:k,ba:l}):"")+"\x3c/div\x3e");b=b(c.toString());this.hg().R(H9).zo(b)};C9.prototype.nR=function(){R8(this.hg(),H9)};C9.prototype.mR=function(){R8(this.hg(),G9)};function L9(a){return!!a&&!a.$el.hasClass("printOrderSummary__listbox--hidden")}var D9="CHANGE_INCLUDE_ENVELOPES",H9="ORDER_REVIEW",G9="LISTBOXES";function M9(a,b,c,d){var e=this;this.view=b;this.i=a.i;this.cn=a.cn;this.mh=a.mh;this.bn=a.bn;this.Nf=c;this.oj=d.oj;this.mi=d.mi;this.ni=d.ni;this.li=d.li;this.Bk=d.Bk;this.Mf=d.Mf;this.la=a.la;this.wk=a.wk;this.Wn=a.Wn;this.JH=P.resolve();null!=this.Mf&&vT(this.Mf,function(){e.Wn(e.jc());N9(e)});vT(this.oj,function(){var a=e.oj.tc();r9(e.la,{ib:a},"PAPER_SIZE");e.wk(e.Vj());O9(e)});vT(this.mi,function(){var a=e.la,b=e.mi.tc();r9(a,{ib:p9(a).ib,ce:p9(a).ce,ff:b},"PAPER_FINISH");O9(e)});vT(this.ni,
function(){var a=e.la,b=e.ni.tc();r9(a,{ib:p9(a).ib,ce:b},"PAPER_TYPE");O9(e)});vT(this.li,function(){var a=e.li,b=parseInt(a.tc(),10);Fa(!isNaN(b),'Expected a number but got "{}"',a.tc());var a=e.la,c=p9(a);r9(a,{ib:c.ib,ce:c.ce,ff:c.ff,fH:b},"ORDER_QUANTITY");O9(e)});vT(this.Bk,function(){return Iga(e)});this.view.on(D9,function(a){var b=e.la;b.$l=!0===a?o9({xo:p9(b).ib,Dg:b.Dg,qc:b.qc}):void 0;b.nO();N9(e)});rga(this.la,this.l9.bind(this));sga(this.la,this.k9.bind(this));tga(this.la,this.j9.bind(this));
uga(this.la,this.m9.bind(this));vga(this.la,this.i9.bind(this))}
function P9(a,b){var c=new sT(b.oj),d=new sT(b.mi),e=new sT(b.ni),g=new sT(b.li),h=b.Mf,h=h&&new sT(h),k=new sT(b.Bk),l=Q9({gm:a.la.Dh,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l}),l=Qfa({fa:a.fa,aa:a.aa,kh:a.kh,Ac:a.Ac,rb:a.rb,Cb:a.Cb,Fa:a.Fa,Bd:l,qQ:function(b){var c;c=a.Oa;b={Aa:a.Aa,Oa:c,Cb:b.Cb,rb:b.rb};var d=Ifa(b),e=$,g;g=g||{};soy.asserts.assertType(d.PA instanceof soydata.SanitizedHtml||d.PA instanceof soydata.UnsanitizedText||goog.isString(d.PA),"licensingOptionsText",d.PA,"soydata.SanitizedHtml");
for(var h=d.PA,d=goog.asserts.assertArray(d.si,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: null|string, expirationLabel: null|string, isThumbnailCover: bool, paidLicenseTypeLabel: null|string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e|null, purchasedText: string, thumbnailUrl: null|string, title: null|string]\x3e."),h='\x3csection class\x3d"mediaLicenses__info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"mediaLicenses__itemList"\x3e\x3cdiv class\x3d"mediaLicenses__items"\x3e',
k=d.length,l=0;l<k;l++)var x=d[l],h=h+('\x3cdiv class\x3d"mediaLicenses__license"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnail"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnailInner '+(x.qN?"mediaLicenses__licenseThumbnail--cover":"mediaLicenses__licenseThumbnail--contain")+'"'+(x.ug?'style\x3d"'+(g.Yb?"/*"+g.Yb+"*//*"+g.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.ug))+"');\"":"")+'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licenseInfo"\x3e'+
(x.title?'\x3cdiv class\x3d"mediaLicenses__licenseTitle"\x3e'+soy.$$escapeHtml(x.title)+"\x3c/div\x3e":"")+(x.Kr?'\x3cdiv class\x3d"mediaLicenses__licenseContributor"\x3e'+soy.$$escapeHtml(x.Kr)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licensePrice"\x3e'+(x.gt?soy.$$escapeHtml(x.gt[0].text):'\x3cdiv class\x3d"mediaLicenses__licenseState"\x3e'+soy.$$escapeHtml(x.f9)+"\x3c/div\x3e"+(x.lH?'\x3cdiv class\x3d"mediaLicenses__licenseType"\x3e'+soy.$$escapeHtml(x.lH)+(x.zz?" - "+soy.$$escapeHtml(x.zz):
"")+"\x3c/div\x3e":""))+"\x3c/div\x3e\x3c/div\x3e");g=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/div\x3e\x3c/section\x3e");e=e(g.toString());e=new j8(e);b=new n8(b,e);c=new mp({className:"mediaLicenses__dialog",content:e.$el,H:jl,title:c.format("licenseDialogTitle")});c=new Mfa(c,b);return Nfa(c)}},b.Nf);return new M9({bn:a.bn,cn:a.cn,mh:a.mh,Wn:a.Wn,la:a.la,wk:a.wk,i:a.Fa},b,l,{li:g,Mf:h,mi:d,oj:c,ni:e,Bk:k})}f=M9.prototype;f.Me=function(){this.wk(this.Vj());this.Wn(this.jc());N9(this)};
function R9(a){var b;if(a.la.yR){b=a.Fa;var c=a.sZ||1;Fa(1===c||2===c,'defaultPageCount can be either 1 or 2, but found "{}"',c);b=[Z7({uB:b.format("printOrderSummarySingleSidedPrint"),Xs:b.format("printOrderSummarySingleSidedPrintDescription"),selected:1===c,value:"1"}),Z7({uB:b.format("printOrderSummaryDoubleSidedPrint"),Xs:b.format("printOrderSummaryDoubleSidedPrintDescription"),selected:2===c,value:"2"})]}else b=null;b=b&&S9({v:"printOrderSummary__pageCountListbox",options:b,disabled:a.bn});var c=
S9({v:"printOrderSummary__orderQuantityListbox",options:a.v9?x9(a.la,a.v9):x9(a.la)}),d=S9({v:"printOrderSummary__paperFinishListbox",options:w9(a.la)}),e=S9({v:"printOrderSummary__paperSizeListbox",options:Aga(a.la),disabled:a.cn}),g=S9({v:"printOrderSummary__paperTypeListbox",options:v9(a.la)}),h=y9(a.la),k=S9({v:"printOrderSummary__shippingListbox",options:h}),l=Q9({gm:a.la.Dh,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l}),l={fa:a.fa,rb:a.rb,Cb:a.Cb,Fa:a.Fa,Bd:l,r$:1===h.length},m=w8(l),n=0<m.gm?l.Fa.ba(m.gm):
l.Fa.format("printOrderSummaryPriceFree"),p=null;l.r$&&(p={label:l.Fa.format("printOrderSummaryShippingPriceLabel"),ba:n});l={Ij:l.Fa.Ij(m.Ij),qE:pf(l.Fa,m.Im),zw:l.Fa.zw(),tH:l.Fa.ba(m.AG),Lw:l.Fa.Lw(),Ot:l.Fa.Ot(),lm:l.Fa.ba(m.lm),fI:p};m=A9(a.la);return{heading:Jga(a.Fa,a.la.ss(),a.la.Ul),V7:c,SX:b,n8:d,p8:e,r8:g,j$:k,w8:l,uk:a.Fa.uk(),wi:1===h.length?null:a.Fa.wi(),bf:m,xl:null!=a.la.$l}}
function S9(a){var b=a.v,c=a.disabled;a=a.options;1===a.length&&(b+=" printOrderSummary__listbox--hidden");return{v:b,disabled:c,options:a,Vq:uT(a)}}function Iga(a){var b=a.Bk.tc(),c=y(["STANDARD","EXPRESS"].find(function(a){return a===b}),"Invalid shipping method: {}",b);wga(a.la,c);u8(a.Nf,T9(a))}f.l9=function(){this.ni.lx(v9(this.la))};f.k9=function(){this.mi.lx(w9(this.la))};f.j9=function(){this.li.lx(x9(this.la))};f.m9=function(){this.Bk.lx(y9(this.la))};
f.i9=function(){var a=A9(this.la),b=this.view.$el.find(".printOrderSummary__includeEnvelopesLabel");1===b.length&&b.text(a||void 0)};function N9(a){var b=Math.min(a.mh(),a.jc()),b=_.range(1,b+1),c=T9(a);a.JH=Sfa(a.Nf,b,c);return a.JH}function O9(a){u8(a.Nf,T9(a))}
f.NP=function(){var a=T9(this),b=null!=this.la.$l;this.view.NP({c8:L9(this.view.Mf)?wT(this.Mf).oh():null,m8:L9(this.view.mi)?wT(this.mi).oh():null,o8:L9(this.view.oj)?wT(this.oj).oh():null,q8:L9(this.view.ni)?wT(this.ni).oh():null,U7:L9(this.view.li)?wT(this.li).oh():null,Sa:L9(this.view.Bk)?Bga(this.la):null,gm:L9(this.view.Bk)?Cga(this.la):null,x3:b?this.i.ba(a.Fp):void 0,w3:this.i.format("printOrderSummaryEnvelopesSelectedLabel")})};f.nR=function(){this.NP();this.view.nR()};f.mR=function(){this.view.mR()};
f.Vj=function(){var a=this.la,a=a.pc.Vj(p9(a).ib);return new I6({zj:a.zj,Zj:a.Zj})};f.qn=function(){var a=this.la;return a.pc.qn(p9(a).ce).type};f.pn=function(){var a=this.la;return a.pc.pn(p9(a).ff).finish};f.Tp=function(){return this.la.am.cd};f.jc=function(){if(null==this.Mf)return 1;var a=parseInt(this.Mf.tc(),10);Fa(!isNaN(a),'Expected a number but got "{}"',this.Mf.tc());return a};f.sl=function(){return this.la.Dh.Sa};f.BV=function(){return this.la.Dh.yh};f.qv=function(){return this.Nf.qv()};
f.jv=function(){var a=this.la.$l;return null!=this.la.$l?a.cd:void 0};f.OD=function(){var a=T9(this);return this.Nf.OD(a)};function T9(a){return Q9({gm:a.la.Dh,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l})}function U9(a,b){a.oj.Eh(!a.cn&&!b);a.mi.Eh(!b);a.li.Eh(!b);a.ni.Eh(!b);null!=a.Mf&&a.Mf.Eh(!a.bn&&!b)}f.destroy=function(){this.view.remove();this.Nf.destroy();this.ni.destroy();this.oj.destroy();this.mi.destroy();this.li.destroy();null!=this.Mf&&this.Mf.destroy()};
function Q9(a){var b=E7(a.wb,a.De),c=a.gm.yh,b=b*a.De;a=null!=a.Fp?y(a.Fp).Qo*a.De:0;return{yY:b/100,wP:c/100,Fp:a/100}}
function Jga(a,b,c){function d(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInUs");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInUs");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInUs");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInUs");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInUs");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInUs");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInUs");
default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function e(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInAu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInAu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInAu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInAu");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInAu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInAu");
case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInAu");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function g(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInNz");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInNz");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInNz");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInNz");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInNz");
case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInNz");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInNz");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function h(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInEu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInEu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInEu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInEu");
case "FLYER":return a.format("printOrderSummaryHeadingFlyersInEu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInEu");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInEu");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function k(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInMx");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInMx");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInMx");
case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInMx");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInMx");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInMx");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInMx");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function l(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInCa");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInCa");
case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInCa");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInCa");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInCa");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInCa");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInCa");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function m(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInIndia");
case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInIndia");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInIndia");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInIndia");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInIndia");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInIndia");case "SQUARE_CARD":return a.format("printOrderSummaryHeadingSquareCardsInIndia");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}switch(c){case "US":return d();case "CA":return l();case "AU":return e();case "NZ":return g();case "EU":return h();case "MX":return k();case "IN":return m();default:throw Error("Unknown print region '"+c+"'.");}};function V9(a){gc.apply(this,arguments)}r(V9,gc);function W9(a,b){hc.call(this,a);this.eo=b}r(W9,hc);W9.prototype.IQ=function(a){a=$(V8({Wd:a,v:"printPaymentAndConfirmation__shippingAddress"}).toString());this.$el.find(".printPaymentAndConfirmation__shippingAddress").replaceWith(a)};function X9(a,b){this.view=a;this.eo=b}X9.prototype.IQ=function(a){this.view.IQ(Y9(a))};function Y9(a){var b=v1().get(a.sb),c;a.Gh&&(c=gx("countryCode",a.sb),c=w1(c).get(a.Gh));return{Xd:a.Xd,A2:b,name:a.name,pk:a.pk,Ck:a.Ck,wj:a.wj,f_:c,vf:a.vf}}X9.prototype.IB=function(a){return this.eo.IB(a)};X9.prototype.destroy=function(){this.eo.destroy();this.view.remove()};function Z9(a){gc.apply(this,arguments)}r(Z9,gc);function $9(a){gc.apply(this,arguments)}r($9,gc);function a$(a){soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ed,"string|goog.soy.data.SanitizedContent");var b=a.ed;soy.asserts.assertType(goog.isString(a.aj)||a.aj instanceof goog.soy.data.SanitizedContent,"continueButtonText",a.aj,"string|goog.soy.data.SanitizedContent");a=a.aj;return soydata.VERY_UNSAFE.ordainSanitizedHtml(z_({v:"printOrderForm__addressDetailsBackButton settingsFormActions__button buttonSecondary",text:b})+z_({v:"printOrderForm__addressDetailsContinueButton settingsFormActions__button buttonSubmittable",
text:a}))};function b$(a,b,c){var d=this;hc.call(this,a);this.AE=b;this.Ca=c;a.on("click",".printOrderForm__addressDetailsBackButton",function(){d.trigger(c$)});a.on("click",".printOrderForm__addressDetailsContinueButton",function(){d.trigger(d$)});a.on("click",".printOrderForm__paymentAndConfirmationBackButton",function(){d.trigger(e$)});a.on("click",".printOrderForm__paymentAndConfirmationPayNowButton",function(){d.trigger(f$)});a.on("click",".printOrderReceived__viewHomepageButton, .printOrderError__viewDesignButton",
function(){d.trigger(g$)})}r(b$,hc);
function Kga(a){var b=a$({ed:a.ed,aj:a.aj}),c=a.O2;soy.asserts.assertType(goog.isString(c.vu)||c.vu instanceof goog.soy.data.SanitizedContent,"checkImagesAndText",c.vu,"string|goog.soy.data.SanitizedContent");var d=c.vu;soy.asserts.assertType(c.Er instanceof soydata.SanitizedHtml||c.Er instanceof soydata.UnsanitizedText||goog.isString(c.Er),"checkTermsOfUseHtml",c.Er,"soydata.SanitizedHtml");var e=c.Er;soy.asserts.assertType(goog.isString(c.Bu)||c.Bu instanceof goog.soy.data.SanitizedContent,"continueToCheckoutButtonText",
c.Bu,"string|goog.soy.data.SanitizedContent");var g=c.Bu;soy.asserts.assertType(goog.isString(c.description)||c.description instanceof goog.soy.data.SanitizedContent,"description",c.description,"string|goog.soy.data.SanitizedContent");var h=c.description;soy.asserts.assertType(goog.isString(c.BE)||c.BE instanceof goog.soy.data.SanitizedContent,"designReviewSupportUrl",c.BE,"string|goog.soy.data.SanitizedContent");var k=c.BE;soy.asserts.assertType(goog.isString(c.gv)||c.gv instanceof goog.soy.data.SanitizedContent,
"generatingPdfText",c.gv,"string|goog.soy.data.SanitizedContent");var l=c.gv;soy.asserts.assertType(goog.isString(c.heading)||c.heading instanceof goog.soy.data.SanitizedContent,"heading",c.heading,"string|goog.soy.data.SanitizedContent");var m=c.heading;soy.asserts.assertType(goog.isString(c.uc)||c.uc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",c.uc,"string|goog.soy.data.SanitizedContent");var n=c.uc;soy.asserts.assertType(goog.isString(c.Vw)||c.Vw instanceof goog.soy.data.SanitizedContent,
"seeUnfixableProblemButtonText",c.Vw,"string|goog.soy.data.SanitizedContent");c=c.Vw;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designProofReview"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m)+'\x3c/h1\x3e\x3c/div\x3e\x3cp class\x3d"designProofReview__description"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cdiv class\x3d"designProofReview__manualDownload designProofReview__manualDownload--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__checklist designProofReview__checklist--hidden"\x3e'+
c9({Rr:d})+c9({Rr:e})+'\x3c/div\x3e\x3cdiv class\x3d"designProofReview__progressbarContainer"\x3e\x3cp class\x3d"designProofReview__generatingPdf"\x3e'+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__actionButtons designProofReview__actionButtons--hidden"\x3e'+z_({tagName:"a",href:k,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:"designProofReview__actionButton buttonSecondary designProofReview__supportLink",text:c})+
z_({v:"designProofReview__actionButton designProofReview__checkoutButton",text:g,disabled:!0})+"\x3c/div\x3e\x3c/div\x3e");d=$;g=h$;a=E9(a.Y7);soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"actionButtonsHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"designProofReviewHtml",e,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(g)||
g instanceof goog.soy.data.SanitizedContent,"designProofReviewPageName",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"orderSummaryHtml",a,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderForm"\x3e\x3cdiv class\x3d"contentPanel printOrderForm__mainContentPanel"\x3e'+S8({v:"printOrderForm__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
P8({content:e,name:g,visible:!0}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderForm__hiddenSidePanel"\x3e\x3cdiv class\x3d"contentPanel"\x3e\x3cdiv class\x3d"printOrderForm__orderSummaryContainer"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e"+p1({v:"printOrderForm__formActions",buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(b))})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=d(b.toString());a=new d9(b.find(".designProofReview"));d=I9(b.find(".printOrderSummary"));return new b$(b,
a,d)}b$.prototype.hg=function(){var a=this.$el.find(".printOrderForm__pagesPanel");return new M8(a)};function i$(a){a=a.$el.find(".printOrderForm__formActions");w(a.hasClass("settingsFormActions"),"the given element {} is not an FormActionsView",a.get(0));return new t1(a)}
function j$(a,b){var c=a.$el.find(".printOrderForm__hiddenSidePanel");if(b===c.hasClass("printOrderForm__hiddenSidePanel--visible"))return P.resolve();c.toggleClass("printOrderForm__hiddenSidePanel--visible",b);return P.all([Cf(c[0]),k$(a)])}
function k$(a){var b=a.$el.find(".printOrderForm__hiddenSidePanel").hasClass("printOrderForm__hiddenSidePanel--visible"),c=a.$el.find(".printOrderForm__mainContentPanel");a=b?0:(a.$el.width()-c.width())/2;c.css("transform","translate3d("+a+"px, 0, 0)");return Cf(c[0])}function l$(a,b){a.$el.find(".printOrderForm__addressDetailsContinueButton").toggleClass("submitting",b)}function m$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationPayNowButton").toggleClass("submitting",b)}
function n$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationBackButton").prop("disabled",!b)}var h$="DESIGN_PROOF_REVIEW",e$="BACK_TO_ADDRESS_DETAILS",g$="BACK_TO_DESIGN",c$="BACK_TO_PROOFING",d$="CONTINUE_TO_PAYMENT",f$="SUBMIT_ORDER";function o$(a,b,c,d){var e=this;this.view=b;this.xm=null;this.AE=c;this.Ca=d;this.yB=null;this.j=a.j;this.va=a.va;this.aa=a.aa;this.Bg=a.Bg;this.Ac=a.Ac;this.order=a.order;this.Ec=a.Ec;this.Na=a.Na;this.Ad=a.Ad;this.TP=a.TP;this.ZP=a.ZP;this.XP=a.XP;this.YP=a.YP;this.$P=a.$P;this.Un=a.Un;this.gB=a.gB;this.rB=a.rB;this.na=a.na;this.view.on(c$,function(){return Lga(e)});this.view.on(d$,function(){return Mga(e)});this.view.on(e$,function(){R8(e.view.hg(),"ADDRESS_DETAILS");e.Ca.mR();var a=e.view,b={ed:e.Ec.ed(),
aj:e.Ec.aj()},b=$(a$(b).toString());u1(i$(a),b);U9(e.Ca,!1)});this.view.on(f$,function(){return Nga(e)});this.view.on(g$,function(){return e.gB()})}
function Oga(a){var b=Kga({O2:hga({dj:a.dj,Ne:a.Ne}),ed:a.Ec.ed(),aj:a.Ec.aj(),Y7:R9({fa:a.fa,bn:!0,cn:!0,rb:a.rb,Cb:a.Cb,la:a.la,Fa:a.Fa,sZ:a.order.od,Cd:a.Cd})});return{Db:Pga({fa:a.fa,dd:a.dd,j:a.j,aa:a.aa,va:a.va,dj:a.dj,Bg:a.Bg,bg:a.bg,ij:a.ij,Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:a.Cb,gB:a.gB,Un:a.Un,order:a.order,rB:a.rB,la:a.la,Aa:a.Aa,Ec:a.Ec,Fa:a.Fa,Na:a.Na,Ad:a.Ad,TP:function(){return cga({dd:a.dd,va:a.va,Xh:new Set(a.zh.Xh.map(function(a){return gx("printRegion.countries",a)})),bg:a.bg,ij:a.ij,zY:a.zh.id,
Il:a.Il,Ne:a.Ne,Ec:a.Ec,Na:a.Na,ec:a.ec,gr:a.i1,na:a.na})},XP:function(b){var d={MO:a.Ec.MO()},e=$,d=goog.asserts.assertObject(d,"expected parameter 'messages' of type [orderErrorHeading: string].");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"errorMessageHtml",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderError"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+SX()+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+
soy.$$escapeHtml(d.MO)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderError__content"\x3e\x3cp class\x3d"printOrderError__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());return new Z9(e)},YP:function(b){var d=a.SR,e=a.dt,g=b.T7;b={W7:e.heading(),ZR:e.ZR(),YR:e.YR()};d=e.u2(d);g=e.X7(g);e=$;b=goog.asserts.assertObject(b,"expected parameter 'messages' of type [orderReceivedHeading: string, viewHomepageButtonText: string, viewPrintOrdersButtonText: string].");
soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"confirmationEmailMessageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"orderReceivedMessageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("/account#print-orders")||!1,"printOrdersUrl","/account#print-orders","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("/")||
!1,"homepageUrl","/","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderReceived"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+TX({za:"printOrderReceived__headerIcon"})+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b.W7)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderReceived__content"\x3e\x3cp class\x3d"printOrderReceived__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+QZ({v:"printOrderReceived__supportInfoMessage",
message:g})+"\x3c/div\x3e"+p1({buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+z_({tagName:"a",href:"/account#print-orders",v:"printOrderReceived__viewPrintOrdersButton buttonSecondary settingsFormActions__button",text:b.ZR})+z_({tagName:"a",href:"/",v:"printOrderReceived__viewHomepageButton buttonSubmittable settingsFormActions__button",text:b.YR}))})+"\x3c/div\x3e");b=e(b.toString());return new $9(b)},ZP:function(b){b={fa:a.fa,aa:a.aa,va:a.va,bj:a.bj,Ya:a.Ya,cf:a.cf,Aa:Tc(a.i),
Nf:b.Nf,Ne:a.Ne,Ec:a.Ec,ri:a.ri,ec:b.ec,fb:a.fb,na:a.na,j:a.j};var d=b.fa,e=b.ri.format("printPaymentAndConfirmationCreditCardDetailsLabel"),g=b.ri.Du(),h=b.Ya,k=b.cf,l=b.Aa,m=b.j,n=!!d&&!H8(d.Yh),d=n?l.format("paymentPageSavedTeamCard",d.Yh.Qv):l.jQ(),p={ku:l.ku(),Cu:l.Cu(),Du:g,Hj:e,Ya:h,rz:n,HC:k?null:d,j:m},e=b.Ya,m={v8:b.ri.heading(),WO:b.ri.WO(),qx:b.Ec.qx()},k=b.Ne.uc(5,5),l=Y9(b.ec),g=b.j,h=$;soy.asserts.assertType(goog.isString(p.ku)||p.ku instanceof goog.soy.data.SanitizedContent,"applyCouponButtonText",
p.ku,"string|goog.soy.data.SanitizedContent");n=p.ku;soy.asserts.assertType(goog.isString(p.Cu)||p.Cu instanceof goog.soy.data.SanitizedContent,"couponCodeInputPlaceholder",p.Cu,"string|goog.soy.data.SanitizedContent");d=p.Cu;soy.asserts.assertType(goog.isString(p.Du)||p.Du instanceof goog.soy.data.SanitizedContent,"couponCodeLabel",p.Du,"string|goog.soy.data.SanitizedContent");var q=p.Du;soy.asserts.assertType(goog.isString(p.Hj)||p.Hj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",
p.Hj,"string|goog.soy.data.SanitizedContent");var u=p.Hj;soy.asserts.assertType(goog.isBoolean(p.rz)||1===p.rz||0===p.rz,"editingDisabled",p.rz,"boolean");var v=!!p.rz;soy.asserts.assertType(null==p.v||p.v instanceof goog.soy.data.SanitizedContent||goog.isString(p.v),"classes",p.v,"null|string|undefined");var z=p.v;soy.asserts.assertType(null==p.HC||p.HC instanceof goog.soy.data.SanitizedContent||goog.isString(p.HC),"teamCardMessage",p.HC,"null|string|undefined");p=p.HC;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentForm'+
(z?" "+soy.$$escapeHtmlAttribute(z):"")+'"\x3e'+l1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m1({label:u,v:"paymentForm__cardInputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"paymentForm__creditCardEditView'+(v?" paymentForm__creditCardEditView--disabled":"")+'" \x3e\x3c/div\x3e'+(p?'\x3cdiv class\x3d"paymentForm__teamCardMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":""))})+m1({label:q,v:"paymentForm__couponInputContainer",
input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Wfa({$g:"paymentForm__applyCouponButton buttonSubmittable",fd:n,v:"paymentForm__couponCode",xA:"paymentForm__couponCodeInput",yl:d}))}))})+"\x3c/div\x3e");m=goog.asserts.assertObject(m,"expected parameter 'messages' of type [paymentAndConfirmationHeading: string, paymentDetailsHeading: string, shippingAddressHeading: string].");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),
"paymentFormHtml",n,"soydata.SanitizedHtml");l=goog.asserts.assertObject(l,"expected parameter 'shippingAddressSummary' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentAndConfirmation"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m.v8)+"\x3c/h1\x3e\x3c/div\x3e"+k1({heading:m.WO,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(n))})+k1({heading:m.qx,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+l1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+V8({Wd:l,v:"printPaymentAndConfirmation__shippingAddress"}))}))})+"\x3c/div\x3e");h=h(k.toString());
k=h.find(".paymentForm");e=(new D1({By:!1,Ya:e,j:g})).render();k.find(".paymentForm__creditCardEditView").empty().append(e.$el);e=new z8(k,e);e=new W9(h,e);g=e.eo;h=g.$el.find(".paymentForm__creditCardEditView").hasClass("paymentForm__creditCardEditView--disabled");h=new C1({Ej:b.aa,D:b.va,Ed:!b.fa||H8(b.fa.Yh)?null:b.fa.Yh,Xe:!h,nf:b.fb,view:g.cj,Ya:b.Ya});h.refresh();b=new F8(b,g,h);return{Db:new X9(e,b),view:e}},$P:function(){var b=a.ri.format("printPaymentAndConfirmationProcessingPayment"),d=
$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"heading",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentProgress"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printPaymentProgress__content"\x3e'+e1({v:"printPaymentProgress__loadingBar",progress:0},void 0)+"\x3c/div\x3e\x3c/div\x3e");
d=d(b.toString());g1(d.find(".printPaymentProgress__loadingBar"));return new V9(d)},ec:a.ec,Cd:a.Cd,na:a.na},b),view:b}}function Pga(a,b){var c=jga({j:a.j,PL:wm(),i:a.dj,qO:function(){Qga(e)},sB:a.order.id,Na:a.Na},b.AE),d=P9({fa:a.fa,aa:a.aa,kh:function(){return P.resolve()},bn:!0,cn:!0,mh:function(){return a.order.od},Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:a.Cb,Wn:function(){},la:a.la,Aa:a.Aa,Fa:a.Fa,wk:function(){}},b.Ca),e=new o$(a,b,c,d);return e}
o$.prototype.Me=function(){var a=this;k$(this.view).then(function(){return lga(a.AE)});this.Ca.Me()};function Qga(a){var b=a.view.hg();if(!O8(b,"ADDRESS_DETAILS")){var c=a.TP(),d=c.view;a.xm=c.Db;N8(b,"ADDRESS_DETAILS",d.$el)}R8(b,"ADDRESS_DETAILS").then(function(){a.xm.view.$el.find(".addressDetailsAddress__nameInput input").focus();j$(a.view,!0)});b=X(X(new am("print_review_continue_to_checkout"),"section","editor"),"location","print_review");a.j.wa(b)}
function Lga(a){j$(a.view,!1).then(function(){return R8(a.view.hg(),h$)})}
function Mga(a){v3(a.xm.uaa).then(function(b){if(b){var c=a.view.hg(),d=a.xm.uv();if(O8(c,"PAYMENT_AND_CONFIRMATION"))a.yB.IQ(d);else{b=a.ZP({Nf:a.Ca.Nf,ec:d});var e=b.view;a.yB=b.Db;N8(c,"PAYMENT_AND_CONFIRMATION",e.$el)}b=P.all([a.Ca.JH,dga(a.xm),a.order.an?Rga(a):a.GI()]);U9(a.Ca,!0);l$(a.view,!0);i$(a.view).lg();b.then(function(){R8(c,"PAYMENT_AND_CONFIRMATION");a.Ca.nR();var b=a.view,d=a.Ec.ed(),e=a.Ec.u8(),l=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"backButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"payNowButtonText",e,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(z_({v:"printOrderForm__paymentAndConfirmationBackButton settingsFormActions__button buttonSecondary",text:d})+z_({v:"printOrderForm__paymentAndConfirmationPayNowButton settingsFormActions__button buttonSubmittable",text:e}));l=l(d.toString());u1(i$(b),
l)}).then(function(){var b=a.order.id,b=X(new am("print_checkout_address"),"order_id",b);a.j.wa(b)}).catch(function(a){return!!a&&a instanceof rj&&403===Mk(a)&&!!a.message&&-1!==["shippingAddress.zipCode","address.zipCode"].indexOf(a.message.errorKey)},function(){var b=a.Ec.Ia("printOrderFormUpdateOrderInvalidZipcodeHtml",d.vf);i$(a.view).xk(b);U9(a.Ca,!1)}).catch(function(a){return!!a&&a instanceof rj&&403===Mk(a)&&!!a.message&&-1!==["shippingAddress.phone","address.phone"].indexOf(a.message.errorKey)},
function(){var b=a.Ec.format("printOrderFormUpdateOrderInvalidContactNumber");i$(a.view).xk(b);U9(a.Ca,!1)}).catch(function(){var b=a.view,c=a.Ec.Ia("printOrderFormUpdateOrderErrorHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).xk(c);U9(a.Ca,!1)}).finally(function(){return l$(a.view,!1)})}})}
function Rga(a){Fa(a.order.an,'Order "{}" is already mutable',a.order.id);var b=new c7({De:a.Ca.la.qc,document:a.order.document,od:a.order.od,gf:a.order.gf,pg:a.Ca.Tp(),ec:a.xm.uv(),Sa:a.Ca.sl(),Ad:a.Ad,cg:a.Ca.jv()});return a.Na.jE(b).then(function(b){return a.order=p$(a,b.order)}).then(function(){return N9(a.Ca)})}
o$.prototype.GI=function(){var a=this,b=this.Ca.jv(),b=new e7({De:this.Ca.la.qc,id:this.order.id,pg:this.Ca.Tp(),ec:this.xm.uv(),Sa:this.Ca.sl(),cg:b,OP:null==b&&null!=this.order.cg?!0:void 0});return this.Na.GI(b).then(function(b){p$(a,b.order);return b})};o$.prototype.IB=function(a){var b=this;return this.yB.IB(a).then(function(c){c||q$(b,"payment",a);return c})};
function Nga(a){var b=a.order,c=Gfa(a.order.id);a.j.wa(c);m$(a.view,!0);n$(a.view,!1);Sga(a).then(function(){return a.IB(a.order.id)}).then(function(c){if(c){var e=a.view.hg();O8(e,"PAYMENT_PROGRESS")||(c=a.$P(),N8(e,"PAYMENT_PROGRESS",c.$el));return j$(a.view,!1).then(function(){return R8(e,"PAYMENT_PROGRESS")}).then(function(){return Tga(a,a.order.id)}).then(function(){var c=a.view.hg(),d=a.YP({T7:b.id});N8(c,"ORDER_RECEIVED",d.$el);R8(c,"ORDER_RECEIVED");var c=a.Bg,d=a.Ca.pn(),e=0<a.Ca.qv().length,
l=b.id,m=a.Ca.qn(),n=b.pg,p=b.De,q=a.Ca.sl(),u=b.yh/100,c=X(X(X(X(X(X(X(X(X(X(new am("print_checkout_success"),"template",c),"finish",d),"has_premium_images",e),"order_id",l),"paper",m),"product_sku",n),"quantity",p),"shipping",q),"total_order_price",u),"label","print");a.j.wa(c);a.Un()})}}).catch(r$,function(){var b=a.view,c=a.Ec.Ia("printOrderFormFinalizeOrderFailureHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).xk(c)}).catch(function(){j$(a.view,!1).then(function(){var b=
a.view.hg();if(!O8(b,"ORDER_ERROR")){var c=a.XP(a.Ec.format("printOrderFormSubmitOrderFailureText"));N8(b,"ORDER_ERROR",c.$el)}R8(b,"ORDER_ERROR")})}).finally(function(){m$(a.view,!1);n$(a.view,!0)})}function Sga(a){return a.order.an?P.resolve():a.Na.GI(new e7({id:a.order.id,an:!0})).then(function(b){return p$(a,b.order)}).then(function(b){return a.order=b}).catch(function(){q$(a,"finalize_order",a.order.id);throw new r$;})}
function Tga(a,b){return a.rB.nI(function(a){var d=this;return this.Na.nn(new g7({id:b})).then(function(e){if("FAILED"===e.order.hF)throw q$(d,"pdf_export",b),Error("Export failed for order "+b);"EXPORTED"===e.order.hF&&a(e.order)})}.bind(a))}
function q$(a,b,c){var d=a.Bg,e=a.Ca.pn(),g=0<a.Ca.qv().length,h=a.Ca.qn(),k=a.Ca.Tp(),l=a.Ca.la.qc,m=a.Ca.sl(),n=a.Ca.OD();b=X(X(X(X(X(X(X(X(X(X(new am("print_checkout_fail"),"template",d),"failure_reason",b),"finish",e),"has_premium_images",g),"order_id",c),"paper",h),"product_sku",k),"quantity",l),"shipping",m),"total_order_price",n);a.j.wa(b)}function p$(a,b){if(a.Ca.BV()!==b.eI)throw new s$;return b}
o$.prototype.destroy=function(){this.AE.destroy();this.Ca.destroy();this.xm&&this.xm.destroy();this.yB&&this.yB.destroy();this.view.remove()};function r$(){}r(r$,Error);function s$(){}r(s$,Error);function t$(a,b){var c=this;this.Ab=a;this.vH=b;this.Ab.once("remove",function(){return c.vH.destroy()})}
function Uga(a){var b=new I7({Hy:a.dd.Hy()}),c=wm(),b=Oga({fa:a.fa,dd:a.dd,i1:new H7({Zd:a.Zd,maxLength:50}),j:a.j,aa:a.aa,va:a.va,bj:a.bj,Ya:a.Ya,dj:a.dj,Bg:a.Bg,bg:new G7({bN:a.Zd.format("formValidatorInvalidEmpty")}),ij:new H0,Ac:a.Ac,cf:a.cf,Oa:a.Oa,rb:a.rb,Cb:a.Cb,i:a.i,Il:b,gB:function(){d.close()},Un:a.Un,order:a.order,rB:c,la:a.la,Aa:a.Aa,Ad:a.Ad,Ne:a.Ne,Ec:a.Ec,dt:a.dt,Fa:a.Fa,ri:a.ri,zh:a.zh,Na:a.Na,ec:a.ec,Cd:a.Cd,fb:a.fb,SR:a.SR,na:a.na});a=b.Db;var b=new u$({vH:b.view,H:jl}),d=new t$(b,
a);return d}t$.prototype.show=function(){this.Ab.show();this.vH.Me()};t$.prototype.close=function(){this.Ab.ok()};function u$(a){mp.call(this,{className:"printOrderFormDialog",content:a.vH.$el,H:a.H,Ho:!1,Re:!0,jf:!1})}r(u$,mp);function v$(a){var b;b=b||{};var c="";a=goog.asserts.assertArray(a.images,"expected parameter 'images' of type list\x3cstring\x3e.");for(var d=a.length,e=0;e<d;e++)c+='\x3cdiv class\x3d"printProofingPage__resolutionThumbnailWrapper"\x3e\x3cdiv class\x3d"printProofingPage__resolutionThumbnailContainer" style\x3d"'+(b.Yb?"/*"+b.Yb+"*//*"+b.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a[e]))+"')\"\x3e\x3c/div\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}
function w$(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(goog.isString(a.kg)||a.kg instanceof goog.soy.data.SanitizedContent,"headingText",a.kg,"string|goog.soy.data.SanitizedContent");var c=a.kg;soy.asserts.assertType(goog.isString(a.uc)||a.uc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",a.uc,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printProofingPage"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(a.uc)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(c)+"\x3c/h1\x3e\x3c/div\x3e"+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function x$(a){soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var b=a.description;soy.asserts.assertType(goog.isString(a.$j)||a.$j instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",a.$j,"string|goog.soy.data.SanitizedContent");var c=a.$j;soy.asserts.assertType(goog.isString(a.sA)||
a.sA instanceof goog.soy.data.SanitizedContent,"imageClass",a.sA,"string|goog.soy.data.SanitizedContent");var d=a.sA;soy.asserts.assertType(goog.isString(a.Kh)||a.Kh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",a.Kh,"string|goog.soy.data.SanitizedContent");var e=a.Kh;soy.asserts.assertType(null==a.xE||a.xE instanceof goog.soy.data.SanitizedContent||goog.isString(a.xE),"descriptionClasses",a.xE,"null|string|undefined");a=a.xE;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"printProofingPage__description'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cdiv class\x3d"printProofingPage__examplesContainer"\x3e\x3cspan class\x3d"printProofingPage__exampleImage '+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/span\x3e\x3c/div\x3e\x3cp class\x3d"printProofingPage__helpLink"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'" target\x3d"_blank"\x3e'+soy.$$escapeHtml(e)+"\x3c/a\x3e\x3c/p\x3e")};function y$(a){soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ed,"string|goog.soy.data.SanitizedContent");var b=a.ed;soy.asserts.assertType(goog.isString(a.nj)||a.nj instanceof goog.soy.data.SanitizedContent,"nextButtonText",a.nj,"string|goog.soy.data.SanitizedContent");var c=a.nj;soy.asserts.assertType(goog.isString(a.ip)||a.ip instanceof goog.soy.data.SanitizedContent,"backButtonClasses",a.ip,"string|goog.soy.data.SanitizedContent");
var d=a.ip;soy.asserts.assertType(goog.isString(a.Bq)||a.Bq instanceof goog.soy.data.SanitizedContent,"nextButtonClasses",a.Bq,"string|goog.soy.data.SanitizedContent");a=a.Bq;return soydata.VERY_UNSAFE.ordainSanitizedHtml(z_({v:d+" buttonSecondary printEditorForm__button printEditorForm__backButton",text:b})+z_({v:a+" printEditorForm__button printEditorForm__nextButton",text:c}))};function z$(a,b){var c=this;hc.call(this,a);this.Ca=b;a.on("click",".printEditorForm__orderSummaryBeginOrderButton",function(){return c.trigger(A$)});a.on("click",".printEditorForm__orderSummaryCancelOrderButton",function(){c.trigger(B$)});a.on("click",".printEditorForm__imageResolutionProofBackButton",function(){c.trigger(C$)});a.on("click",".printEditorForm__imageResolutionProofContinueButton",function(){c.trigger(D$)});a.on("click",".printEditorForm__bleedAreaProofBackButton",function(){c.trigger(E$)});
a.on("click",".printEditorForm__bleedAreaProofNextButton",function(){c.trigger(F$)});a.on("click",".printEditorForm__safeAreaProofBackButton",function(){c.trigger(G$)});a.on("click",".printEditorForm__safeAreaProofNextButton",function(){c.trigger(H$)})}r(z$,hc);z$.prototype.hg=function(){var a=this.$el.find(".printEditorForm__pagesPanel");return new M8(a)};function I$(a,b){a.$el.find(".printEditorForm__safeAreaProofNextButton").toggleClass("submitting",b)}
function Vga(a){var b=a.$el.find(".printProofingPage__feedbackAlert--highRes"),c=a.$el.find(".printProofingPage__feedbackAlert--lowRes"),d=a.$el.find(".printProofingPage__feedbackAlert--mediumRes");b.addClass("printProofingPage__feedbackAlert--hidden");c.addClass("printProofingPage__feedbackAlert--hidden");d.addClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").empty();a.$el.find(".printProofingPage__images--mediumRes").empty()}
function Wga(a,b){a.$el.find(".printProofingPage__feedbackAlert--mediumRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--mediumRes").append(v$({images:b}).toString())}function Xga(a,b){a.$el.find(".printProofingPage__feedbackAlert--lowRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").append(v$({images:b}).toString())}
function J$(a,b){a.$el.find(".printEditorForm__footerButtonsContainer").empty().append(b)}var A$="CLICK_BEGIN_ORDER",B$="CLICK_CANCEL_ORDER",C$="CLICK_IMAGE_RESOLUTION_PROOF_BACK",D$="CLICK_IMAGE_RESOLUTION_PROOF_CONTINUE",E$="CLICK_BLEED_AREA_PROOF_BACK",F$="CLICK_BLEED_AREA_PROOF_NEXT",G$="CLICK_SAFE_AREA_PROOF_BACK",H$="CLICK_SAFE_AREA_PROOF_NEXT";var Yga=new Ff("ni",!1);function K$(){}r(K$,Error);
function L$(a,b,c){var d=this;this.view=b;this.Ca=c;this.j=a.j;this.Bg=a.Bg;this.Ul=a.Ul;this.Ac=a.Ac;this.mh=a.mh;this.aa=a.aa;this.va=a.va;this.vK=a.vK;this.ZK=a.ZK;this.$K=a.$K;this.kh=a.kh;this.jn=a.jn;this.nv=a.nv;this.XM=null;this.Ad=a.Ad;this.Rd=a.Rd;this.Pf=a.Pf;this.Na=a.Na;this.OQ=a.OQ;this.om=a.om;this.na=a.na;this.nB=a.nB;this.mB=a.mB;this.dB=a.dB;this.BA=a.BA;this.G=a.G;b.on(A$,function(){return Zga(d)});b.on(B$,function(){d.j.track("print_order_cancelled");d.dB()});b.on(C$,function(){M$(d)});
b.on(D$,function(){N$(d);d.jn().vt(!0);var a=new am("print_proof_resolution");d.j.wa(a)});b.on(E$,function(){$ga(d)});b.on(F$,function(){R8(d.view.hg(),"SAFE_AREA_PROOF");var a=d.view,b=d.Rd.ed(),c=d.Rd.nj(),b=$(y$({ip:"printEditorForm__safeAreaProofBackButton",ed:b,Bq:"printEditorForm__safeAreaProofNextButton buttonSubmittable",nj:c}).toString());J$(a,b);a=d.jn();a.vt(!1);a.kC(!0);a=new am("print_proof_bleed");d.j.wa(a)});b.on(G$,function(){N$(d);var a=d.jn();a.kC(!1);a.vt(!0)});b.on(H$,function(){aha(d)})}
function bha(a){var b;if(a.G.get(Yga)){b=a.Rd.format("printEditorFormSupportPromptHeader");var c;c=a.Rd.Ia("printEditorFormSupportPromptDescriptionHtml","https://support.canva.com/canva-print/print-customer-service-policy/print-customer-happiness-policy/");b={jg:b,N2:c}}else b=void 0;c=b;var d=a.Rd.oT(),e=a.Rd.zT(),g={Vy:a.Pf.Ia("printProofingBleedAreaNotCoveredHtml"),description:a.Pf.format("printProofingBleedAreaProofDescription"),kg:a.Pf.format("printProofingCheckBleedAreaHeading"),$j:"https://support.canva.com/canva-print/white-edges/",
uc:a.Ne.uc(2,5),Kh:a.Pf.Kh()},h=a.Pf.format("printProofingImagesAreHighResolutionMessage"),k=a.Pf.Ia("printProofingImagesAreMediumResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),l=a.Pf.Ia("printProofingImagesAreLowResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),m=a.Pf.format("printProofingCheckResolutionHeading"),n=a.Ne.uc(1,5),p=R9({fa:a.fa,bn:!1,cn:!1,rb:a.rb,Cb:[],la:a.la,Fa:a.Fa,sZ:1<a.mh()?2:1,Cd:a.Cd}),q={description:a.Pf.format("printProofingSafeAreaProofDescription"),
kg:a.Pf.format("printProofingCheckSafeAreaHeading"),$j:"https://support.canva.com/canva-print/preparing-your-design-for-print/safe-area/",uc:a.Ne.uc(3,5),Kh:a.Pf.Kh()};b=$;soy.asserts.assertType(goog.isString(g.description)||g.description instanceof goog.soy.data.SanitizedContent,"description",g.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g.kg)||g.kg instanceof goog.soy.data.SanitizedContent,"headingText",g.kg,"string|goog.soy.data.SanitizedContent");
var u=g.kg;soy.asserts.assertType(goog.isString(g.$j)||g.$j instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",g.$j,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g.uc instanceof soydata.SanitizedHtml||g.uc instanceof soydata.UnsanitizedText||goog.isString(g.uc),"pageNumberOfTotal",g.uc,"soydata.SanitizedHtml");var v=g.uc;soy.asserts.assertType(goog.isString(g.Kh)||g.Kh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",g.Kh,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(g.Vy instanceof soydata.SanitizedHtml||g.Vy instanceof soydata.UnsanitizedText||goog.isString(g.Vy),"coverageAlertMessageHtml",g.Vy,"soydata.SanitizedHtml");var z=g.Vy,g=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:u,uc:v,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({sA:"printProofingPage__exampleImage--bleedImage"},g))+UZ({message:z,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--hidden printProofingPage__feedbackAlert--bleedCoverage",
xb:!1}))}));soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"alertHighRes",h,"soydata.SanitizedHtml");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"alertMediumRes",k,"soydata.SanitizedHtml");soy.asserts.assertType(l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),"alertLowRes",l,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(m)||
m instanceof goog.soy.data.SanitizedContent,"headingText",m,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),"pageNumberOfTotal",n,"soydata.SanitizedHtml");h=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:m,uc:n,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+OZ({message:h,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--highRes",xb:!1})+UZ({message:l,
v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--lowRes printProofingPage__feedbackAlert--hidden",xb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--lowRes"\x3e\x3c/div\x3e'+SZ({message:k,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--mediumRes printProofingPage__feedbackAlert--hidden",xb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--mediumRes"\x3e\x3c/div\x3e')}));
p=E9(p);soy.asserts.assertType(goog.isString(q.description)||q.description instanceof goog.soy.data.SanitizedContent,"description",q.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(q.kg)||q.kg instanceof goog.soy.data.SanitizedContent,"headingText",q.kg,"string|goog.soy.data.SanitizedContent");k=q.kg;soy.asserts.assertType(goog.isString(q.$j)||q.$j instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",q.$j,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q.uc instanceof
soydata.SanitizedHtml||q.uc instanceof soydata.UnsanitizedText||goog.isString(q.uc),"pageNumberOfTotal",q.uc,"soydata.SanitizedHtml");l=q.uc;soy.asserts.assertType(goog.isString(q.Kh)||q.Kh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",q.Kh,"string|goog.soy.data.SanitizedContent");q=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:k,uc:l,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({sA:"printProofingPage__exampleImage--safeArea"},q)))}));
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"beginOrderButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"cancelOrderButtonText",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaProofPageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("BLEED_AREA_PROOF")||
!1,"bleedAreaProofPageName","BLEED_AREA_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"imageResolutionProofHtml",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("IMAGE_RESOLUTION_PROOF")||!1,"imageResolutionProofPageName","IMAGE_RESOLUTION_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(p instanceof soydata.SanitizedHtml||p instanceof soydata.UnsanitizedText||
goog.isString(p),"orderSummaryHtml",p,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("ORDER_SUMMARY")||!1,"orderSummaryPageName","ORDER_SUMMARY","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q instanceof soydata.SanitizedHtml||q instanceof soydata.UnsanitizedText||goog.isString(q),"safeAreaProofPageHtml",q,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("SAFE_AREA_PROOF")||!1,"safeAreaProofPageName","SAFE_AREA_PROOF","string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(null==c||goog.isObject(c),"supportPrompt",c,"null|undefined|{descriptionHtml: (!soydata.SanitizedHtml|string), header: string}");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printEditorForm"\x3e\x3cdiv class\x3d"printEditorForm__content"\x3e'+S8({v:"printEditorForm__pagesPanel",Av:!0,O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+P8({content:p,name:"ORDER_SUMMARY",visible:!0})+P8({content:h,name:"IMAGE_RESOLUTION_PROOF"})+P8({content:g,name:"BLEED_AREA_PROOF"})+
P8({content:q,name:"SAFE_AREA_PROOF"}))})+'\x3c/div\x3e\x3cdiv class\x3d"printEditorForm__footer"\x3e'+(null!=c?'\x3cdiv class\x3d"printEditorForm__supportPrompt"\x3e'+TX({za:"printEditorForm__supportPromptIcon"})+'\x3cdiv  class\x3d"printEditorForm__supportPromptText"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c.jg)+'\x3c/strong\x3e\x3cdiv class\x3d"printEditorForm__supportPromptDescription"\x3e'+soy.$$escapeHtml(c.N2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"printEditorForm__footerButtonsContainer"\x3e'+
y$({nj:d,Bq:"printEditorForm__orderSummaryBeginOrderButton",ed:e,ip:"printEditorForm__orderSummaryCancelOrderButton"})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());c=I9(b.find(".printOrderSummary"));b=new z$(b,c);c=P9({fa:a.fa,aa:a.aa,kh:a.kh,bn:!1,cn:!1,mh:a.mh,Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:[],Wn:a.Wn,la:a.la,Aa:a.Aa,Fa:a.Fa,wk:a.wk},b.Ca);return{Db:new L$(a,b,c),view:b}}f=L$.prototype;f.Me=function(){this.Ca.Me()};
function M$(a){R8(a.view.hg(),"ORDER_SUMMARY");var b=a.view,c=a.Rd.oT();a=a.Rd.zT();c=$(y$({ip:"printEditorForm__orderSummaryCancelOrderButton",ed:a,Bq:"printEditorForm__orderSummaryBeginOrderButton",nj:c}).toString());J$(b,c)}f.VL=function(){return vj(this.aa,new si({Am:[this.va],limit:1})).then(function(a){return la(a.$t).next().value})};function cha(a){return ifa(a.Na,new k7({D:a.va,user:a.na})).then(function(a){return(a=la(a.vJ).next().value)&&a.Wd})}
f.jE=function(){var a=new c7({De:this.Ca.la.qc,document:this.Ac(),od:this.Ca.jc(),pg:this.Ca.Tp(),gf:this.Ul,Sa:this.Ca.sl(),Ad:this.Ad,cg:this.Ca.jv()});return this.Na.jE(a).then(function(a){return a.order})};
function O$(a){var b=a.view.hg();return a.nv().then(function(b){return P$(a,Q$(a,b))}).finally(function(){R8(b,"IMAGE_RESOLUTION_PROOF");var c=a.view,d=a.Rd.ed(),e=a.Rd.aj(),d=$(y$({ip:"printEditorForm__imageResolutionProofBackButton",ed:d,Bq:"printEditorForm__imageResolutionProofContinueButton",nj:e}).toString());J$(c,d);a.nB()})}
function N$(a){R8(a.view.hg(),"BLEED_AREA_PROOF");var b=a.view,c=a.Rd.ed(),d=a.Rd.nj(),c=$(y$({ip:"printEditorForm__bleedAreaProofBackButton",ed:c,Bq:"printEditorForm__bleedAreaProofNextButton",nj:d}).toString());J$(b,c);R$(a);a.mB()}
function R$(a){var b=a.Ca.Vj(),c=a.Ca.jc(),c=_.range(0,c),c=(b=a.BA(c,b))?a.Rd.nj():a.Rd.format("printEditorFormContinueAnywayButtonText");a.view.$el.find(".printEditorForm__bleedAreaProofNextButton").empty().append(c);a.view.$el.find(".printProofingPage__feedbackAlert--bleedCoverage").toggleClass("printProofingPage__feedbackAlert--hidden",b)}f.EO=function(){N9(this.Ca)};
f.xO=function(){var a=this,b=this.XM;b&&b.cancel();this.XM=this.kh().cancellable().then(this.nv).then(function(b){return P$(a,Q$(a,b))}).catch(P.CancellationError,$.noop).finally(function(){return a.XM=null})};f.rO=function(){R$(this)};
function Zga(a){1<a.Ca.jc()&&1===a.mh()?(new Az({content:$("\x3cp\x3e"+a.Rd.format("printEditorFormCannotPrintTwoSidesDescription")+"\x3c/p\x3e"),title:a.Rd.format("printEditorFormCannotPrintTwoSides")})).show():O$(a).then(function(){return a.Ca.JH}).then(function(){var b=a.Bg,c=a.Ca.pn(),d=0<a.Ca.qv().length,e=a.Ca.qn(),g=a.Ca.Tp(),h=a.Ca.la.qc,k=a.Ca.sl(),l=a.Ca.OD(),b=X(X(X(X(X(X(X(X(new am("print_start_order"),"template",b),"finish",c),"has_premium_images",d),"paper",e),"product_sku",g),"quantity",
h),"shipping",k),"total_order_price",l);a.j.wa(b)})}function $ga(a){O$(a).then(function(){a.jn().vt(!1)})}
function aha(a){I$(a.view,!0);a.kh().catch(function(){throw new K$;}).then(function(){return P.all([a.VL(),cha(a),a.jE()])}).then(function(b){var d=la(b);b=d.next().value;var e=d.next().value,d=d.next().value;a.vK({fa:b,bj:b&&b.Yh,rb:new Map,Cb:a.Ca.qv(),order:d,ec:e}).show()}).catch(K$,function(){(new Az({content:$("\x3cp\x3ePlease try again after the error is resolved\x3c/p\x3e"),title:"Design changes failed to save"})).show()}).catch(rj,function(b){409===b.oI&&a.OQ()}).finally(function(){return I$(a.view,
!1)});var b=new am("print_proof_safe_area");a.j.wa(b)}f.destroy=function(){this.view.remove()};function Q$(a,b){var c=a.ZK,d=a.$K,e=a.Ca.Vj(),g=a.Ca.jc();return b.filter(function(a){return a.zG}).filter(function(a){return a.Ys<g}).map(function(a){var b=a.zG.CS.o(),g=a.Ba.o(),b=b/g*(c/e.Zj)*25400,g=a.zG.CS.l(),m=a.Ba.l(),b=Math.min(b,g/m*(d/e.zj)*25400);return{eQ:120>b?"LOW":150>b?"MEDIUM":"HIGH",vd:a.zG.oy.url}}).filter(function(a){return"HIGH"!==a.eQ})}
function P$(a,b){Vga(a.view);if(0===b.length)a.view.$el.find(".printProofingPage__feedbackAlert--highRes").removeClass("printProofingPage__feedbackAlert--hidden");else{var c=b.filter(function(a){return"LOW"===a.eQ});b=b.filter(function(a){return"MEDIUM"===a.eQ});0!==c.length&&Xga(a.view,c.map(function(a){return a.vd}));0!==b.length&&Wga(a.view,b.map(function(a){return a.vd}))}}f.jc=function(){return this.Ca.jc()};function S$(a){var b=this;hc.call(this,a);a.on("click",function(){return b.trigger(T$)})}r(S$,hc);S$.prototype.mx=function(a){this.$el.toggleClass("submitting",a)};var T$="CLICK_SEND_TO_PRINT";var dha=new Ff("pu",!1);function U$(a,b){var c=this;this.view=b;this.va=a.va;this.me=a.me;this.j=a.j;this.fj=a.fj;this.Vp=a.Vp;this.Ac=a.Ac;this.yM=a.yM;this.oA=a.oA;this.lB=a.lB;this.wH=a.wH;this.WP=a.WP;this.VP=a.VP;this.Ai=a.Ai;this.ux=a.ux;this.gI=a.gI;this.oY=this.zh=this.Fe=null;this.Na=a.Na;this.aa=a.aa;this.xr=a.xr;this.WQ=null;this.uf=a.uf;this.Vl=a.Vl;b.on(T$,function(){return eha(c)})}
function waa(a){var b=$,c;c=a.X9;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"sendToPrintButtonText",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(z_({v:"editorActionPrint buttonSubmittable",text:c}));b=b(c.toString());b=new S$(b);return{Db:fha(a,b),view:b}}
function fha(a,b){function c(){(new Az({content:$("\x3cp\x3eYour version of this design has become out of sync with the server. Usually this means someone else has started editing it. Reload the page and try again\x3c/p\x3e"),title:"Design out of sync"})).show()}var d=yd(a.i),e=a.G.get(dha)?gha:J8;return new U$({xr:a.xr,j:a.j,aa:a.aa,va:a.va,me:a.me,fj:a.fj,Ac:a.Ac,Vp:a.Vp,oA:a.oA,lB:a.lB,Na:a.Na,VP:function(b){var c=a.j,d=y(b.K2.u(),"The doctype must have an id"),e=a.Ac(),m=a.Ra,n=a.uV()||"",p=a.i;
p.FR||(p.FR=new xf(p.config));return vfa({j:c,yg:"publish_print",tp:d,lz:e,Ra:m,zp:n,i:p.FR,Us:b.Us,Lq:b.Lq,xc:Cd(a.i),Fo:!1,Go:!1,Xca:null}).view},WP:function(b){var e=Dga({attributes:b.attributes,bd:b.bd,wb:b.X8});return bha({fa:b.fa,j:a.j,aa:a.aa,va:a.va,vK:function(c){var d=c.fa,m;m=a.i;m.dd||(m.dd=new rf(m.config));m=m.dd;var n=a.j,p=a.aa,q=a.va,u=c.bj,v=cd(a.i),z;z=a.i;z.dj||(z.dj=new sf(z.config));z=z.dj;var t=b.Bg,x=ad(a.i),H=a.Ac,E=a.cf,L=Vc(a.i),J=c.rb,Q=c.Cb,S=a.i,N=b.Un,ha=c.order,fa=
l9({jk:b.jk,xc:Cd(a.i),Fa:wd(a.i),pc:e,Kb:b.Kb,Ul:b.zh.id,Nw:h8,qc:c.order.De,rQ:c.order.pg,sQ:c.order.NQ.Sa,Cd:b.Cd,Dg:b.Dg,xl:null!=c.order.cg}),ta=Tc(a.i),Za=b.Ad,qa=ud(a.i),da;da=a.i;da.Ec||(da.Ec=new uf(da.config));da=da.Ec;var Ba;Ba=a.i;Ba.dt||(Ba.dt=new qf(Ba.config));Ba=Ba.dt;var xb=wd(a.i),qb=a.i;qb.ri||(qb.ri=new tf(qb.config));return Uga({fa:d,dd:m,j:n,aa:p,va:q,bj:u,Ya:v,dj:z,Bg:t,Zd:x,Ac:H,cf:E,Oa:L,rb:J,Cb:Q,i:S,Un:N,order:ha,la:fa,Aa:ta,Ad:Za,Ne:qa,Ec:da,dt:Ba,Fa:xb,ri:qb.ri,zh:b.zh,
Na:a.Na,ec:c.ec,Cd:b.Cd,fb:a.fb,SR:a.uf.gi(),na:a.uf.u()})},ZK:Rg(a.me.tb).height,$K:Rg(a.me.tb).width,Bg:b.Bg,kh:a.kh,mh:a.mh,jn:a.jn,Ac:a.Ac,nv:a.nv,BA:a.BA,Oa:Vc(a.i),rb:new Map,dB:b.dB,Wn:a.ux,mB:b.mB,nB:b.nB,la:l9({jk:b.jk,xc:Cd(a.i),Fa:wd(a.i),pc:e,Kb:b.Kb,Ul:b.zh.id,Nw:h8,xo:b.xo,sQ:"STANDARD",Cd:b.Cd,Dg:b.Dg,xl:!1}),Aa:Tc(a.i),Rd:d,Ne:ud(a.i),Fa:wd(a.i),Pf:Ad(a.i),Na:a.Na,Ad:b.Ad,Ul:b.zh.id,wk:a.wk,Cd:b.Cd,OQ:c,om:a.om,na:a.uf.u(),G:a.G})},Ai:a.Ai,ux:a.ux,gI:function(){(new Az({content:$("\x3cp\x3e"+
d.Ia("printEditorFormErrorStateMessageHtml",hha).toString()+"\x3c/p\x3e"),title:d.format("printEditorFormErrorStateHeading")})).show()},uf:a.uf,Vl:a.Vl,yM:e,wH:H3},b)}function V$(a){W$(a,!1).then(function(){null!=a.Fe&&M$(a.Fe)})}f=U$.prototype;f.EO=function(){null!=this.Fe&&this.Fe.EO()};
function yaa(a,b){var c=y(b.u(),"The doctype must have an id");if(a.me.u()!==c){a.me=b;var d=a.Vp();a.Ai(!1);a.Fe&&(a.Fe.destroy(),a.Fe=null);d.sh()&&(d.$el.find(".editorSideDrawer__content").empty(),U8(d,!0),X$(a).then(function(b){var d=a.wH(b.id,c);return Y$(a,b,d)}).catch(function(){return a.gI()}).finally(function(){return U8(d,!1)}))}}f.xO=function(){null!=this.Fe&&this.Fe.xO()};f.rO=function(){null!=this.Fe&&this.Fe.rO()};
function eha(a){a.view.mx(!0);var b=a.Vp(),c=y(a.me.u(),"The doctype must have an id"),d=b.sh();return X$(a).then(function(b){var g=a.wH(b.id,c);iha(a,{vc:c,R7:!d,U8:!!g,W$:!0});return d?V$(a):Y$(a,b,g).then(function(){W$(a,!0)})}).catch(function(){return a.gI()}).finally(function(){return a.view.mx(!1)})}function X$(a){return a.zh?P.resolve(a.zh):I3(a.Na).then(function(b){a.zh=y(b.LB[0],"Current country must have a print region.");return a.zh})}
function Y$(a,b,c){var d=a.Vp();return c?a.Fe?P.resolve():jha(a,b,c,d):kha(a,d)}function kha(a,b){function c(b){return a.fj.lb(new Lv({id:b.me,bq:!1})).then(function(c){a.oY=b.ib;a.Vl(c.vc)})}return lfa(a.Na).then(function(d){var e=d.AP.filter(function(a){return null!=a.doctype}).map(function(a){var b=d.xH.yH.get(a.Kb),c=d.xH.tw.get(a.ib);a=a.doctype;if(!b||!c)throw new Z$;return{Kb:b,ib:c,me:a}}),e=a.VP({K2:a.me,Us:c,Lq:e});b.zo(e.$el)})}
function jha(a,b,c,d){return P.all([mfa(a.Na,new C7({fc:b.Xh[0],currency:"USD",Kb:c,Mq:["PRICES"]})),a.VL()]).then(function(e){var g=la(e);e=g.next().value;g=g.next().value;if(null==e.wb)throw Error("Expected FindPrintProductsResponse.prices to be non null");e=a.WP({fa:g,attributes:e.attributes,Bg:y(a.me.u(),"documentType must have an id"),Dg:e.wb.EL,dB:function(){return V$(a)},Un:function(){return V$(a)},mB:function(){return a.Ai(!0)},nB:function(){return a.Ai(!1)},jk:a.yM(c),zh:b,X8:e.wb.bd,bd:e.bd,
Kb:c,Ad:e.wb.Ad,xo:a.oY,Cd:e.wb.MQ,sQ:"STANDARD"});g=e.Db;d.zo(e.view.$el);g.Me();a.WQ=d.xr(a.xr);a.Fe=g})}function iha(a,b){b=X(X(X(X(X(X(new am("print_button_click"),"section","editor"),"location","menu_bar"),"template",b.vc),"toggled",b.W$),"side_drawer_opened",b.R7),"print_supported_doc_type",b.U8);a.j.wa(b)}function W$(a,b){return a.Vp().zt(b).then(function(){if(b)a.Fe&&a.ux(a.Fe.jc());else{if(a.Fe){var c=a.Fe.jn();c.vt(!1);c.kC(!1)}a.Ai(!1);a.oA()}}).then(function(){return a.lB()})}
f.VL=function(){return vj(this.aa,new si({Am:[this.va],limit:1})).then(function(a){return la(a.$t).next().value})};f.destroy=function(){this.view.remove();this.WQ&&this.WQ.remove();this.Fe&&this.Fe.destroy()};var hha="https://support.canva.com/canva-print/";function Z$(){}r(Z$,Error);function $$(a){g8.apply(this,arguments)}r($$,g8);
function z9(a){var b=$,c;c=a.v;var d=a.Bi,e=a.At,g=a.value,h=a.ba,k=a.selected;a=a.c_;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"shippingLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"shippingDescription",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(h instanceof goog.soy.data.SanitizedContent||h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"price",h,"!soydata.SanitizedHtml|string");soy.asserts.assertType(null==k||goog.isBoolean(k)||1===k||0===k,"selected",k,"boolean|null|undefined");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"value",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a)||1===a||0===a,"strikethroughPrice",
a,"boolean");a=!!a;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label shippingOption__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e\x3c/div\x3e"),value:g,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" data-price\x3d"'+soy.$$escapeHtmlAttribute(h)+'"'+(a?'data-strike-through-price\x3d"true"':"")),v:c,description:e,selected:k}));b=b(c.toString());return K9(b)}function K9(a){return new $$(a)}
$$.prototype.oh=function(){var a;if(0<this.$el.find(".shippingOption__freeShipping").length){a=this.$el.attr("data-label").toString();var b=this.$el.attr("data-price").toString(),c=null!=this.$el.attr("data-strike-through-price");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"shippingLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof goog.soy.data.SanitizedContent||b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||
goog.isString(b),"price",b,"!soydata.SanitizedHtml|string");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"strikethroughPrice",c,"boolean");c=!!c;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel shippingSelectionLabel__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+(c?'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e\x3cdel\x3e'+soy.$$escapeHtml(b)+"\x3c/del\x3e\x3c/span\x3e":'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(b)+"\x3c/span\x3e")+"\x3c/div\x3e")}else a=V7({Bi:this.$el.attr("data-label").toString(),ba:this.$el.attr("data-price").toString()});return a};function gha(a){switch(a){case "INVITATION":return[25,50,100,150,200,250,500,1E3];default:return J8(a)}}function pga(a){switch(a){case "INVITATION":return 100;default:return I8(a).dz}};})();
